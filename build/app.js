/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const t$3=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,e$3=Symbol(),n$3=new Map;class s$3{constructor(e,t){if(this._$cssResult$=!0,t!==e$3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){let e=n$3.get(this.cssText);return t$3&&void 0===e&&(n$3.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}toString(){return this.cssText}}const o$3=e=>new s$3("string"==typeof e?e:e+"",e$3),r$2=(e,...t)=>{const n=1===e.length?e[0]:t.reduce(((t,n,i)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[i+1]),e[0]);return new s$3(n,e$3)},i$5=(e,t)=>{t$3?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{const n=document.createElement("style"),i=window.litNonce;void 0!==i&&n.setAttribute("nonce",i),n.textContent=t.cssText,e.appendChild(n)}))},S$2=t$3?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return o$3(t)})(e):e
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var s$2;const e$2=window.trustedTypes,r$1=e$2?e$2.emptyScript:"",h$1=window.reactiveElementPolyfillSupport,o$2={toAttribute(e,t){switch(t){case Boolean:e=e?r$1:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},n$2=(e,t)=>t!==e&&(t==t||e==e),l$2={attribute:!0,type:String,converter:o$2,reflect:!1,hasChanged:n$2};class a$1 extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(e){var t;null!==(t=this.l)&&void 0!==t||(this.l=[]),this.l.push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((t,n)=>{const i=this._$Eh(n,t);void 0!==i&&(this._$Eu.set(i,n),e.push(i))})),e}static createProperty(e,t=l$2){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const n="symbol"==typeof e?Symbol():"__"+e,i=this.getPropertyDescriptor(e,n,t);void 0!==i&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,t,n){return{get(){return this[t]},set(i){const r=this[e];this[t]=i,this.requestUpdate(e,r,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||l$2}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const n of t)this.createProperty(n,e[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(S$2(e))}else void 0!==e&&t.push(S$2(e));return t}static _$Eh(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}o(){var e;this._$Ep=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(e=this.constructor.l)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,n;(null!==(t=this._$Eg)&&void 0!==t?t:this._$Eg=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(n=e.hostConnected)||void 0===n||n.call(e))}removeController(e){var t;null===(t=this._$Eg)||void 0===t||t.splice(this._$Eg.indexOf(e)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Et.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;const t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return i$5(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$Eg)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$Eg)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$ES(e,t,n=l$2){var i,r;const s=this.constructor._$Eh(e,n);if(void 0!==s&&!0===n.reflect){const a=(null!==(r=null===(i=n.converter)||void 0===i?void 0:i.toAttribute)&&void 0!==r?r:o$2.toAttribute)(t,n.type);this._$Ei=e,null==a?this.removeAttribute(s):this.setAttribute(s,a),this._$Ei=null}}_$AK(e,t){var n,i,r;const s=this.constructor,a=s._$Eu.get(e);if(void 0!==a&&this._$Ei!==a){const e=s.getPropertyOptions(a),o=e.converter,l=null!==(r=null!==(i=null===(n=o)||void 0===n?void 0:n.fromAttribute)&&void 0!==i?i:"function"==typeof o?o:null)&&void 0!==r?r:o$2.fromAttribute;this._$Ei=a,this[a]=l(t,e.type),this._$Ei=null}}requestUpdate(e,t,n){let i=!0;void 0!==e&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||n$2)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$Ei!==e&&(void 0===this._$E_&&(this._$E_=new Map),this._$E_.set(e,n))):i=!1),!this.isUpdatePending&&i&&(this._$Ep=this._$EC())}async _$EC(){this.isUpdatePending=!0;try{await this._$Ep}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((e,t)=>this[t]=e)),this._$Et=void 0);let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),null===(e=this._$Eg)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(n)):this._$EU()}catch(e){throw t=!1,this._$EU(),e}t&&this._$AE(n)}willUpdate(e){}_$AE(e){var t;null===(t=this._$Eg)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(e){return!0}update(e){void 0!==this._$E_&&(this._$E_.forEach(((e,t)=>this._$ES(t,this[t],e))),this._$E_=void 0),this._$EU()}updated(e){}firstUpdated(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var t$2;a$1.finalized=!0,a$1.elementProperties=new Map,a$1.elementStyles=[],a$1.shadowRootOptions={mode:"open"},null==h$1||h$1({ReactiveElement:a$1}),(null!==(s$2=globalThis.reactiveElementVersions)&&void 0!==s$2?s$2:globalThis.reactiveElementVersions=[]).push("1.2.2");const i$4=globalThis.trustedTypes,s$1=i$4?i$4.createPolicy("lit-html",{createHTML:e=>e}):void 0,e$1=`lit$${(Math.random()+"").slice(9)}$`,o$1="?"+e$1,n$1=`<${o$1}>`,l$1=document,h=(e="")=>l$1.createComment(e),r=e=>null===e||"object"!=typeof e&&"function"!=typeof e,d=Array.isArray,u=e=>{var t;return d(e)||"function"==typeof(null===(t=e)||void 0===t?void 0:t[Symbol.iterator])},c=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,a=/>/g,f=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,_=/'/g,m=/"/g,g=/^(?:script|style|textarea|title)$/i,p=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),$$1=p(1),b=Symbol.for("lit-noChange"),w=Symbol.for("lit-nothing"),T$1=new WeakMap,x$1=(e,t,n)=>{var i,r;const s=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:t;let a=s._$litPart$;if(void 0===a){const e=null!==(r=null==n?void 0:n.renderBefore)&&void 0!==r?r:null;s._$litPart$=a=new N(t.insertBefore(h(),e),e,void 0,null!=n?n:{})}return a._$AI(e),a},A=l$1.createTreeWalker(l$1,129,null,!1),C$1=(e,t)=>{const n=e.length-1,i=[];let r,s=2===t?"<svg>":"",o=c;for(let t=0;t<n;t++){const n=e[t];let l,h,d=-1,p=0;for(;p<n.length&&(o.lastIndex=p,h=o.exec(n),null!==h);)p=o.lastIndex,o===c?"!--"===h[1]?o=v:void 0!==h[1]?o=a:void 0!==h[2]?(g.test(h[2])&&(r=RegExp("</"+h[2],"g")),o=f):void 0!==h[3]&&(o=f):o===f?">"===h[0]?(o=null!=r?r:c,d=-1):void 0===h[1]?d=-2:(d=o.lastIndex-h[2].length,l=h[1],o=void 0===h[3]?f:'"'===h[3]?m:_):o===m||o===_?o=f:o===v||o===a?o=c:(o=f,r=void 0);const u=o===f&&e[t+1].startsWith("/>")?" ":"";s+=o===c?n+n$1:d>=0?(i.push(l),n.slice(0,d)+"$lit$"+n.slice(d)+e$1+u):n+e$1+(-2===d?(i.push(void 0),t):u)}const l=s+(e[n]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==s$1?s$1.createHTML(l):l,i]};class E{constructor({strings:e,_$litType$:t},n){let i;this.parts=[];let r=0,s=0;const a=e.length-1,o=this.parts,[l,c]=C$1(e,t);if(this.el=E.createElement(l,n),A.currentNode=this.el.content,2===t){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(i=A.nextNode())&&o.length<a;){if(1===i.nodeType){if(i.hasAttributes()){const e=[];for(const t of i.getAttributeNames())if(t.endsWith("$lit$")||t.startsWith(e$1)){const n=c[s++];if(e.push(t),void 0!==n){const e=i.getAttribute(n.toLowerCase()+"$lit$").split(e$1),t=/([.?@])?(.*)/.exec(n);o.push({type:1,index:r,name:t[2],strings:e,ctor:"."===t[1]?M:"?"===t[1]?H:"@"===t[1]?I:S$1})}else o.push({type:6,index:r})}for(const t of e)i.removeAttribute(t)}if(g.test(i.tagName)){const e=i.textContent.split(e$1),t=e.length-1;if(t>0){i.textContent=i$4?i$4.emptyScript:"";for(let n=0;n<t;n++)i.append(e[n],h()),A.nextNode(),o.push({type:2,index:++r});i.append(e[t],h())}}}else if(8===i.nodeType)if(i.data===o$1)o.push({type:2,index:r});else{let e=-1;for(;-1!==(e=i.data.indexOf(e$1,e+1));)o.push({type:7,index:r}),e+=e$1.length-1}r++}}static createElement(e,t){const n=l$1.createElement("template");return n.innerHTML=e,n}}function P(e,t,n=e,i){var s,a,o,l;if(t===b)return t;let c=void 0!==i?null===(s=n._$Cl)||void 0===s?void 0:s[i]:n._$Cu;const h=r(t)?void 0:t._$litDirective$;return(null==c?void 0:c.constructor)!==h&&(null===(a=null==c?void 0:c._$AO)||void 0===a||a.call(c,!1),void 0===h?c=void 0:(c=new h(e),c._$AT(e,n,i)),void 0!==i?(null!==(o=(l=n)._$Cl)&&void 0!==o?o:l._$Cl=[])[i]=c:n._$Cu=c),void 0!==c&&(t=P(e,c._$AS(e,t.values),c,i)),t}class V{constructor(e,t){this.v=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(e){var t;const{el:{content:n},parts:i}=this._$AD,r=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:l$1).importNode(n,!0);A.currentNode=r;let s=A.nextNode(),a=0,o=0,l=i[0];for(;void 0!==l;){if(a===l.index){let t;2===l.type?t=new N(s,s.nextSibling,this,e):1===l.type?t=new l.ctor(s,l.name,l.strings,this,e):6===l.type&&(t=new L(s,this,e)),this.v.push(t),l=i[++o]}a!==(null==l?void 0:l.index)&&(s=A.nextNode(),a++)}return r}m(e){let t=0;for(const n of this.v)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class N{constructor(e,t,n,i){var r;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=i,this._$Cg=null===(r=null==i?void 0:i.isConnected)||void 0===r||r}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cg}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=P(this,e,t),r(e)?e===w||null==e||""===e?(this._$AH!==w&&this._$AR(),this._$AH=w):e!==this._$AH&&e!==b&&this.$(e):void 0!==e._$litType$?this.T(e):void 0!==e.nodeType?this.S(e):u(e)?this.A(e):this.$(e)}M(e,t=this._$AB){return this._$AA.parentNode.insertBefore(e,t)}S(e){this._$AH!==e&&(this._$AR(),this._$AH=this.M(e))}$(e){this._$AH!==w&&r(this._$AH)?this._$AA.nextSibling.data=e:this.S(l$1.createTextNode(e)),this._$AH=e}T(e){var t;const{values:n,_$litType$:i}=e,r="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=E.createElement(i.h,this.options)),i);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===r)this._$AH.m(n);else{const e=new V(r,this),t=e.p(this.options);e.m(n),this.S(t),this._$AH=e}}_$AC(e){let t=T$1.get(e.strings);return void 0===t&&T$1.set(e.strings,t=new E(e)),t}A(e){d(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,i=0;for(const r of e)i===t.length?t.push(n=new N(this.M(h()),this.M(h()),this,this.options)):n=t[i],n._$AI(r),i++;i<t.length&&(this._$AR(n&&n._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){var n;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cg=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class S$1{constructor(e,t,n,i,r){this.type=1,this._$AH=w,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=r,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,n,i){const s=this.strings;let a=!1;if(void 0===s)e=P(this,e,t,0),a=!r(e)||e!==this._$AH&&e!==b,a&&(this._$AH=e);else{const i=e;let o,l;for(e=s[0],o=0;o<s.length-1;o++)l=P(this,i[n+o],t,o),l===b&&(l=this._$AH[o]),a||(a=!r(l)||l!==this._$AH[o]),l===w?e=w:e!==w&&(e+=(null!=l?l:"")+s[o+1]),this._$AH[o]=l}a&&!i&&this.k(e)}k(e){e===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class M extends S$1{constructor(){super(...arguments),this.type=3}k(e){this.element[this.name]=e===w?void 0:e}}const k=i$4?i$4.emptyScript:"";class H extends S$1{constructor(){super(...arguments),this.type=4}k(e){e&&e!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class I extends S$1{constructor(e,t,n,i,r){super(e,t,n,i,r),this.type=5}_$AI(e,t=this){var n;if((e=null!==(n=P(this,e,t,0))&&void 0!==n?n:w)===b)return;const i=this._$AH,r=e===w&&i!==w||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,s=e!==w&&(i===w||r);r&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==n?n:this.element,e):this._$AH.handleEvent(e)}}class L{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){P(this,e)}}const z=window.litHtmlPolyfillSupport;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var l,o;null==z||z(E,N),(null!==(t$2=globalThis.litHtmlVersions)&&void 0!==t$2?t$2:globalThis.litHtmlVersions=[]).push("2.1.3");class s extends a$1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var e,t;const n=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=n.firstChild),n}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Dt=x$1(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Dt)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Dt)||void 0===e||e.setConnected(!1)}render(){return b}}s.finalized=!0,s._$litElement$=!0,null===(l=globalThis.litElementHydrateSupport)||void 0===l||l.call(globalThis,{LitElement:s});const n=globalThis.litElementPolyfillSupport;null==n||n({LitElement:s}),(null!==(o=globalThis.litElementVersions)&&void 0!==o?o:globalThis.litElementVersions=[]).push("3.1.2");var supportCustomEvent=window.CustomEvent;function safeDispatchEvent(e,t){var n="on"+t.type.toLowerCase();return"function"==typeof e[n]&&e[n](t),e.dispatchEvent(t)}function createsStackingContext(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1}function findNearestDialog(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement?e.parentElement:e.parentNode?e.parentNode.host:null}return null}function safeBlur(e){for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;e&&e.blur&&e!==document.body&&e.blur()}function inNodeList(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function isFormMethodDialog(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function findFocusableElementWithin(e){var t=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));t.push('[tabindex]:not([disabled]):not([tabindex=""])');var n=e.querySelector(t.join(", "));if(!n&&"attachShadow"in Element.prototype)for(var i=e.querySelectorAll("*"),r=0;r<i.length&&!(i[r].tagName&&i[r].shadowRoot&&(n=findFocusableElementWithin(i[r].shadowRoot)));r++);return n}function isConnected(e){return e.isConnected||document.body.contains(e)}function findFormSubmitter(e){if(e.submitter)return e.submitter;var t=e.target;if(!(t instanceof HTMLFormElement))return null;var n=dialogPolyfill.formSubmitter;if(!n){var i=e.target;n=("getRootNode"in i&&i.getRootNode()||document).activeElement}return n&&n.form===t?n:null}function maybeHandleSubmit(e){if(!e.defaultPrevented){var t=e.target,n=dialogPolyfill.imagemapUseValue,i=findFormSubmitter(e);null===n&&i&&(n=i.value);var r=findNearestDialog(t);if(r)"dialog"===(i&&i.getAttribute("formmethod")||t.getAttribute("method"))&&(e.preventDefault(),null!=n?r.close(n):r.close())}}function dialogPolyfillInfo(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),e.addEventListener("submit",maybeHandleSubmit,!1),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,n=!1,i=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),r=function(r){if(r.target===e){var s="DOMNodeRemoved";n|=r.type.substr(0,s.length)===s,window.clearTimeout(t),t=window.setTimeout(i,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,r)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("mouseup",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("mousedown",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("click",this.backdropMouseEvent_.bind(this))}supportCustomEvent&&"object"!=typeof supportCustomEvent||(supportCustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n},supportCustomEvent.prototype=window.Event.prototype),dialogPolyfillInfo.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&isConnected(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),dialogPolyfill.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropMouseEvent_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),e||(e=findFocusableElementWithin(this.dialog_)),safeBlur(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!isConnected(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!dialogPolyfill.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");createsStackingContext(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,dialogPolyfill.needsCentering(this.dialog_)?(dialogPolyfill.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new supportCustomEvent("close",{bubbles:!1,cancelable:!1});safeDispatchEvent(this.dialog_,t)}};var dialogPolyfill={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],i=null;try{i=n.cssRules}catch(e){}if(i)for(var r=0;r<i.length;++r){var s=i[r],a=null;try{a=document.querySelectorAll(s.selectorText)}catch(e){}if(a&&inNodeList(a,e)){var o=s.style.getPropertyValue("top"),l=s.style.getPropertyValue("bottom");if(o&&"auto"!==o||l&&"auto"!==l)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!dialogPolyfill.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new dialogPolyfillInfo(e)},registerDialog:function(e){e.showModal||dialogPolyfill.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var n=[];t.forEach((function(e){for(var t,i=0;t=e.removedNodes[i];++i)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))})),n.length&&e(n)})))}};if(dialogPolyfill.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},dialogPolyfill.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},dialogPolyfill.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var i=this.pendingDialogStack[0];i?(i.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},dialogPolyfill.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=findNearestDialog(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},dialogPolyfill.DialogManager.prototype.handleFocus_=function(e){var t=e.composedPath?e.composedPath()[0]:e.target;if(!this.containedByTopDialog_(t)&&document.activeElement!==document.documentElement&&(e.preventDefault(),e.stopPropagation(),safeBlur(t),void 0!==this.forwardTab_)){var n=this.pendingDialogStack[0];return n.dialog.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?n.focus_():t!==document.documentElement&&document.documentElement.focus()),!1}},dialogPolyfill.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new supportCustomEvent("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&safeDispatchEvent(n.dialog,t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},dialogPolyfill.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},dialogPolyfill.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},dialogPolyfill.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},dialogPolyfill.dm=new dialogPolyfill.DialogManager,dialogPolyfill.formSubmitter=null,dialogPolyfill.imagemapUseValue=null,void 0===window.HTMLDialogElement){var testForm=document.createElement("form");if(testForm.setAttribute("method","dialog"),"dialog"!==testForm.method){var methodDescriptor=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(methodDescriptor){var realGet=methodDescriptor.get;methodDescriptor.get=function(){return isFormMethodDialog(this)?"dialog":realGet.call(this)};var realSet=methodDescriptor.set;methodDescriptor.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):realSet.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",methodDescriptor)}}document.addEventListener("click",(function(e){if(dialogPolyfill.formSubmitter=null,dialogPolyfill.imagemapUseValue=null,!e.defaultPrevented){var t=e.target;if("composedPath"in e)t=e.composedPath().shift()||t;if(t&&isFormMethodDialog(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;dialogPolyfill.imagemapUseValue=e.offsetX+","+e.offsetY}findNearestDialog(t)&&(dialogPolyfill.formSubmitter=t)}}}),!1),document.addEventListener("submit",(function(e){var t=e.target;if(!findNearestDialog(t)){var n=findFormSubmitter(e);"dialog"===(n&&n.getAttribute("formmethod")||t.getAttribute("method"))&&e.preventDefault()}}));var nativeFormSubmit=HTMLFormElement.prototype.submit,replacementFormSubmit=function(){if(!isFormMethodDialog(this))return nativeFormSubmit.call(this);var e=findNearestDialog(this);e&&e.close()};HTMLFormElement.prototype.submit=replacementFormSubmit}r$2`#f5faff`,r$2`#cedff2`,r$2`#a3b0bf`,r$2`#eeeeee`,r$2`#cccccc`,r$2`#a3b0bf`;const mainThemes=r$2`
    * {
        box-sizing: border-box;
    }
    a {
        color: #0000ee;
    }
    .visuallyhidden {
        border: 0;
        clip: rect(0 0 0 0);
        height: auto; /* new - was 1px */
        margin: 0; /* new - was -1px */
        overflow: hidden;
        padding: 0;
        position: absolute;
        width: 1px;
        white-space: nowrap; /* 1 */
    }
    input-preview{
        display: inline-block;
    }
    .can_hide{
        position: absolute;
        margin: 0em 0em 1em 0em;
        border: 1px solid var(--border-colour);
        overflow: visible;
        z-index: 3;
    }
`,icons=r$2`
    
    i.home::before{
        content : url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' style='width:1em;height:1em' viewBox='0 0 24 24'%3E%3Cpath fill='currentColor' d='M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z' /%3E%3C/svg%3E");
        display:block;
    }
    {
        i.move::before{
        /*content : url('data:image/svg+xml; utf8,<svg xmlns="http://www.w3.org/2000/svg" height="1em" width="1em" viewBox="0 0 96 96" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none;"><path d="M73,48.4l-10.4-9.6v4.8H52.4V33.4h4.8L47.6,23l-8.9,10.4h4.8v10.2H33.4v-4.8L23,48.4l10.4,8.9v-4.8h10.2v10.2h-4.8L47.6,73   l9.6-10.4h-4.8V52.4h10.2v4.8L73,48.4z"/></svg>');*/
        content : url('data:image/svg+xml; utf8,<svg xmlns="http://www.w3.org/2000/svg" height="1em" width="1em" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none;"><path d="M20 9H4v2h16V9zM4 15h16v-2H4v2z"></path></svg>');
        display:block;                
    }
    i.add::before{
        content : url('data:image/svg+xml; utf8,<svg xmlns="http://www.w3.org/2000/svg" height="1em" width="1em" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none;"><path d="M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"/></svg>');
        display:block;
    }
    i.delete::before{
        content : url('data:image/svg+xml; utf8,<svg xmlns="http://www.w3.org/2000/svg" height="1em" width="1em" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none;"><g><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"></path></g></svg>');
        display:block;
    }
    i.addFolder::before{
        content : url('data:image/svg+xml; utf8,<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none;"><g><path d="M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z"></path></g></svg>');
        display: block;
    }

    i.left::before{
        content : url('data:image/svg+xml; utf8,<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none;"><g><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"></path></g></svg>');
        display:block;
    }
    i.right::before{
        content : url('data:image/svg+xml; utf8,<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none;"><g><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></g></svg>');
        display:block;
    }
    i.top::before{
        content : url('data:image/svg+xml; utf8,<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none;"><g><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></g></svg>');
        display: block;
    }
    i.bottom::before{
        content : url('data:image/svg+xml; utf8,<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none;"><g><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g></svg>');
        display: block;
    }

    i.toggle::before{
        content : url('data:image/svg+xml; utf8,<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none;"><g><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g></svg>');
        display: block;
    }
    [aria-expanded="true"] > i.toggle::before{
        content : url('data:image/svg+xml; utf8,<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none;"><g><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></g></svg>');
    }`;class BorreyBlock extends s{static styles=[icons,mainThemes,r$2`
    :host{
        display: grid;
        grid-template-areas:
            "top top"
            "side content";
        max-height: 100%;
        overflow : auto;
        grid-template-columns: 10em  auto;
    }
    article.content{
        grid-area: content;
        overflow: auto;     
        margin-bottom : 2em; 
    }
    aside.side-nav{
        grid-area : side;
        display : flex;
        flex-direction : column;
    }
    aside.side-nav .block-nav, aside.side-nav .share{
        border-right: 8px solid transparent;
        border-bottom: 1px solid #aaa;
        border: 1px solid #ccc;
        box-shadow: 0 1px 2px #ccc;
        margin-right: 1em;
        margin-bottom: 1em;
        position : relative;
    }
    aside.side-nav .block-nav{
        background: #f5fffa;
        min-height : 3em;
    }
    aside.side-nav .share{
        background: #f9fbba;
        min-height : 3em;
    }
    
    div.top-bar{
        display : flex;
        align-items : center;
        justify-content:space-between;
        grid-area : top;
        
    }
    .block-nav ul{
        overflow : auto;
    }
    `];static get properties(){return{id:{type:String},title:{type:String},icon:{type:String},content:{type:String},sections:{type:Array},meta:{type:Array}}}constructor(){super(),this.title="Unknown Title",this.icon="?",this.content="default content <borrey-input-edit></borrey-input-edit>\n        \n        \n        <input-math></input-math>\n        <input-spreadsheet></input-spreadsheet>\n        <borrey-draw></borrey-draw>\n        <input-choice multiple></input-choice>\n    <input-choice></input-choice>\n    <input-match></input-match>",this.sections=[{url:"/b/22886?context=%5B%2225842%22%2C%22m6%22%2C%22m6_8%22%2C%2225994%22%5D",html:"<input-long></input-long>"},{url:"/b/22886?context=%5B%2225842%22%2C%22m6%22%2C%22m6_8%22%2C%2225994%22%5D",html:"<input-short></input-short>"},{url:"/b/22886?context=%5B%2225842%22%2C%22m6%22%2C%22m6_8%22%2C%2225994%22%5D",html:""}],this.meta=[]}firstUpdated(e){}render(){return $$1`
            <div class='top-bar'>
                <h2>${this.title}</h2>
                <div class='meta'></div>
                <nav>
                    <button>Prev</button><button>Next</button>
                </nav>
            </div>
            <aside class='side-nav'>
                <nav class='block-nav'>

                </nav>
                <section class='share'>
                    some share
                </section>
            </aside>
            <article class='content'>
                <section>
                    <input-preview .html='${this.content}'></input-preview>
                </section>
                ${this.sections.map(this._displaySection)}
            </article>
        `}_displaySection(e){return $$1`
            <section>
            <input-preview .html='${e.html}'></input-preview>
            <!--<p>
                Lorem ipsum dolor sit amet, <a href='/block/23/32' data-internal-link>Sample section</a>
                </p>
                
    -->

                <!--<borrey-question-set></borrey-question-set> -->

            </section>
        `}}window.customElements.define("borrey-block",BorreyBlock);class QuestionBlock extends BorreyBlock{static get properties(){return{inputs:{type:Array}}}constructor(){super(),this.inputs=[],this.icon="?"}}window.customElements.define("question-block",QuestionBlock);class BorreyQuestionSet extends BorreyBlock{constructor(){super()}static get styles(){return[BorreyBlock.styles,r$2`
            table.question-set{
                display: inline-block;
                border-collapse: collapse;
                min-width: 100%;
                table-layout: fixed;
            }

            table.question-set tr:first-child{
                border-top: 1px solid black;
            }
            table.question-set tr {
                border-bottom: 1px solid black;
            }
            table.question-set th {
                text-align: right;
                padding-right: 5px;
                border-right: 1px solid black;
            }
            table.question-set td {
                border-right: 1px solid black;
                padding: 1px;
                text-align: center;
                vertical-align: middle;
                width: 2em;
                min-height: 100%;
            }
        `]}static get properties(){return{attribuesRows:{type:Array}}}render(){return $$1`
            <table class='question-set'>
                <!--
                    <caption></caption>
    	            <thead></thead>
                -->
                <tbody>
                    <tr>
                        <th> ${this.title} </th>
                        ${this.sections.map(this._getSectionLink)}
                        <!-- <td></td> -->
                    </tr>
                    ${this.attribuesRows}
                </tbody>
            </table>
        `}_getSectionLink(e,t){return $$1`<td><a href='${e.url}'>${t+1}</a></td>`}_getAttributeRows(){}}window.customElements.define("borrey-question-set",BorreyQuestionSet),customElements.define("input-preview",class extends HTMLElement{constructor(){super(),Object.defineProperty(this,"html",{get:function(){return this.val},set:function(e){this.val=e,this.innerHTML=this.val}}),this.html=this.getAttribute(".html")||"",this.observer=new MutationObserver(this.mutationCallback.bind(this)),this.observer.observe(this,{attributes:!0})}mutationCallback(e,t){e.forEach((e=>{"attributes"===e.type&&".html"===e.attributeName&&(this.html=this.getAttribute(".html"))}).bind(this))}});const inputCommon=r$2`
    :host{
        display : block;
        border: 1px solid var(--border-colour);
        margin: 1em;
    }
    div.attempt{
        border: 1px solid var(--border-colour);
    }
    input-preview{
        padding : 1em;
    }
`;class BorreyInput extends s{static styles=[mainThemes,inputCommon,icons];static get is(){return"borrey-input"}static get title(){return"Generic"}static get properties(){return{instruction:{type:String},answerType:{type:String},actionUrl:{type:String},actionLabel:{type:String},history:{type:Array}}}constructor(){super(),this.instruction="Type in your Answer",this.answerType="text",this.actionUrl="",this.actionLabel="Add Attempt",this.history=[]}_getMenu(){return""}_getInput(){return $$1`<input name='attempt'/><input type='submit' @click='${this._submit}' value='${this.actionLabel}'/>`}_historyView(e){const t=new Date(e.time),n=t.toLocaleDateString("us-EN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})+" "+t.toLocaleTimeString();return $$1`
            <li>
                <div class='attempt'>
                    <input-preview .html='${"<strong>"+e.display+"</strong>"}'></input-preview>
                    <time datetime='${n}'>${n}</time>
                </div>
            </li>
        `}_submit(e){e.preventDefault(),e.stopPropagation(),this.pushAttempt(this.shadowRoot.querySelector("input[name=attempt]").value)}pushAttempt(e){this.history=[...this.history,{display:e,time:Date.now()}]}render(){return $$1`
            <strong>${this.instruction}</strong>
            <section class='menu'>${this._getMenu()}</section>
            <form action='${this.actionUrl}'>
                ${this._getInput()}
            </form>
            <details class='attempt_history'>
                <summary>${this.history.length} ${1==this.history.length?"attempt":"attempts"}</summary>
                <ol >
                    ${this.history.map(this._historyView)}
                </ol>
            </details>
        `}static getEditForm(e,t){return $$1`<input type='text' name='attempt'/>
        <br/>
        <input type='submit' @click='${e}' value='${t}'/>`}}window.customElements.define(BorreyInput.is,BorreyInput);class BaseTool{constructor(){}static createTmpCanvas(e){const t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t}static draw(e,t,n,i){const r=this.createTmpCanvas(e.canvas),s=r.getContext("2d");return this.start(s,t),n.forEach((e=>{this.update(s,e)})),this.finish(s,i),r}static start(e,t){e.beginPath(),e.moveTo(t.x,t.y)}static update(e,t){}static finish(e,t){this.update(e,t),e.closePath()}static get title(){return""}}class PenTool extends BaseTool{constructor(){super()}static update(e,t){e.lineTo(t.x,t.y),e.stroke()}static get title(){return"pen"}}class LineTool extends PenTool{constructor(){super()}static draw(e,t,n,i){const r=this.createTmpCanvas(e.canvas),s=r.getContext("2d");return this.start(s,t),this.finish(s,i),r}static get title(){return"line"}}class CircleTool extends BaseTool{constructor(){super()}static get startAngle(){return 0}static get endAngle(){return 2*Math.PI}static get counterClockwise(){return!1}static draw(e,t,n,i){const r=this.createTmpCanvas(e.canvas),s=r.getContext("2d"),a=Math.abs(t.x-i.x),o=Math.min(t.x,i.x)+a/2,l=Math.abs(t.y-i.y),c=Math.min(t.y,i.y)+l/2,h=Math.round(Math.sqrt(a*a+l*l)/2);return s.beginPath(),s.arc(o,c,h,this.startAngle,this.endAngle,this.counterClockwise),s.stroke(),s.closePath(),r}static get title(){return"circle"}}class RectangleTool extends BaseTool{constructor(){super()}static draw(e,t,n,i){const r=this.createTmpCanvas(e.canvas),s=r.getContext("2d");return t.x!==i.x&&t.y!==i.y&&s.strokeRect(Math.min(t.x,i.x),Math.min(t.y,i.y),Math.abs(t.x-i.x),Math.abs(t.y-i.y)),r}static get title(){return"rectangle"}}const tools=[PenTool,LineTool,CircleTool,RectangleTool],toolsMap=tools.reduce(((e,t)=>(e[t.title]=t,e)),{});class InputDraw extends BorreyInput{constructor(){super(),this.instruction="Draw your Answer",this.currentActionType=tools[0].title,this.currentAction=null,this.actionStack=[],this.redoStack=[],this.width="300px",this.height="200px"}static styles=[mainThemes,inputCommon,r$2`
        canvas[name=current_layer]{
            border: 1px solid;
            cursor: crosshair;
        }
    `];static get is(){return"borrey-draw"}static get title(){return"Draw"}static get properties(){return{actionStack:{type:Array},width:{type:String},height:{type:String}}}undo(e){e.preventDefault(),e.stopPropagation(),this.actionStack.length&&(this.redoStack=[...this.redoStack,this.actionStack.pop()],this.actionStack=[...this.actionStack],this.clear(),this.runActionStack())}redo(e){e.preventDefault(),e.stopPropagation(),this.redoStack.length&&(this.actionStack=[...this.actionStack,this.redoStack.pop()],this.redoStack=[...this.redoStack],this.clear(),this.runActionStack())}clear(){const e=this.shadowRoot.querySelector("canvas");e.getContext("2d").clearRect(0,0,e.width,e.height)}_clear(e){}runActionStack(){this.drawGrid(),this.actionStack.forEach((e=>{this.runAction(e)}))}runAction(e){const t=this.shadowRoot.querySelector("canvas[name=attempt]").getContext("2d"),n=toolsMap[e.type].draw(t,e.start,e.update,e.end);t.drawImage(n,0,0)}_getInput(){return $$1`
            <section style='position:relative;'>
                <canvas width='${this.width}' height='${this.height}' name='attempt' @touchstart='${this._start}' @touchmove='${this._update}' @touchend='${this._finish}' @mousedown='${this._start}' @mousemove='${this._update}' @mouseup='${this._finish}'></canvas>
                <!--<canvas width='${this.width}' height='${this.height}' style='position:absolute; left:0; top:0' name='current_layer' @mousedown='${this._start}' @mousemove='${this._update}' @mouseup='${this._finish}'></canvas>-->
            </section>    
            <section>
                <button @click='${this.undo}' ?disabled=${this.actionStack.length<=0}>undo</button>
                <button @click='${this.redo}' ?disabled=${this.redoStack.length<=0}>redo</button>
                <!--<button @click='${e=>{e.preventDefault(),e.stopPropagation(),this.clear()}}' ?disabled=${this.actionStack.length<=0}>Clear</button>-->
                <select @change='${this._changeTool}' name='tool'>${tools.map((e=>$$1`<option value='${e.title}' >${e.title}</option>`))}</select>
                <input type='submit' @click='${this._submit}' value='${this.actionLabel}'/>
            </section>
        `}getEventCoordinates=function(e,t){let n=e.offsetX||e.layerX,i=e.offsetY||e.layerY;if(!n&&!i&&e.touches&&e.touches[0]&&e.touches[0].clientX&&e.touches[0].clientY){const{left:t,top:r}=e.target.getBoundingClientRect();n=e.touches[0].clientX-t,i=e.touches[0].clientY-r,e.preventDefault()}return{x:e.layerX||n,y:e.layerY||i}};_start(e){this.currentAction={type:this.currentActionType,start:this.getEventCoordinates(e,this.shadowRoot.querySelector("canvas[name=attempt]")),update:[],end:null}}_update(e){this.currentAction&&this.currentAction.update&&this.currentAction.update.push(this.getEventCoordinates(e,this.shadowRoot.querySelector("canvas[name=attempt]")))}_finish(e){this.currentAction.end=this.getEventCoordinates(e,this.shadowRoot.querySelector("canvas[name=attempt]")),this.actionStack=[...this.actionStack,this.currentAction],this.runAction(this.currentAction),this.currentAction=null}_changeTool(e){this.currentActionType=e.target.value||tool[0].title}_getMenu(){return $$1``}_submit(e){e.preventDefault(),e.stopPropagation();const t=this.shadowRoot.querySelector("canvas[name=attempt]").toDataURL("image/jpg");this.pushAttempt(t)}pushAttempt(e){this.history=[...this.history,{display:`<img src='${e}'/>`,time:Date.now()}]}firstUpdated(e){this.drawGrid()}drawGrid(){const e=this.shadowRoot.querySelector("canvas[name=attempt]").getContext("2d");var t=window.URL||window.webkitURL||window,n=new Image,i=new Blob(['<svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">             <defs>                 <pattern id="smallGrid" width="8" height="8" patternUnits="userSpaceOnUse">                     <path d="M 8 0 L 0 0 0 8" fill="none" stroke="gray" stroke-width="0.5" />                 </pattern>                 <pattern id="grid" width="80" height="80" patternUnits="userSpaceOnUse">                     <rect width="80" height="80" fill="url(#smallGrid)" />                     <path d="M 80 0 L 0 0 0 80" fill="none" stroke="gray" stroke-width="1" />                 </pattern>             </defs>             <rect width="100%" height="100%" fill="url(#smallGrid)" />         </svg>'],{type:"image/svg+xml;charset=utf-8"}),r=t.createObjectURL(i);n.onload=function(){e.drawImage(n,0,0),t.revokeObjectURL(r)},n.src=r}}customElements.define(InputDraw.is,InputDraw);class InputLong extends BorreyInput{constructor(){super(),this.attemptText="",this.spellCheck=!1}_getInput(){return $$1`<textarea spellcheck='${this.spellCheck?"true":"false"}' @input='${this.updateCurrentAttempt}' name='attempt'>${this.attemptText}</textarea><input type='submit' @click='${this._submit}' value='${this.actionLabel}'/>`}updateCurrentAttempt(e){const t=e.target;this.attemptText=t.value,e.preventDefault(),e.stopPropagation()}static styles=[...BorreyInput.styles,[r$2`
            textarea[name=attempt]{
                display:block;
                width : 90%;
            }
        `]];static get title(){return"Paragraph Answers"}static get is(){return"input-long"}static get properties(){return{attemptText:{type:String},spellCheck:{type:Boolean}}}_submit(e){e.preventDefault(),e.stopPropagation(),this.pushAttempt(this.shadowRoot.querySelector("textarea[name=attempt]").value.replace(new RegExp("\n","g"),"<br/>"))}}customElements.define(InputLong.is,InputLong);let extend="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let e=1;e<extend.length;e++)extend[e]+=extend[e-1];function isExtendingChar(e){for(let t=1;t<extend.length;t+=2)if(extend[t]>e)return extend[t-1]<=e;return!1}function isRegionalIndicator(e){return e>=127462&&e<=127487}const ZWJ=8205;function findClusterBreak(e,t,n=!0,i=!0){return(n?nextClusterBreak:prevClusterBreak)(e,t,i)}function nextClusterBreak(e,t,n){if(t==e.length)return t;t&&surrogateLow(e.charCodeAt(t))&&surrogateHigh(e.charCodeAt(t-1))&&t--;let i=codePointAt(e,t);for(t+=codePointSize(i);t<e.length;){let r=codePointAt(e,t);if(i==ZWJ||r==ZWJ||n&&isExtendingChar(r))t+=codePointSize(r),i=r;else{if(!isRegionalIndicator(r))break;{let n=0,i=t-2;for(;i>=0&&isRegionalIndicator(codePointAt(e,i));)n++,i-=2;if(n%2==0)break;t+=2}}}return t}function prevClusterBreak(e,t,n){for(;t>0;){let i=nextClusterBreak(e,t-2,n);if(i<t)return i;t--}return 0}function surrogateLow(e){return e>=56320&&e<57344}function surrogateHigh(e){return e>=55296&&e<56320}function codePointAt(e,t){let n=e.charCodeAt(t);if(!surrogateHigh(n)||t+1==e.length)return n;let i=e.charCodeAt(t+1);return surrogateLow(i)?i-56320+(n-55296<<10)+65536:n}function fromCodePoint(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function codePointSize(e){return e<65536?1:2}function countColumn(e,t,n=e.length){let i=0;for(let r=0;r<n;)9==e.charCodeAt(r)?(i+=t-i%t,r++):(i++,r=findClusterBreak(e,r));return i}function findColumn(e,t,n,i){for(let i=0,r=0;;){if(r>=t)return i;if(i==e.length)break;r+=9==e.charCodeAt(i)?n-r%n:1,i=findClusterBreak(e,i)}return!0===i?-1:e.length}class Text{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){let i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(t,this.length,i,1),TextNode$1.from(i,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let n=[];return this.decompose(e,t,n,0),TextNode$1.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),i=new RawTextCursor(this),r=new RawTextCursor(e);for(let e=t,s=t;;){if(i.next(e),r.next(e),e=0,i.lineBreak!=r.lineBreak||i.done!=r.done||i.value!=r.value)return!1;if(s+=i.value.length,i.done||s>=n)return!0}}iter(e=1){return new RawTextCursor(this,e)}iterRange(e,t=this.length){return new PartialTextCursor(this,e,t)}iterLines(e,t){let n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);let i=this.line(e).from;n=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new LineCursor(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new TextLeaf(e):TextNode$1.from(TextLeaf.split(e,[])):Text.empty}}class TextLeaf extends Text{constructor(e,t=textLength(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,i){for(let r=0;;r++){let s=this.text[r],a=i+s.length;if((t?n:a)>=e)return new Line(i,a,n,s);i=a+1,n++}}decompose(e,t,n,i){let r=e<=0&&t>=this.length?this:new TextLeaf(sliceText(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&i){let e=n.pop(),t=appendText(r.text,e.text.slice(),0,r.length);if(t.length<=32)n.push(new TextLeaf(t,e.length+r.length));else{let e=t.length>>1;n.push(new TextLeaf(t.slice(0,e)),new TextLeaf(t.slice(e)))}}else n.push(r)}replace(e,t,n){if(!(n instanceof TextLeaf))return super.replace(e,t,n);let i=appendText(this.text,appendText(n.text,sliceText(this.text,0,e)),t),r=this.length+n.length-(t-e);return i.length<=32?new TextLeaf(i,r):TextNode$1.from(TextLeaf.split(i,[]),r)}sliceString(e,t=this.length,n="\n"){let i="";for(let r=0,s=0;r<=t&&s<this.text.length;s++){let a=this.text[s],o=r+a.length;r>e&&s&&(i+=n),e<o&&t>r&&(i+=a.slice(Math.max(0,e-r),t-r)),r=o+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],i=-1;for(let r of e)n.push(r),i+=r.length+1,32==n.length&&(t.push(new TextLeaf(n,i)),n=[],i=-1);return i>-1&&t.push(new TextLeaf(n,i)),t}}class TextNode$1 extends Text{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let t of e)this.lines+=t.lines}lineInner(e,t,n,i){for(let r=0;;r++){let s=this.children[r],a=i+s.length,o=n+s.lines-1;if((t?o:a)>=e)return s.lineInner(e,t,n,i);i=a+1,n=o+1}}decompose(e,t,n,i){for(let r=0,s=0;s<=t&&r<this.children.length;r++){let a=this.children[r],o=s+a.length;if(e<=o&&t>=s){let r=i&((s<=e?1:0)|(o>=t?2:0));s>=e&&o<=t&&!r?n.push(a):a.decompose(e-s,t-s,n,r)}s=o+1}}replace(e,t,n){if(n.lines<this.lines)for(let i=0,r=0;i<this.children.length;i++){let s=this.children[i],a=r+s.length;if(e>=r&&t<=a){let o=s.replace(e-r,t-r,n),l=this.lines-s.lines+o.lines;if(o.lines<l>>4&&o.lines>l>>6){let r=this.children.slice();return r[i]=o,new TextNode$1(r,this.length-(t-e)+n.length)}return super.replace(r,a,o)}r=a+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n="\n"){let i="";for(let r=0,s=0;r<this.children.length&&s<=t;r++){let a=this.children[r],o=s+a.length;s>e&&r&&(i+=n),e<o&&t>s&&(i+=a.sliceString(e-s,t-s,n)),s=o+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof TextNode$1))return 0;let n=0,[i,r,s,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,r+=t){if(i==s||r==a)return n;let o=this.children[i],l=e.children[r];if(o!=l)return n+o.scanIdentical(l,t);n+=o.length+1}}static from(e,t=e.reduce(((e,t)=>e+t.length+1),-1)){let n=0;for(let t of e)n+=t.lines;if(n<32){let n=[];for(let t of e)t.flatten(n);return new TextLeaf(n,t)}let i=Math.max(32,n>>5),r=i<<1,s=i>>1,a=[],o=0,l=-1,c=[];function h(e){let t;if(e.lines>r&&e instanceof TextNode$1)for(let t of e.children)h(t);else e.lines>s&&(o>s||!o)?(d(),a.push(e)):e instanceof TextLeaf&&o&&(t=c[c.length-1])instanceof TextLeaf&&e.lines+t.lines<=32?(o+=e.lines,l+=e.length+1,c[c.length-1]=new TextLeaf(t.text.concat(e.text),t.length+1+e.length)):(o+e.lines>i&&d(),o+=e.lines,l+=e.length+1,c.push(e))}function d(){0!=o&&(a.push(1==c.length?c[0]:TextNode$1.from(c,l)),l=-1,o=c.length=0)}for(let t of e)h(t);return d(),1==a.length?a[0]:new TextNode$1(a,t)}}function textLength(e){let t=-1;for(let n of e)t+=n.length+1;return t}function appendText(e,t,n=0,i=1e9){for(let r=0,s=0,a=!0;s<e.length&&r<=i;s++){let o=e[s],l=r+o.length;l>=n&&(l>i&&(o=o.slice(0,i-r)),r<n&&(o=o.slice(n-r)),a?(t[t.length-1]+=o,a=!1):t.push(o)),r=l+1}return t}function sliceText(e,t,n){return appendText(e,[""],t,n)}Text.empty=new TextLeaf([""],0);class RawTextCursor{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof TextLeaf?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],r=this.offsets[n],s=r>>1,a=i instanceof TextLeaf?i.text.length:i.children.length;if(s==(t>0?a:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&r)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(i instanceof TextLeaf){let r=i.text[s+(t<0?-1:0)];if(this.offsets[n]+=t,r.length>Math.max(0,e))return this.value=0==e?r:t>0?r.slice(e):r.slice(0,r.length-e),this;e-=r.length}else{let r=i.children[s+(t<0?-1:0)];e>r.length?(e-=r.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(r),this.offsets.push(t>0?1:(r instanceof TextLeaf?r.text.length:r.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class PartialTextCursor{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new RawTextCursor(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=n?i:t<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class LineCursor{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:i}=this.inner.next(e);return t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(e,t,n,i){this.from=e,this.to=t,this.number=n,this.text=i}get length(){return this.to-this.from}}const DefaultSplit=/\r\n?|\n/;var MapMode=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(MapMode||(MapMode={}));class ChangeDesc{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,i=0;t<this.sections.length;){let r=this.sections[t++],s=this.sections[t++];s<0?(e(n,i,r),i+=r):i+=s,n+=r}}iterChangedRanges(e,t=!1){iterChanges(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];i<0?e.push(n,i):e.push(i,n)}return new ChangeDesc(e)}composeDesc(e){return this.empty?e:e.empty?this:composeSets(this,e)}mapDesc(e,t=!1){return e.empty?this:mapSet(this,e,t)}mapPos(e,t=-1,n=MapMode.Simple){let i=0,r=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],o=this.sections[s++],l=i+a;if(o<0){if(l>e)return r+(e-i);r+=a}else{if(n!=MapMode.Simple&&l>=e&&(n==MapMode.TrackDel&&i<e&&l>e||n==MapMode.TrackBefore&&i<e||n==MapMode.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!a)return e==i||t<0?r:r+o;r+=o}i=l}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return r}touchesRange(e,t=e){for(let n=0,i=0;n<this.sections.length&&i<=t;){let r=i+this.sections[n++];if(this.sections[n++]>=0&&i<=t&&r>=e)return!(i<e&&r>t)||"cover";i=r}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+n+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(e)}}class ChangeSet extends ChangeDesc{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,((t,n,i,r,s)=>e=e.replace(i,i+(n-t),s)),!1),e}mapDesc(e,t=!1){return mapSet(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let i=0,r=0;i<t.length;i+=2){let s=t[i],a=t[i+1];if(a>=0){t[i]=a,t[i+1]=s;let o=i>>1;for(;n.length<o;)n.push(Text.empty);n.push(s?e.slice(r,r+s):Text.empty)}r+=s}return new ChangeSet(t,n)}compose(e){return this.empty?e:e.empty?this:composeSets(this,e,!0)}map(e,t=!1){return e.empty?this:mapSet(this,e,t,!0)}iterChanges(e,t=!1){iterChanges(this,e,t)}get desc(){return new ChangeDesc(this.sections)}filter(e){let t=[],n=[],i=[],r=new SectionIter(this);e:for(let s=0,a=0;;){let o=s==e.length?1e9:e[s++];for(;a<o||a==o&&0==r.len;){if(r.done)break e;let e=Math.min(r.len,o-a);addSection(i,e,-1);let s=-1==r.ins?-1:0==r.off?r.ins:0;addSection(t,e,s),s>0&&addInsert(n,t,r.text),r.forward(e),a+=e}let l=e[s++];for(;a<l;){if(r.done)break e;let e=Math.min(r.len,l-a);addSection(t,e,-1),addSection(i,e,-1==r.ins?-1:0==r.off?r.ins:0),r.forward(e),a+=e}}return{changes:new ChangeSet(t,n),filtered:new ChangeDesc(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],i=this.sections[t+1];i<0?e.push(n):0==i?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let i=[],r=[],s=0,a=null;function o(e=!1){if(!e&&!i.length)return;s<t&&addSection(i,t-s,-1);let n=new ChangeSet(i,r);a=a?a.compose(n.map(a)):n,i=[],r=[],s=0}return function e(l){if(Array.isArray(l))for(let t of l)e(t);else if(l instanceof ChangeSet){if(l.length!=t)throw new RangeError(`Mismatched change set length (got ${l.length}, expected ${t})`);o(),a=a?a.compose(l.map(a)):l}else{let{from:e,to:a=e,insert:c}=l;if(e>a||e<0||a>t)throw new RangeError(`Invalid change range ${e} to ${a} (in doc of length ${t})`);let h=c?"string"==typeof c?Text.of(c.split(n||DefaultSplit)):c:Text.empty,d=h.length;if(e==a&&0==d)return;e<s&&o(),e>s&&addSection(i,e-s,-1),addSection(i,a-e,d),addInsert(r,i,h),s=a}}(e),o(!a),a}static empty(e){return new ChangeSet(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let i=0;i<e.length;i++){let r=e[i];if("number"==typeof r)t.push(r,-1);else{if(!Array.isArray(r)||"number"!=typeof r[0]||r.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==r.length)t.push(r[0],0);else{for(;n.length<i;)n.push(Text.empty);n[i]=Text.of(r.slice(1)),t.push(r[0],n[i].length)}}}return new ChangeSet(t,n)}}function addSection(e,t,n,i=!1){if(0==t&&n<=0)return;let r=e.length-2;r>=0&&n<=0&&n==e[r+1]?e[r]+=t:0==t&&0==e[r]?e[r+1]+=n:i?(e[r]+=t,e[r+1]+=n):e.push(t,n)}function addInsert(e,t,n){if(0==n.length)return;let i=t.length-2>>1;if(i<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<i;)e.push(Text.empty);e.push(n)}}function iterChanges(e,t,n){let i=e.inserted;for(let r=0,s=0,a=0;a<e.sections.length;){let o=e.sections[a++],l=e.sections[a++];if(l<0)r+=o,s+=o;else{let c=r,h=s,d=Text.empty;for(;c+=o,h+=l,l&&i&&(d=d.append(i[a-2>>1])),!(n||a==e.sections.length||e.sections[a+1]<0);)o=e.sections[a++],l=e.sections[a++];t(r,c,s,h,d),r=c,s=h}}}function mapSet(e,t,n,i=!1){let r=[],s=i?[]:null,a=new SectionIter(e),o=new SectionIter(t);for(let e=0,t=0;;)if(-1==a.ins)e+=a.len,a.next();else if(-1==o.ins&&t<e){let n=Math.min(o.len,e-t);o.forward(n),addSection(r,n,-1),t+=n}else if(o.ins>=0&&(a.done||t<e||t==e&&(o.len<a.len||o.len==a.len&&!n))){for(addSection(r,o.ins,-1);e>t&&!a.done&&e+a.len<t+o.len;)e+=a.len,a.next();t+=o.len,o.next()}else{if(!(a.ins>=0)){if(a.done&&o.done)return s?new ChangeSet(r,s):new ChangeDesc(r);throw new Error("Mismatched change set lengths")}{let n=0,i=e+a.len;for(;;)if(o.ins>=0&&t>e&&t+o.len<i)n+=o.ins,t+=o.len,o.next();else{if(!(-1==o.ins&&t<i))break;{let e=Math.min(o.len,i-t);n+=e,o.forward(e),t+=e}}addSection(r,n,a.ins),s&&addInsert(s,r,a.text),e=i,a.next()}}}function composeSets(e,t,n=!1){let i=[],r=n?[]:null,s=new SectionIter(e),a=new SectionIter(t);for(let e=!1;;){if(s.done&&a.done)return r?new ChangeSet(i,r):new ChangeDesc(i);if(0==s.ins)addSection(i,s.len,0,e),s.next();else if(0!=a.len||a.done){if(s.done||a.done)throw new Error("Mismatched change set lengths");{let t=Math.min(s.len2,a.len),n=i.length;if(-1==s.ins){let n=-1==a.ins?-1:a.off?0:a.ins;addSection(i,t,n,e),r&&n&&addInsert(r,i,a.text)}else-1==a.ins?(addSection(i,s.off?0:s.len,t,e),r&&addInsert(r,i,s.textBit(t))):(addSection(i,s.off?0:s.len,a.off?0:a.ins,e),r&&!a.off&&addInsert(r,i,a.text));e=(s.ins>t||a.ins>=0&&a.len>t)&&(e||i.length>n),s.forward2(t),a.forward(t)}}else addSection(i,0,a.ins,e),r&&addInsert(r,i,a.text),a.next()}}class SectionIter{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Text.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?Text.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class SelectionRange{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let e=3&this.flags;return 3==e?null:e}get goalColumn(){let e=this.flags>>5;return 33554431==e?void 0:e}map(e,t=-1){let n,i;return this.empty?n=i=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new SelectionRange(n,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return EditorSelection.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return EditorSelection.range(this.anchor,n)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(e.anchor,e.head)}}class EditorSelection{constructor(e,t=0){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:EditorSelection.create(this.ranges.map((n=>n.map(e,t))),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new EditorSelection([this.main])}addRange(e,t=!0){return EditorSelection.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,EditorSelection.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(e.ranges.map((e=>SelectionRange.fromJSON(e))),e.main)}static single(e,t=e){return new EditorSelection([EditorSelection.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<e.length;i++){let r=e[i];if(r.empty?r.from<=n:r.from<n)return normalized(e.slice(),t);n=r.to}return new EditorSelection(e,t)}static cursor(e,t=0,n,i){return new SelectionRange(e,e,(0==t?0:t<0?4:8)|(null==n?3:Math.min(2,n))|(null!=i?i:33554431)<<5)}static range(e,t,n){let i=(null!=n?n:33554431)<<5;return t<e?new SelectionRange(t,e,24|i):new SelectionRange(e,t,i|(t>e?4:0))}}function normalized(e,t=0){let n=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(n);for(let n=1;n<e.length;n++){let i=e[n],r=e[n-1];if(i.empty?i.from<=r.to:i.from<r.to){let s=r.from,a=Math.max(i.to,r.to);n<=t&&t--,e.splice(--n,2,i.anchor>i.head?EditorSelection.range(a,s):EditorSelection.range(s,a))}}return new EditorSelection(e,t)}function checkSelection(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(e,t,n,i,r){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=i,this.extensions=r,this.id=nextID++,this.default=e([])}static define(e={}){return new Facet(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:sameArray$1),!!e.static,e.enables)}of(e){return new FacetProvider([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(n=>t(n.field(e))))}}function sameArray$1(e,t){return e==t||e.length==t.length&&e.every(((e,n)=>e===t[n]))}class FacetProvider{constructor(e,t,n,i){this.dependencies=e,this.facet=t,this.type=n,this.value=i,this.id=nextID++}dynamicSlot(e){var t;let n=this.value,i=this.facet.compareInput,r=this.id,s=e[r]>>1,a=2==this.type,o=!1,l=!1,c=[];for(let n of this.dependencies)"doc"==n?o=!0:"selection"==n?l=!0:0==(1&(null!==(t=e[n.id])&&void 0!==t?t:1))&&c.push(e[n.id]);return{create:e=>(e.values[s]=n(e),1),update(e,t){if(o&&t.docChanged||l&&(t.docChanged||t.selection)||c.some((t=>(1&ensureAddr(e,t))>0))){let t=n(e);if(a?!compareArray(t,e.values[s],i):!i(t,e.values[s]))return e.values[s]=t,1}return 0},reconfigure(e,t){let o=n(e),l=t.config.address[r];if(null!=l){let n=getAddr(t,l);if(a?compareArray(o,n,i):i(o,n))return e.values[s]=n,0}return e.values[s]=o,1}}}}function compareArray(e,t,n){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function dynamicFacetSlot(e,t,n){let i=n.map((t=>e[t.id])),r=n.map((e=>e.type)),s=i.filter((e=>!(1&e))),a=e[t.id]>>1;function o(e){let n=[];for(let t=0;t<i.length;t++){let s=getAddr(e,i[t]);if(2==r[t])for(let e of s)n.push(e);else n.push(s)}return t.combine(n)}return{create(e){for(let t of i)ensureAddr(e,t);return e.values[a]=o(e),1},update(e,n){if(!s.some((t=>1&ensureAddr(e,t))))return 0;let i=o(e);return t.compare(i,e.values[a])?0:(e.values[a]=i,1)},reconfigure(e,r){let s=i.some((t=>1&ensureAddr(e,t))),l=r.config.facets[t.id],c=r.facet(t);if(l&&!s&&sameArray$1(n,l))return e.values[a]=c,0;let h=o(e);return t.compare(h,c)?(e.values[a]=c,0):(e.values[a]=h,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(e,t,n,i,r){this.id=e,this.createF=t,this.updateF=n,this.compareF=i,this.spec=r,this.provides=void 0}static define(e){let t=new StateField(nextID++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(initField).find((e=>e.field==this));return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,n)=>{let i=e.values[t],r=this.updateF(i,n);return this.compareF(i,r)?0:(e.values[t]=r,1)},reconfigure:(e,n)=>null!=n.config.address[this.id]?(e.values[t]=n.field(this),0):(e.values[t]=this.create(e),1)}}init(e){return[this,initField.of({field:this,create:e})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(e){return t=>new PrecExtension(t,e)}const Prec={lowest:prec(Prec_.lowest),low:prec(Prec_.low),default:prec(Prec_.default),high:prec(Prec_.high),highest:prec(Prec_.highest),fallback:prec(Prec_.lowest),extend:prec(Prec_.high),override:prec(Prec_.highest)};class PrecExtension{constructor(e,t){this.inner=e,this.prec=t}}class Compartment{of(e){return new CompartmentInstance(this,e)}reconfigure(e){return Compartment.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class CompartmentInstance{constructor(e,t){this.compartment=e,this.inner=t}}class Configuration{constructor(e,t,n,i,r,s){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=i,this.staticValues=r,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let i=[],r=Object.create(null),s=new Map;for(let n of flatten(e,t,s))n instanceof StateField?i.push(n):(r[n.facet.id]||(r[n.facet.id]=[])).push(n);let a=Object.create(null),o=[],l=[];for(let e of i)a[e.id]=l.length<<1,l.push((t=>e.slot(t)));let c=null==n?void 0:n.config.facets;for(let e in r){let t=r[e],i=t[0].facet,s=c&&c[e]||[];if(t.every((e=>0==e.type)))if(a[i.id]=o.length<<1|1,sameArray$1(s,t))o.push(n.facet(i));else{let e=i.combine(t.map((e=>e.value)));o.push(n&&i.compare(e,n.facet(i))?n.facet(i):e)}else{for(let e of t)0==e.type?(a[e.id]=o.length<<1|1,o.push(e.value)):(a[e.id]=l.length<<1,l.push((t=>e.dynamicSlot(t))));a[i.id]=l.length<<1,l.push((e=>dynamicFacetSlot(e,i,t)))}}let h=l.map((e=>e(a)));return new Configuration(e,s,h,a,o,r)}}function flatten(e,t,n){let i=[[],[],[],[],[]],r=new Map;return function e(s,a){let o=r.get(s);if(null!=o){if(o>=a)return;let e=i[o].indexOf(s);e>-1&&i[o].splice(e,1),s instanceof CompartmentInstance&&n.delete(s.compartment)}if(r.set(s,a),Array.isArray(s))for(let t of s)e(t,a);else if(s instanceof CompartmentInstance){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let i=t.get(s.compartment)||s.inner;n.set(s.compartment,i),e(i,a)}else if(s instanceof PrecExtension)e(s.inner,s.prec);else if(s instanceof StateField)i[a].push(s),s.provides&&e(s.provides,a);else if(s instanceof FacetProvider)i[a].push(s),s.facet.extensions&&e(s.facet.extensions,a);else{let t=s.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);e(t,a)}}(e,Prec_.default),i.reduce(((e,t)=>e.concat(t)))}function ensureAddr(e,t){if(1&t)return 2;let n=t>>1,i=e.status[n];if(4==i)throw new Error("Cyclic dependency between fields and/or facets");if(2&i)return i;e.status[n]=4;let r=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|r}function getAddr(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:e=>e.some((e=>e)),static:!0}),lineSeparator=Facet.define({combine:e=>e.length?e[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:e=>!!e.length&&e[0]});class Annotation{constructor(e,t){this.type=e,this.value=t}static define(){return new AnnotationType}}class AnnotationType{of(e){return new Annotation(this,e)}}class StateEffectType{constructor(e){this.map=e}of(e){return new StateEffect(this,e)}}class StateEffect{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new StateEffect(this.type,t)}is(e){return this.type==e}static define(e={}){return new StateEffectType(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let i of e){let e=i.map(t);e&&n.push(e)}return n}}StateEffect.reconfigure=StateEffect.define(),StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(e,t,n,i,r,s){this.startState=e,this.changes=t,this.selection=n,this.effects=i,this.annotations=r,this.scrollIntoView=s,this._doc=null,this._state=null,n&&checkSelection(n,t.newLength),r.some((e=>e.type==Transaction.time))||(this.annotations=r.concat(Transaction.time.of(Date.now())))}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Transaction.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function joinRanges(e,t){let n=[];for(let i=0,r=0;;){let s,a;if(i<e.length&&(r==t.length||t[r]>=e[i]))s=e[i++],a=e[i++];else{if(!(r<t.length))return n;s=t[r++],a=t[r++]}!n.length||n[n.length-1]<s?n.push(s,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function mergeTransaction(e,t,n){var i;let r,s,a;return n?(r=t.changes,s=ChangeSet.empty(t.changes.length),a=e.changes.compose(t.changes)):(r=t.changes.map(e.changes),s=e.changes.mapDesc(t.changes,!0),a=e.changes.compose(r)),{changes:a,selection:t.selection?t.selection.map(s):null===(i=e.selection)||void 0===i?void 0:i.map(r),effects:StateEffect.mapEffects(e.effects,r).concat(StateEffect.mapEffects(t.effects,s)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function resolveTransactionInner(e,t,n){let i=t.selection,r=asArray$1(t.annotations);return t.userEvent&&(r=r.concat(Transaction.userEvent.of(t.userEvent))),{changes:t.changes instanceof ChangeSet?t.changes:ChangeSet.of(t.changes||[],n,e.facet(lineSeparator)),selection:i&&(i instanceof EditorSelection?i:EditorSelection.single(i.anchor,i.head)),effects:asArray$1(t.effects),annotations:r,scrollIntoView:!!t.scrollIntoView}}function resolveTransaction(e,t,n){let i=resolveTransactionInner(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(let r=1;r<t.length;r++){!1===t[r].filter&&(n=!1);let s=!!t[r].sequential;i=mergeTransaction(i,resolveTransactionInner(e,t[r],s?i.changes.newLength:e.doc.length),s)}let r=new Transaction(e,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return extendTransaction(n?filterTransaction(r):r)}function filterTransaction(e){let t=e.startState,n=!0;for(let i of t.facet(changeFilter)){let t=i(e);if(!1===t){n=!1;break}Array.isArray(t)&&(n=!0===n?t:joinRanges(n,t))}if(!0!==n){let i,r;if(!1===n)r=e.changes.invertedDesc,i=ChangeSet.empty(t.doc.length);else{let t=e.changes.filter(n);i=t.changes,r=t.filtered.invertedDesc}e=new Transaction(t,i,e.selection&&e.selection.map(r),StateEffect.mapEffects(e.effects,r),e.annotations,e.scrollIntoView)}let i=t.facet(transactionFilter);for(let n=i.length-1;n>=0;n--){let r=i[n](e);e=r instanceof Transaction?r:Array.isArray(r)&&1==r.length&&r[0]instanceof Transaction?r[0]:resolveTransaction(t,asArray$1(r),!1)}return e}function extendTransaction(e){let t=e.startState,n=t.facet(transactionExtender),i=e;for(let r=n.length-1;r>=0;r--){let s=n[r](e);s&&Object.keys(s).length&&(i=mergeTransaction(e,resolveTransactionInner(t,s,e.changes.newLength),!0))}return i==e?e:new Transaction(t,e.changes,e.selection,i.effects,i.annotations,i.scrollIntoView)}Transaction.time=Annotation.define(),Transaction.userEvent=Annotation.define(),Transaction.addToHistory=Annotation.define(),Transaction.remote=Annotation.define();const none$3=[];function asArray$1(e){return null==e?none$3:Array.isArray(e)?e:[e]}var CharCategory=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(_){}function hasWordChar(e){if(wordChar)return wordChar.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||nonASCIISingleCaseWordChar.test(n)))return!0}return!1}function makeCategorizer(e){return t=>{if(!/\S/.test(t))return CharCategory.Space;if(hasWordChar(t))return CharCategory.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(e,t,n,i,r,s){this.config=e,this.doc=t,this.selection=n,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=r,s&&(s._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)ensureAddr(this,e<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(null!=n)return ensureAddr(this,n),getAddr(this,n);if(t)throw new RangeError("Field is not present in this state")}update(...e){return resolveTransaction(this,e,!0)}applyTransaction(e){let t,n=this.config,{base:i,compartments:r}=n;for(let t of e.effects)t.is(Compartment.reconfigure)?(n&&(r=new Map,n.compartments.forEach(((e,t)=>r.set(t,e))),n=null),r.set(t.value.compartment,t.value.extension)):t.is(StateEffect.reconfigure)?(n=null,i=t.value):t.is(StateEffect.appendConfig)&&(n=null,i=asArray$1(i).concat(t.value));if(n)t=e.startState.values.slice();else{n=Configuration.resolve(i,r,this),t=new EditorState(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null).values}new EditorState(n,e.newDoc,e.newSelection,t,((t,n)=>n.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:EditorSelection.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),i=this.changes(n.changes),r=[n.range],s=asArray$1(n.effects);for(let n=1;n<t.ranges.length;n++){let a=e(t.ranges[n]),o=this.changes(a.changes),l=o.map(i);for(let e=0;e<n;e++)r[e]=r[e].map(l);let c=i.mapDesc(o,!0);r.push(a.range.map(c)),i=i.compose(l),s=StateEffect.mapEffects(s,l).concat(StateEffect.mapEffects(asArray$1(a.effects),c))}return{changes:i,selection:EditorSelection.create(r,t.mainIndex),effects:s}}changes(e=[]){return e instanceof ChangeSet?e:ChangeSet.of(e,this.doc.length,this.facet(EditorState.lineSeparator))}toText(e){return Text.of(e.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(ensureAddr(this,t),getAddr(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let i=e[n];i instanceof StateField&&(t[n]=i.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n)for(let t in n){let r=n[t],s=e[t];i.push(r.init((e=>r.spec.fromJSON(s,e))))}return EditorState.create({doc:e.doc,selection:EditorSelection.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=Configuration.resolve(e.extensions||[],new Map),n=e.doc instanceof Text?e.doc:Text.of((e.doc||"").split(t.staticFacet(EditorState.lineSeparator)||DefaultSplit)),i=e.selection?e.selection instanceof EditorSelection?e.selection:EditorSelection.single(e.selection.anchor,e.selection.head):EditorSelection.single(0);return checkSelection(i,n.length),t.staticFacet(allowMultipleSelections)||(i=i.asSingle()),new EditorState(t,n,i,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||"\n"}get readOnly(){return this.facet(readOnly)}phrase(e){for(let t of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(t,e))return t[e];return e}languageDataAt(e,t,n=-1){let i=[];for(let r of this.facet(languageData))for(let s of r(this,t,n))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return makeCategorizer(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:i}=this.doc.lineAt(e),r=this.charCategorizer(e),s=e-n,a=e-n;for(;s>0;){let e=findClusterBreak(t,s,!1);if(r(t.slice(e,s))!=CharCategory.Word)break;s=e}for(;a<i;){let e=findClusterBreak(t,a);if(r(t.slice(a,e))!=CharCategory.Word)break;a=e}return s==a?null:EditorSelection.range(s+n,a+n)}}function combineConfig(e,t,n={}){let i={};for(let t of e)for(let e of Object.keys(t)){let r=t[e],s=i[e];if(void 0===s)i[e]=r;else if(s===r||void 0===r);else{if(!Object.hasOwnProperty.call(n,e))throw new Error("Config merge conflict for field "+e);i[e]=n[e](s,r)}}for(let e in t)void 0===i[e]&&(i[e]=t[e]);return i}EditorState.allowMultipleSelections=allowMultipleSelections,EditorState.tabSize=Facet.define({combine:e=>e.length?e[0]:4}),EditorState.lineSeparator=lineSeparator,EditorState.readOnly=readOnly,EditorState.phrases=Facet.define(),EditorState.languageData=languageData,EditorState.changeFilter=changeFilter,EditorState.transactionFilter=transactionFilter,EditorState.transactionExtender=transactionExtender,Compartment.reconfigure=StateEffect.define();const C="",COUNT="undefined"==typeof Symbol?"__"+C:Symbol.for(C),SET="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),top="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class StyleModule{constructor(e,t){this.rules=[];let{finish:n}=t||{};function i(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function r(e,t,s,a){let o=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return s.push(e[0]+";");for(let n in t){let a=t[n];if(/&/.test(n))r(n.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),a,s);else if(a&&"object"==typeof a){if(!l)throw new RangeError("The value of a property ("+n+") should be a primitive value.");r(i(n),a,o,c)}else null!=a&&o.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+a+";")}(o.length||c)&&s.push((!n||l||a?e:e.map(n)).join(", ")+" {"+o.join(" ")+"}")}for(let t in e)r(i(t),e[t],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=top[COUNT]||1;return top[COUNT]=e+1,C+e.toString(36)}static mount(e,t){(e[SET]||new StyleSet(e)).mount(Array.isArray(t)?t:[t])}}let adoptedSet=null;class StyleSet{constructor(e){if(!e.head&&e.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(adoptedSet)return e.adoptedStyleSheets=[adoptedSet.sheet].concat(e.adoptedStyleSheets),e[SET]=adoptedSet;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),adoptedSet=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[SET]=this}mount(e){let t=this.sheet,n=0,i=0;for(let r=0;r<e.length;r++){let s=e[r],a=this.modules.indexOf(s);if(a<i&&a>-1&&(this.modules.splice(a,1),i--,a=-1),-1==a){if(this.modules.splice(i++,0,s),t)for(let e=0;e<s.rules.length;e++)t.insertRule(s.rules[e],n++)}else{for(;i<a;)n+=this.modules[i++].rules.length;n+=s.rules.length,i++}}if(!t){let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e}}}class RangeValue{eq(e){return this==e}range(e,t=e){return new Range$1(e,t,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0,RangeValue.prototype.point=!1,RangeValue.prototype.mapMode=MapMode.TrackDel;class Range$1{constructor(e,t,n){this.from=e,this.to=t,this.value=n}}function cmpRange(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class Chunk{constructor(e,t,n,i){this.from=e,this.to=t,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,i=0){let r=n?this.to:this.from;for(let s=i,a=r.length;;){if(s==a)return s;let i=s+a>>1,o=r[i]-e||(n?this.value[i].endSide:this.value[i].startSide)-t;if(i==s)return o>=0?s:a;o>=0?a=i:s=i+1}}between(e,t,n,i){for(let r=this.findIndex(t,-1e9,!0),s=this.findIndex(n,1e9,!1,r);r<s;r++)if(!1===i(this.from[r]+e,this.to[r]+e,this.value[r]))return!1}map(e,t){let n=[],i=[],r=[],s=-1,a=-1;for(let o=0;o<this.value.length;o++){let l,c,h=this.value[o],d=this.from[o]+e,p=this.to[o]+e;if(d==p){let e=t.mapPos(d,h.startSide,h.mapMode);if(null==e)continue;if(l=c=e,h.startSide!=h.endSide&&(c=t.mapPos(d,h.endSide),c<l))continue}else if(l=t.mapPos(d,h.startSide),c=t.mapPos(p,h.endSide),l>c||l==c&&h.startSide>0&&h.endSide<=0)continue;(c-l||h.endSide-h.startSide)<0||(s<0&&(s=l),h.point&&(a=Math.max(a,c-l)),n.push(h),i.push(l-s),r.push(c-s))}return{mapped:n.length?new Chunk(i,r,n,a):null,pos:s}}}class RangeSet{constructor(e,t,n=RangeSet.empty,i){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=i}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:i=0,filterTo:r=this.length}=e,s=e.filter;if(0==t.length&&!s)return this;if(n&&(t=t.slice().sort(cmpRange)),this.isEmpty)return t.length?RangeSet.of(t):this;let a=new LayerCursor(this,null,-1).goto(0),o=0,l=[],c=new RangeSetBuilder;for(;a.value||o<t.length;)if(o<t.length&&(a.from-t[o].from||a.startSide-t[o].value.startSide)>=0){let e=t[o++];c.addInner(e.from,e.to,e.value)||l.push(e)}else 1==a.rangeIndex&&a.chunkIndex<this.chunk.length&&(o==t.length||this.chunkEnd(a.chunkIndex)<t[o].from)&&(!s||i>this.chunkEnd(a.chunkIndex)||r<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!s||i>a.to||r<a.from||s(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||l.push(new Range$1(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?RangeSet.empty:this.nextLayer.update({add:l,filter:s,filterFrom:i,filterTo:r}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],i=-1;for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],a=this.chunk[r],o=e.touchesRange(s,s+a.length);if(!1===o)i=Math.max(i,a.maxPoint),t.push(a),n.push(e.mapPos(s));else if(!0===o){let{mapped:r,pos:o}=a.map(s,e);r&&(i=Math.max(i,r.maxPoint),t.push(r),n.push(o))}}let r=this.nextLayer.map(e);return 0==t.length?r:new RangeSet(n,t,r,i)}between(e,t,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let r=this.chunkPos[i],s=this.chunk[i];if(t>=r&&e<=r+s.length&&!1===s.between(r,e-r,t-r,n))return}this.nextLayer.between(e,t,n)}}iter(e=0){return HeapCursor.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return HeapCursor.from(e).goto(t)}static compare(e,t,n,i,r=-1){let s=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=r)),a=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=r)),o=findSharedChunks(s,a,n),l=new SpanCursor(s,o,r),c=new SpanCursor(a,o,r);n.iterGaps(((e,t,n)=>compare(l,e,c,t,n,i))),n.empty&&0==n.length&&compare(l,0,c,0,0,i)}static eq(e,t,n=0,i){null==i&&(i=1e9);let r=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),s=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(r.length!=s.length)return!1;if(!r.length)return!0;let a=findSharedChunks(r,s),o=new SpanCursor(r,a,0).goto(n),l=new SpanCursor(s,a,0).goto(n);for(;;){if(o.to!=l.to||!sameValues(o.active,l.active)||o.point&&(!l.point||!o.point.eq(l.point)))return!1;if(o.to>i)return!0;o.next(),l.next()}}static spans(e,t,n,i,r=-1){var s;let a=new SpanCursor(e,null,r,null===(s=i.filterPoint)||void 0===s?void 0:s.bind(i)).goto(t),o=t,l=a.openStart;for(;;){let e=Math.min(a.to,n);if(a.point?(i.point(o,e,a.point,a.activeForPoint(a.to),l),l=a.openEnd(e)+(a.to>e?1:0)):e>o&&(i.span(o,e,a.active,l),l=a.openEnd(e)),a.to>n)break;o=a.to,a.next()}return l}static of(e,t=!1){let n=new RangeSetBuilder;for(let i of e instanceof Range$1?[e]:t?lazySort(e):e)n.add(i.from,i.to,i.value);return n.finish()}}function lazySort(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let i=e[n];if(cmpRange(t,i)>0)return e.slice().sort(cmpRange);t=i}return e}RangeSet.empty=new RangeSet([],[],null,-1),RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(e,t,n)}addInner(e,t,n){let i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=new RangeSet(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function findSharedChunks(e,t,n){let i=new Map;for(let t of e)for(let e=0;e<t.chunk.length;e++)t.chunk[e].maxPoint<=0&&i.set(t.chunk[e],t.chunkPos[e]);let r=new Set;for(let e of t)for(let t=0;t<e.chunk.length;t++){let s=i.get(e.chunk[t]);null==s||(n?n.mapPos(s):s)!=e.chunkPos[t]||(null==n?void 0:n.touchesRange(s,s+e.chunk[t].length))||r.add(e.chunk[t])}return r}class LayerCursor{constructor(e,t,n,i=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.to-e.to||this.endSide-e.endSide}}class HeapCursor{constructor(e){this.heap=e}static from(e,t=null,n=-1){let i=[];for(let r=0;r<e.length;r++)for(let s=e[r];!s.isEmpty;s=s.nextLayer)s.maxPoint>=n&&i.push(new LayerCursor(s,t,n,r));return 1==i.length?i[0]:new HeapCursor(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let e=this.heap.length>>1;e>=0;e--)heapBubble(this.heap,e);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let e=this.heap.length>>1;e>=0;e--)heapBubble(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),heapBubble(this.heap,0)}}}function heapBubble(e,t){for(let n=e[t];;){let i=1+(t<<1);if(i>=e.length)break;let r=e[i];if(i+1<e.length&&r.compare(e[i+1])>=0&&(r=e[i+1],i++),n.compare(r)<0)break;e[i]=n,e[t]=r,t=i}}class SpanCursor{constructor(e,t,n,i=(()=>!0)){this.minPoint=n,this.filterPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){remove(this.active,e),remove(this.activeTo,e),remove(this.activeRank,e),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:i,rank:r}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=r;)t++;insert(this.active,t,n),insert(this.activeTo,t,i),insert(this.activeRank,t,r),e&&insert(e,t,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null,i=0;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&remove(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let r=this.cursor.value;if(r.point)if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{if(this.filterPoint(this.cursor.from,this.cursor.to,this.cursor.value,this.cursor.rank)){this.point=r,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=r.endSide,this.cursor.from<e&&(i=1),this.cursor.next(),this.to>e&&this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){let t=0;for(;t<n.length&&n[t]<e;)t++;this.openStart=t+i}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function compare(e,t,n,i,r,s){e.goto(t),n.goto(i);let a=i+r,o=i,l=i-t;for(;;){let t=e.to+l-n.to||e.endSide-n.endSide,i=t<0?e.to+l:n.to,r=Math.min(i,a);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&sameValues(e.activeForPoint(e.to+l),n.activeForPoint(n.to))||s.comparePoint(o,r,e.point,n.point):r>o&&!sameValues(e.active,n.active)&&s.compareRange(o,r,e.active,n.active),i>a)break;o=i,t<=0&&e.next(),t>=0&&n.next()}}function sameValues(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function remove(e,t){for(let n=t,i=e.length-1;n<i;n++)e[n]=e[n+1];e.pop()}function insert(e,t,n){for(let n=e.length-1;n>=t;n--)e[n+1]=e[n];e[t]=n}function findMinIndex(e,t){let n=-1,i=1e9;for(let r=0;r<t.length;r++)(t[r]-i||e[r].endSide-e[n].endSide)<0&&(n=r,i=t[r]);return n}for(var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},chrome$1="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),safari$1="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),gecko$1="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),mac="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),ie$1="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),brokenModifierNames=chrome$1&&(mac||+chrome$1[1]<57)||gecko$1&&mac,i$3=0;i$3<10;i$3++)base[48+i$3]=base[96+i$3]=String(i$3);for(var i$3=1;i$3<=24;i$3++)base[i$3+111]="F"+i$3;for(var i$3=65;i$3<=90;i$3++)base[i$3]=String.fromCharCode(i$3+32),shift[i$3]=String.fromCharCode(i$3);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(e){var t=!(brokenModifierNames&&(e.ctrlKey||e.altKey||e.metaKey)||(safari$1||ie$1)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?shift:base)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}function getSelection(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function contains$1(e,t){return!!t&&e.contains(1!=t.nodeType?t.parentNode:t)}function deepActiveElement(){let e=document.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function hasSelection(e,t){if(!t.anchorNode)return!1;try{return contains$1(e,t.anchorNode)}catch(e){return!1}}function clientRectsFor(e){return 3==e.nodeType?textRange(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function isEquivalentPosition(e,t,n,i){return!!n&&(scanFor(e,t,n,i,-1)||scanFor(e,t,n,i,1))}function domIndex(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function scanFor(e,t,n,i,r){for(;;){if(e==n&&t==i)return!0;if(t==(r<0?0:maxOffset(e))){if("DIV"==e.nodeName)return!1;let n=e.parentNode;if(!n||1!=n.nodeType)return!1;t=domIndex(e)+(r<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(r<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=r<0?maxOffset(e):0}}}function maxOffset(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}const Rect0={left:0,right:0,top:0,bottom:0};function flattenRect(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function windowRect(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function scrollRectIntoView(e,t,n,i,r,s,a,o){let l=e.ownerDocument,c=l.defaultView;for(let h=e;h;)if(1==h.nodeType){let e,d=h==l.body;if(d)e=windowRect(c);else{if(h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.parentNode;continue}let t=h.getBoundingClientRect();e={left:t.left,right:t.left+h.clientWidth,top:t.top,bottom:t.top+h.clientHeight}}let p=0,u=0;if("nearest"==r)t.top<e.top?(u=-(e.top-t.top+a),n>0&&t.bottom>e.bottom+u&&(u=t.bottom-e.bottom+u+a)):t.bottom>e.bottom&&(u=t.bottom-e.bottom+a,n<0&&t.top-u<e.top&&(u=-(e.top+u-t.top+a)));else{let i=t.bottom-t.top,s=e.bottom-e.top;u=("center"==r&&i<=s?t.top+i/2-s/2:"start"==r||"center"==r&&n<0?t.top-a:t.bottom-s+a)-e.top}if("nearest"==i)t.left<e.left?(p=-(e.left-t.left+s),n>0&&t.right>e.right+p&&(p=t.right-e.right+p+s)):t.right>e.right&&(p=t.right-e.right+s,n<0&&t.left<e.left+p&&(p=-(e.left+p-t.left+s)));else{p=("center"==i?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==i==o?t.left-s:t.right-(e.right-e.left)+s)-e.left}if(p||u)if(d)c.scrollBy(p,u);else{if(u){let e=h.scrollTop;h.scrollTop+=u,u=h.scrollTop-e}if(p){let e=h.scrollLeft;h.scrollLeft+=p,p=h.scrollLeft-e}t={left:t.left-p,top:t.top-u,right:t.right-p,bottom:t.bottom-u}}if(d)break;h=h.assignedSlot||h.parentNode,i=r="nearest"}else{if(11!=h.nodeType)break;h=h.host}}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,n,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=i}}let preventScrollSupported=null,scratchRange;function focusPreventScroll(e){if(e.setActive)return e.setActive();if(preventScrollSupported)return e.focus(preventScrollSupported);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==preventScrollSupported?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let e=0;e<t.length;){let n=t[e++],i=t[e++],r=t[e++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=r&&(n.scrollLeft=r)}}}function textRange(e,t,n=t){let i=scratchRange||(scratchRange=document.createRange());return i.setEnd(e,n),i.setStart(e,t),i}function dispatchKey(e,t,n){let i={key:t,code:t,keyCode:n,which:n,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,e.dispatchEvent(r);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,e.dispatchEvent(s),r.defaultPrevented||s.defaultPrevented}function getRoot(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}function clearAttributes(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}class DOMPos{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new DOMPos(e.parentNode,domIndex(e),t)}static after(e,t){return new DOMPos(e.parentNode,domIndex(e)+1,t)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(2&this.dirty){let t=this.dom,n=t.firstChild;for(let i of this.children){if(i.dirty){if(!i.dom&&n){let e=ContentView.get(n);e&&(e.parent||e.constructor!=i.constructor)||i.reuseDOM(n)}i.sync(e),i.dirty=0}if(e&&!e.written&&e.node==t&&n!=i.dom&&(e.written=!0),i.dom.parentNode==t){for(;n&&n!=i.dom;)n=rm$1(n);n=i.dom.nextSibling}else t.insertBefore(i.dom,n)}for(n&&e&&e.node==t&&(e.written=!0);n;)n=rm$1(n)}else if(1&this.dirty)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let i=0==maxOffset(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==i&&t.firstChild!=t.lastChild&&(i=e==t.firstChild?-1:1),e=t}n=i<0?e:e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!ContentView.get(n);)n=n.nextSibling;if(!n)return this.length;for(let e=0,t=0;;e++){let i=this.children[e];if(i.dom==n)return t;t+=i.length+i.breakAfter}}domBoundsAround(e,t,n=0){let i=-1,r=-1,s=-1,a=-1;for(let o=0,l=n,c=n;o<this.children.length;o++){let n=this.children[o],h=l+n.length;if(l<e&&h>t)return n.domBoundsAround(e,t,l);if(h>=e&&-1==i&&(i=o,r=l),l>t&&n.dom.parentNode==this.dom){s=o,a=c;break}c=h,l=h+n.breakAfter}return{from:r,to:a<0?n+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=noChildren){this.markDirty();for(let n=e;n<t;n++){let e=this.children[n];e.parent==this&&e.destroy()}this.children.splice(e,t-e,...n);for(let e=0;e<n.length;e++)n[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ChildCursor(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,n,i,r,s){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}}function rm$1(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}ContentView.prototype.breakAfter=0;class ChildCursor{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function replaceRange(e,t,n,i,r,s,a,o,l){let{children:c}=e,h=c.length?c[t]:null,d=s.length?s[s.length-1]:null,p=d?d.breakAfter:a;if(!(t==i&&h&&!a&&!p&&s.length<2&&h.merge(n,r,s.length?d:null,0==n,o,l))){if(i<c.length){let e=c[i];e&&r<e.length?(t==i&&(e=e.split(r),r=0),!p&&d&&e.merge(0,r,d,!0,0,l)?s[s.length-1]=e:(r&&e.merge(0,r,null,!1,0,l),s.push(e))):(null==e?void 0:e.breakAfter)&&(d?d.breakAfter=1:a=1),i++}for(h&&(h.breakAfter=a,n>0&&(!a&&s.length&&h.merge(n,h.length,s[0],!1,o,0)?h.breakAfter=s.shift().breakAfter:(n<h.length||h.children.length&&0==h.children[h.children.length-1].length)&&h.merge(n,h.length,null,!1,o,0),t++));t<i&&s.length;)if(c[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:o;else{if(!c[t].become(s[0]))break;t++,s.shift(),o=s.length?0:l}!s.length&&t&&i<c.length&&!c[t-1].breakAfter&&c[i].merge(0,0,c[t-1],!1,o,l)&&t--,(t<i||s.length)&&e.replaceChildren(t,i,s)}}function mergeChildrenInto(e,t,n,i,r,s){let a=e.childCursor(),{i:o,off:l}=a.findPos(n,1),{i:c,off:h}=a.findPos(t,-1),d=t-n;for(let e of i)d+=e.length;e.length+=d,replaceRange(e,c,h,o,l,i,0,r,s)}let nav="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},doc="undefined"!=typeof document?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios$1=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser$1={mac:ios$1||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios:ios$1,android:/Android\b/.test(nav.userAgent),webkit,safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=doc.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,n){return(!n||n instanceof TextView&&!(this.length-(t-e)+n.length>MaxJoinLen))&&(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new TextView(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new DOMPos(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return textCoords(this.dom,e,t)}}class MarkView extends ContentView{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let e of t)e.setParent(this)}setAttrs(e){if(clearAttributes(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,n,i,r,s){return(!n||!(!(n instanceof MarkView&&n.mark.eq(this.mark))||e&&r<=0||t<this.length&&s<=0))&&(mergeChildrenInto(this,e,t,n?n.children:[],r-1,s-1),this.markDirty(),!0)}split(e){let t=[],n=0,i=-1,r=0;for(let s of this.children){let a=n+s.length;a>e&&t.push(n<e?s.split(e-n):s),i<0&&n>=e&&(i=r),n=a,r++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new MarkView(this.mark,t,s)}domAtPos(e){return inlineDOMAtPos(this.dom,this.children,e)}coordsAt(e,t){return coordsInChildren(this,e,t)}}function textCoords(e,t,n){let i=e.nodeValue.length;t>i&&(t=i);let r=t,s=t,a=0;0==t&&n<0||t==i&&n>=0?browser$1.chrome||browser$1.gecko||(t?(r--,a=1):(s++,a=-1)):n<0?r--:s++;let o=textRange(e,r,s).getClientRects();if(!o.length)return Rect0;let l=o[(a?a<0:n>=0)?0:o.length-1];return browser$1.safari&&!a&&0==l.width&&(l=Array.prototype.find.call(o,(e=>e.width))||l),a?flattenRect(l,a<0):l||null}class WidgetView extends ContentView{constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}static create(e,t,n){return new(e.customView||WidgetView)(e,t,n)}split(e){let t=WidgetView.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,n,i,r,s){return!(n&&(!(n instanceof WidgetView&&this.widget.compare(n.widget))||e>0&&r<=0||t<this.length&&s<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof WidgetView&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return Text.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,n=t&&t.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):Text.empty}domAtPos(e){return 0==e?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.dom.getClientRects(),i=null;if(!n.length)return Rect0;for(let t=e>0?n.length-1:0;i=n[t],!(e>0?0==t:t==n.length-1||i.top<i.bottom);t+=e>0?-1:1);return 0==e&&t>0||e==this.length&&t<=0?i:flattenRect(i,0==e)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class CompositionView extends WidgetView{domAtPos(e){let{topView:t}=this.widget;return t?posInCompositionTree(e,t,this.widget.text):new DOMPos(this.widget.text,Math.min(e,this.widget.text.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){return t?3==e.nodeType?Math.min(t,this.length):this.length:0}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){return textCoords(this.widget.text,e,t)}destroy(){var e;super.destroy(),null===(e=this.widget.topView)||void 0===e||e.destroy()}get isEditable(){return!0}}function posInCompositionTree(e,t,n){if(t instanceof MarkView){for(let i of t.children){let t=i.dom==n||i.dom.contains(n.parentNode),r=t?n.nodeValue.length:i.length;if(e<r||e==r&&i.getSide()<=0)return t?posInCompositionTree(e,i,n):i.domAtPos(e);e-=r}return t.domAtPos(t.length)}return t.dom==n?new DOMPos(n,Math.min(e,n.nodeValue.length)):t.domAtPos(e)}class WidgetBufferView extends ContentView{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof WidgetBufferView&&e.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return DOMPos.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text.empty}}function inlineDOMAtPos(e,t,n){let i=0;for(let r=0;i<t.length;i++){let s=t[i],a=r+s.length;if(!(a==r&&s.getSide()<=0)){if(n>r&&n<a&&s.dom.parentNode==e)return s.domAtPos(n-r);if(n<=r)break;r=a}}for(;i>0;i--){let n=t[i-1].dom;if(n.parentNode==e)return DOMPos.after(n)}return new DOMPos(e,0)}function joinInlineInto(e,t,n){let i,{children:r}=e;n>0&&t instanceof MarkView&&r.length&&(i=r[r.length-1])instanceof MarkView&&i.mark.eq(t.mark)?joinInlineInto(i,t.children[0],n-1):(r.push(t),t.setParent(e)),e.length+=t.length}function coordsInChildren(e,t,n){for(let i=0,r=0;r<e.children.length;r++){let s,a=e.children[r],o=i+a.length;if((n<=0||o==e.length||a.getSide()>0?o>=t:o>t)&&(t<o||r+1==e.children.length||(s=e.children[r+1]).length||s.getSide()>0)){let e=0;if(o==i){if(a.getSide()<=0)continue;e=n=-a.getSide()}let r=a.coordsAt(Math.max(0,t-i),n);return e&&r?flattenRect(r,n<0):r}i=o}let i=e.dom.lastChild;if(!i)return e.dom.getBoundingClientRect();let r=clientRectsFor(i);return r[r.length-1]||null}function combineAttrs(e,t){for(let n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}function attrsEq(e,t){if(e==t)return!0;if(!e||!t)return!1;let n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r of n)if(-1==i.indexOf(r)||e[r]!==t[r])return!1;return!0}function updateAttrs(e,t,n){if(t)for(let i in t)n&&i in n||e.removeAttribute(i);if(n)for(let i in n)t&&t[i]==n[i]||e.setAttribute(i,n[i])}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;class WidgetType{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var BlockType=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(e,t,n,i){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(e){return new MarkDecoration(e)}static widget(e){let t=e.side||0,n=!!e.block;return t+=n?t>0?3e8:-4e8:t>0?1e8:-1e8,new PointDecoration(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,{start:n,end:i}=getInclusive(e,t);return new PointDecoration(e,(n?t?-3e8:-1:4e8)-1,1+(i?t?2e8:1:-5e8),t,e.widget||null,!0)}static line(e){return new LineDecoration(e)}static set(e,t=!1){return RangeSet.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(e){let{start:t,end:n}=getInclusive(e);super(t?-1:4e8,n?1:-5e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof MarkDecoration&&this.tagName==e.tagName&&this.class==e.class&&attrsEq(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof LineDecoration&&attrsEq(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore,LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(e,t,n,i,r,s){super(t,n,r,e),this.block=i,this.isReplace=s,this.mapMode=i?t<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide<this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof PointDecoration&&widgetsEq(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function getInclusive(e,t=!1){let{inclusiveStart:n,inclusiveEnd:i}=e;return null==n&&(n=e.inclusive),null==i&&(i=e.inclusive),{start:null!=n?n:t,end:null!=i?i:t}}function widgetsEq(e,t){return e==t||!!(e&&t&&e.compare(t))}function addRange(e,t,n,i=0){let r=n.length-1;r>=0&&n[r]+i>=e?n[r]=Math.max(n[r],t):n.push(e,t)}PointDecoration.prototype.point=!0;class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,i,r,s){if(n){if(!(n instanceof LineView))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),mergeChildrenInto(this,e,t,n?n.children:[],r,s),!0}split(e){let t=new LineView;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:n,off:i}=this.childPos(e);i&&(t.append(this.children[n].split(i),0),this.children[n].merge(i,this.children[n].length,null,!1,0,0),n++);for(let e=n;e<this.children.length;e++)t.append(this.children[e],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){attrsEq(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){joinInlineInto(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=combineAttrs(t,this.attrs||{})),n&&(this.attrs=combineAttrs({class:n},this.attrs||{}))}domAtPos(e){return inlineDOMAtPos(this.dom,this.children,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?4&this.dirty&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let n=this.dom.lastChild;for(;n&&ContentView.get(n)instanceof MarkView;)n=n.lastChild;if(!n||"BR"!=n.nodeName&&0==(null===(t=ContentView.get(n))||void 0===t?void 0:t.isEditable)&&(!browser$1.ios||!this.children.some((e=>e instanceof TextView)))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof TextView))return null;let n=clientRectsFor(t.dom);if(1!=n.length)return null;e+=n[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,t){return coordsInChildren(this,e,t)}become(e){return!1}get type(){return BlockType.Text}static find(e,t){for(let n=0,i=0;n<e.children.length;n++){let r=e.children[n],s=i+r.length;if(s>=t){if(r instanceof LineView)return r;if(s>t)break}i=s+r.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(e,t,n){super(),this.widget=e,this.length=t,this.type=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,i,r,s){return!(n&&(!(n instanceof BlockWidgetView&&this.widget.compare(n.widget))||e>0&&r<=0||t<this.length&&s<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return 0==e?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new BlockWidgetView(this.widget,t,this.type);return n.breakAfter=this.breakAfter,n}get children(){return noChildren}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(e){return e instanceof BlockWidgetView&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ContentBuilder{constructor(e,t,n,i){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsBelow=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof BlockWidgetView&&e.type==BlockType.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:n,done:i}=this.cursor.next(this.skip);if(this.skip=0,i)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}this.text=t,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,n)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+i)),t),n),this.atCursorPos=!0,this.textOff+=i,e-=i,n=0}}span(e,t,n,i){this.buildText(t-e,n,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,n,i,r){let s=t-e;if(n instanceof PointDecoration)if(n.block){let{type:e}=n;e!=BlockType.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new BlockWidgetView(n.widget||new NullWidget("div"),s,e))}else{let a=WidgetView.create(n.widget||new NullWidget("span"),s,n.startSide),o=this.atCursorPos&&!a.isEditable&&r<=i.length&&(e<t||n.startSide>0),l=!a.isEditable&&(e<t||n.startSide<=0),c=this.getLine();2!=this.pendingBuffer||o||(this.pendingBuffer=0),this.flushBuffer(i),o&&(c.append(wrapMarks(new WidgetBufferView(1),i),r),r=i.length+Math.max(0,r-i.length)),c.append(wrapMarks(a,i),r),this.atCursorPos=l,this.pendingBuffer=l?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=r)}filterPoint(e,t,n,i){if(i<this.disallowBlockEffectsBelow&&n instanceof PointDecoration){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}return!0}static build(e,t,n,i,r){let s=new ContentBuilder(e,t,n,r);return s.openEnd=RangeSet.spans(i,t,n,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function wrapMarks(e,t){for(let n of t)e=new MarkView(n,[e],e.length);return e}class NullWidget extends WidgetType{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const none$2=[],clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),scrollTo=StateEffect.define({map:(e,t)=>e.map(t)}),centerOn=StateEffect.define({map:(e,t)=>e.map(t)});class ScrollTarget{constructor(e,t="nearest",n="nearest",i=5,r=5){this.range=e,this.y=t,this.x=n,this.yMargin=i,this.xMargin=r}map(e){return e.empty?this:new ScrollTarget(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const scrollIntoView$1=StateEffect.define({map:(e,t)=>e.map(t)});function logException(e,t,n){let i=e.facet(exceptionSink);i.length?i[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}const editable=Facet.define({combine:e=>!e.length||e[0]});class PluginFieldProvider{constructor(e,t){this.field=e,this.get=t}}class PluginField{from(e){return new PluginFieldProvider(this,e)}static define(){return new PluginField}}PluginField.decorations=PluginField.define(),PluginField.atomicRanges=PluginField.define(),PluginField.scrollMargins=PluginField.define();let nextPluginID=0;const viewPlugin=Facet.define();class ViewPlugin{constructor(e,t,n){this.id=e,this.create=t,this.fields=n,this.extension=viewPlugin.of(this)}static define(e,t){let{eventHandlers:n,provide:i,decorations:r}=t||{},s=[];if(i)for(let e of Array.isArray(i)?i:[i])s.push(e);return n&&s.push(domEventHandlers.from((e=>({plugin:e,handlers:n})))),r&&s.push(PluginField.decorations.from(r)),new ViewPlugin(nextPluginID++,e,s)}static fromClass(e,t){return ViewPlugin.define((t=>new e(t)),t)}}const domEventHandlers=PluginField.define();class PluginInstance{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}takeField(e,t){if(this.spec)for(let{field:n,get:i}of this.spec.fields)n==e&&t.push(i(this.value))}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(logException(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){logException(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){logException(e.state,t,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),styleModule=Facet.define();class ChangedRange{constructor(e,t,n,i){this.fromA=e,this.toA=t,this.fromB=n,this.toB=i}join(e){return new ChangedRange(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(0==t.length)return e;let n=[];for(let i=0,r=0,s=0,a=0;;i++){let o=i==e.length?null:e[i],l=s-a,c=o?o.fromB:1e9;for(;r<t.length&&t[r]<c;){let e=t[r],i=t[r+1],s=Math.max(a,e),o=Math.min(c,i);if(s<=o&&new ChangedRange(s+l,o+l,s,o).addToSet(n),i>c)break;r+=2}if(!o)return n;new ChangedRange(o.fromA,o.toA,o.fromB,o.toB).addToSet(n),s=o.toA,a=o.toB}}}class ViewUpdate{constructor(e,t,n=none$2){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let e of n)this.changes=this.changes.compose(e.changes);let i=[];this.changes.iterChangedRanges(((e,t,n,r)=>i.push(new ChangedRange(e,t,n,r)))),this.changedRanges=i;let r=e.hasFocus;r!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=r,this.flags|=1)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}var Direction=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),n=e.charCodeAt(1);Brackets[t]=n,Brackets[n]=-t}function charType(e){return e<=247?LowTypes[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?ArabicTypes[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8203||8204==e?256:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class BidiSpan{constructor(e,t,n){this.from=e,this.to=t,this.level=n}get dir(){return this.level%2?RTL:LTR}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,n,i){let r=-1;for(let s=0;s<e.length;s++){let a=e[s];if(a.from<=t&&a.to>=t){if(a.level==n)return s;(r<0||(0!=i?i<0?a.from<t:a.to>t:e[r].level>a.level))&&(r=s)}}if(r<0)throw new RangeError("Index out of range");return r}}const types=[];function computeOrder(e,t){let n=e.length,i=t==LTR?1:2,r=t==LTR?2:1;if(!e||1==i&&!BidiRE.test(e))return trivialOrder(n);for(let t=0,r=i,s=i;t<n;t++){let n=charType(e.charCodeAt(t));512==n?n=r:8==n&&4==s&&(n=16),types[t]=4==n?2:n,7&n&&(s=n),r=n}for(let e=0,t=i,r=i;e<n;e++){let i=types[e];if(128==i)e<n-1&&t==types[e+1]&&24&t?i=types[e]=t:types[e]=256;else if(64==i){let i=e+1;for(;i<n&&64==types[i];)i++;let s=e&&8==t||i<n&&8==types[i]?1==r?1:8:256;for(let t=e;t<i;t++)types[t]=s;e=i-1}else 8==i&&1==r&&(types[e]=1);t=i,7&i&&(r=i)}for(let t,s,a,o=0,l=0,c=0;o<n;o++)if(s=Brackets[t=e.charCodeAt(o)])if(s<0){for(let e=l-3;e>=0;e-=3)if(BracketStack[e+1]==-s){let t=BracketStack[e+2],n=2&t?i:4&t?1&t?r:i:0;n&&(types[o]=types[BracketStack[e]]=n),l=e;break}}else{if(189==BracketStack.length)break;BracketStack[l++]=o,BracketStack[l++]=t,BracketStack[l++]=c}else if(2==(a=types[o])||1==a){let e=a==i;c=e?0:1;for(let t=l-3;t>=0;t-=3){let n=BracketStack[t+2];if(2&n)break;if(e)BracketStack[t+2]|=2;else{if(4&n)break;BracketStack[t+2]|=4}}}for(let e=0;e<n;e++)if(256==types[e]){let t=e+1;for(;t<n&&256==types[t];)t++;let r=1==(e?types[e-1]:i),s=r==(1==(t<n?types[t]:i))?r?1:2:i;for(let n=e;n<t;n++)types[n]=s;e=t-1}let s=[];if(1==i)for(let e=0;e<n;){let t=e,i=1!=types[e++];for(;e<n&&i==(1!=types[e]);)e++;if(i)for(let n=e;n>t;){let e=n,i=2!=types[--n];for(;n>t&&i==(2!=types[n-1]);)n--;s.push(new BidiSpan(n,e,i?2:1))}else s.push(new BidiSpan(t,e,0))}else for(let e=0;e<n;){let t=e,i=2==types[e++];for(;e<n&&i==(2==types[e]);)e++;s.push(new BidiSpan(t,e,i?1:2))}return s}function trivialOrder(e){return[new BidiSpan(0,e,0)]}let movedOver="";function moveVisually(e,t,n,i,r){var s;let a=i.head-e.from,o=-1;if(0==a){if(!r||!e.length)return null;t[0].level!=n&&(a=t[0].side(!1,n),o=0)}else if(a==e.length){if(r)return null;let e=t[t.length-1];e.level!=n&&(a=e.side(!0,n),o=t.length-1)}o<0&&(o=BidiSpan.find(t,a,null!==(s=i.bidiLevel)&&void 0!==s?s:-1,i.assoc));let l=t[o];a==l.side(r,n)&&(l=t[o+=r?1:-1],a=l.side(!r,n));let c=r==(l.dir==n),h=findClusterBreak(e.text,a,c);if(movedOver=e.text.slice(Math.min(a,h),Math.max(a,h)),h!=l.side(r,n))return EditorSelection.cursor(h+e.from,c?-1:1,l.level);let d=o==(r?t.length-1:0)?null:t[o+(r?1:-1)];return d||l.level==n?d&&d.level<l.level?EditorSelection.cursor(d.side(!r,n)+e.from,r?1:-1,d.level):EditorSelection.cursor(h+e.from,r?-1:1,l.level):EditorSelection.cursor(r?e.to:e.from,r?-1:1,n)}const LineBreakPlaceholder="";class DOMReader{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(EditorState.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=LineBreakPlaceholder}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let i=e;;){this.findPointBefore(n,i),this.readNode(i);let e=i.nextSibling;if(e==t)break;let r=ContentView.get(i),s=ContentView.get(e);(r&&s?r.breakAfter:(r?r.breakAfter:isBlockElement(i))||isBlockElement(e)&&("BR"!=i.nodeName||i.cmIgnore))&&this.lineBreak(),i=e}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let r,s=-1,a=1;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,n),a=this.lineSeparator.length):(r=i.exec(t))&&(s=r.index,a=r[0].length),this.append(t.slice(n,s<0?t.length:s)),s<0)break;if(this.lineBreak(),a>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=a-1);n=s+a}}readNode(e){if(e.cmIgnore)return;let t=ContentView.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(let e=n.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(3==e.nodeType?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+Math.min(t,n.offset))}}function isBlockElement(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class DOMPoint{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class DocView extends ContentView{constructor(e){super(),this.view=e,this.compositionDeco=Decoration.none,this.decorations=[],this.pluginDecorationLength=0,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,e.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Decoration.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=computeCompositionDeco(this.view,e.changes)),(browser$1.ie||browser$1.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let n=findChangedDeco(this.decorations,this.updateDeco(),e.changes);return t=ChangedRange.extendWithRanges(t,n),(0!=this.dirty||0!=t.length)&&(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:n}=this.view;n.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.minWidth=this.minWidth?this.minWidth+"px":"";let e=browser$1.chrome||browser$1.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(e),this.dirty=0,e&&(e.written||n.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""}));let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.children)e instanceof BlockWidgetView&&e.widget instanceof BlockGapWidget&&i.push(e.dom);n.updateGaps(i)}updateChildren(e,t){let n=this.childCursor(t);for(let t=e.length-1;;t--){let i=t>=0?e[t]:null;if(!i)break;let{fromA:r,toA:s,fromB:a,toB:o}=i,{content:l,breakAtStart:c,openStart:h,openEnd:d}=ContentBuilder.build(this.view.state.doc,a,o,this.decorations,this.pluginDecorationLength),{i:p,off:u}=n.findPos(s,1),{i:m,off:f}=n.findPos(r,-1);replaceRange(this,m,f,p,u,l,c,h,d)}}updateSelection(e=!1,t=!1){if(e&&this.view.observer.readSelectionRange(),!t&&!this.mayControlSelection()||browser$1.ios&&this.view.inputState.rapidCompositionStart)return;let n=this.forceSelection;this.forceSelection=!1;let i=this.view.state.selection.main,r=this.domAtPos(i.anchor),s=i.empty?r:this.domAtPos(i.head);if(browser$1.gecko&&i.empty&&betweenUneditable(r)){let e=document.createTextNode("");this.view.observer.ignore((()=>r.node.insertBefore(e,r.node.childNodes[r.offset]||null))),r=s=new DOMPos(e,0),n=!0}let a=this.view.observer.selectionRange;!n&&a.focusNode&&isEquivalentPosition(r.node,r.offset,a.anchorNode,a.anchorOffset)&&isEquivalentPosition(s.node,s.offset,a.focusNode,a.focusOffset)||(this.view.observer.ignore((()=>{browser$1.android&&browser$1.chrome&&this.dom.contains(a.focusNode)&&inUneditable(a.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=getSelection(this.root);if(i.empty){if(browser$1.gecko){let e=nextToUneditable(r.node,r.offset);if(e&&3!=e){let t=nearbyTextNode(r.node,r.offset,1==e?1:-1);t&&(r=new DOMPos(t,1==e?0:t.nodeValue.length))}}e.collapse(r.node,r.offset),null!=i.bidiLevel&&null!=a.cursorBidiLevel&&(a.cursorBidiLevel=i.bidiLevel)}else if(e.extend)e.collapse(r.node,r.offset),e.extend(s.node,s.offset);else{let t=document.createRange();i.anchor>i.head&&([r,s]=[s,r]),t.setEnd(s.node,s.offset),t.setStart(r.node,r.offset),e.removeAllRanges(),e.addRange(t)}})),this.view.observer.setSelectionRange(r,s)),this.impreciseAnchor=r.precise?null:new DOMPos(a.anchorNode,a.anchorOffset),this.impreciseHead=s.precise?null:new DOMPos(a.focusNode,a.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=getSelection(this.root);if(!e.empty||!e.assoc||!t.modify)return;let n=LineView.find(this,e.head);if(!n)return;let i=n.posAtStart;if(e.head==i||e.head==i+n.length)return;let r=this.coordsAt(e.head,-1),s=this.coordsAt(e.head,1);if(!r||!s||r.bottom>s.top)return;let a=this.domAtPos(e.head+e.assoc);t.collapse(a.node,a.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(editable)?this.root.activeElement==this.dom:hasSelection(this.dom,this.view.observer.selectionRange)}nearest(e){for(let t=e;t;){let e=ContentView.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(n<e.length||e instanceof LineView)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){for(let n=this.length,i=this.children.length-1;;i--){let r=this.children[i],s=n-r.breakAfter-r.length;if(e>s||e==s&&r.type!=BlockType.WidgetBefore&&r.type!=BlockType.WidgetAfter&&(!i||2==t||this.children[i-1].breakAfter||this.children[i-1].type==BlockType.WidgetBefore&&t>-2))return r.coordsAt(e-s,t);n=s}}measureVisibleLineHeights(){let e=[],{from:t,to:n}=this.view.viewState.viewport,i=this.view.contentDOM.clientWidth,r=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1;for(let a=0,o=0;o<this.children.length;o++){let l=this.children[o],c=a+l.length;if(c>n)break;if(a>=t){let t=l.dom.getBoundingClientRect();if(e.push(t.height),r){let e=l.dom.lastChild,n=e?clientRectsFor(e):[];if(n.length){let e=n[n.length-1],r=this.view.textDirection==Direction.LTR?e.right-t.left:t.right-e.left;r>s&&(s=r,this.minWidth=i,this.minWidthFrom=a,this.minWidthTo=c)}}}a=c+l.breakAfter}return e}measureTextSize(){for(let e of this.children)if(e instanceof LineView){let t=e.measureTextSize();if(t)return t}let e,t,n=document.createElement("div");return n.className="cm-line",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(n);let i=clientRectsFor(n.firstChild)[0];e=n.getBoundingClientRect().height,t=i?i.width/27:7,n.remove()})),{lineHeight:e,charWidth:t}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new ChildCursor(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,i=0;;i++){let r=i==t.viewports.length?null:t.viewports[i],s=r?r.from-1:this.length;if(s>n){let i=t.lineBlockAt(s).bottom-t.lineBlockAt(n).top;e.push(Decoration.replace({widget:new BlockGapWidget(i),block:!0,inclusive:!0}).range(n,s))}if(!r)break;n=r.to+1}return Decoration.set(e)}updateDeco(){let e=this.view.pluginField(PluginField.decorations);return this.pluginDecorationLength=e.length,this.decorations=[...e,...this.view.state.facet(decorations),this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let t,{range:n}=e,i=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!i)return;!n.empty&&(t=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(i={left:Math.min(i.left,t.left),top:Math.min(i.top,t.top),right:Math.max(i.right,t.right),bottom:Math.max(i.bottom,t.bottom)});let r=0,s=0,a=0,o=0;for(let e of this.view.pluginField(PluginField.scrollMargins))if(e){let{left:t,right:n,top:i,bottom:l}=e;null!=t&&(r=Math.max(r,t)),null!=n&&(s=Math.max(s,n)),null!=i&&(a=Math.max(a,i)),null!=l&&(o=Math.max(o,l))}let l={left:i.left-r,top:i.top-a,right:i.right+s,bottom:i.bottom+o};scrollRectIntoView(this.view.scrollDOM,l,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Direction.LTR)}}function betweenUneditable(e){return 1==e.node.nodeType&&e.node.firstChild&&(0==e.offset||"false"==e.node.childNodes[e.offset-1].contentEditable)&&(e.offset==e.node.childNodes.length||"false"==e.node.childNodes[e.offset].contentEditable)}class BlockGapWidget extends WidgetType{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function compositionSurroundingNode(e){let t=e.observer.selectionRange,n=t.focusNode&&nearbyTextNode(t.focusNode,t.focusOffset,0);if(!n)return null;let i=e.docView.nearest(n);if(!i)return null;if(i instanceof LineView){let e=n;for(;e.parentNode!=i.dom;)e=e.parentNode;let t=e.previousSibling;for(;t&&!ContentView.get(t);)t=t.previousSibling;let r=t?ContentView.get(t).posAtEnd:i.posAtStart;return{from:r,to:r,node:e,text:n}}{for(;;){let{parent:e}=i;if(!e)return null;if(e instanceof LineView)break;i=e}let e=i.posAtStart;return{from:e,to:e+i.length,node:i.dom,text:n}}}function computeCompositionDeco(e,t){let n=compositionSurroundingNode(e);if(!n)return Decoration.none;let{from:i,to:r,node:s,text:a}=n,o=t.mapPos(i,1),l=Math.max(o,t.mapPos(r,-1)),{state:c}=e,h=3==s.nodeType?s.nodeValue:new DOMReader([],c).readRange(s.firstChild,null).text;if(l-o<h.length)if(c.doc.sliceString(o,Math.min(c.doc.length,o+h.length),LineBreakPlaceholder)==h)l=o+h.length;else{if(c.doc.sliceString(Math.max(0,l-h.length),l,LineBreakPlaceholder)!=h)return Decoration.none;o=l-h.length}else if(c.doc.sliceString(o,l,LineBreakPlaceholder)!=h)return Decoration.none;let d=ContentView.get(s);return d instanceof CompositionView?d=d.widget.topView:d&&(d.parent=null),Decoration.set(Decoration.replace({widget:new CompositionWidget(s,a,d)}).range(o,l))}class CompositionWidget extends WidgetType{constructor(e,t,n){super(),this.top=e,this.text=t,this.topView=n}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return CompositionView}}function nearbyTextNode(e,t,n){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0&&n<=0)t=maxOffset(e=e.childNodes[t-1]);else{if(!(1==e.nodeType&&t<e.childNodes.length&&n>=0))return null;e=e.childNodes[t],t=0}}}function nextToUneditable(e,t){return 1!=e.nodeType?0:(t&&"false"==e.childNodes[t-1].contentEditable?1:0)|(t<e.childNodes.length&&"false"==e.childNodes[t].contentEditable?2:0)}class DecorationComparator$1{constructor(){this.changes=[]}compareRange(e,t){addRange(e,t,this.changes)}comparePoint(e,t){addRange(e,t,this.changes)}}function findChangedDeco(e,t,n){let i=new DecorationComparator$1;return RangeSet.compare(e,t,n,i),i.changes}function inUneditable(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}function groupAt(e,t,n=1){let i=e.charCategorizer(t),r=e.doc.lineAt(t),s=t-r.from;if(0==r.length)return EditorSelection.cursor(t);0==s?n=1:s==r.length&&(n=-1);let a=s,o=s;n<0?a=findClusterBreak(r.text,s,!1):o=findClusterBreak(r.text,s);let l=i(r.text.slice(a,o));for(;a>0;){let e=findClusterBreak(r.text,a,!1);if(i(r.text.slice(e,a))!=l)break;a=e}for(;o<r.length;){let e=findClusterBreak(r.text,o);if(i(r.text.slice(o,e))!=l)break;o=e}return EditorSelection.range(a+r.from,o+r.from)}function getdx(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function getdy(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function yOverlap(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function upTop(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function upBot(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function domPosAtCoords(e,t,n){let i,r,s,a,o,l,c,h;for(let d=e.firstChild;d;d=d.nextSibling){let e=clientRectsFor(d);for(let p=0;p<e.length;p++){let u=e[p];r&&yOverlap(r,u)&&(u=upTop(upBot(u,r.bottom),r.top));let m=getdx(t,u),f=getdy(n,u);if(0==m&&0==f)return 3==d.nodeType?domPosInText(d,t,n):domPosAtCoords(d,t,n);(!i||a>f||a==f&&s>m)&&(i=d,r=u,s=m,a=f),0==m?n>u.bottom&&(!c||c.bottom<u.bottom)?(o=d,c=u):n<u.top&&(!h||h.top>u.top)&&(l=d,h=u):c&&yOverlap(c,u)?c=upBot(c,u.bottom):h&&yOverlap(h,u)&&(h=upTop(h,u.top))}}if(c&&c.bottom>=n?(i=o,r=c):h&&h.top<=n&&(i=l,r=h),!i)return{node:e,offset:0};let d=Math.max(r.left,Math.min(r.right,t));return 3==i.nodeType?domPosInText(i,d,n):s||"true"!=i.contentEditable?{node:e,offset:Array.prototype.indexOf.call(e.childNodes,i)+(t>=(r.left+r.right)/2?1:0)}:domPosAtCoords(i,d,n)}function domPosInText(e,t,n){let i=e.nodeValue.length,r=-1,s=1e9,a=0;for(let o=0;o<i;o++){let i=textRange(e,o,o+1).getClientRects();for(let l=0;l<i.length;l++){let c=i[l];if(c.top==c.bottom)continue;a||(a=t-c.left);let h=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&h<s){let n=t>=(c.left+c.right)/2,i=n;if(browser$1.chrome||browser$1.gecko){textRange(e,o).getBoundingClientRect().left==c.right&&(i=!n)}if(h<=0)return{node:e,offset:o+(i?1:0)};r=o+(i?1:0),s=h}}}return{node:e,offset:r>-1?r:a>0?e.nodeValue.length:0}}function posAtCoords(e,{x:t,y:n},i,r=-1){var s;let a,o=e.contentDOM.getBoundingClientRect(),l=o.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,h=n-l;if(h<0)return 0;if(h>c)return e.state.doc.length;for(let t=e.defaultLineHeight/2,n=!1;a=e.elementAtHeight(h),a.type!=BlockType.Text;)for(;h=r>0?a.bottom+t:a.top-t,!(h>=0&&h<=c);){if(n)return i?null:0;n=!0,r=-r}n=l+h;let d=a.from;if(d<e.viewport.from)return 0==e.viewport.from?0:i?null:posAtCoordsImprecise(e,o,a,t,n);if(d>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:i?null:posAtCoordsImprecise(e,o,a,t,n);let p=e.dom.ownerDocument,u=e.root.elementFromPoint?e.root:p,m=u.elementFromPoint(t,n);m&&!e.contentDOM.contains(m)&&(m=null),m||(t=Math.max(o.left+1,Math.min(o.right-1,t)),m=u.elementFromPoint(t,n),m&&!e.contentDOM.contains(m)&&(m=null));let f,g=-1;if(m&&0!=(null===(s=e.docView.nearest(m))||void 0===s?void 0:s.isEditable))if(p.caretPositionFromPoint){let e=p.caretPositionFromPoint(t,n);e&&({offsetNode:f,offset:g}=e)}else if(p.caretRangeFromPoint){let e=p.caretRangeFromPoint(t,n);e&&(({startContainer:f,startOffset:g}=e),browser$1.safari&&isSuspiciousCaretResult(f,g,t)&&(f=void 0))}if(!f||!e.docView.dom.contains(f)){let i=LineView.find(e.docView,d);if(!i)return h>a.top+a.height/2?a.to:a.from;({node:f,offset:g}=domPosAtCoords(i.dom,t,n))}return e.docView.posFromDOM(f,g)}function posAtCoordsImprecise(e,t,n,i,r){let s=Math.round((i-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>1.5*e.defaultLineHeight){s+=Math.floor((r-n.top)/e.defaultLineHeight)*e.viewState.heightOracle.lineLength}let a=e.state.sliceDoc(n.from,n.to);return n.from+findColumn(a,s,e.state.tabSize)}function isSuspiciousCaretResult(e,t,n){let i;if(3!=e.nodeType||t!=(i=e.nodeValue.length))return!1;for(let t=e.nextSibling;t;t=t.nextSibling)if(1!=t.nodeType||"BR"!=t.nodeName)return!1;return textRange(e,i-1,i).getBoundingClientRect().left>n}function moveToLineBoundary(e,t,n,i){let r=e.state.doc.lineAt(t.head),s=i&&e.lineWrapping?e.coordsAtPos(t.assoc<0&&t.head>r.from?t.head-1:t.head):null;if(s){let t=e.dom.getBoundingClientRect(),i=e.posAtCoords({x:n==(e.textDirection==Direction.LTR)?t.right-1:t.left+1,y:(s.top+s.bottom)/2});if(null!=i)return EditorSelection.cursor(i,n?-1:1)}let a=LineView.find(e.docView,t.head),o=a?n?a.posAtEnd:a.posAtStart:n?r.to:r.from;return EditorSelection.cursor(o,n?-1:1)}function moveByChar(e,t,n,i){let r=e.state.doc.lineAt(t.head),s=e.bidiSpans(r);for(let a=t,o=null;;){let t=moveVisually(r,s,e.textDirection,a,n),l=movedOver;if(!t){if(r.number==(n?e.state.doc.lines:1))return a;l="\n",r=e.state.doc.line(r.number+(n?1:-1)),s=e.bidiSpans(r),t=EditorSelection.cursor(n?r.from:r.to)}if(o){if(!o(l))return a}else{if(!i)return t;o=i(l)}a=t}}function byGroup(e,t,n){let i=e.state.charCategorizer(t),r=i(n);return e=>{let t=i(e);return r==CharCategory.Space&&(r=t),r==t}}function moveVertically(e,t,n,i){let r=t.head,s=n?1:-1;if(r==(n?e.state.doc.length:0))return EditorSelection.cursor(r,t.assoc);let a,o=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(r),h=e.documentTop;if(c)null==o&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let t=e.viewState.lineBlockAt(r-h);null==o&&(o=Math.min(l.right-l.left,e.defaultCharacterWidth*(r-t.from))),a=(s<0?t.top:t.bottom)+h}let d=l.left+o,p=null!=i?i:e.defaultLineHeight>>1;for(let n=0;;n+=10){let i=a+(p+n)*s,c=posAtCoords(e,{x:d,y:i},!1,s);if(i<l.top||i>l.bottom||(s<0?c<r:c>r))return EditorSelection.cursor(c,t.assoc,void 0,o)}}function skipAtoms(e,t,n){let i=e.pluginField(PluginField.atomicRanges);for(;;){let e=!1;for(let r of i)r.between(n.from-1,n.from+1,((i,r,s)=>{n.from>i&&n.from<r&&(n=t.from>n.from?EditorSelection.cursor(i,1):EditorSelection.cursor(r,-1),e=!0)}));if(!e)return n}}class InputState{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in handlers){let n=handlers[t];e.contentDOM.addEventListener(t,(i=>{"keydown"==t&&this.keydown(e,i)||eventBelongsToEditor(e,i)&&!this.ignoreDuringComposition(i)&&(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,i)?i.preventDefault():n(e,i))})),this.registeredEvents.push(t)}this.notifiedFocused=e.hasFocus,this.ensureHandlers(e),browser$1.safari&&e.contentDOM.addEventListener("input",(()=>null))}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e){let t=this.customHandlers=e.pluginField(domEventHandlers);for(let n of t)for(let t in n.handlers)this.registeredEvents.indexOf(t)<0&&"scroll"!=t&&(this.registeredEvents.push(t),e.contentDOM.addEventListener(t,(n=>{eventBelongsToEditor(e,n)&&this.runCustomHandlers(t,e,n)&&n.preventDefault()})))}runCustomHandlers(e,t,n){for(let i of this.customHandlers){let r=i.handlers[e];if(r)try{if(r.call(i.plugin,n,t)||n.defaultPrevented)return!0}catch(e){logException(t.state,e)}}return!1}runScrollHandlers(e,t){for(let n of this.customHandlers){let i=n.handlers.scroll;if(i)try{i.call(n.plugin,t,e)}catch(t){logException(e.state,t)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),this.screenKeyEvent(e,t))return!0;if(browser$1.android&&browser$1.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let n;return!(!browser$1.ios||!(n=PendingKeys.find((e=>e.keyCode==t.keyCode)))||t.ctrlKey||t.altKey||t.metaKey||t.synthetic)&&(this.pendingIOSKey=n,setTimeout((()=>this.flushIOSKey(e)),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,dispatchKey(e.contentDOM,t.key,t.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(browser$1.safari&&Date.now()-this.compositionEndedAt<500)&&(this.compositionEndedAt=0,!0))}screenKeyEvent(e,t){let n=9==t.keyCode&&Date.now()<this.lastEscPress+2e3;return 27==t.keyCode?this.lastEscPress=Date.now():modifierCodes.indexOf(t.keyCode)<0&&(this.lastEscPress=0),n}mustFlushObserver(e){return"keydown"==e.type&&229!=e.keyCode||"compositionend"==e.type&&!browser$1.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],modifierCodes=[16,17,18,20,91,92,224,225];class MouseSelection{constructor(e,t,n,i){this.view=e,this.style=n,this.mustSelect=i,this.lastEvent=t;let r=e.contentDOM.ownerDocument;r.addEventListener("mousemove",this.move=this.move.bind(this)),r.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(e,t),this.dragMove=dragMovesSelection(e,t),this.dragging=!(!isInPrimarySelection(e,t)||1!=getClickType(t))&&null,!1===this.dragging&&(t.preventDefault(),this.select(t))}move(e){if(0==e.buttons)return this.destroy();!1===this.dragging&&this.select(this.lastEvent=e)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);!this.mustSelect&&t.eq(this.view.state.selection)&&t.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}function addsSelectionRange(e,t){let n=e.state.facet(clickAddsSelectionRange);return n.length?n[0](t):browser$1.mac?t.metaKey:t.ctrlKey}function dragMovesSelection(e,t){let n=e.state.facet(dragMovesSelection$1);return n.length?n[0](t):browser$1.mac?!t.altKey:!t.ctrlKey}function isInPrimarySelection(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let i=getSelection(e.root);if(0==i.rangeCount)return!0;let r=i.getRangeAt(0).getClientRects();for(let e=0;e<r.length;e++){let n=r[e];if(n.left<=t.clientX&&n.right>=t.clientX&&n.top<=t.clientY&&n.bottom>=t.clientY)return!0}return!1}function eventBelongsToEditor(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n,i=t.target;i!=e.contentDOM;i=i.parentNode)if(!i||11==i.nodeType||(n=ContentView.get(i))&&n.ignoreEvent(t))return!1;return!0}const handlers=Object.create(null),brokenClipboardAPI=browser$1.ie&&browser$1.ie_version<15||browser$1.ios&&browser$1.webkit_version<604;function capturePaste(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{e.focus(),n.remove(),doPaste(e,n.value)}),50)}function doPaste(e,t){let n,{state:i}=e,r=1,s=i.toText(t),a=s.lines==i.selection.ranges.length,o=null!=lastLinewiseCopy&&i.selection.ranges.every((e=>e.empty))&&lastLinewiseCopy==s.toString();if(o){let e=-1;n=i.changeByRange((n=>{let o=i.doc.lineAt(n.from);if(o.from==e)return{range:n};e=o.from;let l=i.toText((a?s.line(r++).text:t)+i.lineBreak);return{changes:{from:o.from,insert:l},range:EditorSelection.cursor(n.from+l.length)}}))}else n=a?i.changeByRange((e=>{let t=s.line(r++);return{changes:{from:e.from,to:e.to,insert:t.text},range:EditorSelection.cursor(e.from+t.length)}})):i.replaceSelection(s);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}handlers.keydown=(e,t)=>{e.inputState.setSelectionOrigin("select")};let lastTouch=0;function rangeForClick(e,t,n,i){if(1==i)return EditorSelection.cursor(t,n);if(2==i)return groupAt(e.state,t,n);{let n=LineView.find(e.docView,t),i=e.state.doc.lineAt(n?n.posAtEnd:t),r=n?n.posAtStart:i.from,s=n?n.posAtEnd:i.to;return s<e.state.doc.length&&s==i.to&&s++,EditorSelection.range(r,s)}}handlers.touchstart=(e,t)=>{lastTouch=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},handlers.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},handlers.mousedown=(e,t)=>{if(e.observer.flush(),lastTouch>Date.now()-2e3&&1==getClickType(t))return;let n=null;for(let i of e.state.facet(mouseSelectionStyle))if(n=i(e,t),n)break;if(n||0!=t.button||(n=basicMouseSelection(e,t)),n){let i=e.root.activeElement!=e.contentDOM;i&&e.observer.ignore((()=>focusPreventScroll(e.contentDOM))),e.inputState.startMouseSelection(new MouseSelection(e,t,n,i))}};let insideY=(e,t)=>e>=t.top&&e<=t.bottom,inside=(e,t,n)=>insideY(t,n)&&e>=n.left&&e<=n.right;function findPositionSide(e,t,n,i){let r=LineView.find(e.docView,t);if(!r)return 1;let s=t-r.posAtStart;if(0==s)return 1;if(s==r.length)return-1;let a=r.coordsAt(s,-1);if(a&&inside(n,i,a))return-1;let o=r.coordsAt(s,1);return o&&inside(n,i,o)?1:a&&insideY(i,a)?-1:1}function queryPos(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:findPositionSide(e,n,t.clientX,t.clientY)}}const BadMouseDetail=browser$1.ie&&browser$1.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(e){if(!BadMouseDetail)return e.detail;let t=lastMouseDown,n=lastMouseDownTime;return lastMouseDown=e,lastMouseDownTime=Date.now(),lastMouseDownCount=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(e,t){let n=queryPos(e,t),i=getClickType(t),r=e.state.selection,s=n,a=t;return{update(e){e.docChanged&&(n&&(n.pos=e.changes.mapPos(n.pos)),r=r.map(e.changes),a=null)},get(t,o,l){let c;if(a&&t.clientX==a.clientX&&t.clientY==a.clientY?c=s:(c=s=queryPos(e,t),a=t),!c||!n)return r;let h=rangeForClick(e,c.pos,c.bias,i);if(n.pos!=c.pos&&!o){let t=rangeForClick(e,n.pos,n.bias,i),r=Math.min(t.from,h.from),s=Math.max(t.to,h.to);h=r<h.from?EditorSelection.range(r,s):EditorSelection.range(s,r)}return o?r.replaceRange(r.main.extend(h.from,h.to)):l?r.addRange(h):EditorSelection.create([h])}}}function dropText(e,t,n,i){if(!n)return;let r=e.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();let{mouseSelection:s}=e.inputState,a=i&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,o={from:r,insert:n},l=e.state.changes(a?[a,o]:o);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:a?"move.drop":"input.drop"})}function captureCopy(e,t){let n=e.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=t,i.focus(),i.selectionEnd=t.length,i.selectionStart=0,setTimeout((()=>{i.remove(),e.focus()}),50)}function copiedRange(e){let t=[],n=[],i=!1;for(let i of e.selection.ranges)i.empty||(t.push(e.sliceDoc(i.from,i.to)),n.push(i));if(!t.length){let r=-1;for(let{from:i}of e.selection.ranges){let s=e.doc.lineAt(i);s.number>r&&(t.push(s.text),n.push({from:s.from,to:Math.min(e.doc.length,s.to+1)})),r=s.number}i=!0}return{text:t.join(e.lineBreak),ranges:n,linewise:i}}handlers.dragstart=(e,t)=>{let{selection:{main:n}}=e.state,{mouseSelection:i}=e.inputState;i&&(i.dragging=n),t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove")},handlers.drop=(e,t)=>{if(!t.dataTransfer)return;if(e.state.readOnly)return t.preventDefault();let n=t.dataTransfer.files;if(n&&n.length){t.preventDefault();let i=Array(n.length),r=0,s=()=>{++r==n.length&&dropText(e,t,i.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<n.length;e++){let t=new FileReader;t.onerror=s,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(i[e]=t.result),s()},t.readAsText(n[e])}}else dropText(e,t,t.dataTransfer.getData("Text"),!0)},handlers.paste=(e,t)=>{if(e.state.readOnly)return t.preventDefault();e.observer.flush();let n=brokenClipboardAPI?null:t.clipboardData;n?(doPaste(e,n.getData("text/plain")),t.preventDefault()):capturePaste(e)};let lastLinewiseCopy=null;function forceClearComposition(e,t){if(e.docView.compositionDeco.size){e.inputState.rapidCompositionStart=t;try{e.update([])}finally{e.inputState.rapidCompositionStart=!1}}}handlers.copy=handlers.cut=(e,t)=>{let{text:n,ranges:i,linewise:r}=copiedRange(e.state);if(!n&&!r)return;lastLinewiseCopy=r?n:null;let s=brokenClipboardAPI?null:t.clipboardData;s?(t.preventDefault(),s.clearData(),s.setData("text/plain",n)):captureCopy(e,n),"cut"!=t.type||e.state.readOnly||e.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})},handlers.focus=handlers.blur=e=>{setTimeout((()=>{e.hasFocus!=e.inputState.notifiedFocused&&e.update([])}),10)},handlers.beforeprint=e=>{e.viewState.printing=!0,e.requestMeasure(),setTimeout((()=>{e.viewState.printing=!1,e.requestMeasure()}),2e3)},handlers.compositionstart=handlers.compositionupdate=e=>{null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0,e.docView.compositionDeco.size&&(e.observer.flush(),forceClearComposition(e,!0)))},handlers.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionFirstChange=null,setTimeout((()=>{e.inputState.composing<0&&forceClearComposition(e,!1)}),50)},handlers.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},handlers.beforeinput=(e,t)=>{var n;let i;if(browser$1.chrome&&browser$1.android&&(i=PendingKeys.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(i.key,i.keyCode),"Backspace"==i.key||"Delete"==i.key)){let t=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}};const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];class HeightOracle{constructor(){this.doc=Text.empty,this.lineWrapping=!1,this.direction=Direction.LTR,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength)),this.lineHeight*n}heightForLine(e){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForStyle(e,t){return wrappingWhiteSpace.indexOf(e)>-1!=this.lineWrapping||this.direction!=t}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let i=e[n];i<0?n++:this.heightSamples[Math.floor(10*i)]||(t=!0,this.heightSamples[Math.floor(10*i)]=!0)}return t}refresh(e,t,n,i,r,s){let a=wrappingWhiteSpace.indexOf(e)>-1,o=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a||this.direction!=t;if(this.lineWrapping=a,this.direction=t,this.lineHeight=n,this.charWidth=i,this.lineLength=r,o){this.heightSamples={};for(let e=0;e<s.length;e++){let t=s[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return o}}class MeasuredHeights{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(e,t,n,i,r){this.from=e,this.length=t,this.top=n,this.height=i,this.type=r}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new BlockInfo(this.from,this.length+e.length,this.top,this.height+e.height,t)}moveY(e){return e?new BlockInfo(this.from,this.length,this.top+e,this.height,Array.isArray(this.type)?this.type.map((t=>t.moveY(e))):this.type):this}}var QueryType$1=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Epsilon&&(e.heightChanged=!0),this.height=t)}replace(e,t,n){return HeightMap.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,i){let r=this;for(let s=i.length-1;s>=0;s--){let{fromA:a,toA:o,fromB:l,toB:c}=i[s],h=r.lineAt(a,QueryType$1.ByPosNoHeight,t,0,0),d=h.to>=o?h:r.lineAt(o,QueryType$1.ByPosNoHeight,t,0,0);for(c+=d.to-o,o=d.to;s>0&&h.from<=i[s-1].toA;)a=i[s-1].fromA,l=i[s-1].fromB,s--,a<h.from&&(h=r.lineAt(a,QueryType$1.ByPosNoHeight,t,0,0));l+=h.from-a,a=h.from;let p=NodeBuilder.build(n,e,l,c);r=r.replace(a,o,p)}return r.updateHeight(n,0)}static empty(){return new HeightMapText(0,0)}static of(e){if(1==e.length)return e[0];let t=0,n=e.length,i=0,r=0;for(;;)if(t==n)if(i>2*r){let r=e[t-1];r.break?e.splice(--t,1,r.left,null,r.right):e.splice(--t,1,r.left,r.right),n+=1+r.break,i-=r.size}else{if(!(r>2*i))break;{let t=e[n];t.break?e.splice(n,1,t.left,null,t.right):e.splice(n,1,t.left,t.right),n+=2+t.break,r-=t.size}}else if(i<r){let n=e[t++];n&&(i+=n.size)}else{let t=e[--n];t&&(r+=t.size)}let s=0;return null==e[t-1]?(s=1,t--):null==e[t]&&(s=1,n++),new HeightMapBranch(HeightMap.of(e.slice(0,t)),s,HeightMap.of(e.slice(n)))}}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(e,t,n){super(e,t),this.type=n}blockAt(e,t,n,i){return new BlockInfo(i,this.length,n,this.height,this.type)}lineAt(e,t,n,i,r){return this.blockAt(0,n,i,r)}forEachLine(e,t,n,i,r,s){s(this.blockAt(0,n,i,r))}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(e,t){super(e,t,BlockType.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,n){let i=n[0];return 1==n.length&&(i instanceof HeightMapText||i instanceof HeightMapGap&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof HeightMapGap?i=new HeightMapText(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):HeightMap.of(n)}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more?this.setHeight(e,i.heights[i.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(e){super(e,0)}lines(e,t){let n=e.lineAt(t).number,i=e.lineAt(t+this.length).number;return{firstLine:n,lastLine:i,lineHeight:this.height/(i-n+1)}}blockAt(e,t,n,i){let{firstLine:r,lastLine:s,lineHeight:a}=this.lines(t,i),o=Math.max(0,Math.min(s-r,Math.floor((e-n)/a))),{from:l,length:c}=t.line(r+o);return new BlockInfo(l,c,n+a*o,a,BlockType.Text)}lineAt(e,t,n,i,r){if(t==QueryType$1.ByHeight)return this.blockAt(e,n,i,r);if(t==QueryType$1.ByPosNoHeight){let{from:t,to:i}=n.lineAt(e);return new BlockInfo(t,i-t,0,0,BlockType.Text)}let{firstLine:s,lineHeight:a}=this.lines(n,r),{from:o,length:l,number:c}=n.lineAt(e);return new BlockInfo(o,l,i+a*(c-s),a,BlockType.Text)}forEachLine(e,t,n,i,r,s){let{firstLine:a,lineHeight:o}=this.lines(n,r);for(let l=Math.max(e,r),c=Math.min(r+this.length,t);l<=c;){let t=n.lineAt(l);l==e&&(i+=o*(t.number-a)),s(new BlockInfo(t.from,t.length,i,o,BlockType.Text)),i+=o,l=t.to+1}}replace(e,t,n){let i=this.length-t;if(i>0){let e=n[n.length-1];e instanceof HeightMapGap?n[n.length-1]=new HeightMapGap(e.length+i):n.push(null,new HeightMapGap(i-1))}if(e>0){let t=n[0];t instanceof HeightMapGap?n[0]=new HeightMapGap(e+t.length):n.unshift(new HeightMapGap(e-1),null)}return HeightMap.of(n)}decomposeLeft(e,t){t.push(new HeightMapGap(e-1),null)}decomposeRight(e,t){t.push(null,new HeightMapGap(this.length-e-1))}updateHeight(e,t=0,n=!1,i){let r=t+this.length;if(i&&i.from<=t+this.length&&i.more){let n=[],s=Math.max(t,i.from),a=-1,o=e.heightChanged;for(i.from>t&&n.push(new HeightMapGap(i.from-t-1).updateHeight(e,t));s<=r&&i.more;){let t=e.doc.lineAt(s).length;n.length&&n.push(null);let r=i.heights[i.index++];-1==a?a=r:Math.abs(r-a)>=Epsilon&&(a=-2);let o=new HeightMapText(t,r);o.outdated=!1,n.push(o),s+=t+1}s<=r&&n.push(null,new HeightMapGap(r-s).updateHeight(e,s));let l=HeightMap.of(n);return e.heightChanged=o||a<0||Math.abs(l.height-this.height)>=Epsilon||Math.abs(a-this.lines(e.doc,t).lineHeight)>=Epsilon,l}return(n||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return 1&this.flags}blockAt(e,t,n,i){let r=n+this.left.height;return e<r?this.left.blockAt(e,t,n,i):this.right.blockAt(e,t,r,i+this.left.length+this.break)}lineAt(e,t,n,i,r){let s=i+this.left.height,a=r+this.left.length+this.break,o=t==QueryType$1.ByHeight?e<s:e<a,l=o?this.left.lineAt(e,t,n,i,r):this.right.lineAt(e,t,n,s,a);if(this.break||(o?l.to<a:l.from>a))return l;let c=t==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return o?l.join(this.right.lineAt(a,c,n,s,a)):this.left.lineAt(a,c,n,i,r).join(l)}forEachLine(e,t,n,i,r,s){let a=i+this.left.height,o=r+this.left.length+this.break;if(this.break)e<o&&this.left.forEachLine(e,t,n,i,r,s),t>=o&&this.right.forEachLine(e,t,n,a,o,s);else{let l=this.lineAt(o,QueryType$1.ByPos,n,i,r);e<l.from&&this.left.forEachLine(e,l.from-1,n,i,r,s),l.to>=e&&l.from<=t&&s(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,a,o,s)}}replace(e,t,n){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,n));let r=[];e>0&&this.decomposeLeft(e,r);let s=r.length;for(let e of n)r.push(e);if(e>0&&mergeGaps(r,s-1),t<this.length){let e=r.length;this.decomposeRight(t,r),mergeGaps(r,e)}return HeightMap.of(r)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,i=n+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?HeightMap.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,i){let{left:r,right:s}=this,a=t+r.length+this.break,o=null;return i&&i.from<=t+r.length&&i.more?o=r=r.updateHeight(e,t,n,i):r.updateHeight(e,t,n),i&&i.from<=a+s.length&&i.more?o=s=s.updateHeight(e,a,n,i):s.updateHeight(e,a,n),o?this.balanced(r,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(e,t){let n,i;null==e[t]&&(n=e[t-1])instanceof HeightMapGap&&(i=e[t+1])instanceof HeightMapGap&&e.splice(t-1,3,new HeightMapGap(n.length+1+i.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof HeightMapText?n.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);let r=t-e;n.block?this.addBlock(new HeightMapBlock(r,i,n.type)):(r||i>=relevantWidgetHeight)&&this.addLineDeco(i,r)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new HeightMapText(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new HeightMapGap(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof HeightMapText)return e;let t=new HeightMapText(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type!=BlockType.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=BlockType.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let n=this.ensureLine();n.length+=t,n.collapsed+=t,n.widgetHeight=Math.max(n.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof HeightMapText||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new HeightMapText(0,-1));let n=e;for(let e of this.nodes)e instanceof HeightMapText&&e.updateHeight(this.oracle,n),n+=e?e.length:1;return this.nodes}static build(e,t,n,i){let r=new NodeBuilder(n,e);return RangeSet.spans(t,n,i,r,0),r.finish(n)}}function heightRelevantDecoChanges(e,t,n){let i=new DecorationComparator;return RangeSet.compare(e,t,n,i,0),i.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,i){(e<t||n&&n.heightRelevant||i&&i.heightRelevant)&&addRange(e,t,this.changes,5)}}function visiblePixelRange(e,t){let n=e.getBoundingClientRect(),i=Math.max(0,n.left),r=Math.min(innerWidth,n.right),s=Math.max(0,n.top),a=Math.min(innerHeight,n.bottom),o=e.ownerDocument.body;for(let t=e.parentNode;t&&t!=o;)if(1==t.nodeType){let e=t,n=window.getComputedStyle(e);if((e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)&&"visible"!=n.overflow){let t=e.getBoundingClientRect();i=Math.max(i,t.left),r=Math.min(r,t.right),s=Math.max(s,t.top),a=Math.min(a,t.bottom)}t="absolute"==n.position||"fixed"==n.position?e.offsetParent:e.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:i-n.left,right:Math.max(i,r)-n.left,top:s-(n.top+t),bottom:Math.max(s,a)-(n.top+t)}}class LineGap{constructor(e,t,n){this.from=e,this.to=t,this.size=n}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],r=t[n];if(i.from!=r.from||i.to!=r.to||i.size!=r.size)return!1}return!0}draw(e){return Decoration.replace({widget:new LineGapWidget(this.size,e)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new HeightOracle,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.heightMap=HeightMap.empty().applyChanges(e.facet(decorations),Text.empty,this.heightOracle.setDoc(e.doc),[new ChangedRange(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map((e=>e.draw(!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let i=n?t.head:t.anchor;if(!e.some((({from:e,to:t})=>i>=e&&i<=t))){let{from:t,to:n}=this.lineBlockAt(i);e.push(new Viewport(t,n))}}this.viewports=e.sort(((e,t)=>e.from-t.from)),this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(e=>{this.viewportLines.push(1==this.scaler.scale?e:scaleBlock(e,this.scaler))}))}update(e,t=null){let n=this.state;this.state=e.state;let i=this.state.facet(decorations),r=e.changedRanges,s=ChangedRange.extendWithRanges(r,heightRelevantDecoChanges(e.startState.facet(decorations),i,e?e.changes:ChangeSet.empty(this.state.doc.length))),a=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(i,n.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=a&&(e.flags|=2);let o=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<o.from||t.range.head>o.to)||!this.viewportIsAppropriate(o))&&(o=this.getViewport(0,t));let l=!e.changes.empty||2&e.flags||o.from!=this.viewport.from||o.to!=this.viewport.to;this.viewport=o,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),i=this.heightOracle,r=n.whiteSpace,s="rtl"==n.direction?Direction.RTL:Direction.LTR,a=this.heightOracle.mustRefreshForStyle(r,s),o=a||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight,l=0,c=0;if(this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(o=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=8),o){this.mustMeasureContent=!1,this.contentDOMHeight=t.clientHeight;let e=parseInt(n.paddingTop)||0,i=parseInt(n.paddingBottom)||0;this.paddingTop==e&&this.paddingBottom==i||(l|=8,this.paddingTop=e,this.paddingBottom=i)}let h=this.printing?{top:-1e8,bottom:1e8,left:-1e8,right:1e8}:visiblePixelRange(t,this.paddingTop),d=h.top-this.pixelViewport.top,p=h.bottom-this.pixelViewport.bottom;this.pixelViewport=h;let u=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(u!=this.inView&&(this.inView=u,u&&(o=!0)),!this.inView)return 0;let m=t.clientWidth;if(this.contentDOMWidth==m&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=m,this.editorHeight=e.scrollDOM.clientHeight,l|=8),o){let t=e.docView.measureVisibleLineHeights();if(i.mustRefreshForHeights(t)&&(a=!0),a||i.lineWrapping&&Math.abs(m-this.contentDOMWidth)>i.charWidth){let{lineHeight:n,charWidth:o}=e.docView.measureTextSize();a=i.refresh(r,s,n,o,m/o,t),a&&(e.docView.minWidth=0,l|=8)}d>0&&p>0?c=Math.max(d,p):d<0&&p<0&&(c=Math.min(d,p)),i.heightChanged=!1,this.heightMap=this.heightMap.updateHeight(i,0,a,new MeasuredHeights(this.viewport.from,t)),i.heightChanged&&(l|=2)}let f=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return f&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(2&l||f)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,r=this.state.doc,{visibleTop:s,visibleBottom:a}=this,o=new Viewport(i.lineAt(s-1e3*n,QueryType$1.ByHeight,r,0,0).from,i.lineAt(a+1e3*(1-n),QueryType$1.ByHeight,r,0,0).to);if(t){let{head:e}=t.range;if(e<o.from||e>o.to){let n,s=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),a=i.lineAt(e,QueryType$1.ByPos,r,0,0);n="center"==t.y?(a.top+a.bottom)/2-s/2:"start"==t.y||"nearest"==t.y&&e<o.from?a.top:a.bottom-s,o=new Viewport(i.lineAt(n-500,QueryType$1.ByHeight,r,0,0).from,i.lineAt(n+s+500,QueryType$1.ByHeight,r,0,0).to)}}return o}mapViewport(e,t){let n=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new Viewport(this.heightMap.lineAt(n,QueryType$1.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(i,QueryType$1.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,QueryType$1.ByPos,this.state.doc,0,0),{bottom:r}=this.heightMap.lineAt(t,QueryType$1.ByPos,this.state.doc,0,0),{visibleTop:s,visibleBottom:a}=this;return(0==e||i<=s-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||r>=a+Math.max(10,Math.min(n,250)))&&i>s-2e3&&r<a+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let i of e)t.touchesRange(i.from,i.to)||n.push(new LineGap(t.mapPos(i.from),t.mapPos(i.to),i.size));return n}ensureLineGaps(e){let t=[];if(this.heightOracle.direction!=Direction.LTR)return t;for(let n of this.viewportLines){if(n.length<4e3)continue;let i,r,s=lineStructure(n.from,n.to,this.state);if(s.total<4e3)continue;if(this.heightOracle.lineWrapping){let e=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;i=findPosition(s,(this.visibleTop-n.top-e)/n.height),r=findPosition(s,(this.visibleBottom-n.top+e)/n.height)}else{let e=s.total*this.heightOracle.charWidth,t=2e3*this.heightOracle.charWidth;i=findPosition(s,(this.pixelViewport.left-t)/e),r=findPosition(s,(this.pixelViewport.right+t)/e)}let a=[];i>n.from&&a.push({from:n.from,to:i}),r<n.to&&a.push({from:r,to:n.to});let o=this.state.selection.main;o.from>=n.from&&o.from<=n.to&&cutRange(a,o.from-10,o.from+10),!o.empty&&o.to>=n.from&&o.to<=n.to&&cutRange(a,o.to-10,o.to+10);for(let{from:i,to:r}of a)r-i>1e3&&t.push(find(e,(e=>e.from>=n.from&&e.to<=n.to&&Math.abs(e.from-i)<1e3&&Math.abs(e.to-r)<1e3))||new LineGap(i,r,this.gapSize(n,i,r,s)))}return t}gapSize(e,t,n,i){let r=findFraction(i,n)-findFraction(i,t);return this.heightOracle.lineWrapping?e.height*r:i.total*this.heightOracle.charWidth*r}updateLineGaps(e){LineGap.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Decoration.set(e.map((e=>e.draw(this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let e=this.state.facet(decorations);this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];RangeSet.spans(e,this.viewport.from,this.viewport.to,{span(e,n){t.push({from:e,to:n})},point(){}},20);let n=t.length!=this.visibleRanges.length||this.visibleRanges.some(((e,n)=>e.from!=t[n].from||e.to!=t[n].to));return this.visibleRanges=t,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||scaleBlock(this.heightMap.lineAt(e,QueryType$1.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(e),QueryType$1.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(e,t){this.from=e,this.to=t}}function lineStructure(e,t,n){let i=[],r=e,s=0;return RangeSet.spans(n.facet(decorations),e,t,{span(){},point(e,t){e>r&&(i.push({from:r,to:e}),s+=e-r),r=t}},20),r<t&&(i.push({from:r,to:t}),s+=t-r),{total:s,ranges:i}}function findPosition({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let i=Math.floor(e*n);for(let e=0;;e++){let{from:n,to:r}=t[e],s=r-n;if(i<=s)return n+i;i-=s}}function findFraction(e,t){let n=0;for(let{from:i,to:r}of e.ranges){if(t<=r){n+=t-i;break}n+=r-i}return n/e.total}function cutRange(e,t,n){for(let i=0;i<e.length;i++){let r=e[i];if(r.from<n&&r.to>t){let s=[];r.from<t&&s.push({from:r.from,to:t}),r.to>n&&s.push({from:n,to:r.to}),e.splice(i,1,...s),i+=s.length-1}}}function find(e,t){for(let n of e)if(t(n))return n}const IdScaler={toDOM:e=>e,fromDOM:e=>e,scale:1};class BigScaler{constructor(e,t,n){let i=0,r=0,s=0;this.viewports=n.map((({from:n,to:r})=>{let s=t.lineAt(n,QueryType$1.ByPos,e,0,0).top,a=t.lineAt(r,QueryType$1.ByPos,e,0,0).bottom;return i+=a-s,{from:n,to:r,top:s,bottom:a,domTop:0,domBottom:0}})),this.scale=(7e6-i)/(t.height-i);for(let e of this.viewports)e.domTop=s+(e.top-r)*this.scale,s=e.domBottom=e.domTop+(e.bottom-e.top),r=e.bottom}toDOM(e){for(let t=0,n=0,i=0;;t++){let r=t<this.viewports.length?this.viewports[t]:null;if(!r||e<r.top)return i+(e-n)*this.scale;if(e<=r.bottom)return r.domTop+(e-r.top);n=r.bottom,i=r.domBottom}}fromDOM(e){for(let t=0,n=0,i=0;;t++){let r=t<this.viewports.length?this.viewports[t]:null;if(!r||e<r.domTop)return n+(e-i)/this.scale;if(e<=r.domBottom)return r.top+(e-r.domTop);n=r.bottom,i=r.domBottom}}}function scaleBlock(e,t){if(1==t.scale)return e;let n=t.toDOM(e.top),i=t.toDOM(e.bottom);return new BlockInfo(e.from,e.length,n,i-n,Array.isArray(e.type)?e.type.map((e=>scaleBlock(e,t))):e.type)}const theme=Facet.define({combine:e=>e.join(" ")}),darkTheme=Facet.define({combine:e=>e.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(e,t,n){return new StyleModule(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!n||!n[t])throw new RangeError(`Unsupported selector: ${t}`);return n[t]})):e+" "+t})}const baseTheme$8=buildTheme("."+baseThemeID,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser$1.ie&&browser$1.ie_version<=11;class DOMObserver{constructor(e,t,n){this.view=e,this.onChange=t,this.onScrollChanged=n,this.active=!1,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(browser$1.ie&&browser$1.ie_version<=11||browser$1.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),useCharData&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),"function"==typeof ResizeObserver&&(this.resize=new ResizeObserver((()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()})),this.resize.observe(e.scrollDOM)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,n)=>t!=e[n])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:t}=this,n=this.selectionRange;if(t.state.facet(editable)?t.root.activeElement!=this.dom:!hasSelection(t.dom,n))return;let i=n.anchorNode&&t.docView.nearest(n.anchorNode);i&&i.ignoreEvent(e)||((browser$1.ie&&browser$1.ie_version<=11||browser$1.android&&browser$1.chrome)&&!t.state.selection.main.empty&&n.focusNode&&isEquivalentPosition(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:e}=this.view,t=getSelection(e),n=browser$1.safari&&11==e.nodeType&&deepActiveElement()==this.view.contentDOM&&safariSelectionRangeHack(this.view)||t;return!this.selectionRange.eq(n)&&(this.selectionRange.setRange(n),this.selectionChanged=!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame((()=>{let e=this.delayedAndroidKey;this.delayedAndroidKey=null;let t=this.view.state;dispatchKey(this.view.contentDOM,e.key,e.keyCode)?this.processRecords():this.flush(),this.view.state==t&&this.view.update([])})),this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout((()=>{this.delayedFlush=-1,this.flush()}),20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let e=this.queue;for(let t of this.observer.takeRecords())e.push(t);e.length&&(this.queue=[]);let t=-1,n=-1,i=!1;for(let r of e){let e=this.readMutation(r);e&&(e.typeOver&&(i=!0),-1==t?({from:t,to:n}=e):(t=Math.min(e.from,t),n=Math.max(e.to,n)))}return{from:t,to:n,typeOver:i}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:n,typeOver:i}=this.processRecords(),r=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(t<0&&!r)return;this.selectionChanged=!1;let s=this.view.state;this.onChange(t,n,i),this.view.state==s&&this.view.update([])}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){let n=findChild(t,e.previousSibling||e.target.previousSibling,-1),i=findChild(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}destroy(){var e,t,n;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resize)||void 0===n||n.disconnect();for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function findChild(e,t,n){for(;t;){let i=ContentView.get(t);if(i&&i.parent==e)return i;let r=t.parentNode;t=r!=e.dom?r:n>0?t.nextSibling:t.previousSibling}return null}function safariSelectionRangeHack(e){let t=null;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;let i=t.startContainer,r=t.startOffset,s=t.endContainer,a=t.endOffset,o=e.docView.domAtPos(e.state.selection.main.anchor);return isEquivalentPosition(o.node,o.offset,s,a)&&([i,r,s,a]=[s,a,i,r]),{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:a}}function applyDOMChange(e,t,n,i){let r,s,a=e.state.selection.main;if(t>-1){let i=e.docView.domBoundsAround(t,n,0);if(!i||e.state.readOnly)return;let{from:o,to:l}=i,c=e.docView.impreciseHead||e.docView.impreciseAnchor?[]:selectionPoints(e),h=new DOMReader(c,e.state);h.readRange(i.startDOM,i.endDOM);let d=a.from,p=null;(8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>Date.now()-100||browser$1.android&&h.text.length<l-o)&&(d=a.to,p="end");let u=findDiff(e.state.doc.sliceString(o,l,LineBreakPlaceholder),h.text,d-o,p);u&&(browser$1.chrome&&13==e.inputState.lastKeyCode&&u.toB==u.from+2&&h.text.slice(u.from,u.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&u.toB--,r={from:o+u.from,to:o+u.toA,insert:Text.of(h.text.slice(u.from,u.toB).split(LineBreakPlaceholder))}),s=selectionFromPoints(c,o)}else if(e.hasFocus||!e.state.facet(editable)){let t=e.observer.selectionRange,{impreciseHead:n,impreciseAnchor:i}=e.docView,r=n&&n.node==t.focusNode&&n.offset==t.focusOffset||!contains$1(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),o=i&&i.node==t.anchorNode&&i.offset==t.anchorOffset||!contains$1(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset);r==a.head&&o==a.anchor||(s=EditorSelection.single(o,r))}if(r||s)if(!r&&i&&!a.empty&&s&&s.main.empty?r={from:a.from,to:a.to,insert:e.state.doc.slice(a.from,a.to)}:r&&r.from>=a.from&&r.to<=a.to&&(r.from!=a.from||r.to!=a.to)&&a.to-a.from-(r.to-r.from)<=4&&(r={from:a.from,to:a.to,insert:e.state.doc.slice(a.from,r.from).append(r.insert).append(e.state.doc.slice(r.to,a.to))}),r){let t=e.state;if(browser$1.ios&&e.inputState.flushIOSKey(e))return;if(browser$1.android&&(r.from==a.from&&r.to==a.to&&1==r.insert.length&&2==r.insert.lines&&dispatchKey(e.contentDOM,"Enter",13)||r.from==a.from-1&&r.to==a.to&&0==r.insert.length&&dispatchKey(e.contentDOM,"Backspace",8)||r.from==a.from&&r.to==a.to+1&&0==r.insert.length&&dispatchKey(e.contentDOM,"Delete",46)))return;let n,i=r.insert.toString();if(e.state.facet(inputHandler$1).some((t=>t(e,r.from,r.to,i))))return;if(e.inputState.composing>=0&&e.inputState.composing++,r.from>=a.from&&r.to<=a.to&&r.to-r.from>=(a.to-a.from)/3&&(!s||s.main.empty&&s.main.from==r.from+r.insert.length)&&e.inputState.composing<0){let i=a.from<r.from?t.sliceDoc(a.from,r.from):"",s=a.to>r.to?t.sliceDoc(r.to,a.to):"";n=t.replaceSelection(e.state.toText(i+r.insert.sliceString(0,void 0,e.state.lineBreak)+s))}else{let i=t.changes(r),o=s&&!t.selection.main.eq(s.main)&&s.main.to<=i.newLength?s.main:void 0;if(t.selection.ranges.length>1&&e.inputState.composing>=0&&r.to<=a.to&&r.to>=a.to-10){let s=e.state.sliceDoc(r.from,r.to),l=compositionSurroundingNode(e)||e.state.doc.lineAt(a.head),c=a.to-r.to,h=a.to-a.from;n=t.changeByRange((n=>{if(n.from==a.from&&n.to==a.to)return{changes:i,range:o||n.map(i)};let d=n.to-c,p=d-s.length;if(n.to-n.from!=h||e.state.sliceDoc(p,d)!=s||l&&n.to>=l.from&&n.from<=l.to)return{range:n};let u=t.changes({from:p,to:d,insert:r.insert}),m=n.to-a.to;return{changes:u,range:o?EditorSelection.range(Math.max(0,o.anchor+m),Math.max(0,o.head+m)):n.map(u)}}))}else n={changes:i,selection:o&&t.selection.replaceRange(o)}}let o="input.type";e.composing&&(o+=".compose",e.inputState.compositionFirstChange&&(o+=".start",e.inputState.compositionFirstChange=!1)),e.dispatch(n,{scrollIntoView:!0,userEvent:o})}else if(s&&!s.main.eq(a)){let t=!1,n="select";e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),n=e.inputState.lastSelectionOrigin),e.dispatch({selection:s,scrollIntoView:t,userEvent:n})}}function findDiff(e,t,n,i){let r=Math.min(e.length,t.length),s=0;for(;s<r&&e.charCodeAt(s)==t.charCodeAt(s);)s++;if(s==r&&e.length==t.length)return null;let a=e.length,o=t.length;for(;a>0&&o>0&&e.charCodeAt(a-1)==t.charCodeAt(o-1);)a--,o--;if("end"==i){n-=a+Math.max(0,s-Math.min(a,o))-s}if(a<s&&e.length<t.length){s-=n<=s&&n>=a?s-n:0,o=s+(o-a),a=s}else if(o<s){s-=n<=s&&n>=o?s-n:0,a=s+(a-o),o=s}return{from:s,toA:a,toB:o}}function selectionPoints(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}=e.observer.selectionRange;return n&&(t.push(new DOMPoint(n,i)),r==n&&s==i||t.push(new DOMPoint(r,s))),t}function selectionFromPoints(e,t){if(0==e.length)return null;let n=e[0].pos,i=2==e.length?e[1].pos:n;return n>-1&&i>-1?EditorSelection.single(n+t,i+t):null}class EditorView{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(e=>this.update([e])),this.dispatch=this.dispatch.bind(this),this.root=e.root||getRoot(e.parent)||document,this.viewState=new ViewState(e.state||EditorState.create()),this.plugins=this.state.facet(viewPlugin).map((e=>new PluginInstance(e)));for(let e of this.plugins)e.update(this);this.observer=new DOMObserver(this,((e,t,n)=>{applyDOMChange(this,e,t,n)}),(e=>{this.inputState.runScrollHandlers(this,e),this.observer.intersecting&&this.measure()})),this.inputState=new InputState(this),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...e){this._dispatch(1==e.length&&e[0]instanceof Transaction?e[0]:this.state.update(...e))}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,n=!1,i=this.state;for(let t of e){if(t.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=t.state}if(this.destroyed)return void(this.viewState.state=i);if(i.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(i);t=new ViewUpdate(this,i,e);let r=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(r&&(r=r.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;r=new ScrollTarget(e.empty?e:EditorSelection.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(scrollTo)?r=new ScrollTarget(e.value):e.is(centerOn)?r=new ScrollTarget(e.value,"center"):e.is(scrollIntoView$1)&&(r=e.value)}this.viewState.update(t,r),this.bidiCache=CachedOrder.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),n=this.docView.update(t),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(theme)!=t.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(n||r||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty)for(let e of this.state.facet(updateListener))e(t)}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new ViewState(e),this.plugins=e.facet(viewPlugin).map((e=>new PluginInstance(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView=new DocView(this),this.inputState.ensureHandlers(this),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(viewPlugin),n=e.state.facet(viewPlugin);if(t!=n){let i=[];for(let r of n){let n=t.indexOf(r);if(n<0)i.push(new PluginInstance(r));else{let t=this.plugins[n];t.mustUpdate=e,i.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this)}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.flush();let t=null;try{for(let e=0;;e++){this.updateState=1;let n=this.viewport,i=this.viewState.measure(this);if(!i&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let r=[];4&i||([this.measureRequests,r]=[r,this.measureRequests]);let s=r.map((e=>{try{return e.read(this)}catch(e){return logException(this.state,e),BadMeasure}})),a=new ViewUpdate(this,this.state),o=!1,l=!1;a.flags|=i,t?t.flags|=i:t=a,this.updateState=2,a.empty||(this.updatePlugins(a),this.inputState.update(a),this.updateAttrs(),o=this.docView.update(a));for(let e=0;e<r.length;e++)if(s[e]!=BadMeasure)try{let t=r[e];t.write&&t.write(s[e],this)}catch(e){logException(this.state,e)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=!0),o&&this.docView.updateSelection(!0),this.viewport.from==n.from&&this.viewport.to==n.to&&!l&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet(updateListener))e(t)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let e=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser$1.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,t),this.observer.ignore((()=>{updateAttrs(this.contentDOM,this.contentAttrs,t),updateAttrs(this.dom,this.editorAttrs,e)})),this.editorAttrs=e,this.contentAttrs=t}showAnnouncements(e){let t=!0;for(let n of e)for(let e of n.effects)if(e.is(EditorView.announce)){t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value}}mountStyles(){this.styleModules=this.state.facet(styleModule),StyleModule.mount(this.root,this.styleModules.concat(baseTheme$8).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame((()=>this.measure()))),e){if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}pluginField(e){let t=[];for(let n of this.plugins)n.update(this).takeField(e,t);return t}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}blockAtHeight(e,t){let n=ensureTop(t,this);return this.elementAtHeight(e-n).moveY(n)}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}visualLineAtHeight(e,t){let n=ensureTop(t,this);return this.lineBlockAtHeight(e-n).moveY(n)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}viewportLines(e,t){let n=ensureTop(t,this);for(let t of this.viewportLineBlocks)e(t.moveY(n))}get viewportLineBlocks(){return this.viewState.viewportLines}visualLineAt(e,t=0){return this.lineBlockAt(e).moveY(t+this.viewState.paddingTop)}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return skipAtoms(this,e,moveByChar(this,e,t,n))}moveByGroup(e,t){return skipAtoms(this,e,moveByChar(this,e,t,(t=>byGroup(this,e.head,t))))}moveToLineBoundary(e,t,n=!0){return moveToLineBoundary(this,e,t,n)}moveVertically(e,t,n){return skipAtoms(this,e,moveVertically(this,e,t,n))}scrollPosIntoView(e){this.dispatch({effects:scrollTo.of(EditorSelection.cursor(e))})}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),posAtCoords(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(e),r=this.bidiSpans(i);return flattenRect(n,r[BidiSpan.find(r,e-i.from,-1,t)].dir==Direction.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.heightOracle.direction}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>MaxBidiLine)return trivialOrder(e.length);let t=this.textDirection;for(let n of this.bidiCache)if(n.from==e.from&&n.dir==t)return n.order;let n=computeOrder(e.text,this.textDirection);return this.bidiCache.push(new CachedOrder(e.from,e.to,t,n)),n}get hasFocus(){var e;return(document.hasFocus()||browser$1.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()}))}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return scrollIntoView$1.of(new ScrollTarget("number"==typeof e?EditorSelection.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return ViewPlugin.define((()=>({})),{eventHandlers:e})}static theme(e,t){let n=StyleModule.newName(),i=[theme.of(n),styleModule.of(buildTheme(`.${n}`,e))];return t&&t.dark&&i.push(darkTheme.of(!0)),i}static baseTheme(e){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,e,lightDarkIDs)))}}EditorView.scrollTo=scrollTo,EditorView.centerOn=centerOn,EditorView.styleModule=styleModule,EditorView.inputHandler=inputHandler$1,EditorView.exceptionSink=exceptionSink,EditorView.updateListener=updateListener,EditorView.editable=editable,EditorView.mouseSelectionStyle=mouseSelectionStyle,EditorView.dragMovesSelection=dragMovesSelection$1,EditorView.clickAddsSelectionRange=clickAddsSelectionRange,EditorView.decorations=decorations,EditorView.darkTheme=darkTheme,EditorView.contentAttributes=contentAttributes,EditorView.editorAttributes=editorAttributes,EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"}),EditorView.announce=StateEffect.define();const MaxBidiLine=4096;function ensureTop(e,t){return(e??t.contentDOM.getBoundingClientRect().top)+t.viewState.paddingTop}const BadMeasure={};class CachedOrder{constructor(e,t,n,i){this.from=e,this.to=t,this.dir=n,this.order=i}static update(e,t){if(t.empty)return e;let n=[],i=e.length?e[e.length-1].dir:Direction.LTR;for(let r=Math.max(0,e.length-10);r<e.length;r++){let s=e[r];s.dir!=i||t.touchesRange(s.from,s.to)||n.push(new CachedOrder(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.order))}return n}}function attrsFromFacet(e,t,n){for(let i=e.state.facet(t),r=i.length-1;r>=0;r--){let t=i[r],s="function"==typeof t?t(e):t;s&&combineAttrs(s,n)}return n}const currentPlatform=browser$1.mac?"mac":browser$1.windows?"win":browser$1.linux?"linux":"key";function normalizeKeyName(e,t){const n=e.split(/-(?!$)/);let i,r,s,a,o=n[n.length-1];"Space"==o&&(o=" ");for(let e=0;e<n.length-1;++e){const o=n[e];if(/^(cmd|meta|m)$/i.test(o))a=!0;else if(/^a(lt)?$/i.test(o))i=!0;else if(/^(c|ctrl|control)$/i.test(o))r=!0;else if(/^s(hift)?$/i.test(o))s=!0;else{if(!/^mod$/i.test(o))throw new Error("Unrecognized modifier name: "+o);"mac"==t?a=!0:r=!0}}return i&&(o="Alt-"+o),r&&(o="Ctrl-"+o),a&&(o="Meta-"+o),s&&(o="Shift-"+o),o}function modifiers(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}const handleKeyEvents=EditorView.domEventHandlers({keydown:(e,t)=>runHandlers(getKeymap(t.state),e,t,"editor")}),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(e){let t=e.facet(keymap),n=Keymaps.get(t);return n||Keymaps.set(t,n=buildKeymap(t.reduce(((e,t)=>e.concat(t)),[]))),n}function runScopeHandlers(e,t,n){return runHandlers(getKeymap(e.state),t,e,n)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(e,t=currentPlatform){let n=Object.create(null),i=Object.create(null),r=(e,t)=>{let n=i[e];if(null==n)i[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},s=(e,i,s,a)=>{let o=n[e]||(n[e]=Object.create(null)),l=i.split(/ (?!$)/).map((e=>normalizeKeyName(e,t)));for(let t=1;t<l.length;t++){let n=l.slice(0,t).join(" ");r(n,!0),o[n]||(o[n]={preventDefault:!0,commands:[t=>{let i=storedPrefix={view:t,prefix:n,scope:e};return setTimeout((()=>{storedPrefix==i&&(storedPrefix=null)}),PrefixTimeout),!0}]})}let c=l.join(" ");r(c,!1);let h=o[c]||(o[c]={preventDefault:!1,commands:[]});h.commands.push(s),a&&(h.preventDefault=!0)};for(let n of e){let e=n[t]||n.key;if(e)for(let t of n.scope?n.scope.split(" "):["editor"])s(t,e,n.run,n.preventDefault),n.shift&&s(t,"Shift-"+e,n.shift,n.preventDefault)}return n}function runHandlers(e,t,n,i){let r=keyName(t),s=1==r.length&&" "!=r,a="",o=!1;storedPrefix&&storedPrefix.view==n&&storedPrefix.scope==i&&(a=storedPrefix.prefix+" ",(o=modifierCodes.indexOf(t.keyCode)<0)&&(storedPrefix=null));let l,c=e=>{if(e){for(let t of e.commands)if(t(n))return!0;e.preventDefault&&(o=!0)}return!1},h=e[i];if(h){if(c(h[a+modifiers(r,t,!s)]))return!0;if(s&&(t.shiftKey||t.altKey||t.metaKey)&&(l=base[t.keyCode])&&l!=r){if(c(h[a+modifiers(l,t,!0)]))return!0}else if(s&&t.shiftKey&&c(h[a+modifiers(r,t,!0)]))return!0}return o}const CanHidePrimary=!browser$1.ios,selectionConfig=Facet.define({combine:e=>combineConfig(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function drawSelection(e={}){return[selectionConfig.of(e),drawSelectionPlugin,hideNativeSelection]}class Piece{constructor(e,t,n,i,r){this.left=e,this.top=t,this.width=n,this.height=i,this.className=r}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}const drawSelectionPlugin=ViewPlugin.fromClass(class{constructor(e){this.view=e,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=e.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(selectionConfig).cursorBlinkRate+"ms"}update(e){let t=e.startState.facet(selectionConfig)!=e.state.facet(selectionConfig);(t||e.selectionSet||e.geometryChanged||e.viewportChanged)&&this.view.requestMeasure(this.measureReq),e.transactions.some((e=>e.scrollIntoView))&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),t&&this.setBlinkRate()}readPos(){let{state:e}=this.view,t=e.facet(selectionConfig),n=e.selection.ranges.map((e=>e.empty?[]:measureRange(this.view,e))).reduce(((e,t)=>e.concat(t))),i=[];for(let n of e.selection.ranges){let r=n==e.selection.main;if(n.empty?!r||CanHidePrimary:t.drawRangeCursor){let e=measureCursor(this.view,n,r);e&&i.push(e)}}return{rangePieces:n,cursors:i}}drawSel({rangePieces:e,cursors:t}){if(e.length!=this.rangePieces.length||e.some(((e,t)=>!e.eq(this.rangePieces[t])))){this.selectionLayer.textContent="";for(let t of e)this.selectionLayer.appendChild(t.draw());this.rangePieces=e}if(t.length!=this.cursors.length||t.some(((e,t)=>!e.eq(this.cursors[t])))){let e=this.cursorLayer.children;if(e.length!==t.length){this.cursorLayer.textContent="";for(const e of t)this.cursorLayer.appendChild(e.draw())}else t.forEach(((t,n)=>t.adjust(e[n])));this.cursors=t}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),themeSpec={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};CanHidePrimary&&(themeSpec[".cm-line"].caretColor="transparent !important");const hideNativeSelection=Prec.highest(EditorView.theme(themeSpec));function getBase(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==Direction.LTR?t.left:t.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft,top:t.top-e.scrollDOM.scrollTop}}function wrappedLine(e,t,n){let i=EditorSelection.cursor(t);return{from:Math.max(n.from,e.moveToLineBoundary(i,!1,!0).from),to:Math.min(n.to,e.moveToLineBoundary(i,!0,!0).from),type:BlockType.Text}}function blockAt(e,t){let n=e.lineBlockAt(t);if(Array.isArray(n.type))for(let e of n.type)if(e.to>t||e.to==t&&(e.to==n.to||e.type==BlockType.Text))return e;return n}function measureRange(e,t){if(t.to<=e.viewport.from||t.from>=e.viewport.to)return[];let n=Math.max(t.from,e.viewport.from),i=Math.min(t.to,e.viewport.to),r=e.textDirection==Direction.LTR,s=e.contentDOM,a=s.getBoundingClientRect(),o=getBase(e),l=window.getComputedStyle(s.firstChild),c=a.left+parseInt(l.paddingLeft)+Math.min(0,parseInt(l.textIndent)),h=a.right-parseInt(l.paddingRight),d=blockAt(e,n),p=blockAt(e,i),u=d.type==BlockType.Text?d:null,m=p.type==BlockType.Text?p:null;if(e.lineWrapping&&(u&&(u=wrappedLine(e,n,u)),m&&(m=wrappedLine(e,i,m))),u&&m&&u.from==m.from)return g(b(t.from,t.to,u));{let n=u?b(t.from,null,u):y(d,!1),i=m?b(null,t.to,m):y(p,!0),r=[];return(u||d).to<(m||p).from-1?r.push(f(c,n.bottom,h,i.top)):n.bottom<i.top&&e.elementAtHeight((n.bottom+i.top)/2).type==BlockType.Text&&(n.bottom=i.top=(n.bottom+i.top)/2),g(n).concat(r).concat(g(i))}function f(e,t,n,i){return new Piece(e-o.left,t-o.top-.01,n-e,i-t+.01,"cm-selectionBackground")}function g({top:e,bottom:t,horizontal:n}){let i=[];for(let r=0;r<n.length;r+=2)i.push(f(n[r],e,n[r+1],t));return i}function b(t,n,i){let s=1e9,a=-1e9,o=[];function l(t,n,l,d,p){let u=e.coordsAtPos(t,t==i.to?-2:2),m=e.coordsAtPos(l,l==i.from?2:-2);s=Math.min(u.top,m.top,s),a=Math.max(u.bottom,m.bottom,a),p==Direction.LTR?o.push(r&&n?c:u.left,r&&d?h:m.right):o.push(!r&&d?c:m.left,!r&&n?h:u.right)}let d=null!=t?t:i.from,p=null!=n?n:i.to;for(let i of e.visibleRanges)if(i.to>d&&i.from<p)for(let r=Math.max(i.from,d),s=Math.min(i.to,p);;){let i=e.state.doc.lineAt(r);for(let a of e.bidiSpans(i)){let e=a.from+i.from,o=a.to+i.from;if(e>=s)break;o>r&&l(Math.max(e,r),null==t&&e<=d,Math.min(o,s),null==n&&o>=p,a.dir)}if(r=i.to+1,r>=s)break}return 0==o.length&&l(d,null==t,p,null==n,e.textDirection),{top:s,bottom:a,horizontal:o}}function y(e,t){let n=a.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}function measureCursor(e,t,n){let i=e.coordsAtPos(t.head,t.assoc||1);if(!i)return null;let r=getBase(e);return new Piece(i.left-r.left,i.top-r.top,-1,i.bottom-i.top,n?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const setDropCursorPos=StateEffect.define({map:(e,t)=>null==e?null:t.mapPos(e)}),dropCursorPos=StateField.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce(((e,t)=>t.is(setDropCursorPos)?t.value:e),e))}),drawDropCursor=ViewPlugin.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(dropCursorPos);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(dropCursorPos)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let e=this.view.state.field(dropCursorPos),t=null!=e&&this.view.coordsAtPos(e);if(!t)return null;let n=this.view.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+this.view.scrollDOM.scrollLeft,top:t.top-n.top+this.view.scrollDOM.scrollTop,height:t.bottom-t.top}}drawCursor(e){this.cursor&&(e?(this.cursor.style.left=e.left+"px",this.cursor.style.top=e.top+"px",this.cursor.style.height=e.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(dropCursorPos)!=e&&this.view.dispatch({effects:setDropCursorPos.of(e)})}},{eventHandlers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(e,t,n,i,r){t.lastIndex=0;for(let s,a=e.iterRange(n,i),o=n;!a.next().done;o+=a.value.length)if(!a.lineBreak)for(;s=t.exec(a.value);)r(o+s.index,o+s.index+s[0].length,s)}function matchRanges(e,t){let n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let i=[];for(let{from:r,to:s}of n)r=Math.max(e.state.doc.lineAt(r).from,r-t),s=Math.min(e.state.doc.lineAt(s).to,s+t),i.length&&i[i.length-1].to>=r?i[i.length-1].to=s:i.push({from:r,to:s});return i}class MatchDecorator{constructor(e){let{regexp:t,decoration:n,boundary:i,maxLength:r=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=t,this.getDeco="function"==typeof n?n:()=>n,this.boundary=i,this.maxLength=r}createDeco(e){let t=new RangeSetBuilder;for(let{from:n,to:i}of matchRanges(e,this.maxLength))iterMatches(e.state.doc,this.regexp,n,i,((n,i,r)=>t.add(n,i,this.getDeco(r,e,n))));return t.finish()}updateDeco(e,t){let n=1e9,i=-1;return e.docChanged&&e.changes.iterChanges(((t,r,s,a)=>{a>e.view.viewport.from&&s<e.view.viewport.to&&(n=Math.min(s,n),i=Math.max(a,i))})),e.viewportChanged||i-n>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),n,i):t}updateRange(e,t,n,i){for(let r of e.visibleRanges){let s=Math.max(r.from,n),a=Math.min(r.to,i);if(a>s){let n=e.state.doc.lineAt(s),i=n.to<a?e.state.doc.lineAt(a):n,o=Math.max(r.from,n.from),l=Math.min(r.to,i.to);if(this.boundary){for(;s>n.from;s--)if(this.boundary.test(n.text[s-1-n.from])){o=s;break}for(;a<i.to;a++)if(this.boundary.test(i.text[a-i.from])){l=a;break}}let c,h=[];if(n==i)for(this.regexp.lastIndex=o-n.from;(c=this.regexp.exec(n.text))&&c.index<l-n.from;){let t=c.index+n.from;h.push(this.getDeco(c,e,t).range(t,t+c[0].length))}else iterMatches(e.state.doc,this.regexp,o,l,((t,n,i)=>h.push(this.getDeco(i,e,t).range(t,n))));t=t.update({filterFrom:o,filterTo:l,filter:(e,t)=>e<o||t>l,add:h})}}return t}}const UnicodeRegexpSupport=null!=/x/.unicode?"gu":"g",Specials=new RegExp("[\0-\b\n--\u2028\u2029\ufeff-]",UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var e;if(null==_supportsTabSize&&"undefined"!=typeof document&&document.body){let t=document.body.style;_supportsTabSize=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(e){let t=combineConfig(e,{render:null,specialChars:Specials,addSpecialChars:null});return(t.replaceTabs=!supportsTabSize())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,UnicodeRegexpSupport)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,UnicodeRegexpSupport)),t}});function highlightSpecialChars(e={}){return[specialCharConfig.of(e),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(e){this.view=e,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new MatchDecorator({regexp:e.specialChars,decoration:(t,n,i)=>{let{doc:r}=n.state,s=codePointAt(t[0],0);if(9==s){let e=r.lineAt(i),t=n.state.tabSize,s=countColumn(e.text,t,i-e.from);return Decoration.replace({widget:new TabWidget((t-s%t)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=Decoration.replace({widget:new SpecialCharWidget(e,s)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(specialCharConfig);e.startState.facet(specialCharConfig)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))}const DefaultPlaceholder="";function placeholder$1(e){return e>=32?DefaultPlaceholder:10==e?"":String.fromCharCode(9216+e)}class SpecialCharWidget extends WidgetType{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=placeholder$1(this.code),n=e.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,t);if(i)return i;let r=document.createElement("span");return r.textContent=t,r.title=n,r.setAttribute("aria-label",n),r.className="cm-specialChar",r}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let i of e.state.selection.ranges){if(!i.empty)return Decoration.none;let r=e.lineBlockAt(i.head);r.from>t&&(n.push(lineDeco.range(r.from)),t=r.from)}return Decoration.set(n)}},{decorations:e=>e.decorations}),fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine:e=>combineConfig(e,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})});function changeEnd(e){let t=0;return e.iterChangedRanges(((e,n)=>t=n)),t}const historyField_=StateField.define({create:()=>HistoryState.empty,update(e,t){let n=t.state.facet(historyConfig),i=t.annotation(fromHistory);if(i){let r=t.docChanged?EditorSelection.single(changeEnd(t.changes)):void 0,s=HistEvent.fromTransaction(t,r),a=i.side,o=0==a?e.undone:e.done;return o=s?updateBranch(o,o.length,n.minDepth,s):addSelection(o,t.startState.selection),new HistoryState(0==a?i.rest:o,0==a?o:i.rest)}let r=t.annotation(isolateHistory);if("full"!=r&&"before"!=r||(e=e.isolate()),!1===t.annotation(Transaction.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let s=HistEvent.fromTransaction(t),a=t.annotation(Transaction.time),o=t.annotation(Transaction.userEvent);return s?e=e.addChanges(s,a,o,n.newGroupDelay,n.minDepth):t.selection&&(e=e.addSelection(t.startState.selection,a,o,n.newGroupDelay)),"full"!=r&&"after"!=r||(e=e.isolate()),e},toJSON:e=>({done:e.done.map((e=>e.toJSON())),undone:e.undone.map((e=>e.toJSON()))}),fromJSON:e=>new HistoryState(e.done.map(HistEvent.fromJSON),e.undone.map(HistEvent.fromJSON))});function history$1(e={}){return[historyField_,historyConfig.of(e),EditorView.domEventHandlers({beforeinput(e,t){let n="historyUndo"==e.inputType?undo:"historyRedo"==e.inputType?redo:null;return!!n&&(e.preventDefault(),n(t))}})]}function cmd(e,t){return function({state:n,dispatch:i}){if(!t&&n.readOnly)return!1;let r=n.field(historyField_,!1);if(!r)return!1;let s=r.pop(e,n,t);return!!s&&(i(s),!0)}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(e,t,n,i,r){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=i,this.selectionsAfter=r}setSelAfter(e){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((e=>e.toJSON()))}}static fromJSON(e){return new HistEvent(e.changes&&ChangeSet.fromJSON(e.changes),[],e.mapped&&ChangeDesc.fromJSON(e.mapped),e.startSelection&&EditorSelection.fromJSON(e.startSelection),e.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(e,t){let n=none$1;for(let t of e.startState.facet(invertedEffects)){let i=t(e);i.length&&(n=n.concat(i))}return!n.length&&e.changes.empty?null:new HistEvent(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,none$1)}static selection(e){return new HistEvent(void 0,none$1,void 0,void 0,e)}}function updateBranch(e,t,n,i){let r=t+1>n+20?t-n-1:0,s=e.slice(r,t);return s.push(i),s}function isAdjacent(e,t){let n=[],i=!1;return e.iterChangedRanges(((e,t)=>n.push(e,t))),t.iterChangedRanges(((e,t,r,s)=>{for(let e=0;e<n.length;){let t=n[e++],a=n[e++];s>=t&&r<=a&&(i=!0)}})),i}function eqSelectionShape(e,t){return e.ranges.length==t.ranges.length&&0===e.ranges.filter(((e,n)=>e.empty!=t.ranges[n].empty)).length}function conc(e,t){return e.length?t.length?e.concat(t):e:t}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(e,t){if(e.length){let n=e[e.length-1],i=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-MaxSelectionsPerEvent));return i.length&&i[i.length-1].eq(t)?e:(i.push(t),updateBranch(e,e.length-1,1e9,n.setSelAfter(i)))}return[HistEvent.selection([t])]}function popSelection(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function addMappingToBranch(e,t){if(!e.length)return e;let n=e.length,i=none$1;for(;n;){let r=mapEvent(e[n-1],t,i);if(r.changes&&!r.changes.empty||r.effects.length){let t=e.slice(0,n);return t[n-1]=r,t}t=r.mapped,n--,i=r.selectionsAfter}return i.length?[HistEvent.selection(i)]:none$1}function mapEvent(e,t,n){let i=conc(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):none$1,n);if(!e.changes)return HistEvent.selection(i);let r=e.changes.map(t),s=t.mapDesc(e.changes,!0),a=e.mapped?e.mapped.composeDesc(s):s;return new HistEvent(r,StateEffect.mapEffects(e.effects,t),a,e.startSelection.map(s),i)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(e,t,n=0,i){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(e,t,n,i,r){let s=this.done,a=s[s.length-1];return s=a&&a.changes&&!a.changes.empty&&e.changes&&(!n||joinableUserEvent.test(n))&&(!a.selectionsAfter.length&&t-this.prevTime<i&&isAdjacent(a.changes,e.changes)||"input.type.compose"==n)?updateBranch(s,s.length-1,r,new HistEvent(e.changes.compose(a.changes),conc(e.effects,a.effects),a.mapped,a.startSelection,none$1)):updateBranch(s,s.length,r,e),new HistoryState(s,none$1,t,n)}addSelection(e,t,n,i){let r=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return r.length>0&&t-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&eqSelectionShape(r[r.length-1],e)?this:new HistoryState(addSelection(this.done,e),this.undone,t,n)}addMapping(e){return new HistoryState(addMappingToBranch(this.done,e),addMappingToBranch(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let i=0==e?this.done:this.undone;if(0==i.length)return null;let r=i[i.length-1];if(n&&r.selectionsAfter.length)return t.update({selection:r.selectionsAfter[r.selectionsAfter.length-1],annotations:fromHistory.of({side:e,rest:popSelection(i)}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(r.changes){let n=1==i.length?none$1:i.slice(0,i.length-1);return r.mapped&&(n=addMappingToBranch(n,r.mapped)),t.update({changes:r.changes,selection:r.startSelection,effects:r.effects,annotations:fromHistory.of({side:e,rest:n}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}],DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(e,t){this.from=e,this.to=t}}class NodeProp{constructor(e={}){this.id=nextPropID++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=NodeType.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}NodeProp.closedBy=new NodeProp({deserialize:e=>e.split(" ")}),NodeProp.openedBy=new NodeProp({deserialize:e=>e.split(" ")}),NodeProp.group=new NodeProp({deserialize:e=>e.split(" ")}),NodeProp.contextHash=new NodeProp({perNode:!0}),NodeProp.lookAhead=new NodeProp({perNode:!0}),NodeProp.mounted=new NodeProp({perNode:!0});const noProps=Object.create(null);class NodeType{constructor(e,t,n,i=0){this.name=e,this.props=t,this.id=n,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):noProps,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),i=new NodeType(e.name||"",t,e.id,n);if(e.props)for(let n of e.props)if(Array.isArray(n)||(n=n(i)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}return i}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(NodeProp.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let i of n.split(" "))t[i]=e[n];return e=>{for(let n=e.prop(NodeProp.group),i=-1;i<(n?n.length:0);i++){let r=t[i<0?e.name:n[i]];if(r)return r}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let i=null;for(let t of e){let e=t(n);e&&(i||(i=Object.assign({},n.props)),i[e[0].id]=e[1])}t.push(i?new NodeType(n.name,i,n.id,n.flags):n)}return new NodeSet(t)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;class Tree{constructor(e,t,n,i,r){if(this.type=e,this.children=t,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[e,t]of r)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=this.prop(NodeProp.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let n=e.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e,t=0){let n=null!=e&&CachedNode.get(this)||this.topNode,i=new TreeCursor(n);return null!=e&&(i.moveTo(e,t),CachedNode.set(this,i._tree)),i}fullCursor(){return new TreeCursor(this.topNode,1)}get topNode(){return new TreeNode(this,0,0,null)}resolve(e,t=0){let n=resolveNode(CachedNode.get(this)||this.topNode,e,t,!1);return CachedNode.set(this,n),n}resolveInner(e,t=0){let n=resolveNode(CachedInnerNode.get(this)||this.topNode,e,t,!0);return CachedInnerNode.set(this,n),n}iterate(e){let{enter:t,leave:n,from:i=0,to:r=this.length}=e;for(let e=this.cursor(),s=()=>e.node;;){let a=!1;if(e.from<=r&&e.to>=i&&(e.type.isAnonymous||!1!==t(e.type,e.from,e.to,s))){if(e.firstChild())continue;e.type.isAnonymous||(a=!0)}for(;a&&n&&n(e.type,e.from,e.to,s),a=e.type.isAnonymous,!e.nextSibling();){if(!e.parent())return;a=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,n)=>new Tree(this.type,e,t,n,this.propValues)),e.makeTree||((e,t,n)=>new Tree(NodeType.none,e,t,n)))}static build(e){return buildTree$1(e)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return NodeType.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],i=this.set.types[t],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),n==(e+=4))return r;let s=[];for(;e<n;)s.push(this.childString(e)),e=this.buffer[e+3];return r+"("+s.join(",")+")"}findChild(e,t,n,i,r){let{buffer:s}=this,a=-1;for(let o=e;o!=t&&!(checkSide(r,i,s[o+1],s[o+2])&&(a=o,n>0));o=s[o+3]);return a}slice(e,t,n,i){let r=this.buffer,s=new Uint16Array(t-e);for(let i=e,a=0;i<t;)s[a++]=r[i++],s[a++]=r[i++]-n,s[a++]=r[i++]-n,s[a++]=r[i++]-e;return new TreeBuffer(s,i-n,this.set)}}function checkSide(e,t,n,i){switch(e){case-2:return n<t;case-1:return i>=t&&n<t;case 0:return n<t&&i>t;case 1:return n<=t&&i>t;case 2:return i>t;case 4:return!0}}function enterUnfinishedNodesBefore(e,t){let n=e.childBefore(t);for(;n;){let t=n.lastChild;if(!t||t.to!=n.to)break;t.type.isError&&t.from==t.to?(e=n,n=t.prevSibling):n=t}return e}function resolveNode(e,t,n,i){for(var r;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!i&&e instanceof TreeNode&&e.index<0?null:e.parent;if(!t)return e;e=t}if(i)for(let i=e,s=i.parent;s;i=s,s=i.parent)i instanceof TreeNode&&i.index<0&&(null===(r=s.enter(t,n,!0))||void 0===r?void 0:r.from)!=i.from&&(e=s);for(;;){let r=e.enter(t,n,i);if(!r)return e;e=r}}class TreeNode{constructor(e,t,n,i){this.node=e,this._from=t,this.index=n,this._parent=i}get type(){return this.node.type}get name(){return this.node.type.name}get from(){return this._from}get to(){return this._from+this.node.length}nextChild(e,t,n,i,r=0){for(let s=this;;){for(let{children:a,positions:o}=s.node,l=t>0?a.length:-1;e!=l;e+=t){let l=a[e],c=o[e]+s._from;if(checkSide(i,n,c,c+l.length))if(l instanceof TreeBuffer){if(2&r)continue;let a=l.findChild(0,l.buffer.length,t,n-c,i);if(a>-1)return new BufferNode(new BufferContext(s,l,e,c),null,a)}else if(1&r||!l.type.isAnonymous||hasChild(l)){let a;if(!(1&r)&&l.props&&(a=l.prop(NodeProp.mounted))&&!a.overlay)return new TreeNode(a.tree,c,e,s);let o=new TreeNode(l,c,e,s);return 1&r||!o.type.isAnonymous?o:o.nextChild(t<0?l.children.length-1:0,t,n,i)}}if(1&r||!s.type.isAnonymous)return null;if(e=s.index>=0?s.index+t:t<0?-1:s._parent.node.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this.node.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this.node.children.length-1,-1,e,-2)}enter(e,t,n=!0,i=!0){let r;if(n&&(r=this.node.prop(NodeProp.mounted))&&r.overlay){let n=e-this.from;for(let{from:e,to:i}of r.overlay)if((t>0?e<=n:e<n)&&(t<0?i>=n:i>n))return new TreeNode(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i?0:2)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get cursor(){return new TreeCursor(this)}get tree(){return this.node}toTree(){return this.node}resolve(e,t=0){return resolveNode(this,e,t,!1)}resolveInner(e,t=0){return resolveNode(this,e,t,!0)}enterUnfinishedNodesBefore(e){return enterUnfinishedNodesBefore(this,e)}getChild(e,t=null,n=null){let i=getChildren(this,e,t,n);return i.length?i[0]:null}getChildren(e,t=null,n=null){return getChildren(this,e,t,n)}toString(){return this.node.toString()}}function getChildren(e,t,n,i){let r=e.cursor,s=[];if(!r.firstChild())return s;if(null!=n)for(;!r.type.is(n);)if(!r.nextSibling())return s;for(;;){if(null!=i&&r.type.is(i))return s;if(r.type.is(t)&&s.push(r.node),!r.nextSibling())return null==i?s:[]}}class BufferContext{constructor(e,t,n,i){this.parent=e,this.buffer=t,this.index=n,this.start=i}}class BufferNode{constructor(e,t,n){this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,n);return r<0?null:new BufferNode(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n,i=!0){if(!i)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new BufferNode(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new BufferNode(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new BufferNode(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get cursor(){return new TreeCursor(this)}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let s=n.buffer[this.index+1],a=n.buffer[this.index+2];e.push(n.slice(i,r,s,a)),t.push(0)}return new Tree(this.type,e,t,this.to-this.from)}resolve(e,t=0){return resolveNode(this,e,t,!1)}resolveInner(e,t=0){return resolveNode(this,e,t,!0)}enterUnfinishedNodesBefore(e){return enterUnfinishedNodesBefore(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,n=null){let i=getChildren(this,e,t,n);return i.length?i[0]:null}getChildren(e,t=null,n=null){return getChildren(this,e,t,n)}}class TreeCursor{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof TreeNode)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return!!e&&(e instanceof TreeNode?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree.node.children.length-1:0,e,t,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=!0,i=!0){return this.buffer?!!i&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n&&!(1&this.mode),i))}parent(){if(!this.buffer)return this.yieldNode(1&this.mode?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=1&this.mode?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(i.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=i)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))if(t>-1)for(let i=t+e,r=e<0?-1:n.node.children.length;i!=r;i+=e){let e=n.node.children[i];if(1&this.mode||e instanceof TreeBuffer||!e.type.isAnonymous||hasChild(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,r=this.stack.length;r>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;t=s,n=r+1;break e}i=this.stack[--r]}for(let e=n;e<this.stack.length;e++)t=new BufferNode(this.buffer,t,this.stack[e]);return this.bufferNode=new BufferNode(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree.node}}function hasChild(e){return e.children.some((e=>e instanceof TreeBuffer||!e.type.isAnonymous||hasChild(e)))}function buildTree$1(e){var t;let{buffer:n,nodeSet:i,maxBufferLength:r=DefaultBufferLength,reused:s=[],minRepeatType:a=i.types.length}=e,o=Array.isArray(n)?new FlatBufferCursor(n,n.length):n,l=i.types,c=0,h=0;function d(e,t,n,f,g){let{id:b,start:y,end:v,size:x}=o,w=h;for(;x<0;){if(o.next(),-1==x){let t=s[b];return n.push(t),void f.push(y-e)}if(-3==x)return void(c=b);if(-4==x)return void(h=b);throw new RangeError(`Unrecognized record size: ${x}`)}let O,S,k=l[b],_=y-e;if(v-y<=r&&(S=function(e,t){let n=o.fork(),i=0,s=0,l=0,c=n.end-r,h={size:0,start:0,skip:0};e:for(let r=n.pos-e;n.pos>r;){let e=n.size;if(n.id==t&&e>=0){h.size=i,h.start=s,h.skip=l,l+=4,i+=4,n.next();continue}let o=n.pos-e;if(e<0||o<r||n.start<c)break;let d=n.id>=a?4:0,p=n.start;for(n.next();n.pos>o;){if(n.size<0){if(-3!=n.size)break e;d+=4}else n.id>=a&&(d+=4);n.next()}s=p,i+=e,l+=d}(t<0||i==e)&&(h.size=i,h.start=s,h.skip=l);return h.size>4?h:void 0}(o.pos-t,g))){let t=new Uint16Array(S.size-S.skip),n=o.pos-S.size,r=t.length;for(;o.pos>n;)r=m(S.start,t,r);O=new TreeBuffer(t,v-S.start,i),_=S.start-e}else{let e=o.pos-x;o.next();let t=[],n=[],i=b>=a?b:-1,s=0,l=v;for(;o.pos>e;)i>=0&&o.id==i&&o.size>=0?(o.end<=l-r&&(p(t,n,y,s,o.end,l,i,w),s=t.length,l=o.end),o.next()):d(y,e,t,n,i);if(i>=0&&s>0&&s<t.length&&p(t,n,y,s,y,l,i,w),t.reverse(),n.reverse(),i>-1&&s>0){let e=function(e){return(t,n,i)=>{let r,s,a=0,o=t.length-1;if(o>=0&&(r=t[o])instanceof Tree){if(!o&&r.type==e&&r.length==i)return r;(s=r.prop(NodeProp.lookAhead))&&(a=n[o]+r.length+s)}return u(e,t,n,i,a)}}(k);O=balanceRange(k,t,n,0,t.length,0,v-y,e,e)}else O=u(k,t,n,v-y,w-v)}n.push(O),f.push(_)}function p(e,t,n,r,s,a,o,l){let c=[],h=[];for(;e.length>r;)c.push(e.pop()),h.push(t.pop()+n-s);e.push(u(i.types[o],c,h,a-s,l-a)),t.push(s-n)}function u(e,t,n,i,r=0,s){if(c){let e=[NodeProp.contextHash,c];s=s?[e].concat(s):[e]}if(r>25){let e=[NodeProp.lookAhead,r];s=s?[e].concat(s):[e]}return new Tree(e,t,n,i,s)}function m(e,t,n){let{id:i,start:r,end:s,size:l}=o;if(o.next(),l>=0&&i<a){let a=n;if(l>4){let i=o.pos-(l-4);for(;o.pos>i;)n=m(e,t,n)}t[--n]=a,t[--n]=s-e,t[--n]=r-e,t[--n]=i}else-3==l?c=i:-4==l&&(h=i);return n}let f=[],g=[];for(;o.pos>0;)d(e.start||0,e.bufferStart||0,f,g,-1);let b=null!==(t=e.length)&&void 0!==t?t:f.length?g[0]+f[0].length:0;return new Tree(l[e.topID],f.reverse(),g.reverse(),b)}const nodeSizeCache=new WeakMap;function nodeSize(e,t){if(!e.isAnonymous||t instanceof TreeBuffer||t.type!=e)return 1;let n=nodeSizeCache.get(t);if(null==n){n=1;for(let i of t.children){if(i.type!=e||!(i instanceof Tree)){n=1;break}n+=nodeSize(e,i)}nodeSizeCache.set(t,n)}return n}function balanceRange(e,t,n,i,r,s,a,o,l){let c=0;for(let n=i;n<r;n++)c+=nodeSize(e,t[n]);let h=Math.ceil(1.5*c/8),d=[],p=[];return function t(n,i,r,a,o){for(let c=r;c<a;){let r=c,u=i[c],m=nodeSize(e,n[c]);for(c++;c<a;c++){let t=nodeSize(e,n[c]);if(m+t>=h)break;m+=t}if(c==r+1){if(m>h){let e=n[r];t(e.children,e.positions,0,e.children.length,i[r]+o);continue}d.push(n[r])}else{let t=i[c-1]+n[c-1].length-u;d.push(balanceRange(e,n,i,r,c,u,t,null,l))}p.push(u+o-s)}}(t,n,i,r,0),(o||l)(d,p,a)}class TreeFragment{constructor(e,t,n,i,r=!1,s=!1){this.from=e,this.to=t,this.tree=n,this.offset=i,this.open=(r?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],n=!1){let i=[new TreeFragment(0,e.length,e,0,!1,n)];for(let n of t)n.to>e.length&&i.push(n);return i}static applyChanges(e,t,n=128){if(!t.length)return e;let i=[],r=1,s=e.length?e[0]:null;for(let a=0,o=0,l=0;;a++){let c=a<t.length?t[a]:null,h=c?c.fromA:1e9;if(h-o>=n)for(;s&&s.from<h;){let t=s;if(o>=t.from||h<=t.to||l){let e=Math.max(t.from,o)-l,n=Math.min(t.to,h)-l;t=e>=n?null:new TreeFragment(e,n,t.tree,t.offset+l,a>0,!!c)}if(t&&i.push(t),s.to>h)break;s=r<e.length?e[r++]:null}if(!c)break;o=c.toA,l=c.toA-c.toB}return i}}class Parser$1{startParse(e,t,n){return"string"==typeof e&&(e=new StringInput(e)),n=n?n.length?n.map((e=>new Range(e.from,e.to))):[new Range(0,0)]:[new Range(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let i=this.startParse(e,t,n);for(;;){let e=i.advance();if(e)return e}}}class StringInput{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new NodeProp({perNode:!0});const languageDataProp=new NodeProp;function defineLanguageFacet(e){return Facet.define({combine:e?t=>t.concat(e):void 0})}class Language{constructor(e,t,n,i=[]){this.data=e,this.topNode=n,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=t,this.extension=[language.of(this),EditorState.languageData.of(((e,t,n)=>e.facet(languageDataFacetAt(e,t,n))))].concat(i)}isActiveAt(e,t,n=-1){return languageDataFacetAt(e,t,n)==this.data}findRegions(e){let t=e.facet(language);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],i=(e,t)=>{if(e.prop(languageDataProp)==this.data)return void n.push({from:t,to:t+e.length});let r=e.prop(NodeProp.mounted);if(r){if(r.tree.prop(languageDataProp)==this.data){if(r.overlay)for(let e of r.overlay)n.push({from:e.from+t,to:e.to+t});else n.push({from:t,to:t+e.length});return}if(r.overlay){let e=n.length;if(i(r.tree,r.overlay[0].from+t),n.length>e)return}}for(let n=0;n<e.children.length;n++){let r=e.children[n];r instanceof Tree&&i(r,e.positions[n]+t)}};return i(syntaxTree(e),0),n}get allowsNesting(){return!0}}function languageDataFacetAt(e,t,n){let i=e.facet(language);if(!i)return null;let r=i.data;if(i.allowsNesting)for(let i=syntaxTree(e).topNode;i;i=i.enter(t,n,!0,!1))r=i.type.prop(languageDataProp)||r;return r}Language.setState=StateEffect.define();class LRLanguage extends Language{constructor(e,t){super(e,t,t.topNode),this.parser=t}static define(e){let t=defineLanguageFacet(e.languageData);return new LRLanguage(t,e.parser.configure({props:[languageDataProp.add((e=>e.isTop?t:void 0))]}))}configure(e){return new LRLanguage(this.data,this.parser.configure(e))}get allowsNesting(){return this.parser.wrappers.length>0}}function syntaxTree(e){let t=e.field(Language.state,!1);return t?t.tree:Tree.empty}class DocInput{constructor(e,t=e.length){this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let currentContext=null;class ParseContext{constructor(e,t,n=[],i,r,s,a,o){this.parser=e,this.state=t,this.fragments=n,this.tree=i,this.treeLen=r,this.viewport=s,this.skipped=a,this.scheduleOn=o,this.parse=null,this.tempSkipped=[]}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=Tree.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;let i=Date.now()+e;for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let e=this.parse.advance();if(e){if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(e,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=e,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(Date.now()>i)return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=currentContext;currentContext=this;try{return e()}finally{currentContext=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=cutFragments(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:i,treeLen:r,viewport:s,skipped:a}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,n,i,r)=>t.push({fromA:e,toA:n,fromB:i,toB:r}))),n=TreeFragment.applyChanges(n,t),i=Tree.empty,r=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];for(let t of this.skipped){let n=e.mapPos(t.from,1),i=e.mapPos(t.to,-1);n<i&&a.push({from:n,to:i})}}}return new ParseContext(this.parser,t,n,i,r,s,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let{from:n,to:i}=this.skipped[t];n<e.to&&i>e.from&&(this.fragments=cutFragments(this.fragments,n,i),this.skipped.splice(t--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Parser$1{createParse(t,n,i){let r=i[0].from,s=i[i.length-1].to,a={parsedPos:r,advance(){let t=currentContext;if(t){for(let e of i)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=s,new Tree(NodeType.none,[],[],s-r)},stoppedAt:null,stopAt(){}};return a}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return currentContext}}function cutFragments(e,t,n){return TreeFragment.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class LanguageState{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new LanguageState(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=new ParseContext(e.facet(language).parser,e,[],Tree.empty,0,{from:0,to:t},[],null);return n.work(20,t)||n.takeTree(),new LanguageState(n)}}Language.state=StateField.define({create:LanguageState.init,update(e,t){for(let e of t.effects)if(e.is(Language.setState))return e.value;return t.startState.facet(language)!=t.state.facet(language)?LanguageState.init(t.state):e.apply(t)}});let requestIdle=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(requestIdle=e=>{let t=-1,n=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const parseWorker=ViewPlugin.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Language.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Language.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=requestIdle(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,r=n.field(Language.state);if(r.tree==r.context.tree&&r.context.isDone(i+1e5))return;let s=Math.min(this.chunkBudget,100,e?Math.max(25,e.timeRemaining()-5):1e9),a=r.context.treeLen<i&&n.doc.length>i+1e3,o=r.context.work(s,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(o||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(r.context))})),this.chunkBudget>0&&(!o||a)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>logException(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return this.working||this.workScheduled>0}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine:e=>e.length?e[0]:null,enables:[Language.state,parseWorker]});class LanguageSupport{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:e=>{if(!e.length)return"  ";if(!/^(?: +|\t+)$/.test(e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return e[0]}});function getIndentUnit(e){let t=e.facet(indentUnit);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function indentString(e,t){let n="",i=e.tabSize;if(9==e.facet(indentUnit).charCodeAt(0))for(;t>=i;)n+="\t",t-=i;for(let e=0;e<t;e++)n+=" ";return n}function getIndentation(e,t){e instanceof EditorState&&(e=new IndentContext(e));for(let n of e.state.facet(indentService)){let i=n(e,t);if(null!=i)return i}let n=syntaxTree(e.state);return n?syntaxIndentation(e,n,t):null}class IndentContext{constructor(e,t={}){this.state=e,this.options=t,this.unit=getIndentUnit(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:i}=this.options;return null!=i&&i>=n.from&&i<=n.to?(t<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(e,t);return n.slice(e-i,Math.min(n.length,e+100-i))}column(e,t=1){let{text:n,from:i}=this.lineAt(e,t),r=this.countColumn(n,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(r+=s-this.countColumn(n,n.search(/\S|$/))),r}countColumn(e,t=e.length){return countColumn(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:i}=this.lineAt(e,t),r=this.options.overrideIndentation;if(r){let e=r(i);if(e>-1)return e}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(e,t,n){return indentFrom(t.resolveInner(n).enterUnfinishedNodesBefore(n),n,e)}function ignoreClosed(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}function indentStrategy(e){let t=e.type.prop(indentNodeProp);if(t)return t;let n,i=e.firstChild;if(i&&(n=i.type.prop(NodeProp.closedBy))){let t=e.lastChild,i=t&&n.indexOf(t.name)>-1;return e=>delimitedStrategy(e,!0,1,void 0,i&&!ignoreClosed(e)?t.from:void 0)}return null==e.parent?topIndent:null}function indentFrom(e,t,n){for(;e;e=e.parent){let i=indentStrategy(e);if(i)return i(new TreeIndentContext(n,t,e))}return null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.node=n}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(isParent(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?indentFrom(e,this.pos,this.base):0}}function isParent(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function bracketedAligned(e){let t=e.node,n=t.childAfter(t.from),i=t.lastChild;if(!n)return null;let r=e.options.simulateBreak,s=e.state.doc.lineAt(n.from),a=null==r||r<=s.from?s.to:Math.min(s.to,r);for(let e=n.to;;){let r=t.childAfter(e);if(!r||r==i)return null;if(!r.type.isSkipped)return r.from<a?n:null;e=r.to}}function delimitedIndent({closing:e,align:t=!0,units:n=1}){return i=>delimitedStrategy(i,t,n,e)}function delimitedStrategy(e,t,n,i,r){let s=e.textAfter,a=s.match(/^\s*/)[0].length,o=i&&s.slice(a,a+i.length)==i||r==e.pos+a,l=t?bracketedAligned(e):null;return l?o?e.column(l.from):e.column(l.to):e.baseIndent+(o?0:e.unit*n)}const flatIndent=e=>e.baseIndent;function continuedIndent({except:e,units:t=1}={}){return n=>{let i=e&&e.test(n.textAfter);return n.baseIndent+(i?0:t*n.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of((e=>{if(!e.docChanged||!e.isUserEvent("input.type"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,{head:i}=e.newSelection.main,r=n.lineAt(i);if(i>r.from+DontIndentBeyond)return e;let s=n.sliceString(r.from,i);if(!t.some((e=>e.test(s))))return e;let{state:a}=e,o=-1,l=[];for(let{head:e}of a.selection.ranges){let t=a.doc.lineAt(e);if(t.from==o)continue;o=t.from;let n=getIndentation(a,t.from);if(null==n)continue;let i=/^\s*/.exec(t.text)[0],r=indentString(a,n);i!=r&&l.push({from:t.from,to:t.from+i.length,insert:r})}return l.length?[e,{changes:l,sequential:!0}]:e}))}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside$1(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null}function syntaxFolding(e,t,n){let i=syntaxTree(e);if(0==i.length)return null;let r=null;for(let s=i.resolveInner(n);s;s=s.parent){if(s.to<=n||s.from>n)continue;if(r&&s.from<t)break;let i=s.type.prop(foldNodeProp);if(i){let a=i(s,e);a&&a.from<=n&&a.from>=t&&a.to>n&&(r=a)}}return r}function foldable(e,t,n){for(let i of e.facet(foldService)){let r=i(e,t,n);if(r)return r}return syntaxFolding(e,t,n)}class GutterMarker extends RangeValue{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}GutterMarker.prototype.elementClass="",GutterMarker.prototype.toDOM=void 0,GutterMarker.prototype.mapMode=MapMode.TrackBefore,GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1,GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},activeGutters=Facet.define();function gutter(e){return[gutters(),activeGutters.of(Object.assign(Object.assign({},defaults$1),e))]}const baseTheme$7=EditorView.baseTheme({".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#999",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"}}),unfixGutters=Facet.define({combine:e=>e.some((e=>e))});function gutters(e){let t=[gutterView,baseTheme$7];return e&&!1===e.fixed&&t.push(unfixGutters.of(!0)),t}const gutterView=ViewPlugin.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=e.state.facet(activeGutters).map((t=>new SingleGutterView(e,t)));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!e.state.facet(unfixGutters),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,i=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(i<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let n=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),i=[],r=this.gutters.map((e=>new UpdateContext(e,this.view.viewport,-this.view.documentPadding.top)));for(let e of this.view.viewportLineBlocks){let t;if(Array.isArray(e.type)){for(let n of e.type)if(n.type==BlockType.Text){t=n;break}}else t=e.type==BlockType.Text?e:void 0;if(t){i.length&&(i=[]),advanceCursor(n,i,e.from);for(let e of r)e.line(this.view,t,i)}}for(let e of r)e.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(activeGutters),n=e.state.facet(activeGutters),i=e.docChanged||e.heightChanged||e.viewportChanged||!RangeSet.eq(e.startState.facet(gutterLineClass),e.state.facet(gutterLineClass),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let t of this.gutters)t.update(e)&&(i=!0);else{i=!0;let r=[];for(let i of n){let n=t.indexOf(i);n<0?r.push(new SingleGutterView(this.view,i)):(this.gutters[n].update(e),r.push(this.gutters[n]))}for(let e of this.gutters)e.dom.remove(),r.indexOf(e)<0&&e.destroy();for(let e of r)this.dom.appendChild(e.dom);this.gutters=r}return i}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:PluginField.scrollMargins.from((e=>0!=e.gutters.length&&e.fixed?e.view.textDirection==Direction.LTR?{left:e.dom.offsetWidth}:{right:e.dom.offsetWidth}:null))});function asArray(e){return Array.isArray(e)?e:[e]}function advanceCursor(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class UpdateContext{constructor(e,t,n){this.gutter=e,this.height=n,this.localMarkers=[],this.i=0,this.cursor=RangeSet.iter(e.markers,t.from)}line(e,t,n){this.localMarkers.length&&(this.localMarkers=[]),advanceCursor(this.cursor,this.localMarkers,t.from);let i=n.length?this.localMarkers.concat(n):this.localMarkers,r=this.gutter.config.lineMarker(e,t,i);r&&i.unshift(r);let s=this.gutter;if(0==i.length&&!s.config.renderEmptyElements)return;let a=t.top-this.height;if(this.i==s.elements.length){let n=new GutterElement(e,t.height,a,i);s.elements.push(n),s.dom.appendChild(n.dom)}else s.elements[this.i].update(e,t.height,a,i);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class SingleGutterView{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,(i=>{let r=e.lineBlockAtHeight(i.clientY-e.documentTop);t.domEventHandlers[n](e,r,i)&&i.preventDefault()}));this.markers=asArray(t.markers(e)),t.initialSpacer&&(this.spacer=new GutterElement(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=asArray(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let n=e.view.viewport;return!RangeSet.eq(this.markers,t,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class GutterElement{constructor(e,t,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.update(e,t,n,i)}update(e,t,n,i){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),sameMarkers(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let n="cm-gutterElement",i=this.dom.firstChild;for(let r=0,s=0;;){let a=s,o=r<t.length?t[r++]:null,l=!1;if(o){let e=o.elementClass;e&&(n+=" "+e);for(let e=s;e<this.markers.length;e++)if(this.markers[e].compare(o)){a=e,l=!0;break}}else a=this.markers.length;for(;s<a;){let e=this.markers[s++];if(e.toDOM){e.destroy(i);let t=i.nextSibling;i.remove(),i=t}}if(!o)break;o.toDOM&&(l?i=i.nextSibling:this.dom.insertBefore(o.toDOM(e),i)),l&&s++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}function sameMarkers(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberConfig=Facet.define({combine:e=>combineConfig(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let e in t){let i=n[e],r=t[e];n[e]=i?(e,t,n)=>i(e,t,n)||r(e,t,n):r}return n}})});class NumberMarker extends GutterMarker{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(e,t){return e.state.facet(lineNumberConfig).formatNumber(t,e.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(lineNumberMarkers),lineMarker:(e,t,n)=>n.some((e=>e.toDOM))?null:new NumberMarker(formatNumber(e,e.state.doc.lineAt(t.from).number)),lineMarkerChange:e=>e.startState.facet(lineNumberConfig)!=e.state.facet(lineNumberConfig),initialSpacer:e=>new NumberMarker(formatNumber(e,maxLineNumber(e.state.doc.lines))),updateSpacer(e,t){let n=formatNumber(t.view,maxLineNumber(t.view.state.doc.lines));return n==e.number?e:new NumberMarker(n)},domEventHandlers:e.facet(lineNumberConfig).domEventHandlers})));function lineNumbers(e={}){return[lineNumberConfig.of(e),gutters(),lineNumberGutter]}function maxLineNumber(e){let t=9;for(;t<e;)t=10*t+9;return t}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],(e=>{let t=[],n=-1;for(let i of e.selection.ranges)if(i.empty){let r=e.doc.lineAt(i.head).from;r>n&&(n=r,t.push(activeLineGutterMarker.range(r)))}return RangeSet.of(t)}));function highlightActiveLineGutter(){return activeLineGutterHighlighter}function mapRange(e,t){let n=t.mapPos(e.from,1),i=t.mapPos(e.to,-1);return n>=i?void 0:{from:n,to:i}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some((e=>e.from<=n&&e.to>=n))||t.push(e.lineBlockAt(n));return t}const foldState=StateField.define({create:()=>Decoration.none,update(e,t){e=e.map(t.changes);for(let n of t.effects)n.is(foldEffect)&&!foldExists(e,n.value.from,n.value.to)?e=e.update({add:[foldWidget.range(n.value.from,n.value.to)]}):n.is(unfoldEffect)&&(e=e.update({filter:(e,t)=>n.value.from!=e||n.value.to!=t,filterFrom:n.value.from,filterTo:n.value.to}));if(t.selection){let n=!1,{head:i}=t.selection.main;e.between(i,i,((e,t)=>{e<i&&t>i&&(n=!0)})),n&&(e=e.update({filterFrom:i,filterTo:i,filter:(e,t)=>t<=i||e>=i}))}return e},provide:e=>EditorView.decorations.from(e)});function foldInside(e,t,n){var i;let r=null;return null===(i=e.field(foldState,!1))||void 0===i||i.between(t,n,((e,t)=>{(!r||r.from>e)&&(r={from:e,to:t})})),r}function foldExists(e,t,n){let i=!1;return e.between(t,t,((e,r)=>{e==t&&r==n&&(i=!0)})),i}function maybeEnable(e,t){return e.field(foldState,!1)?t:t.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=e=>{for(let t of selectedLines(e)){let n=foldable(e.state,t.from,t.to);if(n)return e.dispatch({effects:maybeEnable(e.state,[foldEffect.of(n),announceFold(e,n)])}),!0}return!1},unfoldCode=e=>{if(!e.state.field(foldState,!1))return!1;let t=[];for(let n of selectedLines(e)){let i=foldInside(e.state,n.from,n.to);i&&t.push(unfoldEffect.of(i),announceFold(e,i,!1))}return t.length&&e.dispatch({effects:t}),t.length>0};function announceFold(e,t,n=!0){let i=e.state.doc.lineAt(t.from).number,r=e.state.doc.lineAt(t.to).number;return EditorView.announce.of(`${e.state.phrase(n?"Folded lines":"Unfolded lines")} ${i} ${e.state.phrase("to")} ${r}.`)}const foldAll=e=>{let{state:t}=e,n=[];for(let i=0;i<t.doc.length;){let r=e.lineBlockAt(i),s=foldable(t,r.from,r.to);s&&n.push(foldEffect.of(s)),i=(s?e.lineBlockAt(s.to):r).to+1}return n.length&&e.dispatch({effects:maybeEnable(e.state,n)}),!!n.length},unfoldAll=e=>{let t=e.state.field(foldState,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,((e,t)=>{n.push(unfoldEffect.of({from:e,to:t}))})),e.dispatch({effects:n}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,placeholderText:""},foldConfig=Facet.define({combine:e=>combineConfig(e,defaultConfig)});function codeFolding(e){let t=[foldState,baseTheme$6];return e&&t.push(foldConfig.of(e)),t}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(e){let{state:t}=e,n=t.facet(foldConfig),i=t=>{let n=e.lineBlockAt(e.posAtDOM(t.target)),i=foldInside(e.state,n.from,n.to);i&&e.dispatch({effects:unfoldEffect.of(i)}),t.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(e,i);let r=document.createElement("span");return r.textContent=n.placeholderText,r.setAttribute("aria-label",t.phrase("folded code")),r.title=t.phrase("unfold"),r.className="cm-foldPlaceholder",r.onclick=i,r}}}),foldGutterDefaults={openText:"",closedText:"",markerDOM:null,domEventHandlers:{}};class FoldMarker extends GutterMarker{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function foldGutter(e={}){let t=Object.assign(Object.assign({},foldGutterDefaults),e),n=new FoldMarker(t,!0),i=new FoldMarker(t,!1),r=ViewPlugin.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(language)!=e.state.facet(language)||e.startState.field(foldState,!1)!=e.state.field(foldState,!1))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new RangeSetBuilder;for(let r of e.viewportLineBlocks){let s=foldInside(e.state,r.from,r.to)?i:foldable(e.state,r.from,r.to)?n:null;s&&t.add(r.from,r.from,s)}return t.finish()}}),{domEventHandlers:s}=t;return[r,gutter({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(r))||void 0===t?void 0:t.markers)||RangeSet.empty},initialSpacer:()=>new FoldMarker(t,!1),domEventHandlers:Object.assign(Object.assign({},s),{click:(e,t,n)=>{if(s.click&&s.click(e,t,n))return!0;let i=foldInside(e.state,t.from,t.to);if(i)return e.dispatch({effects:unfoldEffect.of(i)}),!0;let r=foldable(e.state,t.from,t.to);return!!r&&(e.dispatch({effects:foldEffect.of(r)}),!0)}})}),codeFolding()]}const baseTheme$6=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),baseTheme$5=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine:e=>combineConfig(e,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist})}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"}),bracketMatchingState=StateField.define({create:()=>Decoration.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],i=t.state.facet(bracketMatchingConfig);for(let e of t.state.selection.ranges){if(!e.empty)continue;let r=matchBrackets(t.state,e.head,-1,i)||e.head>0&&matchBrackets(t.state,e.head-1,1,i)||i.afterCursor&&(matchBrackets(t.state,e.head,1,i)||e.head<t.state.doc.length&&matchBrackets(t.state,e.head+1,-1,i));if(!r)continue;let s=r.matched?matchingMark:nonmatchingMark;n.push(s.range(r.start.from,r.start.to)),r.end&&n.push(s.range(r.end.from,r.end.to))}return Decoration.set(n,!0)},provide:e=>EditorView.decorations.from(e)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$5];function bracketMatching(e={}){return[bracketMatchingConfig.of(e),bracketMatchingUnique]}function matchingNodes(e,t,n){let i=e.prop(t<0?NodeProp.openedBy:NodeProp.closedBy);if(i)return i;if(1==e.name.length){let i=n.indexOf(e.name);if(i>-1&&i%2==(t<0?1:0))return[n[i+t]]}return null}function matchBrackets(e,t,n,i={}){let r=i.maxScanDistance||DefaultScanDist,s=i.brackets||DefaultBrackets,a=syntaxTree(e),o=a.resolveInner(t,n);for(let i=o;i;i=i.parent){let r=matchingNodes(i.type,n,s);if(r&&i.from<i.to)return matchMarkedBrackets(e,t,n,i,r,s)}return matchPlainBrackets(e,t,n,a,o.type,r,s)}function matchMarkedBrackets(e,t,n,i,r,s){let a=i.parent,o={from:i.from,to:i.to},l=0,c=null==a?void 0:a.cursor;if(c&&(n<0?c.childBefore(i.from):c.childAfter(i.to)))do{if(n<0?c.to<=i.from:c.from>=i.to){if(0==l&&r.indexOf(c.type.name)>-1&&c.from<c.to)return{start:o,end:{from:c.from,to:c.to},matched:!0};if(matchingNodes(c.type,n,s))l++;else if(matchingNodes(c.type,-n,s)&&(l--,0==l))return{start:o,end:c.from==c.to?void 0:{from:c.from,to:c.to},matched:!1}}}while(n<0?c.prevSibling():c.nextSibling());return{start:o,matched:!1}}function matchPlainBrackets(e,t,n,i,r,s,a){let o=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=a.indexOf(o);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?t-1:t,to:n>0?t+1:t},h=e.doc.iterRange(t,n>0?e.doc.length:0),d=0;for(let e=0;!h.next().done&&e<=s;){let s=h.value;n<0&&(e+=s.length);let o=t+e*n;for(let e=n>0?0:s.length-1,t=n>0?s.length:-1;e!=t;e+=n){let t=a.indexOf(s[e]);if(!(t<0||i.resolve(o+e,1).type!=r))if(t%2==0==n>0)d++;else{if(1==d)return{start:c,end:{from:o+e,to:o+e+1},matched:t>>1==l>>1};d--}}n>0&&(e+=s.length)}return h.done?{start:c,matched:!1}:null}function updateSel(e,t){return EditorSelection.create(e.ranges.map(t),e.mainIndex)}function setSel(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:e,dispatch:t},n){let i=updateSel(e.selection,n);return!i.eq(e.selection)&&(t(setSel(e,i)),!0)}function rangeEnd(e,t){return EditorSelection.cursor(t?e.to:e.from)}function cursorByChar(e,t){return moveSel(e,(n=>n.empty?e.moveByChar(n,t):rangeEnd(n,t)))}const cursorCharLeft=e=>cursorByChar(e,e.textDirection!=Direction.LTR),cursorCharRight=e=>cursorByChar(e,e.textDirection==Direction.LTR);function cursorByGroup(e,t){return moveSel(e,(n=>n.empty?e.moveByGroup(n,t):rangeEnd(n,t)))}const cursorGroupLeft=e=>cursorByGroup(e,e.textDirection!=Direction.LTR),cursorGroupRight=e=>cursorByGroup(e,e.textDirection==Direction.LTR);function interestingNode(e,t,n){if(t.type.prop(n))return!0;let i=t.to-t.from;return i&&(i>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function moveBySyntax(e,t,n){let i,r,s=syntaxTree(e).resolveInner(t.head),a=n?NodeProp.closedBy:NodeProp.openedBy;for(let i=t.head;;){let t=n?s.childAfter(i):s.childBefore(i);if(!t)break;interestingNode(e,t,a)?s=t:i=n?t.to:t.from}return r=s.type.prop(a)&&(i=n?matchBrackets(e,s.from,1):matchBrackets(e,s.to,-1))&&i.matched?n?i.end.to:i.end.from:n?s.to:s.from,EditorSelection.cursor(r,n?-1:1)}const cursorSyntaxLeft=e=>moveSel(e,(t=>moveBySyntax(e.state,t,e.textDirection!=Direction.LTR))),cursorSyntaxRight=e=>moveSel(e,(t=>moveBySyntax(e.state,t,e.textDirection==Direction.LTR)));function cursorByLine(e,t){return moveSel(e,(n=>{if(!n.empty)return rangeEnd(n,t);let i=e.moveVertically(n,t);return i.head!=n.head?i:e.moveToLineBoundary(n,t)}))}const cursorLineUp=e=>cursorByLine(e,!1),cursorLineDown=e=>cursorByLine(e,!0);function cursorByPage(e,t){let{state:n}=e,i=updateSel(n.selection,(n=>n.empty?e.moveVertically(n,t,e.dom.clientHeight):rangeEnd(n,t)));if(i.eq(n.selection))return!1;let r=e.coordsAtPos(n.selection.main.head),s=e.scrollDOM.getBoundingClientRect();return e.dispatch(setSel(n,i),{effects:r&&r.top>s.top&&r.bottom<s.bottom?EditorView.scrollIntoView(i.main.head,{y:"start",yMargin:r.top-s.top}):void 0}),!0}const cursorPageUp=e=>cursorByPage(e,!1),cursorPageDown=e=>cursorByPage(e,!0);function moveByLineBoundary(e,t,n){let i=e.lineBlockAt(t.head),r=e.moveToLineBoundary(t,n);if(r.head==t.head&&r.head!=(n?i.to:i.from)&&(r=e.moveToLineBoundary(t,n,!1)),!n&&r.head==i.from&&i.length){let n=/^\s*/.exec(e.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;n&&t.head!=i.from+n&&(r=EditorSelection.cursor(i.from+n))}return r}const cursorLineBoundaryForward=e=>moveSel(e,(t=>moveByLineBoundary(e,t,!0))),cursorLineBoundaryBackward=e=>moveSel(e,(t=>moveByLineBoundary(e,t,!1))),cursorLineStart=e=>moveSel(e,(t=>EditorSelection.cursor(e.lineBlockAt(t.head).from,1))),cursorLineEnd=e=>moveSel(e,(t=>EditorSelection.cursor(e.lineBlockAt(t.head).to,-1)));function toMatchingBracket(e,t,n){let i=!1,r=updateSel(e.selection,(t=>{let r=matchBrackets(e,t.head,-1)||matchBrackets(e,t.head,1)||t.head>0&&matchBrackets(e,t.head-1,1)||t.head<e.doc.length&&matchBrackets(e,t.head+1,-1);if(!r||!r.end)return t;i=!0;let s=r.start.from==t.head?r.end.to:r.end.from;return n?EditorSelection.range(t.anchor,s):EditorSelection.cursor(s)}));return!!i&&(t(setSel(e,r)),!0)}const cursorMatchingBracket=({state:e,dispatch:t})=>toMatchingBracket(e,t,!1);function extendSel(e,t){let n=updateSel(e.state.selection,(e=>{let n=t(e);return EditorSelection.range(e.anchor,n.head,n.goalColumn)}));return!n.eq(e.state.selection)&&(e.dispatch(setSel(e.state,n)),!0)}function selectByChar(e,t){return extendSel(e,(n=>e.moveByChar(n,t)))}const selectCharLeft=e=>selectByChar(e,e.textDirection!=Direction.LTR),selectCharRight=e=>selectByChar(e,e.textDirection==Direction.LTR);function selectByGroup(e,t){return extendSel(e,(n=>e.moveByGroup(n,t)))}const selectGroupLeft=e=>selectByGroup(e,e.textDirection!=Direction.LTR),selectGroupRight=e=>selectByGroup(e,e.textDirection==Direction.LTR),selectSyntaxLeft=e=>extendSel(e,(t=>moveBySyntax(e.state,t,e.textDirection!=Direction.LTR))),selectSyntaxRight=e=>extendSel(e,(t=>moveBySyntax(e.state,t,e.textDirection==Direction.LTR)));function selectByLine(e,t){return extendSel(e,(n=>e.moveVertically(n,t)))}const selectLineUp=e=>selectByLine(e,!1),selectLineDown=e=>selectByLine(e,!0);function selectByPage(e,t){return extendSel(e,(n=>e.moveVertically(n,t,e.dom.clientHeight)))}const selectPageUp=e=>selectByPage(e,!1),selectPageDown=e=>selectByPage(e,!0),selectLineBoundaryForward=e=>extendSel(e,(t=>moveByLineBoundary(e,t,!0))),selectLineBoundaryBackward=e=>extendSel(e,(t=>moveByLineBoundary(e,t,!1))),selectLineStart=e=>extendSel(e,(t=>EditorSelection.cursor(e.lineBlockAt(t.head).from))),selectLineEnd=e=>extendSel(e,(t=>EditorSelection.cursor(e.lineBlockAt(t.head).to))),cursorDocStart=({state:e,dispatch:t})=>(t(setSel(e,{anchor:0})),!0),cursorDocEnd=({state:e,dispatch:t})=>(t(setSel(e,{anchor:e.doc.length})),!0),selectDocStart=({state:e,dispatch:t})=>(t(setSel(e,{anchor:e.selection.main.anchor,head:0})),!0),selectDocEnd=({state:e,dispatch:t})=>(t(setSel(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0),selectAll=({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0),selectLine=({state:e,dispatch:t})=>{let n=selectedLineBlocks(e).map((({from:t,to:n})=>EditorSelection.range(t,Math.min(n+1,e.doc.length))));return t(e.update({selection:EditorSelection.create(n),userEvent:"select"})),!0},selectParentSyntax=({state:e,dispatch:t})=>{let n=updateSel(e.selection,(t=>{var n;let i=syntaxTree(e).resolveInner(t.head,1);for(;!(i.from<t.from&&i.to>=t.to||i.to>t.to&&i.from<=t.from)&&(null===(n=i.parent)||void 0===n?void 0:n.parent);)i=i.parent;return EditorSelection.range(i.to,i.from)}));return t(setSel(e,n)),!0},simplifySelection=({state:e,dispatch:t})=>{let n=e.selection,i=null;return n.ranges.length>1?i=EditorSelection.create([n.main]):n.main.empty||(i=EditorSelection.create([EditorSelection.cursor(n.main.head)])),!!i&&(t(setSel(e,i)),!0)};function deleteBy({state:e,dispatch:t},n){if(e.readOnly)return!1;let i="delete.selection",r=e.changeByRange((e=>{let{from:t,to:r}=e;if(t==r){let e=n(t);e<t?i="delete.backward":e>t&&(i="delete.forward"),t=Math.min(t,e),r=Math.max(r,e)}return t==r?{range:e}:{changes:{from:t,to:r},range:EditorSelection.cursor(t)}}));return!r.changes.empty&&(t(e.update(r,{scrollIntoView:!0,userEvent:i})),!0)}function skipAtomic(e,t,n){if(e instanceof EditorView)for(let i of e.pluginField(PluginField.atomicRanges))i.between(t,t,((e,i)=>{e<t&&i>t&&(t=n?i:e)}));return t}const deleteByChar=(e,t)=>deleteBy(e,(n=>{let i,r,{state:s}=e,a=s.doc.lineAt(n);if(!t&&n>a.from&&n<a.from+200&&!/[^ \t]/.test(i=a.text.slice(0,n-a.from))){if("\t"==i[i.length-1])return n-1;let e=countColumn(i,s.tabSize)%getIndentUnit(s)||getIndentUnit(s);for(let t=0;t<e&&" "==i[i.length-1-t];t++)n--;r=n}else r=findClusterBreak(a.text,n-a.from,t,t)+a.from,r==n&&a.number!=(t?s.doc.lines:1)&&(r+=t?1:-1);return skipAtomic(e,r,t)})),deleteCharBackward=e=>deleteByChar(e,!1),deleteCharForward=e=>deleteByChar(e,!0),deleteByGroup=(e,t)=>deleteBy(e,(n=>{let i=n,{state:r}=e,s=r.doc.lineAt(i),a=r.charCategorizer(i);for(let e=null;;){if(i==(t?s.to:s.from)){i==n&&s.number!=(t?r.doc.lines:1)&&(i+=t?1:-1);break}let o=findClusterBreak(s.text,i-s.from,t)+s.from,l=s.text.slice(Math.min(i,o)-s.from,Math.max(i,o)-s.from),c=a(l);if(null!=e&&c!=e)break;" "==l&&i==n||(e=c),i=o}return skipAtomic(e,i,t)})),deleteGroupBackward=e=>deleteByGroup(e,!1),deleteGroupForward=e=>deleteByGroup(e,!0),deleteToLineEnd=e=>deleteBy(e,(t=>{let n=e.lineBlockAt(t).to;return skipAtomic(e,t<n?n:Math.min(e.state.doc.length,t+1),!0)})),deleteToLineStart=e=>deleteBy(e,(t=>{let n=e.lineBlockAt(t).from;return skipAtomic(e,t>n?n:Math.max(0,t-1),!1)})),splitLine=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:Text.of(["",""])},range:EditorSelection.cursor(e.from)})));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let n=t.from,i=e.doc.lineAt(n),r=n==i.from?n-1:findClusterBreak(i.text,n-i.from,!1)+i.from,s=n==i.to?n+1:findClusterBreak(i.text,n-i.from,!0)+i.from;return{changes:{from:r,to:s,insert:e.doc.slice(n,s).append(e.doc.slice(r,n))},range:EditorSelection.cursor(s)}}));return!n.changes.empty&&(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(e){let t=[],n=-1;for(let i of e.selection.ranges){let r=e.doc.lineAt(i.from),s=e.doc.lineAt(i.to);if(i.empty||i.to!=s.from||(s=e.doc.lineAt(i.to-1)),n>=r.number){let e=t[t.length-1];e.to=s.to,e.ranges.push(i)}else t.push({from:r.from,to:s.to,ranges:[i]});n=s.number+1}return t}function moveLine(e,t,n){if(e.readOnly)return!1;let i=[],r=[];for(let t of selectedLineBlocks(e)){if(n?t.to==e.doc.length:0==t.from)continue;let s=e.doc.lineAt(n?t.to+1:t.from-1),a=s.length+1;if(n){i.push({from:t.to,to:s.to},{from:t.from,insert:s.text+e.lineBreak});for(let n of t.ranges)r.push(EditorSelection.range(Math.min(e.doc.length,n.anchor+a),Math.min(e.doc.length,n.head+a)))}else{i.push({from:s.from,to:t.from},{from:t.to,insert:e.lineBreak+s.text});for(let e of t.ranges)r.push(EditorSelection.range(e.anchor-a,e.head-a))}}return!!i.length&&(t(e.update({changes:i,scrollIntoView:!0,selection:EditorSelection.create(r,e.selection.mainIndex),userEvent:"move.line"})),!0)}const moveLineUp=({state:e,dispatch:t})=>moveLine(e,t,!1),moveLineDown=({state:e,dispatch:t})=>moveLine(e,t,!0);function copyLine(e,t,n){if(e.readOnly)return!1;let i=[];for(let t of selectedLineBlocks(e))n?i.push({from:t.from,insert:e.doc.slice(t.from,t.to)+e.lineBreak}):i.push({from:t.to,insert:e.lineBreak+e.doc.slice(t.from,t.to)});return t(e.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:e,dispatch:t})=>copyLine(e,t,!1),copyLineDown=({state:e,dispatch:t})=>copyLine(e,t,!0),deleteLine=e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(selectedLineBlocks(t).map((({from:e,to:n})=>(e>0?e--:n<t.doc.length&&n++,{from:e,to:n})))),i=updateSel(t.selection,(t=>e.moveVertically(t,!0))).map(n);return e.dispatch({changes:n,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n,i=syntaxTree(e).resolveInner(t),r=i.childBefore(t),s=i.childAfter(t);return r&&s&&r.to<=t&&s.from>=t&&(n=r.type.prop(NodeProp.closedBy))&&n.indexOf(s.name)>-1&&e.doc.lineAt(r.to).from==e.doc.lineAt(s.from).from?{from:r.to,to:s.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=t.changeByRange((n=>{let{from:i,to:r}=n,s=t.doc.lineAt(i),a=!e&&i==r&&isBetweenBrackets(t,i);e&&(i=r=(r<=s.to?s:t.doc.lineAt(r)).to);let o=new IndentContext(t,{simulateBreak:i,simulateDoubleBreak:!!a}),l=getIndentation(o,i);for(null==l&&(l=/^\s*/.exec(t.doc.lineAt(i).text)[0].length);r<s.to&&/\s/.test(s.text[r-s.from]);)r++;a?({from:i,to:r}=a):i>s.from&&i<s.from+100&&!/\S/.test(s.text.slice(0,i))&&(i=s.from);let c=["",indentString(t,l)];return a&&c.push(indentString(t,o.lineIndent(s.from,-1))),{changes:{from:i,to:r,insert:Text.of(c)},range:EditorSelection.cursor(i+1+c[1].length)}}));return n(t.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(e,t){let n=-1;return e.changeByRange((i=>{let r=[];for(let s=i.from;s<=i.to;){let a=e.doc.lineAt(s);a.number>n&&(i.empty||i.to>a.from)&&(t(a,r,i),n=a.number),s=a.to+1}let s=e.changes(r);return{changes:r,range:EditorSelection.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}}))}const indentSelection=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),i=new IndentContext(e,{overrideIndentation:e=>{let t=n[e];return t??-1}}),r=changeBySelectedLine(e,((t,r,s)=>{let a=getIndentation(i,t.from);if(null==a)return;/\S/.test(t.text)||(a=0);let o=/^\s*/.exec(t.text)[0],l=indentString(e,a);(o!=l||s.from<t.from+o.length)&&(n[t.from]=a,r.push({from:t.from,to:t.from+o.length,insert:l}))}));return r.changes.empty||t(e.update(r,{userEvent:"indent"})),!0},indentMore=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(changeBySelectedLine(e,((t,n)=>{n.push({from:t.from,insert:e.facet(indentUnit)})})),{userEvent:"input.indent"})),!0),indentLess=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(changeBySelectedLine(e,((t,n)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let r=countColumn(i,e.tabSize),s=0,a=indentString(e,Math.max(0,r-getIndentUnit(e)));for(;s<i.length&&s<a.length&&i.charCodeAt(s)==a.charCodeAt(s);)s++;n.push({from:t.from+s,to:t.from+i.length,insert:a.slice(s)})})),{userEvent:"delete.dedent"})),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteToLineStart},{mac:"Mod-Delete",run:deleteToLineEnd}].concat(emacsStyleKeymap.map((e=>({mac:e.key,run:e.run,shift:e.shift})))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket}].concat(standardKeymap),defaults={brackets:["(","[","{","'",'"'],before:")]}'\":;>"},closeBracketEffect=StateEffect.define({map(e,t){let n=t.mapPos(e,-1,MapMode.TrackAfter);return n??void 0}}),skipBracketEffect=StateEffect.define({map:(e,t)=>t.mapPos(e)}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1,closedBracket.endSide=-1;const bracketState=StateField.define({create:()=>RangeSet.empty,update(e,t){if(t.selection){let n=t.state.doc.lineAt(t.selection.main.head).from,i=t.startState.doc.lineAt(t.startState.selection.main.head).from;n!=t.changes.mapPos(i,-1)&&(e=RangeSet.empty)}e=e.map(t.changes);for(let n of t.effects)n.is(closeBracketEffect)?e=e.update({add:[closedBracket.range(n.value,n.value+1)]}):n.is(skipBracketEffect)&&(e=e.update({filter:e=>e!=n.value}));return e}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(e){for(let t=0;t<definedClosing.length;t+=2)if(definedClosing.charCodeAt(t)==e)return definedClosing.charAt(t+1);return fromCodePoint(e<128?e:e+1)}function config$1(e,t){return e.languageDataAt("closeBrackets",t)[0]||defaults}const android="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of(((e,t,n,i)=>{if((android?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let r=e.state.selection.main;if(i.length>2||2==i.length&&1==codePointSize(codePointAt(i,0))||t!=r.from||n!=r.to)return!1;let s=insertBracket(e.state,i);return!!s&&(e.dispatch(s),!0)})),deleteBracketPair=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=config$1(e,e.selection.main.head).brackets||defaults.brackets,i=null,r=e.changeByRange((t=>{if(t.empty){let i=prevChar(e.doc,t.head);for(let r of n)if(r==i&&nextChar(e.doc,t.head)==closing(codePointAt(r,0)))return{changes:{from:t.head-r.length,to:t.head+r.length},range:EditorSelection.cursor(t.head-r.length),userEvent:"delete.backward"}}return{range:i=t}}));return i||t(e.update(r,{scrollIntoView:!0})),!i},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(e,t){let n=config$1(e,e.selection.main.head),i=n.brackets||defaults.brackets;for(let r of i){let s=closing(codePointAt(r,0));if(t==r)return s==r?handleSame(e,r,i.indexOf(r+r+r)>-1):handleOpen(e,r,s,n.before||defaults.before);if(t==s&&closedBracketAt(e,e.selection.main.from))return handleClose(e,r,s)}return null}function closedBracketAt(e,t){let n=!1;return e.field(bracketState).between(0,e.doc.length,(e=>{e==t&&(n=!0)})),n}function nextChar(e,t){let n=e.sliceString(t,t+2);return n.slice(0,codePointSize(codePointAt(n,0)))}function prevChar(e,t){let n=e.sliceString(t-2,t);return codePointSize(codePointAt(n,0))==n.length?n:n.slice(1)}function handleOpen(e,t,n,i){let r=null,s=e.changeByRange((s=>{if(!s.empty)return{changes:[{insert:t,from:s.from},{insert:n,from:s.to}],effects:closeBracketEffect.of(s.to+t.length),range:EditorSelection.range(s.anchor+t.length,s.head+t.length)};let a=nextChar(e.doc,s.head);return!a||/\s/.test(a)||i.indexOf(a)>-1?{changes:{insert:t+n,from:s.head},effects:closeBracketEffect.of(s.head+t.length),range:EditorSelection.cursor(s.head+t.length)}:{range:r=s}}));return r?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(e,t,n){let i=null,r=e.selection.ranges.map((t=>t.empty&&nextChar(e.doc,t.head)==n?EditorSelection.cursor(t.head+n.length):i=t));return i?null:e.update({selection:EditorSelection.create(r,e.selection.mainIndex),scrollIntoView:!0,effects:e.selection.ranges.map((({from:e})=>skipBracketEffect.of(e)))})}function handleSame(e,t,n){let i=null,r=e.changeByRange((r=>{if(!r.empty)return{changes:[{insert:t,from:r.from},{insert:t,from:r.to}],effects:closeBracketEffect.of(r.to+t.length),range:EditorSelection.range(r.anchor+t.length,r.head+t.length)};let s=r.head,a=nextChar(e.doc,s);if(a==t){if(nodeStart(e,s))return{changes:{insert:t+t,from:s},effects:closeBracketEffect.of(s+t.length),range:EditorSelection.cursor(s+t.length)};if(closedBracketAt(e,s)){let i=n&&e.sliceDoc(s,s+3*t.length)==t+t+t;return{range:EditorSelection.cursor(s+t.length*(i?3:1)),effects:skipBracketEffect.of(s)}}}else{if(n&&e.sliceDoc(s-2*t.length,s)==t+t&&nodeStart(e,s-2*t.length))return{changes:{insert:t+t+t+t,from:s},effects:closeBracketEffect.of(s+t.length),range:EditorSelection.cursor(s+t.length)};if(e.charCategorizer(s)(a)!=CharCategory.Word){let n=e.sliceDoc(s-1,s);if(n!=t&&e.charCategorizer(s)(n)!=CharCategory.Word&&!probablyInString(e,s,t))return{changes:{insert:t+t,from:s},effects:closeBracketEffect.of(s+t.length),range:EditorSelection.cursor(s+t.length)}}}return{range:i=r}}));return i?null:e.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(e,t){let n=syntaxTree(e).resolveInner(t+1);return n.parent&&n.from==t}function probablyInString(e,t,n){let i=syntaxTree(e).resolveInner(t,-1);for(let r=0;r<5;r++){if(e.sliceDoc(i.from,i.from+n.length)==n)return!0;let r=i.to==t&&i.parent;if(!r)break;i=r}return!1}const panelConfig=Facet.define({combine(e){let t,n;for(let i of e)t=t||i.topContainer,n=n||i.bottomContainer;return{topContainer:t,bottomContainer:n}}});function getPanel(e,t){let n=e.plugin(panelPlugin),i=n?n.specs.indexOf(t):-1;return i>-1?n.panels[i]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(e){this.input=e.state.facet(showPanel),this.specs=this.input.filter((e=>e)),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(panelConfig);this.top=new PanelGroup(e,!0,t.topContainer),this.bottom=new PanelGroup(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(e){let t=e.state.facet(panelConfig);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new PanelGroup(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(showPanel);if(n!=this.input){let t=n.filter((e=>e)),i=[],r=[],s=[],a=[];for(let n of t){let t,o=this.specs.indexOf(n);o<0?(t=n(e.view),a.push(t)):(t=this.panels[o],t.update&&t.update(e)),i.push(t),(t.top?r:s).push(t)}this.specs=t,this.panels=i,this.top.sync(r),this.bottom.sync(s);for(let e of a)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let t of this.panels)t.update&&t.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:PluginField.scrollMargins.from((e=>({top:e.top.scrollMargin(),bottom:e.bottom.scrollMargin()})))});class PanelGroup{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=rm(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=rm(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function rm(e){let t=e.nextSibling;return e.remove(),t}const baseTheme$4=EditorView.baseTheme({".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"}}),showPanel=Facet.define({enables:[panelPlugin,baseTheme$4]});function crelt(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i];"string"==typeof r?e.setAttribute(i,r):null!=r&&(e[i]=r)}t++}for(;t<arguments.length;t++)add(e,arguments[t]);return e}function add(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)add(e,t[n])}}const basicNormalize="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class SearchCursor{constructor(e,t,n=0,i=e.length,r){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,i),this.bufferStart=n,this.normalize=r?e=>r(basicNormalize(e)):basicNormalize,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=fromCodePoint(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(e);let i=this.normalize(t);for(let e=0,r=n;;e++){let s=i.charCodeAt(e),a=this.match(s,r);if(a)return this.value=a,this;if(e==i.length-1)break;r==n&&e<t.length&&t.charCodeAt(e)==s&&r++}}}match(e,t){let n=null;for(let i=0;i<this.matches.length;i+=2){let r=this.matches[i],s=!1;this.query.charCodeAt(r)==e&&(r==this.query.length-1?n={from:this.matches[i+1],to:t+1}:(this.matches[i]++,s=!0)),s||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?n={from:t,to:t+1}:this.matches.push(1,t)),n}}"undefined"!=typeof Symbol&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(null==/x/.unicode?"":"u");class RegExpCursor{constructor(e,t,n,i=0,r=e.length){if(this.to=r,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new MultilineRegExpCursor(e,t,n,i,r);this.re=new RegExp(t,baseFlags+((null==n?void 0:n.ignoreCase)?"i":"")),this.iter=e.iter();let s=e.lineAt(i);this.curLineStart=s.from,this.matchPos=i,this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,i=n+t[0].length;if(this.matchPos=i+(n==i?1:0),n==this.curLine.length&&this.nextLine(),n<i||n>this.value.to)return this.value={from:n,to:i,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const flattened=new WeakMap;class FlattenedDoc{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let i=flattened.get(e);if(!i||i.from>=n||i.to<=t){let i=new FlattenedDoc(t,e.sliceString(t,n));return flattened.set(e,i),i}if(i.from==t&&i.to==n)return i;let{text:r,from:s}=i;return s>t&&(r=e.sliceString(t,s)+r,s=t),i.to<n&&(r+=e.sliceString(i.to,n)),flattened.set(e,new FlattenedDoc(s,r)),new FlattenedDoc(t,r.slice(t-s,n-s))}}class MultilineRegExpCursor{constructor(e,t,n,i,r){this.text=e,this.to=r,this.done=!1,this.value=empty,this.matchPos=i,this.re=new RegExp(t,baseFlags+((null==n?void 0:n.ignoreCase)?"i":"")),this.flat=FlattenedDoc.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t&&this.flat.to<this.to&&t.index+t[0].length>this.flat.text.length-10&&(t=null),t){let e=this.flat.from+t.index,n=e+t[0].length;return this.value={from:e,to:n,match:t},this.matchPos=n+(e==n?1:0),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function validRegExp(e){try{return new RegExp(e,baseFlags),!0}catch(e){return!1}}function createLineDialog(e){let t=crelt("input",{class:"cm-textfield",name:"line"});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!n)return;let{state:i}=e,r=i.doc.lineAt(i.selection.main.head),[,s,a,o,l]=n,c=o?+o.slice(1):0,h=a?+a:r.number;if(a&&l){let e=h/100;s&&(e=e*("-"==s?-1:1)+r.number/i.doc.lines),h=Math.round(i.doc.lines*e)}else a&&s&&(h=h*("-"==s?-1:1)+r.number);let d=i.doc.line(Math.max(1,Math.min(i.doc.lines,h)));e.dispatch({effects:dialogEffect.of(!1),selection:EditorSelection.cursor(d.from+Math.max(0,Math.min(c,d.length))),scrollIntoView:!0}),e.focus()}return{dom:crelt("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:dialogEffect.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),n())},onsubmit:e=>{e.preventDefault(),n()}},crelt("label",e.state.phrase("Go to line"),": ",t)," ",crelt("button",{class:"cm-button",type:"submit"},e.state.phrase("go"))),pos:-10}}"undefined"!=typeof Symbol&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});const dialogEffect=StateEffect.define(),dialogField=StateField.define({create:()=>!0,update(e,t){for(let n of t.effects)n.is(dialogEffect)&&(e=n.value);return e},provide:e=>showPanel.from(e,(e=>e?createLineDialog:null))}),gotoLine=e=>{let t=getPanel(e,createLineDialog);if(!t){let n=[dialogEffect.of(!0)];null==e.state.field(dialogField,!1)&&n.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),e.dispatch({effects:n}),t=getPanel(e,createLineDialog)}return t&&t.dom.querySelector("input").focus(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100},highlightConfig=Facet.define({combine:e=>combineConfig(e,defaultHighlightOptions,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});function highlightSelectionMatches(e){let t=[defaultTheme,matchHighlighter];return e&&t.push(highlightConfig.of(e)),t}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"}),matchHighlighter=ViewPlugin.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(highlightConfig),{state:n}=e,i=n.selection;if(i.ranges.length>1)return Decoration.none;let r,s=i.main,a=null;if(s.empty){if(!t.highlightWordAroundCursor)return Decoration.none;let e=n.wordAt(s.head);if(!e)return Decoration.none;a=n.charCategorizer(s.head),r=n.sliceDoc(e.from,e.to)}else{let e=s.to-s.from;if(e<t.minSelectionLength||e>200)return Decoration.none;if(r=n.sliceDoc(s.from,s.to).trim(),!r)return Decoration.none}let o=[];for(let i of e.visibleRanges){let e=new SearchCursor(n.doc,r,i.from,i.to);for(;!e.next().done;){let{from:i,to:r}=e.value;if((!a||(0==i||a(n.sliceDoc(i-1,i))!=CharCategory.Word)&&(r==n.doc.length||a(n.sliceDoc(r,r+1))!=CharCategory.Word))&&(a&&i<=s.from&&r>=s.to?o.push(mainMatchDeco.range(i,r)):(i>=s.to||r<=s.from)&&o.push(matchDeco.range(i,r)),o.length>t.maxMatches))return Decoration.none}}return Decoration.set(o)}},{decorations:e=>e.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:e,dispatch:t})=>{let{selection:n}=e,i=EditorSelection.create(n.ranges.map((t=>e.wordAt(t.head)||EditorSelection.cursor(t.head))),n.mainIndex);return!i.eq(n)&&(t(e.update({selection:i})),!0)};function findNextOccurrence(e,t){let{main:n,ranges:i}=e.selection,r=e.wordAt(n.head),s=r&&r.from==n.from&&r.to==n.to;for(let n=!1,r=new SearchCursor(e.doc,t,i[i.length-1].to);;){if(r.next(),!r.done){if(n&&i.some((e=>e.from==r.value.from)))continue;if(s){let t=e.wordAt(r.value.from);if(!t||t.from!=r.value.from||t.to!=r.value.to)continue}return r.value}if(n)return null;r=new SearchCursor(e.doc,t,0,Math.max(0,i[i.length-1].from-1)),n=!0}}const selectNextOccurrence=({state:e,dispatch:t})=>{let{ranges:n}=e.selection;if(n.some((e=>e.from===e.to)))return selectWord({state:e,dispatch:t});let i=e.sliceDoc(n[0].from,n[0].to);if(e.selection.ranges.some((t=>e.sliceDoc(t.from,t.to)!=i)))return!1;let r=findNextOccurrence(e,i);return!!r&&(t(e.update({selection:e.selection.addRange(EditorSelection.range(r.from,r.to),!1),effects:EditorView.scrollIntoView(r.to)})),!0)},searchConfigFacet=Facet.define({combine(e){var t;return{top:e.reduce(((e,t)=>null!=e?e:t.top),void 0)||!1,caseSensitive:e.reduce(((e,t)=>null!=e?e:t.caseSensitive||t.matchCase),void 0)||!1,createPanel:(null===(t=e.find((e=>e.createPanel)))||void 0===t?void 0:t.createPanel)||(e=>new SearchPanel(e))}}});class SearchQuery{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search))}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}}class QueryType{constructor(e){this.spec=e}}class StringQuery extends QueryType{constructor(e){super(e),this.unquoted=e.search.replace(/\\([nrt\\])/g,((e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"))}cursor(e,t=0,n=e.length){return new SearchCursor(e,this.unquoted,t,n,this.spec.caseSensitive?void 0:e=>e.toLowerCase())}nextMatch(e,t,n){let i=this.cursor(e,n).nextOverlapping();return i.done&&(i=this.cursor(e,0,t).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,t,n){for(let i=n;;){let n=Math.max(t,i-1e4-this.unquoted.length),r=this.cursor(e,n,i),s=null;for(;!r.nextOverlapping().done;)s=r.value;if(s)return s;if(n==t)return null;i-=1e4}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.length)}getReplacement(e){return this.spec.replace}matchAll(e,t){let n=this.cursor(e),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let r=this.cursor(e,Math.max(0,t-this.unquoted.length),Math.min(n+this.unquoted.length,e.length));for(;!r.next().done;)i(r.value.from,r.value.to)}}class RegExpQuery extends QueryType{cursor(e,t=0,n=e.length){return new RegExpCursor(e,this.spec.search,this.spec.caseSensitive?void 0:{ignoreCase:!0},t,n)}nextMatch(e,t,n){let i=this.cursor(e,n).next();return i.done&&(i=this.cursor(e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,n){for(let i=1;;i++){let r=Math.max(t,n-1e4*i),s=this.cursor(e,r,n),a=null;for(;!s.next().done;)a=s.value;if(a&&(r==t||a.from>r+10))return a;if(r==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.length)}getReplacement(e){return this.spec.replace.replace(/\$([$&\d+])/g,((t,n)=>"$"==n?"$":"&"==n?e.match[0]:"0"!=n&&+n<e.match.length?e.match[n]:t))}matchAll(e,t){let n=this.cursor(e),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let r=this.cursor(e,Math.max(0,t-250),Math.min(n+250,e.length));for(;!r.next().done;)i(r.value.from,r.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create:e=>new SearchState(defaultQuery(e).create(),null),update(e,t){for(let n of t.effects)n.is(setSearchQuery)?e=new SearchState(n.value.create(),e.panel):n.is(togglePanel$1)&&(e=new SearchState(e.query,n.value?createSearchPanel:null));return e},provide:e=>showPanel.from(e,(e=>e.panel))});class SearchState{constructor(e,t){this.query=e,this.panel=t}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(searchState))}update(e){let t=e.state.field(searchState);(t!=e.startState.field(searchState)||e.docChanged||e.selectionSet)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return Decoration.none;let{view:n}=this,i=new RangeSetBuilder;for(let t=0,r=n.visibleRanges,s=r.length;t<s;t++){let{from:a,to:o}=r[t];for(;t<s-1&&o>r[t+1].from-500;)o=r[++t].to;e.highlight(n.state.doc,a,o,((e,t)=>{let r=n.state.selection.ranges.some((n=>n.from==e&&n.to==t));i.add(e,t,r?selectedMatchMark:matchMark)}))}return i.finish()}},{decorations:e=>e.decorations});function searchCommand(e){return t=>{let n=t.state.field(searchState,!1);return n&&n.query.spec.valid?e(t,n):openSearchPanel(t)}}const findNext=searchCommand(((e,{query:t})=>{let{from:n,to:i}=e.state.selection.main,r=t.nextMatch(e.state.doc,n,i);return!(!r||r.from==n&&r.to==i)&&(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:announceMatch(e,r),userEvent:"select.search"}),!0)})),findPrevious=searchCommand(((e,{query:t})=>{let{state:n}=e,{from:i,to:r}=n.selection.main,s=t.prevMatch(n.doc,i,r);return!!s&&(e.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0,effects:announceMatch(e,s),userEvent:"select.search"}),!0)})),selectMatches=searchCommand(((e,{query:t})=>{let n=t.matchAll(e.state.doc,1e3);return!(!n||!n.length)&&(e.dispatch({selection:EditorSelection.create(n.map((e=>EditorSelection.range(e.from,e.to)))),userEvent:"select.search.matches"}),!0)})),selectSelectionMatches=({state:e,dispatch:t})=>{let n=e.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:i,to:r}=n.main,s=[],a=0;for(let t=new SearchCursor(e.doc,e.sliceDoc(i,r));!t.next().done;){if(s.length>1e3)return!1;t.value.from==i&&(a=s.length),s.push(EditorSelection.range(t.value.from,t.value.to))}return t(e.update({selection:EditorSelection.create(s,a),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand(((e,{query:t})=>{let{state:n}=e,{from:i,to:r}=n.selection.main;if(n.readOnly)return!1;let s=t.nextMatch(n.doc,i,i);if(!s)return!1;let a,o,l=[];if(s.from==i&&s.to==r&&(o=n.toText(t.getReplacement(s)),l.push({from:s.from,to:s.to,insert:o}),s=t.nextMatch(n.doc,s.from,s.to)),s){let e=0==l.length||l[0].from>=s.to?0:s.to-s.from-o.length;a={anchor:s.from-e,head:s.to-e}}return e.dispatch({changes:l,selection:a,scrollIntoView:!!a,effects:s?announceMatch(e,s):void 0,userEvent:"input.replace"}),!0})),replaceAll=searchCommand(((e,{query:t})=>{if(e.state.readOnly)return!1;let n=t.matchAll(e.state.doc,1e9).map((e=>{let{from:n,to:i}=e;return{from:n,to:i,insert:t.getReplacement(e)}}));return!!n.length&&(e.dispatch({changes:n,userEvent:"input.replace.all"}),!0)}));function createSearchPanel(e){return e.state.facet(searchConfigFacet).createPanel(e)}function defaultQuery(e,t){var n;let i=e.selection.main,r=i.empty||i.to>i.from+100?"":e.sliceDoc(i.from,i.to),s=null!==(n=null==t?void 0:t.caseSensitive)&&void 0!==n?n:e.facet(searchConfigFacet).caseSensitive;return t&&!r?t:new SearchQuery({search:r.replace(/\n/g,"\\n"),caseSensitive:s})}const openSearchPanel=e=>{let t=e.state.field(searchState,!1);if(t&&t.panel){let n=getPanel(e,createSearchPanel);if(!n)return!1;let i=n.dom.querySelector("[name=search]");if(i!=e.root.activeElement){let n=defaultQuery(e.state,t.query.spec);n.valid&&e.dispatch({effects:setSearchQuery.of(n)}),i.focus(),i.select()}}else e.dispatch({effects:[togglePanel$1.of(!0),t?setSearchQuery.of(defaultQuery(e.state,t.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=e=>{let t=e.state.field(searchState,!1);if(!t||!t.panel)return!1;let n=getPanel(e,createSearchPanel);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(e){this.view=e;let t=this.query=e.state.field(searchState).query.spec;function n(e,t,n){return crelt("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:t.search,placeholder:phrase(e,"Find"),"aria-label":phrase(e,"Find"),class:"cm-textfield",name:"search",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:t.replace,placeholder:phrase(e,"Replace"),"aria-label":phrase(e,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",checked:t.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",checked:t.regexp,onchange:this.commit}),this.dom=crelt("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,n("next",(()=>findNext(e)),[phrase(e,"next")]),n("prev",(()=>findPrevious(e)),[phrase(e,"previous")]),n("select",(()=>selectMatches(e)),[phrase(e,"all")]),crelt("label",null,[this.caseField,phrase(e,"match case")]),crelt("label",null,[this.reField,phrase(e,"regexp")]),...e.state.readOnly?[]:[crelt("br"),this.replaceField,n("replace",(()=>replaceNext(e)),[phrase(e,"replace")]),n("replaceAll",(()=>replaceAll(e)),[phrase(e,"replace all")]),crelt("button",{name:"close",onclick:()=>closeSearchPanel(e),"aria-label":phrase(e,"close"),type:"button"},[""])]])}commit(){let e=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:setSearchQuery.of(e)}))}keydown(e){runScopeHandlers(this.view,e,"search-panel")?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?findPrevious:findNext)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),replaceNext(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(setSearchQuery)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(e,t){return e.state.phrase(t)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(e,{from:t,to:n}){let i=e.state.doc.lineAt(t).from,r=e.state.doc.lineAt(n).to,s=Math.max(i,t-AnnounceMargin),a=Math.min(r,n+AnnounceMargin),o=e.state.sliceDoc(s,a);if(s!=i)for(let e=0;e<AnnounceMargin;e++)if(!Break.test(o[e+1])&&Break.test(o[e])){o=o.slice(e);break}if(a!=r)for(let e=o.length-1;e>o.length-AnnounceMargin;e--)if(!Break.test(o[e-1])&&Break.test(o[e])){o=o.slice(0,e);break}return EditorView.announce.of(`${e.state.phrase("current match")}. ${o} ${e.state.phrase("on line")} ${e.state.doc.lineAt(t).number}`)}const baseTheme$3=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.lowest(searchHighlighter),baseTheme$3],ios="undefined"!=typeof navigator&&!/Edge\/(\d+)/.exec(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),Outside="-10000px";class TooltipViewManager{constructor(e,t,n){this.facet=t,this.createTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter((e=>e)),this.tooltipViews=this.tooltips.map(n)}update(e){let t=e.state.facet(this.facet),n=t.filter((e=>e));if(t===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let i=[];for(let t=0;t<n.length;t++){let r=n[t],s=-1;if(r){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==r.create&&(s=e)}if(s<0)i[t]=this.createTooltipView(r);else{let n=i[t]=this.tooltipViews[s];n.update&&n.update(e)}}}for(let e of this.tooltipViews)i.indexOf(e)<0&&e.dom.remove();return this.input=t,this.tooltips=n,this.tooltipViews=i,!0}}function windowSpace(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const tooltipConfig=Facet.define({combine:e=>{var t,n,i;return{position:ios?"absolute":(null===(t=e.find((e=>e.position)))||void 0===t?void 0:t.position)||"fixed",parent:(null===(n=e.find((e=>e.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(i=e.find((e=>e.tooltipSpace)))||void 0===i?void 0:i.tooltipSpace)||windowSpace}}}),tooltipPlugin=ViewPlugin.fromClass(class{constructor(e){var t;this.view=e,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let n=e.state.facet(tooltipConfig);this.position=n.position,this.parent=n.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new TooltipViewManager(e,showTooltip,(e=>this.createTooltip(e))),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),null===(t=e.dom.ownerDocument.defaultView)||void 0===t||t.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e);t&&this.observeIntersection();let n=t||e.geometryChanged,i=e.state.facet(tooltipConfig);if(i.position!=this.position){this.position=i.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;n=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(e){let t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",t.dom.appendChild(e)}return t.dom.style.position=this.position,t.dom.style.top=Outside,this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){var e,t;null===(e=this.view.dom.ownerDocument.defaultView)||void 0===e||e.removeEventListener("resize",this.measureSoon);for(let{dom:e}of this.manager.tooltipViews)e.remove();null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=this.view.dom.getBoundingClientRect();return{editor:e,parent:this.parent?this.container.getBoundingClientRect():e,pos:this.manager.tooltips.map(((e,t)=>{let n=this.manager.tooltipViews[t];return n.getCoords?n.getCoords(e.pos):this.view.coordsAtPos(e.pos)})),size:this.manager.tooltipViews.map((({dom:e})=>e.getBoundingClientRect())),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view)}}writeMeasure(e){let{editor:t,space:n}=e,i=[];for(let r=0;r<this.manager.tooltips.length;r++){let s=this.manager.tooltips[r],a=this.manager.tooltipViews[r],{dom:o}=a,l=e.pos[r],c=e.size[r];if(!l||l.bottom<=Math.max(t.top,n.top)||l.top>=Math.min(t.bottom,n.bottom)||l.right<Math.max(t.left,n.left)-.1||l.left>Math.min(t.right,n.right)+.1){o.style.top=Outside;continue}let h=s.arrow?a.dom.querySelector(".cm-tooltip-arrow"):null,d=h?7:0,p=c.right-c.left,u=c.bottom-c.top,m=a.offset||noOffset,f=this.view.textDirection==Direction.LTR,g=c.width>n.right-n.left?f?n.left:n.right-c.width:f?Math.min(l.left-(h?14:0)+m.x,n.right-p):Math.max(n.left,l.left-p+(h?14:0)-m.x),b=!!s.above;!s.strictSide&&(b?l.top-(c.bottom-c.top)-m.y<n.top:l.bottom+(c.bottom-c.top)+m.y>n.bottom)&&b==n.bottom-l.bottom>l.top-n.top&&(b=!b);let y=b?l.top-u-d-m.y:l.bottom+d+m.y,v=g+p;if(!0!==a.overlap)for(let e of i)e.left<v&&e.right>g&&e.top<y+u&&e.bottom>y&&(y=b?e.top-u-2-d:e.bottom+d+2);"absolute"==this.position?(o.style.top=y-e.parent.top+"px",o.style.left=g-e.parent.left+"px"):(o.style.top=y+"px",o.style.left=g+"px"),h&&(h.style.left=l.left+(f?m.x:-m.x)-(g+14-7)+"px"),!0!==a.overlap&&i.push({left:g,top:y,right:v,bottom:y+u}),o.classList.toggle("cm-tooltip-above",b),o.classList.toggle("cm-tooltip-below",!b),a.positioned&&a.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=Outside}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),baseTheme$2=EditorView.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$2]}),showHoverTooltip=Facet.define();class HoverTooltipHost{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(e,showHoverTooltip,(e=>this.createHostedView(e)))}static create(e){return new HoverTooltipHost(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned()}update(e){this.manager.update(e)}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],(e=>{let t=e.facet(showHoverTooltip).filter((e=>e));return 0===t.length?null:{pos:Math.min(...t.map((e=>e.pos))),end:Math.max(...t.filter((e=>null!=e.end)).map((e=>e.end))),create:HoverTooltipHost.create,above:t[0].above,arrow:t.some((e=>e.arrow))}}));class HoverPlugin{constructor(e,t,n,i,r){this.view=e,this.source=t,this.field=n,this.setHover=i,this.hoverTime=r,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){var e;clearTimeout(this.restartTimeout);let{lastMove:t}=this,n=this.view.contentDOM.contains(t.target)?this.view.posAtCoords(t):null;if(null==n)return;let i=this.view.coordsAtPos(n);if(null==i||t.y<i.top||t.y>i.bottom||t.x<i.left-this.view.defaultCharacterWidth||t.x>i.right+this.view.defaultCharacterWidth)return;let r=this.view.bidiSpans(this.view.state.doc.lineAt(n)).find((e=>e.from<=n&&e.to>=n)),s=r&&r.dir==Direction.RTL?-1:1,a=this.source(this.view,n,t.x<i.left?-s:s);if(null===(e=a)||void 0===e?void 0:e.then){let e=this.pending={pos:n};a.then((t=>{this.pending==e&&(this.pending=null,t&&this.view.dispatch({effects:this.setHover.of(t)}))}),(e=>logException(this.view.state,e,"hover tooltip")))}else a&&this.view.dispatch({effects:this.setHover.of(a)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let n=this.active;if(n&&!isInTooltip(this.lastMove.target)||this.pending){let{pos:i}=n||this.pending,r=null!==(t=null==n?void 0:n.end)&&void 0!==t?t:i;(i==r?this.view.posAtCoords(this.lastMove)==i:isOverRange(this.view,i,r,e.clientX,e.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function isInTooltip(e){for(let t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}function isOverRange(e,t,n,i,r,s){let a=document.createRange(),o=e.domAtPos(t),l=e.domAtPos(n);a.setEnd(l.node,l.offset),a.setStart(o.node,o.offset);let c=a.getClientRects();a.detach();for(let e=0;e<c.length;e++){let t=c[e];if(Math.max(t.top-r,r-t.bottom,t.left-i,i-t.right)<=s)return!0}return!1}function hoverTooltip(e,t={}){let n=StateEffect.define(),i=StateField.define({create:()=>null,update(e,i){if(e&&t.hideOnChange&&(i.docChanged||i.selection))return null;for(let e of i.effects){if(e.is(n))return e.value;if(e.is(closeHoverTooltipEffect))return null}if(e&&i.docChanged){let t=i.changes.mapPos(e.pos,-1,MapMode.TrackDel);if(null==t)return null;let n=Object.assign(Object.create(null),e);return n.pos=t,null!=e.end&&(n.end=i.changes.mapPos(e.end)),n}return e},provide:e=>showHoverTooltip.from(e)});return[i,ViewPlugin.define((r=>new HoverPlugin(r,e,i,n,t.hoverTime||300))),showHoverTooltipHost]}function getTooltip(e,t){let n=e.plugin(tooltipPlugin);if(!n)return null;let i=n.manager.tooltips.indexOf(t);return i<0?null:n.manager.tooltipViews[i]}const closeHoverTooltipEffect=StateEffect.define();class CompletionContext{constructor(e,t,n){this.state=e,this.pos=t,this.explicit=n,this.abortListeners=[]}tokenBefore(e){let t=syntaxTree(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),i=t.text.slice(n-t.from,this.pos-t.from),r=i.search(ensureAnchor(e,!1));return r<0?null:{from:n+r,to:this.pos,text:i.slice(r)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function toSet(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),`[${n?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(e){let t=Object.create(null),n=Object.create(null);for(let{label:i}of e){t[i[0]]=!0;for(let e=1;e<i.length;e++)n[i[e]]=!0}let i=toSet(t)+toSet(n)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function completeFromList(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[n,i]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:prefixMatch(t);return e=>{let r=e.matchBefore(i);return r||e.explicit?{from:r?r.from:e.pos,options:t,span:n}:null}}function ifNotIn(e,t){return n=>{for(let t=syntaxTree(n.state).resolveInner(n.pos,-1);t;t=t.parent)if(e.indexOf(t.name)>-1)return null;return t(n)}}class Option$1{constructor(e,t,n){this.completion=e,this.source=t,this.match=n}}function cur(e){return e.selection.main.head}function ensureAnchor(e,t){var n;let{source:i}=e,r=t&&"^"!=i[0],s="$"!=i[i.length-1];return r||s?new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}const pickedCompletion=Annotation.define();function applyCompletion(e,t){let n=t.completion.apply||t.completion.label,i=t.source;"string"==typeof n?e.dispatch({changes:{from:i.from,to:i.to,insert:n},selection:{anchor:i.from+n.length},userEvent:"input.complete",annotations:pickedCompletion.of(t.completion)}):n(e,t.completion,i.from,i.to)}const SourceCache=new WeakMap;function asSource(e){if(!Array.isArray(e))return e;let t=SourceCache.get(e);return t||SourceCache.set(e,t=completeFromList(e)),t}class FuzzyMatcher{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let n=codePointAt(e,t),i=codePointSize(n);this.chars.push(n);let r=e.slice(t,t+i),s=r.toUpperCase();this.folded.push(codePointAt(s==r?r.toLowerCase():s,0)),t+=i}this.astral=e.length!=this.chars.length}match(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:i,precise:r,byWord:s}=this;if(1==t.length){let i=codePointAt(e,0);return i==t[0]?[0,0,codePointSize(i)]:i==n[0]?[-200,0,codePointSize(i)]:null}let a=e.indexOf(this.pattern);if(0==a)return[0,0,this.pattern.length];let o=t.length,l=0;if(a<0){for(let r=0,s=Math.min(e.length,200);r<s&&l<o;){let s=codePointAt(e,r);s!=t[l]&&s!=n[l]||(i[l++]=r),r+=codePointSize(s)}if(l<o)return null}let c=0,h=0,d=!1,p=0,u=-1,m=-1,f=/[a-z]/.test(e),g=!0;for(let i=0,l=Math.min(e.length,200),b=0;i<l&&h<o;){let l=codePointAt(e,i);a<0&&(c<o&&l==t[c]&&(r[c++]=i),p<o&&(l==t[p]||l==n[p]?(0==p&&(u=i),m=i+1,p++):p=0));let y,v=l<255?l>=48&&l<=57||l>=97&&l<=122?2:l>=65&&l<=90?1:0:(y=fromCodePoint(l))!=y.toLowerCase()?1:y!=y.toUpperCase()?2:0;(!i||1==v&&f||0==b&&0!=v)&&(t[h]==l||n[h]==l&&(d=!0)?s[h++]=i:s.length&&(g=!1)),b=v,i+=codePointSize(l)}return h==o&&0==s[0]&&g?this.result((d?-200:0)-100,s,e):p==o&&0==u?[-200-e.length,0,m]:a>-1?[-700-e.length,a,a+this.pattern.length]:p==o?[-900-e.length,u,m]:h==o?this.result((d?-200:0)-100-700+(g?0:-1100),s,e):2==t.length?null:this.result((i[0]?-700:0)-200-1100,i,e)}result(e,t,n){let i=[e-n.length],r=1;for(let e of t){let t=e+(this.astral?codePointSize(codePointAt(n,e)):1);r>1&&i[r-1]==e?i[r-1]=t:(i[r++]=e,i[r++]=t)}return i}}const completionConfig=Facet.define({combine:e=>combineConfig(e,{activateOnTyping:!0,override:null,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[]},{defaultKeymap:(e,t)=>e&&t,icons:(e,t)=>e&&t,optionClass:(e,t)=>n=>joinClass(e(n),t(n)),addToOptions:(e,t)=>e.concat(t)})});function joinClass(e,t){return e?t?e+" "+t:e:t}function optionContent(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(e){let t=document.createElement("div");return t.classList.add("cm-completionIcon"),e.type&&t.classList.add(...e.type.split(/\s+/g).map((e=>"cm-completionIcon-"+e))),t.setAttribute("aria-hidden","true"),t},position:20}),t.push({render(e,t,n){let i=document.createElement("span");i.className="cm-completionLabel";let{label:r}=e,s=0;for(let e=1;e<n.length;){let t=n[e++],a=n[e++];t>s&&i.appendChild(document.createTextNode(r.slice(s,t)));let o=i.appendChild(document.createElement("span"));o.appendChild(document.createTextNode(r.slice(t,a))),o.className="cm-completionMatchedText",s=a}return s<r.length&&i.appendChild(document.createTextNode(r.slice(s))),i},position:50},{render(e){if(!e.detail)return null;let t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort(((e,t)=>e.position-t.position)).map((e=>e.render))}function createInfoDialog(e,t){let n=document.createElement("div");n.className="cm-tooltip cm-completionInfo";let{info:i}=e.completion;if("string"==typeof i)n.textContent=i;else{let r=i(e.completion);r.then?r.then((e=>n.appendChild(e)),(e=>logException(t.state,e,"completion info"))):n.appendChild(r)}return n}function rangeAroundSelected(e,t,n){if(e<=n)return{from:0,to:e};if(t<=e>>1){let e=Math.floor(t/n);return{from:e*n,to:(e+1)*n}}let i=Math.floor((e-t)/n);return{from:e-(i+1)*n,to:e-i*n}}class CompletionTooltip{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:e=>this.positionInfo(e),key:this};let n=e.state.field(t),{options:i,selected:r}=n.open,s=e.state.facet(completionConfig);this.optionContent=optionContent(s),this.optionClass=s.optionClass,this.range=rangeAroundSelected(i.length,r,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",(t=>{for(let n,r=t.target;r&&r!=this.dom;r=r.parentNode)if("LI"==r.nodeName&&(n=/-(\d+)$/.exec(r.id))&&+n[1]<i.length)return applyCompletion(e,i[+n[1]]),void t.preventDefault()})),this.list=this.dom.appendChild(this.createListBox(i,n.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))}mount(){this.updateSel()}update(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=rangeAroundSelected(t.options.length,t.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let e=t.options[t.selected];e.completion.info&&(this.info=this.dom.appendChild(createInfoDialog(e,this.view)),this.view.requestMeasure(this.placeInfo))}}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)i==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&scrollIntoView(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),i=e.getBoundingClientRect();if(i.top>Math.min(innerHeight,t.bottom)-10||i.bottom<Math.max(0,t.top)+10)return null;let r=Math.max(0,Math.min(i.top,innerHeight-n.height))-t.top,s=this.view.textDirection==Direction.RTL,a=t.left,o=innerWidth-t.right;return s&&a<Math.min(n.width,o)?s=!1:!s&&o<Math.min(n.width,a)&&(s=!0),{top:r,left:s}}positionInfo(e){this.info&&(this.info.style.top=(e?e.top:-1e6)+"px",e&&(this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left)))}createListBox(e,t,n){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox");for(let r=n.from;r<n.to;r++){let{completion:n,match:s}=e[r];const a=i.appendChild(document.createElement("li"));a.id=t+"-"+r,a.setAttribute("role","option");let o=this.optionClass(n);o&&(a.className=o);for(let e of this.optionContent){let t=e(n,this.view.state,s);t&&a.appendChild(t)}}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}}function completionTooltip(e){return t=>new CompletionTooltip(t,e)}function scrollIntoView(e,t){let n=e.getBoundingClientRect(),i=t.getBoundingClientRect();i.top<n.top?e.scrollTop-=n.top-i.top:i.bottom>n.bottom&&(e.scrollTop+=i.bottom-n.bottom)}const MaxOptions=300;function score(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}function sortOptions(e,t){let n=[],i=0;for(let r of e)if(r.hasResult())if(!1===r.result.filter)for(let e of r.result.options)n.push(new Option$1(e,r,[1e9-i++]));else{let e,i=new FuzzyMatcher(t.sliceDoc(r.from,r.to));for(let t of r.result.options)(e=i.match(t.label))&&(null!=t.boost&&(e[0]+=t.boost),n.push(new Option$1(t,r,e)))}n.sort(cmpOption);let r=[],s=null;for(let e of n.sort(cmpOption)){if(r.length==MaxOptions)break;s&&s.label==e.completion.label&&s.detail==e.completion.detail&&s.type==e.completion.type&&s.apply==e.completion.apply?score(e.completion)>score(s)&&(r[r.length-1]=e):r.push(e),s=e.completion}return r}class CompletionDialog{constructor(e,t,n,i,r){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=i,this.selected=r}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(t,e),this.tooltip,this.timestamp,e)}static build(e,t,n,i,r){let s=sortOptions(e,t);if(!s.length)return null;let a=0;if(i&&i.selected){let e=i.options[i.selected].completion;for(let t=0;t<s.length&&!a;t++)s[t].completion==e&&(a=t)}return new CompletionDialog(s,makeAttrs(n,a),{pos:e.reduce(((e,t)=>t.hasResult()?Math.min(e,t.from):e),1e8),create:completionTooltip(completionState),above:r.aboveCursor},i?i.timestamp:Date.now(),a)}map(e){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class CompletionState{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,n=t.facet(completionConfig),i=(n.override||t.languageDataAt("autocomplete",cur(t)).map(asSource)).map((t=>{let i=this.active.find((e=>e.source==t))||new ActiveSource(t,this.active.some((e=>0!=e.state))?1:0);return i.update(e,n)}));i.length==this.active.length&&i.every(((e,t)=>e==this.active[t]))&&(i=this.active);let r=e.selection||i.some((t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to)))||!sameResults(i,this.active)?CompletionDialog.build(i,t,this.id,this.open,n):this.open&&e.docChanged?this.open.map(e.changes):this.open;!r&&i.every((e=>1!=e.state))&&i.some((e=>e.hasResult()))&&(i=i.map((e=>e.hasResult()?new ActiveSource(e.source,0):e)));for(let t of e.effects)t.is(setSelectedEffect)&&(r=r&&r.setSelected(t.value,this.id));return i==this.active&&r==this.open?this:new CompletionState(i,this.id,r)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:baseAttrs}}function sameResults(e,t){if(e==t)return!0;for(let n=0,i=0;;){for(;n<e.length&&!e[n].hasResult;)n++;for(;i<t.length&&!t[i].hasResult;)i++;let r=n==e.length,s=i==t.length;if(r||s)return r==s;if(e[n++].result!=t[i++].result)return!1}}const baseAttrs={"aria-autocomplete":"list","aria-expanded":"false"};function makeAttrs(e,t){return{"aria-autocomplete":"list","aria-expanded":"true","aria-activedescendant":e+"-"+t,"aria-controls":e}}const none=[];function cmpOption(e,t){let n=t.match[0]-e.match[0];return n||e.completion.label.localeCompare(t.completion.label)}function getUserEvent(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}class ActiveSource{constructor(e,t,n=-1){this.source=e,this.state=t,this.explicitPos=n}hasResult(){return!1}update(e,t){let n=getUserEvent(e),i=this;n?i=i.handleUserEvent(e,n,t):e.docChanged?i=i.handleChange(e):e.selection&&0!=i.state&&(i=new ActiveSource(i.source,0));for(let t of e.effects)if(t.is(startCompletionEffect))i=new ActiveSource(i.source,1,t.value?cur(e.state):-1);else if(t.is(closeCompletionEffect))i=new ActiveSource(i.source,0);else if(t.is(setActiveEffect))for(let e of t.value)e.source==i.source&&(i=e);return i}handleUserEvent(e,t,n){return"delete"!=t&&n.activateOnTyping?new ActiveSource(this.source,1):this.map(e.changes)}handleChange(e){return e.changes.touchesRange(cur(e.startState))?new ActiveSource(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new ActiveSource(this.source,this.state,e.mapPos(this.explicitPos))}}class ActiveResult extends ActiveSource{constructor(e,t,n,i,r,s){super(e,2,t),this.result=n,this.from=i,this.to=r,this.span=s}hasResult(){return!0}handleUserEvent(e,t,n){let i=e.changes.mapPos(this.from),r=e.changes.mapPos(this.to,1),s=cur(e.state);if((this.explicitPos<0?s<=i:s<this.from)||s>r||"delete"==t&&cur(e.startState)==this.from)return new ActiveSource(this.source,"input"==t&&n.activateOnTyping?1:0);let a=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return this.span&&(i==r||this.span.test(e.state.sliceDoc(i,r)))?new ActiveResult(this.source,a,this.result,i,r,this.span):new ActiveSource(this.source,1,a)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new ActiveSource(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new ActiveResult(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1),this.span)}}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define(),setActiveEffect=StateEffect.define({map:(e,t)=>e.map((e=>e.map(t)))}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create:()=>CompletionState.start(),update:(e,t)=>e.update(t),provide:e=>[showTooltip.from(e,(e=>e.tooltip)),EditorView.contentAttributes.from(e,(e=>e.attrs))]}),CompletionInteractMargin=75;function moveCompletionSelection(e,t="option"){return n=>{let i=n.state.field(completionState,!1);if(!i||!i.open||Date.now()-i.open.timestamp<CompletionInteractMargin)return!1;let r,s=1;"page"==t&&(r=getTooltip(n,i.open.tooltip))&&(s=Math.max(2,Math.floor(r.dom.offsetHeight/r.dom.querySelector("li").offsetHeight)-1));let a=i.open.selected+s*(e?1:-1),{length:o}=i.open.options;return a<0?a="page"==t?0:o-1:a>=o&&(a="page"==t?o-1:0),n.dispatch({effects:setSelectedEffect.of(a)}),!0}}const acceptCompletion=e=>{let t=e.state.field(completionState,!1);return!(e.state.readOnly||!t||!t.open||Date.now()-t.open.timestamp<CompletionInteractMargin)&&(applyCompletion(e,t.open.options[t.open.selected]),!0)},startCompletion=e=>!!e.state.field(completionState,!1)&&(e.dispatch({effects:startCompletionEffect.of(!0)}),!0),closeCompletion=e=>{let t=e.state.field(completionState,!1);return!(!t||!t.active.some((e=>0!=e.state)))&&(e.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const DebounceTime=50,MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let t of e.state.field(completionState).active)1==t.state&&this.startQuery(t)}update(e){let t=e.state.field(completionState);if(!e.selectionSet&&!e.docChanged&&e.startState.field(completionState)==t)return;let n=e.transactions.some((e=>(e.selection||e.docChanged)&&!getUserEvent(e)));for(let t=0;t<this.running.length;t++){let i=this.running[t];if(n||i.updates.length+e.transactions.length>MaxUpdateCount&&i.time-Date.now()>MinAbortTime){for(let e of i.context.abortListeners)try{e()}catch(e){logException(this.view.state,e)}i.context.abortListeners=null,this.running.splice(t--,1)}else i.updates.push(...e.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=t.active.some((e=>1==e.state&&!this.running.some((t=>t.active.source==e.source))))?setTimeout((()=>this.startUpdate()),DebounceTime):-1,0!=this.composing)for(let t of e.transactions)"input"==getUserEvent(t)?this.composing=2:2==this.composing&&t.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:e}=this.view,t=e.field(completionState);for(let e of t.active)1!=e.state||this.running.some((t=>t.active.source==e.source))||this.startQuery(e)}startQuery(e){let{state:t}=this.view,n=cur(t),i=new CompletionContext(t,n,e.explicitPos==n),r=new RunningQuery(e,i);this.running.push(r),Promise.resolve(e.source(i)).then((e=>{r.context.aborted||(r.done=e||null,this.scheduleAccept())}),(e=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,e)}))}scheduleAccept(){this.running.every((e=>void 0!==e.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),DebounceTime))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],n=this.view.state.facet(completionConfig);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(void 0===r.done)continue;if(this.running.splice(i--,1),r.done){let i=new ActiveResult(r.active.source,r.active.explicitPos,r.done,r.done.from,null!==(e=r.done.to)&&void 0!==e?e:cur(r.updates.length?r.updates[0].startState:this.view.state),r.done.span&&!1!==r.done.filter?ensureAnchor(r.done.span,!0):null);for(let e of r.updates)i=i.update(e,n);if(i.hasResult()){t.push(i);continue}}let s=this.view.state.field(completionState).active.find((e=>e.source==r.active.source));if(s&&1==s.state)if(null==r.done){let e=new ActiveSource(r.active.source,0);for(let t of r.updates)e=e.update(t,n);1!=e.state&&t.push(e)}else this.startQuery(s)}t.length&&this.view.dispatch({effects:setActiveEffect.of(t)})}},{eventHandlers:{compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:startCompletionEffect.of(!1)})),20),this.composing=0}}}),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(e,t,n,i){this.field=e,this.line=t,this.from=n,this.to=i}}class FieldRange{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){let t=e.mapPos(this.from,-1,MapMode.TrackDel),n=e.mapPos(this.to,1,MapMode.TrackDel);return null==t||null==n?null:new FieldRange(this.field,t,n)}}class Snippet{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],i=[t],r=e.doc.lineAt(t),s=/^\s*/.exec(r.text)[0];for(let r of this.lines){if(n.length){let n=s,a=/^\t*/.exec(r)[0].length;for(let t=0;t<a;t++)n+=e.facet(indentUnit);i.push(t+n.length-a),r=n+r.slice(a)}n.push(r),t+=r.length+1}let a=this.fieldPositions.map((e=>new FieldRange(e.field,i[e.line]+e.from,i[e.line]+e.to)));return{text:n,ranges:a}}static parse(e){let t,n=[],i=[],r=[];for(let s of e.split(/\r\n?|\n/)){for(;t=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(s);){let e=t[1]?+t[1]:null,a=t[2]||t[3]||"",o=-1;for(let t=0;t<n.length;t++)(null!=e?n[t].seq==e:a&&n[t].name==a)&&(o=t);if(o<0){let t=0;for(;t<n.length&&(null==e||null!=n[t].seq&&n[t].seq<e);)t++;n.splice(t,0,{seq:e,name:a}),o=t;for(let e of r)e.field>=o&&e.field++}r.push(new FieldPos(o,i.length,t.index,t.index+a.length)),s=s.slice(0,t.index)+a+s.slice(t.index+t[0].length)}i.push(s)}return new Snippet(i,r)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(e,t){this.ranges=e,this.active=t,this.deco=Decoration.set(e.map((e=>(e.from==e.to?fieldMarker:fieldRange).range(e.from,e.to))))}map(e){let t=[];for(let n of this.ranges){let i=n.map(e);if(!i)return null;t.push(i)}return new ActiveSnippet(t,this.active)}selectionInsideField(e){return e.ranges.every((e=>this.ranges.some((t=>t.field==this.active&&t.from<=e.from&&t.to>=e.to))))}}const setActive=StateEffect.define({map:(e,t)=>e&&e.map(t)}),moveToField=StateEffect.define(),snippetState=StateField.define({create:()=>null,update(e,t){for(let n of t.effects){if(n.is(setActive))return n.value;if(n.is(moveToField)&&e)return new ActiveSnippet(e.ranges,n.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>EditorView.decorations.from(e,(e=>e?e.deco:Decoration.none))});function fieldSelection(e,t){return EditorSelection.create(e.filter((e=>e.field==t)).map((e=>EditorSelection.range(e.from,e.to))))}function snippet(e){let t=Snippet.parse(e);return(e,n,i,r)=>{let{text:s,ranges:a}=t.instantiate(e.state,i),o={changes:{from:i,to:r,insert:Text.of(s)}};if(a.length&&(o.selection=fieldSelection(a,0)),a.length>1){let t=new ActiveSnippet(a,0),n=o.effects=[setActive.of(t)];void 0===e.state.field(snippetState,!1)&&n.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}e.dispatch(e.state.update(o))}}function moveField(e){return({state:t,dispatch:n})=>{let i=t.field(snippetState,!1);if(!i||e<0&&0==i.active)return!1;let r=i.active+e,s=e>0&&!i.ranges.some((t=>t.field==r+e));return n(t.update({selection:fieldSelection(i.ranges,r),effects:setActive.of(s?null:new ActiveSnippet(i.ranges,r))})),!0}}const clearSnippet=({state:e,dispatch:t})=>!!e.field(snippetState,!1)&&(t(e.update({effects:setActive.of(null)})),!0),nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine:e=>e.length?e[0]:defaultSnippetKeymap}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],(e=>e.facet(snippetKeymap))));function snippetCompletion(e,t){return Object.assign(Object.assign({},t),{apply:snippet(e)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(e,t){let n,i=t.state.field(snippetState,!1);if(!i||null==(n=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;let r=i.ranges.find((e=>e.from<=n&&e.to>=n));return!(!r||r.field==i.active)&&(t.dispatch({selection:fieldSelection(i.ranges,r.field),effects:setActive.of(i.ranges.some((e=>e.field>r.field))?new ActiveSnippet(i.ranges,r.field):null)}),!0)}});function autocompletion(e={}){return[completionState,completionConfig.of(e),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],(e=>e.facet(completionConfig).defaultKeymap?[completionKeymap]:[]))),toggleComment=e=>{let t=getConfig(e.state);return t.line?toggleLineComment(e):!!t.block&&toggleBlockCommentByLine(e)};function command(e,t){return({state:n,dispatch:i})=>{if(n.readOnly)return!1;let r=e(t,n);return!!r&&(i(n.update(r)),!0)}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command(((e,t)=>changeBlockComment(e,t,selectedLineRanges(t))),0),commentKeymap=[{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment}];function getConfig(e,t=e.selection.main.head){let n=e.languageDataAt("commentTokens",t);return n.length?n[0]:{}}const SearchMargin=50;function findBlockComment(e,{open:t,close:n},i,r){let s,a,o=e.sliceDoc(i-SearchMargin,i),l=e.sliceDoc(r,r+SearchMargin),c=/\s*$/.exec(o)[0].length,h=/^\s*/.exec(l)[0].length,d=o.length-c;if(o.slice(d-t.length,d)==t&&l.slice(h,h+n.length)==n)return{open:{pos:i-c,margin:c&&1},close:{pos:r+h,margin:h&&1}};r-i<=2*SearchMargin?s=a=e.sliceDoc(i,r):(s=e.sliceDoc(i,i+SearchMargin),a=e.sliceDoc(r-SearchMargin,r));let p=/^\s*/.exec(s)[0].length,u=/\s*$/.exec(a)[0].length,m=a.length-u-n.length;return s.slice(p,p+t.length)==t&&a.slice(m,m+n.length)==n?{open:{pos:i+p+t.length,margin:/\s/.test(s.charAt(p+t.length))?1:0},close:{pos:r-u-n.length,margin:/\s/.test(a.charAt(m-1))?1:0}}:null}function selectedLineRanges(e){let t=[];for(let n of e.selection.ranges){let i=e.doc.lineAt(n.from),r=n.to<=i.to?i:e.doc.lineAt(n.to),s=t.length-1;s>=0&&t[s].to>i.from?t[s].to=r.to:t.push({from:i.from,to:r.to})}return t}function changeBlockComment(e,t,n=t.selection.ranges){let i=n.map((e=>getConfig(t,e.from).block));if(!i.every((e=>e)))return null;let r=n.map(((e,n)=>findBlockComment(t,i[n],e.from,e.to)));if(2!=e&&!r.every((e=>e)))return{changes:t.changes(n.map(((e,t)=>r[t]?[]:[{from:e.from,insert:i[t].open+" "},{from:e.to,insert:" "+i[t].close}])))};if(1!=e&&r.some((e=>e))){let e=[];for(let t,n=0;n<r.length;n++)if(t=r[n]){let r=i[n],{open:s,close:a}=t;e.push({from:s.pos-r.open.length,to:s.pos+s.margin},{from:a.pos-a.margin,to:a.pos+r.close.length})}return{changes:e}}return null}function changeLineComment(e,t,n=t.selection.ranges){let i=[],r=-1;for(let{from:e,to:s}of n){let n=i.length,a=1e9;for(let n=e;n<=s;){let o=t.doc.lineAt(n);if(o.from>r&&(e==s||s>o.from)){r=o.from;let e=getConfig(t,n).line;if(!e)continue;let s=/^\s*/.exec(o.text)[0].length,l=s==o.length,c=o.text.slice(s,s+e.length)==e?s:-1;s<o.text.length&&s<a&&(a=s),i.push({line:o,comment:c,token:e,indent:s,empty:l,single:!1})}n=o.to+1}if(a<1e9)for(let e=n;e<i.length;e++)i[e].indent<i[e].line.text.length&&(i[e].indent=a);i.length==n+1&&(i[n].single=!0)}if(2!=e&&i.some((e=>e.comment<0&&(!e.empty||e.single)))){let e=[];for(let{line:t,token:n,indent:r,empty:s,single:a}of i)!a&&s||e.push({from:t.from+r,insert:n+" "});let n=t.changes(e);return{changes:n,selection:t.selection.map(n,1)}}if(1!=e&&i.some((e=>e.comment>=0))){let e=[];for(let{line:t,comment:n,token:r}of i)if(n>=0){let i=t.from+n,s=i+r.length;" "==t.text[s-t.from]&&s++,e.push({from:i,to:s})}return{changes:e}}return null}const MaxOff=2e3;function rectangleFor(e,t,n){let i=Math.min(t.line,n.line),r=Math.max(t.line,n.line),s=[];if(t.off>MaxOff||n.off>MaxOff||t.col<0||n.col<0){let a=Math.min(t.off,n.off),o=Math.max(t.off,n.off);for(let t=i;t<=r;t++){let n=e.doc.line(t);n.length<=o&&s.push(EditorSelection.range(n.from+a,n.to+o))}}else{let a=Math.min(t.col,n.col),o=Math.max(t.col,n.col);for(let t=i;t<=r;t++){let n=e.doc.line(t),i=findColumn(n.text,a,e.tabSize,!0);if(i>-1){let t=findColumn(n.text,o,e.tabSize);s.push(EditorSelection.range(n.from+i,n.from+t))}}}return s}function absoluteColumn(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}function getPos(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),i=e.state.doc.lineAt(n),r=n-i.from,s=r>MaxOff?-1:r==i.length?absoluteColumn(e,t.clientX):countColumn(i.text,e.state.tabSize,n-i.from);return{line:i.number,col:s,off:r}}function rectangleSelectionStyle(e,t){let n=getPos(e,t),i=e.state.selection;return n?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(n.line).from),r=e.state.doc.lineAt(t);n={line:r.number,col:n.col,off:Math.min(n.off,r.length)},i=i.map(e.changes)}},get(t,r,s){let a=getPos(e,t);if(!a)return i;let o=rectangleFor(e.state,n,a);return o.length?s?EditorSelection.create(o.concat(i.ranges)):EditorSelection.create(o):i}}:null}function rectangularSelection(e){let t=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return EditorView.mouseSelectionStyle.of(((e,n)=>t(n)?rectangleSelectionStyle(e,n):null))}let nextTagID=0;class Tag{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=nextTagID++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new Tag([],null,[]);if(t.set.push(t),e)for(let n of e.set)t.set.push(n);return t}static defineModifier(){let e=new Modifier;return t=>t.modified.indexOf(e)>-1?t:Modifier.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let nextModifierID=0;class Modifier{constructor(){this.instances=[],this.id=nextModifierID++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find((n=>n.base==e&&sameArray(t,n.modified)));if(n)return n;let i=[],r=new Tag(i,e,t);for(let e of t)e.instances.push(r);let s=permute(t);for(let t of e.set)for(let e of s)i.push(Modifier.get(t,e));return r}}function sameArray(e,t){return e.length==t.length&&e.every(((e,n)=>e==t[n]))}function permute(e){let t=[e];for(let n=0;n<e.length;n++)for(let i of permute(e.slice(0,n).concat(e.slice(n+1))))t.push(i);return t}function styleTags(e){let t=Object.create(null);for(let n in e){let i=e[n];Array.isArray(i)||(i=[i]);for(let e of n.split(" "))if(e){let n=[],r=2,s=e;for(let t=0;;){if("..."==s&&t>0&&t+3==e.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!i)throw new RangeError("Invalid path: "+e);if(n.push("*"==i[0]?null:'"'==i[0][0]?JSON.parse(i[0]):i[0]),t+=i[0].length,t==e.length)break;let a=e[t++];if(t==e.length&&"!"==a){r=0;break}if("/"!=a)throw new RangeError("Invalid path: "+e);s=e.slice(t)}let a=n.length-1,o=n[a];if(!o)throw new RangeError("Invalid path: "+e);let l=new Rule(i,r,a>0?n.slice(0,a):null);t[o]=l.sort(t[o])}}return ruleNodeProp.add(t)}const ruleNodeProp=new NodeProp,highlightStyle=Facet.define({combine:e=>e.length?HighlightStyle.combinedMatch(e):null}),fallbackHighlightStyle=Facet.define({combine:e=>e.length?e[0].match:null});function getHighlightStyle(e){return e.facet(highlightStyle)||e.facet(fallbackHighlightStyle)}class Rule{constructor(e,t,n,i){this.tags=e,this.mode=t,this.context=n,this.next=i}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}class HighlightStyle{constructor(e,t){let n;function i(e){let t=StyleModule.newName();return(n||(n=Object.create(null)))["."+t]=e,t}this.map=Object.create(null),this.all="string"==typeof t.all?t.all:t.all?i(t.all):null;for(let t of e){let e=(t.class||i(Object.assign({},t,{tag:null})))+(this.all?" "+this.all:""),n=t.tag;if(Array.isArray(n))for(let t of n)this.map[t.id]=e;else this.map[n.id]=e}this.module=n?new StyleModule(n):null,this.scope=t.scope||null,this.match=this.match.bind(this);let r=[treeHighlighter];this.module&&r.push(EditorView.styleModule.of(this.module)),this.extension=r.concat(highlightStyle.of(this)),this.fallback=r.concat(fallbackHighlightStyle.of(this))}match(e,t){if(this.scope&&t!=this.scope)return null;for(let t of e.set){let n=this.map[t.id];if(void 0!==n)return t!=e&&(this.map[e.id]=n),n}return this.map[e.id]=this.all}static combinedMatch(e){if(1==e.length)return e[0].match;let t=e.some((e=>e.scope))?void 0:Object.create(null);return(n,i)=>{let r=t&&t[n.id];if(void 0!==r)return r;let s=null;for(let t of e){let e=t.match(n,i);e&&(s=s?s+" "+e:e)}return t&&(t[n.id]=s),s}}static define(e,t){return new HighlightStyle(e,t||{})}static get(e,t,n){let i=getHighlightStyle(e);return i&&i(t,n||NodeType.none)}}class TreeHighlighter{constructor(e){this.markCache=Object.create(null),this.tree=syntaxTree(e.state),this.decorations=this.buildDeco(e,getHighlightStyle(e.state))}update(e){let t=syntaxTree(e.state),n=getHighlightStyle(e.state),i=n!=e.startState.facet(highlightStyle);t.length<e.view.viewport.to&&!i&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,t){if(!t||!this.tree.length)return Decoration.none;let n=new RangeSetBuilder;for(let{from:i,to:r}of e.visibleRanges)highlightTreeRange(this.tree,i,r,t,((e,t,i)=>{n.add(e,t,this.markCache[i]||(this.markCache[i]=Decoration.mark({class:i})))}));return n.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:e=>e.decorations})),nodeStack=[""];class HighlightBuilder{constructor(e,t,n){this.at=e,this.style=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,i,r,s){let{type:a,from:o,to:l}=e;if(o>=n||l<=t)return;nodeStack[r]=a.name,a.isTop&&(s=a);let c=i,h=a.prop(ruleNodeProp),d=!1;for(;h;){if(!h.context||matchContext(h.context,nodeStack,r)){for(let e of h.tags){let t=this.style(e,s);t&&(c&&(c+=" "),c+=t,1==h.mode?i+=(i?" ":"")+t:0==h.mode&&(d=!0))}break}h=h.next}if(this.startSpan(e.from,c),d)return;let p=e.tree&&e.tree.prop(NodeProp.mounted);if(p&&p.overlay){let a=e.node.enter(p.overlay[0].from+o,1),h=e.firstChild();for(let d=0,u=o;;d++){let m=d<p.overlay.length?p.overlay[d]:null,f=m?m.from+o:l,g=Math.max(t,u),b=Math.min(n,f);if(g<b&&h)for(;e.from<b&&(this.highlightRange(e,g,b,i,r+1,s),this.startSpan(Math.min(n,e.to),c),!(e.to>=f)&&e.nextSibling()););if(!m||f>n)break;u=m.to+o,u>t&&(this.highlightRange(a.cursor,Math.max(t,m.from+o),Math.min(n,u),i,r,p.tree.type),this.startSpan(u,c))}h&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,i,r+1,s),this.startSpan(Math.min(n,e.to),c)}}while(e.nextSibling());e.parent()}}}function highlightTreeRange(e,t,n,i,r){let s=new HighlightBuilder(t,i,r);s.highlightRange(e.cursor(),t,n,"",0,e.type),s.flush(n)}function matchContext(e,t,n){if(e.length>n-1)return!1;for(let i=n-1,r=e.length-1;r>=0;r--,i--){let n=e[r];if(n&&n!=t[i])return!1}return!0}const t$1=Tag.define,comment=t$1(),name=t$1(),typeName=t$1(name),propertyName=t$1(name),literal=t$1(),string=t$1(literal),number=t$1(literal),content=t$1(),heading=t$1(content),keyword=t$1(),operator=t$1(),punctuation=t$1(),bracket=t$1(punctuation),meta=t$1(),tags={comment,lineComment:t$1(comment),blockComment:t$1(comment),docComment:t$1(comment),name,variableName:t$1(name),typeName,tagName:t$1(typeName),propertyName,attributeName:t$1(propertyName),className:t$1(name),labelName:t$1(name),namespace:t$1(name),macroName:t$1(name),literal,string,docString:t$1(string),character:t$1(string),attributeValue:t$1(string),number,integer:t$1(number),float:t$1(number),bool:t$1(literal),regexp:t$1(literal),escape:t$1(literal),color:t$1(literal),url:t$1(literal),keyword,self:t$1(keyword),null:t$1(keyword),atom:t$1(keyword),unit:t$1(keyword),modifier:t$1(keyword),operatorKeyword:t$1(keyword),controlKeyword:t$1(keyword),definitionKeyword:t$1(keyword),moduleKeyword:t$1(keyword),operator,derefOperator:t$1(operator),arithmeticOperator:t$1(operator),logicOperator:t$1(operator),bitwiseOperator:t$1(operator),compareOperator:t$1(operator),updateOperator:t$1(operator),definitionOperator:t$1(operator),typeOperator:t$1(operator),controlOperator:t$1(operator),punctuation,separator:t$1(punctuation),bracket,angleBracket:t$1(bracket),squareBracket:t$1(bracket),paren:t$1(bracket),brace:t$1(bracket),content,heading,heading1:t$1(heading),heading2:t$1(heading),heading3:t$1(heading),heading4:t$1(heading),heading5:t$1(heading),heading6:t$1(heading),contentSeparator:t$1(content),list:t$1(content),quote:t$1(content),emphasis:t$1(content),strong:t$1(content),link:t$1(content),monospace:t$1(content),strikethrough:t$1(content),inserted:t$1(),deleted:t$1(),changed:t$1(),invalid:t$1(),meta,documentMeta:t$1(meta),annotation:t$1(meta),processingInstruction:t$1(meta),definition:Tag.defineModifier(),constant:Tag.defineModifier(),function:Tag.defineModifier(),standard:Tag.defineModifier(),local:Tag.defineModifier(),special:Tag.defineModifier()},defaultHighlightStyle=HighlightStyle.define([{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.meta,color:"#7a757a"},{tag:tags.invalid,color:"#f00"}]);tags.link,tags.heading,tags.emphasis,tags.strong,tags.keyword,tags.atom,tags.bool,tags.url,tags.labelName,tags.inserted,tags.deleted,tags.literal,tags.string,tags.number,tags.regexp,tags.escape,tags.string,tags.variableName,tags.variableName,tags.variableName,tags.variableName,tags.propertyName,tags.typeName,tags.namespace,tags.className,tags.macroName,tags.propertyName,tags.operator,tags.comment,tags.meta,tags.invalid,tags.punctuation;class SelectedDiagnostic{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class LintState{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let i=Decoration.set(e.map((e=>e.from==e.to||e.from==e.to-1&&n.doc.lineAt(e.from).to==e.from?Decoration.widget({widget:new DiagnosticWidget(e),diagnostic:e}).range(e.from):Decoration.mark({attributes:{class:"cm-lintRange cm-lintRange-"+e.severity},diagnostic:e}).range(e.from,e.to))),!0);return new LintState(i,t,findDiagnostic(i))}}function findDiagnostic(e,t=null,n=0){let i=null;return e.between(n,1e9,((e,n,{spec:r})=>{if(!t||r.diagnostic==t)return i=new SelectedDiagnostic(e,n,r.diagnostic),!1})),i}function maybeEnableLint(e,t){return e.field(lintState,!1)?t:t.concat(StateEffect.appendConfig.of([lintState,EditorView.decorations.compute([lintState],(e=>{let{selected:t,panel:n}=e.field(lintState);return t&&n&&t.from!=t.to?Decoration.set([activeMark.range(t.from,t.to)]):Decoration.none})),hoverTooltip(lintTooltip),baseTheme]))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create:()=>new LintState(Decoration.none,null,null),update(e,t){if(t.docChanged){let n=e.diagnostics.map(t.changes),i=null;if(e.selected){let r=t.changes.mapPos(e.selected.from,1);i=findDiagnostic(n,e.selected.diagnostic,r)||findDiagnostic(n,null,r)}e=new LintState(n,e.panel,i)}for(let n of t.effects)n.is(setDiagnosticsEffect)?e=LintState.init(n.value,e.panel,t.state):n.is(togglePanel)?e=new LintState(e.diagnostics,n.value?LintPanel.open:null,e.selected):n.is(movePanelSelection)&&(e=new LintState(e.diagnostics,e.panel,n.value));return e},provide:e=>[showPanel.from(e,(e=>e.panel)),EditorView.decorations.from(e,(e=>e.diagnostics))]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(e,t,n){let{diagnostics:i}=e.state.field(lintState),r=[],s=2e8,a=0;return i.between(t-(n<0?1:0),t+(n>0?1:0),((e,i,{spec:o})=>{t>=e&&t<=i&&(e==i||(t>e||n>0)&&(t<i||n<0))&&(r.push(o.diagnostic),s=Math.min(e,s),a=Math.max(i,a))})),r.length?{pos:s,end:a,above:e.state.doc.lineAt(s).to<a,create:()=>({dom:diagnosticsTooltip(e,r)})}:null}function diagnosticsTooltip(e,t){return crelt("ul",{class:"cm-tooltip-lint"},t.map((t=>renderDiagnostic(e,t,!1))))}const openLintPanel=e=>{let t=e.state.field(lintState,!1);t&&t.panel||e.dispatch({effects:maybeEnableLint(e.state,[togglePanel.of(!0)])});let n=getPanel(e,LintPanel.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=e=>{let t=e.state.field(lintState,!1);return!(!t||!t.panel)&&(e.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=e=>{let t=e.state.field(lintState,!1);if(!t)return!1;let n=e.state.selection.main,i=t.diagnostics.iter(n.to+1);return!(!i.value&&(i=t.diagnostics.iter(0),!i.value||i.from==n.from&&i.to==n.to))&&(e.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel},{key:"F8",run:nextDiagnostic}];function assignKeys(e){let t=[];if(e)e:for(let{name:n}of e){for(let e=0;e<n.length;e++){let i=n[e];if(/[a-zA-Z]/.test(i)&&!t.some((e=>e.toLowerCase()==i.toLowerCase()))){t.push(i);continue e}}t.push("")}return t}function renderDiagnostic(e,t,n){var i;let r=n?assignKeys(t.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},crelt("span",{class:"cm-diagnosticText"},t.message),null===(i=t.actions)||void 0===i?void 0:i.map(((n,i)=>{let s=i=>{i.preventDefault();let r=findDiagnostic(e.state.field(lintState).diagnostics,t);r&&n.apply(e,r.from,r.to)},{name:a}=n,o=r[i]?a.indexOf(r[i]):-1,l=o<0?a:[a.slice(0,o),crelt("u",a.slice(o,o+1)),a.slice(o+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:s,onmousedown:s,"aria-label":` Action: ${a}${o<0?"":` (access key "${r[i]})"`}.`},l)})),t.source&&crelt("div",{class:"cm-diagnosticSource"},t.source))}class DiagnosticWidget extends WidgetType{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class PanelItem{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=renderDiagnostic(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(e){this.view=e,this.items=[];this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)closeLintPanel(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],i=assignKeys(n.actions);for(let r=0;r<i.length;r++)if(i[r].toUpperCase().charCodeAt(0)==t.keyCode){let t=findDiagnostic(this.view.state.field(lintState).diagnostics,n);t&&n.actions[r].apply(e,t.from,t.to)}}}t.preventDefault()},onclick:e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)}}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(lintState).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(lintState),n=0,i=!1,r=null;for(e.between(0,this.view.state.doc.length,((e,s,{spec:a})=>{let o,l=-1;for(let e=n;e<this.items.length;e++)if(this.items[e].diagnostic==a.diagnostic){l=e;break}l<0?(o=new PanelItem(this.view,a.diagnostic),this.items.splice(n,0,o),i=!0):(o=this.items[l],l>n&&(this.items.splice(n,l-n),i=!0)),t&&o.diagnostic==t.diagnostic?o.dom.hasAttribute("aria-selected")||(o.dom.setAttribute("aria-selected","true"),r=o):o.dom.hasAttribute("aria-selected")&&o.dom.removeAttribute("aria-selected"),n++}));n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();0==this.items.length&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),r?(this.list.setAttribute("aria-activedescendant",r.id),this.view.requestMeasure({key:this,read:()=>({sel:r.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:e,panel:t})=>{e.top<t.top?this.list.scrollTop-=t.top-e.top:e.bottom>t.bottom&&(this.list.scrollTop+=e.bottom-t.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=findDiagnostic(this.view.state.field(lintState).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:movePanelSelection.of(t)})}static open(e){return new LintPanel(e)}}function svg(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}function underline(e){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),basicSetup=[lineNumbers(),highlightActiveLineGutter(),highlightSpecialChars(),history$1(),foldGutter(),drawSelection(),dropCursor(),EditorState.allowMultipleSelections.of(!0),indentOnInput(),defaultHighlightStyle.fallback,bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),highlightActiveLine(),highlightSelectionMatches(),keymap.of([...closeBracketsKeymap,...defaultKeymap,...searchKeymap,...historyKeymap,...foldKeymap,...commentKeymap,...completionKeymap,...lintKeymap])];class Stack{constructor(e,t,n,i,r,s,a,o,l,c=0,h){this.p=e,this.stack=t,this.state=n,this.reducePos=i,this.pos=r,this.score=s,this.buffer=a,this.bufferBase=o,this.curContext=l,this.lookAhead=c,this.parent=h}toString(){return`[${this.stack.filter(((e,t)=>t%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let i=e.parser.context;return new Stack(e,[],t,n,n,0,[],0,i?new StackContext(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,n=65535&e,{parser:i}=this.p,r=i.dynamicPrecedence(n);if(r&&(this.score+=r),0==t)return this.pushState(i.getGoto(this.state,n,!0),this.reducePos),n<i.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),void this.reduceContext(n,this.reducePos);let s=this.stack.length-3*(t-1)-(262144&e?6:0),a=this.stack[s-2],o=this.stack[s-1],l=this.bufferBase+this.buffer.length-o;if(n<i.minRepeatTerm||131072&e){let e=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,a,e,l+4,!0)}if(262144&e)this.state=this.stack[s];else{let e=this.stack[s-3];this.state=i.getGoto(e,n,!0)}for(;this.stack.length>s;)this.stack.pop();this.reduceContext(n,a)}storeNode(e,t,n,i=4,r=!1){if(0==e){let e=this,i=this.buffer.length;if(0==i&&e.parent&&(i=e.bufferBase-e.parent.bufferBase,e=e.parent),i>0&&0==e.buffer[i-4]&&e.buffer[i-1]>-1){if(t==n)return;if(e.buffer[i-2]>=t)return void(e.buffer[i-2]=n)}}if(r&&this.pos!=n){let r=this.buffer.length;if(r>0&&0!=this.buffer[r-4])for(;r>0&&this.buffer[r-2]>n;)this.buffer[r]=this.buffer[r-4],this.buffer[r+1]=this.buffer[r-3],this.buffer[r+2]=this.buffer[r-2],this.buffer[r+3]=this.buffer[r-1],r-=4,i>4&&(i-=4);this.buffer[r]=e,this.buffer[r+1]=t,this.buffer[r+2]=n,this.buffer[r+3]=i}else this.buffer.push(e,t,n,i)}shift(e,t,n){let i=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let r=e,{parser:s}=this.p;(n>this.pos||t<=s.maxNode)&&(this.pos=n,s.stateFlag(r,1)||(this.reducePos=n)),this.pushState(r,i),this.shiftContext(t,i),t<=s.maxNode&&this.buffer.push(t,i,n,4)}else this.pos=n,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,n,4)}apply(e,t,n){65536&e?this.reduce(e):this.shift(e,t,n)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new SimulatedStack(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==(65536&n))return!0;if(0==n)return!1;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let i,r=0;r<t.length;r+=2)(i=t[r+1])!=this.state&&this.p.parser.hasAction(i,e)&&n.push(t[r],i);if(this.stack.length<120)for(let e=0;n.length<8&&e<t.length;e+=2){let i=t[e+1];n.some(((e,t)=>1&t&&e==i))||n.push(t[e],i)}t=n}let n=[];for(let e=0;e<t.length&&n.length<4;e+=2){let i=t[e+1];if(i==this.state)continue;let r=this.split();r.storeNode(0,r.pos,r.pos,4,!0),r.pushState(i,this.pos),r.shiftContext(t[e],this.pos),r.score-=200,n.push(r)}return n}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(0==(65536&e))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let n=e>>19,i=65535&e,r=this.stack.length-3*n;if(r<0||t.getGoto(this.stack[r],i,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new StackContext(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var Recover;!function(e){e[e.Insert=200]="Insert",e[e.Delete=190]="Delete",e[e.Reduce=100]="Reduce",e[e.MaxNext=4]="MaxNext",e[e.MaxInsertStackDepth=300]="MaxInsertStackDepth",e[e.DampenInsertStackDepth=120]="DampenInsertStackDepth"}(Recover||(Recover={}));class SimulatedStack{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,n=e>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class StackBufferCursor{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new StackBufferCursor(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,i=this.rangeIndex,r=this.pos+e;for(;r<n.from;){if(!i)return null;let e=this.ranges[--i];r-=n.from-e.to,n=e}for(;t<0?r>n.to:r>=n.to;){if(i==this.ranges.length-1)return null;let e=this.ranges[++i];r+=e.from-n.to,n=e}return r}peek(e){let t,n,i=this.chunkOff+e;if(i>=0&&i<this.chunk.length)t=this.pos+e,n=this.chunk.charCodeAt(i);else{let i=this.resolveOffset(e,1);if(null==i)return-1;if(t=i,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,i=this.range;for(;i.to<=t;)i=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>i.to&&(this.chunk2=this.chunk2.slice(0,i.to-t)),n=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),n}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=nullToken,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(n+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return n}}class TokenGroup{constructor(e,t){this.data=e,this.id=t}token(e,t){readToken(this.data,e,t,this.id)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function readToken(e,t,n,i){let r=0,s=1<<i,{parser:a}=n.p,{dialect:o}=a;e:for(;0!=(s&e[r]);){let n=e[r+1];for(let i=r+3;i<n;i+=2)if((e[i+1]&s)>0){let n=e[i];if(o.allows(n)&&(-1==t.token.value||t.token.value==n||a.overrides(n,t.token.value))){t.acceptToken(n);break}}for(let i=t.next,s=0,a=e[r+2];s<a;){let o=s+a>>1,l=n+o+(o<<1),c=e[l],h=e[l+1];if(i<c)a=o;else{if(!(i>=h)){r=e[l+2],t.advance();continue e}s=o+1}}break}}function decodeArray(e,t=Uint16Array){if("string"!=typeof e)return e;let n=null;for(let i=0,r=0;i<e.length;){let s=0;for(;;){let t=e.charCodeAt(i++),n=!1;if(126==t){s=65535;break}t>=92&&t--,t>=34&&t--;let r=t-32;if(r>=46&&(r-=46,n=!0),s+=r,n)break;s*=46}n?n[r++]=s:n=new t(s)}return n}const verbose="undefined"!=typeof process&&/\bparse\b/.test(process.env.LOG);let stackIDs=null;var Safety,Rec;function cutAt(e,t,n){let i=e.fullCursor();for(i.moveTo(t);;)if(!(n<0?i.childBefore(t):i.childAfter(t)))for(;;){if((n<0?i.to<t:i.from>t)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,t-25)):Math.min(e.length,Math.max(i.from+1,t+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:e.length}}!function(e){e[e.Margin=25]="Margin"}(Safety||(Safety={}));class FragmentCursor{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?cutAt(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?cutAt(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],i=this.index[t];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let r=n.children[i],s=this.start[t]+n.positions[i];if(s>e)return this.nextStart=s,null;if(r instanceof Tree){if(s==e){if(s<this.safeFrom)return null;let e=s+r.length;if(e<=this.safeTo){let t=r.prop(NodeProp.lookAhead);if(!t||e+t<this.fragment.to)return r}}this.index[t]++,s+r.length>=Math.max(this.safeFrom,e)&&(this.trees.push(r),this.start.push(s),this.index.push(0))}else this.index[t]++,this.nextStart=s+r.length}}}class TokenCache{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map((e=>new CachedToken))}getActions(e){let t=0,n=null,{parser:i}=e.p,{tokenizers:r}=i,s=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,o=0;for(let i=0;i<r.length;i++){if(0==(1<<i&s))continue;let l=r[i],c=this.tokens[i];if((!n||l.fallback)&&((l.contextual||c.start!=e.pos||c.mask!=s||c.context!=a)&&(this.updateCachedToken(c,l,e),c.mask=s,c.context=a),c.lookAhead>c.end+25&&(o=Math.max(c.lookAhead,o)),0!=c.value)){let i=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!l.extend&&(n=c,t>i))break}}for(;this.actions.length>t;)this.actions.pop();return o&&e.setLookAhead(o),n||e.pos!=this.stream.end||(n=new CachedToken,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new CachedToken,{pos:n,p:i}=e;return t.start=n,t.end=Math.min(n+1,i.stream.end),t.value=n==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,n){if(t.token(this.stream.reset(n.pos,e),n),e.value>-1){let{parser:t}=n.p;for(let i=0;i<t.specialized.length;i++)if(t.specialized[i]==e.value){let r=t.specializers[i](this.stream.read(e.start,e.end),n);if(r>=0&&n.p.parser.dialect.allows(r>>1)){0==(1&r)?e.value=r>>1:e.extended=r>>1;break}}}else e.value=0,e.end=Math.min(n.p.stream.end,n.pos+1)}putAction(e,t,n,i){for(let t=0;t<i;t+=3)if(this.actions[t]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=n,i}addActions(e,t,n,i){let{state:r}=e,{parser:s}=e.p,{data:a}=s;for(let e=0;e<2;e++)for(let o=s.stateSlot(r,e?2:1);;o+=3){if(65535==a[o]){if(1!=a[o+1]){0==i&&2==a[o+1]&&(i=this.putAction(pair(a,o+2),t,n,i));break}o=pair(a,o+2)}a[o]==t&&(i=this.putAction(pair(a,o+1),t,n,i))}return i}}!function(e){e[e.Distance=5]="Distance",e[e.MaxRemainingPerStep=3]="MaxRemainingPerStep",e[e.MinBufferLengthPrune=500]="MinBufferLengthPrune",e[e.ForceReduceLimit=10]="ForceReduceLimit",e[e.CutDepth=15e3]="CutDepth",e[e.CutTo=9e3]="CutTo"}(Rec||(Rec={}));class Parse{constructor(e,t,n,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new InputStream(t,i),this.tokens=new TokenCache(e,this.stream),this.topTerm=e.top[1];let{from:r}=i[0];this.stacks=[Stack.start(this,e.top[0],r)],this.fragments=n.length&&this.stream.end-r>4*e.bufferLength?new FragmentCursor(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,n=this.stacks,i=this.minStackPos,r=this.stacks=[];for(let s=0;s<n.length;s++){let a=n[s];for(;;){if(this.tokens.mainToken=null,a.pos>i)r.push(a);else{if(this.advanceStack(a,r,n))continue;{e||(e=[],t=[]),e.push(a);let n=this.tokens.getMainToken(a);t.push(n.value,n.end)}}break}}if(!r.length){let t=e&&findFinished(e);if(t)return this.stackToTree(t);if(this.parser.strict)throw verbose&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&e){let n=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,r);if(n)return this.stackToTree(n.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(r.length>e)for(r.sort(((e,t)=>t.score-e.score));r.length>e;)r.pop();r.some((e=>e.reducePos>i))&&this.recovering--}else if(r.length>1)e:for(let e=0;e<r.length-1;e++){let t=r[e];for(let n=e+1;n<r.length;n++){let i=r[n];if(t.sameState(i)||t.buffer.length>500&&i.buffer.length>500){if(!((t.score-i.score||t.buffer.length-i.buffer.length)>0)){r.splice(e--,1);continue e}r.splice(n--,1)}}}this.minStackPos=r[0].pos;for(let e=1;e<r.length;e++)r[e].pos<this.minStackPos&&(this.minStackPos=r[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let i=e.pos,{parser:r}=this,s=verbose?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,n=t?e.curContext.hash:0;for(let a=this.fragments.nodeAt(i);a;){let i=this.parser.nodeSet.types[a.type.id]==a.type?r.getGoto(e.state,a.type.id):-1;if(i>-1&&a.length&&(!t||(a.prop(NodeProp.contextHash)||0)==n))return e.useNode(a,i),verbose&&console.log(s+this.stackID(e)+` (via reuse of ${r.getName(a.type.id)})`),!0;if(!(a instanceof Tree)||0==a.children.length||a.positions[0]>0)break;let o=a.children[0];if(!(o instanceof Tree&&0==a.positions[0]))break;a=o}}let a=r.stateSlot(e.state,4);if(a>0)return e.reduce(a),verbose&&console.log(s+this.stackID(e)+` (via always-reduce ${r.getName(65535&a)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let o=this.tokens.getActions(e);for(let a=0;a<o.length;){let l=o[a++],c=o[a++],h=o[a++],d=a==o.length||!n,p=d?e:e.split();if(p.apply(l,c,h),verbose&&console.log(s+this.stackID(p)+` (via ${0==(65536&l)?"shift":`reduce of ${r.getName(65535&l)}`} for ${r.getName(c)} @ ${i}${p==e?"":", split"})`),d)return!0;p.pos>i?t.push(p):n.push(p)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return pushStackDedup(e,t),!0}}runRecovery(e,t,n){let i=null,r=!1;for(let s=0;s<e.length;s++){let a=e[s],o=t[s<<1],l=t[1+(s<<1)],c=verbose?this.stackID(a)+" -> ":"";if(a.deadEnd){if(r)continue;if(r=!0,a.restart(),verbose&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,n))continue}let h=a.split(),d=c;for(let e=0;h.forceReduce()&&e<10;e++){if(verbose&&console.log(d+this.stackID(h)+" (via force-reduce)"),this.advanceFully(h,n))break;verbose&&(d=this.stackID(h)+" -> ")}for(let e of a.recoverByInsert(o))verbose&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,n);this.stream.end>a.pos?(l==a.pos&&(l++,o=0),a.recoverByDelete(o,l),verbose&&console.log(c+this.stackID(a)+` (via recover-delete ${this.parser.getName(o)})`),pushStackDedup(a,n)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),Tree.build({buffer:StackBufferCursor.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(stackIDs||(stackIDs=new WeakMap)).get(e);return t||stackIDs.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function pushStackDedup(e,t){for(let n=0;n<t.length;n++){let i=t[n];if(i.pos==e.pos&&i.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}class Dialect{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||0==this.disabled[e]}}const id=e=>e;class ContextTracker{constructor(e){this.start=e.start,this.shift=e.shift||id,this.reduce=e.reduce||id,this.reuse=e.reuse||id,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}class LRParser extends Parser$1{constructor(e){if(super(),this.wrappers=[],13!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (13)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let n=0;n<e.repeatNodeCount;n++)t.push("");let n=Object.keys(e.topRules).map((t=>e.topRules[t][1])),i=[];for(let e=0;e<t.length;e++)i.push([]);function r(e,t,n){i[e].push([t,t.deserialize(String(n))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];for(let n=1;n<t.length;){let i=t[n++];if(i>=0)r(i,e,t[n++]);else{let s=t[n+-i];for(let a=-i;a>0;a--)r(t[n++],e,s);n++}}}this.nodeSet=new NodeSet(t.map(((t,r)=>NodeType.define({name:r>=this.minRepeatTerm?void 0:t,id:r,props:i[r],top:n.indexOf(r)>-1,error:0==r,skipped:e.skippedNodes&&e.skippedNodes.indexOf(r)>-1})))),this.strict=!1,this.bufferLength=DefaultBufferLength;let s=decodeArray(e.tokenData);if(this.context=e.context,this.specialized=new Uint16Array(e.specialized?e.specialized.length:0),this.specializers=[],e.specialized)for(let t=0;t<e.specialized.length;t++)this.specialized[t]=e.specialized[t].term,this.specializers[t]=e.specialized[t].get;this.states=decodeArray(e.states,Uint32Array),this.data=decodeArray(e.stateData),this.goto=decodeArray(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new TokenGroup(s,e):e)),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let i=new Parse(this,e,t,n);for(let r of this.wrappers)i=r(i,e,t,n);return i}getGoto(e,t,n=!1){let i=this.goto;if(t>=i[0])return-1;for(let r=i[t+1];;){let t=i[r++],s=1&t,a=i[r++];if(s&&n)return a;for(let n=r+(t>>1);r<n;r++)if(i[r]==e)return a;if(s)return-1}}hasAction(e,t){let n=this.data;for(let i=0;i<2;i++)for(let r,s=this.stateSlot(e,i?2:1);;s+=3){if(65535==(r=n[s])){if(1!=n[s+1]){if(2==n[s+1])return pair(n,s+2);break}r=n[s=pair(n,s+2)]}if(r==t||0==r)return pair(n,s+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])return!1;n=pair(this.data,n+2)}if(t==pair(this.data,n+1))return!0}}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=pair(this.data,n+2)}if(0==(1&this.data[n+2])){let e=this.data[n+1];t.some(((t,n)=>1&n&&t==e))||t.push(this.data[n],e)}}return t}overrides(e,t){let n=findOffset(this.data,this.tokenPrecTable,t);return n<0||findOffset(this.data,this.tokenPrecTable,e)<n}configure(e){let t=Object.assign(Object.create(LRParser.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let n=e.tokenizers.find((e=>e.from==t));return n?n.to:t}))),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map((()=>!1));if(e)for(let i of e.split(" ")){let e=t.indexOf(i);e>=0&&(n[e]=!0)}let i=null;for(let e=0;e<t.length;e++)if(!n[e])for(let n,r=this.dialects[t[e]];65535!=(n=this.data[r++]);)(i||(i=new Uint8Array(this.maxTerm+1)))[n]=1;return new Dialect(e,n,i)}static deserialize(e){return new LRParser(e)}}function pair(e,t){return e[t]|e[t+1]<<16}function findOffset(e,t,n){for(let i,r=t;65535!=(i=e[r]);r++)if(i==n)return r-t;return-1}function findFinished(e){let t=null;for(let n of e){let e=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=e&&n.pos>e)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}const noSemi=279,incdec=1,incdecPrefix=2,templateContent=280,InterpolationStart=3,templateEnd=281,insertSemi=282,TSExtends=4,spaces=284,newline=285,LineComment=5,BlockComment=6,Dialect_ts=1,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,braceL=123,semicolon=59,slash=47,star=42,plus=43,minus=45,dollar=36,backtick=96,backslash=92,trackNewline=new ContextTracker({start:!1,shift:(e,t)=>t==LineComment||t==BlockComment||t==spaces?e:t==newline,strict:!1}),insertSemicolon=new ExternalTokenizer(((e,t)=>{let{next:n}=e;(n==braceR||-1==n||t.context)&&t.canShift(insertSemi)&&e.acceptToken(insertSemi)}),{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer(((e,t)=>{let n,{next:i}=e;space.indexOf(i)>-1||(i!=slash||(n=e.peek(1))!=slash&&n!=star)&&i!=braceR&&i!=semicolon&&-1!=i&&!t.context&&t.canShift(noSemi)&&e.acceptToken(noSemi)}),{contextual:!0}),incdecToken=new ExternalTokenizer(((e,t)=>{let{next:n}=e;if((n==plus||n==minus)&&(e.advance(),n==e.next)){e.advance();let n=!t.context&&t.canShift(incdec);e.acceptToken(n?incdec:incdecPrefix)}}),{contextual:!0}),template=new ExternalTokenizer((e=>{for(let t=!1,n=0;;n++){let{next:i}=e;if(i<0){n&&e.acceptToken(templateContent);break}if(i==backtick){n?e.acceptToken(templateContent):e.acceptToken(templateEnd,1);break}if(i==braceL&&t){1==n?e.acceptToken(InterpolationStart,1):e.acceptToken(templateContent,-1);break}if(10==i&&n){e.advance(),e.acceptToken(templateContent);break}i==backslash&&e.advance(),t=i==dollar,e.advance()}}));function tsExtends(e,t){return"extends"==e&&t.dialectEnabled(Dialect_ts)?TSExtends:-1}const spec_identifier={__proto__:null,export:18,as:23,from:29,default:32,async:37,function:38,this:48,true:56,false:56,void:66,typeof:70,null:86,super:88,new:122,await:139,yield:141,delete:142,class:152,extends:154,public:197,private:197,protected:197,readonly:199,instanceof:220,in:222,const:224,import:256,keyof:307,unique:311,infer:317,is:351,abstract:371,implements:373,type:375,let:378,var:380,interface:387,enum:391,namespace:397,module:399,declare:403,global:407,for:428,of:437,while:440,with:444,do:448,if:452,else:454,switch:458,case:464,try:470,catch:472,finally:474,return:478,throw:482,break:486,continue:490,debugger:494},spec_word={__proto__:null,async:109,get:111,set:113,public:161,private:161,protected:161,static:163,abstract:165,override:167,readonly:173,new:355},spec_LessThan={__proto__:null,"<":129},parser=LRParser.deserialize({version:13,states:"$1jO`QYOOO'QQ!LdO'#ChO'XOSO'#DVO)dQYO'#D]O)tQYO'#DhO){QYO'#DrO-xQYO'#DxOOQO'#E]'#E]O.]QWO'#E[O.bQWO'#E[OOQ!LS'#Ef'#EfO0aQ!LdO'#IrO2wQ!LdO'#IsO3eQWO'#EzO3jQpO'#FaOOQ!LS'#FS'#FSO3rO!bO'#FSO4QQWO'#FhO5_QWO'#FgOOQ!LS'#Is'#IsOOQ!LQ'#Ir'#IrOOQQ'#J['#J[O5dQWO'#HnO5iQ!LYO'#HoOOQQ'#If'#IfOOQQ'#Hp'#HpQ`QYOOO){QYO'#DjO5qQWO'#G[O5vQ#tO'#CmO6UQWO'#EZO6aQWO'#EgO6fQ#tO'#FRO7QQWO'#G[O7VQWO'#G`O7bQWO'#G`O7pQWO'#GcO7pQWO'#GdO7pQWO'#GfO5qQWO'#GiO8aQWO'#GlO9oQWO'#CdO:PQWO'#GyO:XQWO'#HPO:XQWO'#HRO`QYO'#HTO:XQWO'#HVO:XQWO'#HYO:^QWO'#H`O:cQ!LZO'#HdO){QYO'#HfO:nQ!LZO'#HhO:yQ!LZO'#HjO5iQ!LYO'#HlO){QYO'#DWOOOS'#Hr'#HrO;UOSO,59qOOQ!LS,59q,59qO=gQbO'#ChO=qQYO'#HsO>UQWO'#ItO@TQbO'#ItO'dQYO'#ItO@[QWO,59wO@rQ&jO'#DbOAkQWO'#E]OAxQWO'#JPOBTQWO'#JOOBTQWO'#JOOB]QWO,5:yOBbQWO'#I}OBiQWO'#DyO5vQ#tO'#EZOBwQWO'#EZOCSQ`O'#FROOQ!LS,5:S,5:SOC[QYO,5:SOEYQ!LdO,5:^OEvQWO,5:dOFaQ!LYO'#I|O7VQWO'#I{OFhQWO'#I{OFpQWO,5:xOFuQWO'#I{OGTQYO,5:vOITQWO'#EWOJ_QWO,5:vOKnQWO'#DlOKuQYO'#DqOLPQ&jO,5;PO){QYO,5;POOQQ'#Er'#ErOOQQ'#Et'#EtO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;ROOQQ'#Ex'#ExOLXQYO,5;cOOQ!LS,5;h,5;hOOQ!LS,5;i,5;iONXQWO,5;iOOQ!LS,5;j,5;jO){QYO'#H}ON^Q!LYO,5<TONxQWO,5;RO){QYO,5;fO! bQpO'#JTO! PQpO'#JTO! iQpO'#JTO! zQpO,5;qOOOO,5;{,5;{O!!YQYO'#FcOOOO'#H|'#H|O3rO!bO,5;nO!!aQpO'#FeOOQ!LS,5;n,5;nO!!}Q,UO'#CrOOQ!LS'#Cu'#CuO!#bQWO'#CuO!#gOSO'#CyO!$TQ#tO,5<QO!$[QWO,5<SO!%hQWO'#FrO!%uQWO'#FsO!%zQWO'#FwO!&|Q&jO'#F{O!'oQ,UO'#IoOOQ!LS'#Io'#IoO!'yQWO'#InO!(XQWO'#ImOOQ!LS'#Cs'#CsOOQ!LS'#C|'#C|O!(aQWO'#DOOJdQWO'#FjOJdQWO'#FlO!(fQWO'#FnO!(kQWO'#FoO!(pQWO'#FuOJdQWO'#FzO!(uQWO'#E^O!)^QWO,5<RO`QYO,5>YOOQQ'#Ii'#IiOOQQ,5>Z,5>ZOOQQ-E;n-E;nO!+YQ!LdO,5:UOOQ!LQ'#Cp'#CpO!+yQ#tO,5<vOOQO'#Cf'#CfO!,[QWO'#CqO!,dQ!LYO'#IjO5_QWO'#IjO:^QWO,59XO!,rQpO,59XO!,zQ#tO,59XO5vQ#tO,59XO!-VQWO,5:vO!-_QWO'#GxO!-mQWO'#J`O){QYO,5;kO!-uQ&jO,5;mO!-zQWO,5=cO!.PQWO,5=cO!.UQWO,5=cO5iQ!LYO,5=cO5qQWO,5<vO!.dQWO'#E_O!.xQ&jO'#E`OOQ!LQ'#I}'#I}O!/ZQ!LYO'#J]O5iQ!LYO,5<zO7pQWO,5=QOOQO'#Cr'#CrO!/fQpO,5<}O!/nQ#tO,5=OO!/yQWO,5=QO!0OQ`O,5=TO:^QWO'#GnO5qQWO'#GpO!0WQWO'#GpO5vQ#tO'#GsO!0]QWO'#GsOOQQ,5=W,5=WO!0bQWO'#GtO!0jQWO'#CmO!0oQWO,59OO!0yQWO,59OO!2{QYO,59OOOQQ,59O,59OO!3YQ!LYO,59OO){QYO,59OO!3eQYO'#G{OOQQ'#G|'#G|OOQQ'#G}'#G}O`QYO,5=eO!3uQWO,5=eO){QYO'#DxO`QYO,5=kO`QYO,5=mO!3zQWO,5=oO`QYO,5=qO!4PQWO,5=tO!4UQYO,5=zOOQQ,5>O,5>OO){QYO,5>OO5iQ!LYO,5>QOOQQ,5>S,5>SO!8VQWO,5>SOOQQ,5>U,5>UO!8VQWO,5>UOOQQ,5>W,5>WO!8[Q`O,59rOOOS-E;p-E;pOOQ!LS1G/]1G/]O!8aQbO,5>_O'dQYO,5>_OOQO,5>d,5>dO!8kQYO'#HsOOQO-E;q-E;qO!8xQWO,5?`O!9QQbO,5?`O!9XQWO,5?jOOQ!LS1G/c1G/cO!9aQpO'#DTOOQO'#Iv'#IvO){QYO'#IvO!:OQpO'#IvO!:mQpO'#DcO!;OQ&jO'#DcO!=ZQYO'#DcO!=bQWO'#IuO!=jQWO,59|O!=oQWO'#EaO!=}QWO'#JQO!>VQWO,5:zO!>mQ&jO'#DcO){QYO,5?kO!>wQWO'#HxOOQO-E;v-E;vO!9XQWO,5?jOOQ!LQ1G0e1G0eO!@TQ&jO'#D|OOQ!LS,5:e,5:eO){QYO,5:eOITQWO,5:eO!@[QWO,5:eO:^QWO,5:uO!,rQpO,5:uO!,zQ#tO,5:uO5vQ#tO,5:uOOQ!LS1G/n1G/nOOQ!LS1G0O1G0OOOQ!LQ'#EV'#EVO){QYO,5?hO!@gQ!LYO,5?hO!@xQ!LYO,5?hO!APQWO,5?gO!AXQWO'#HzO!APQWO,5?gOOQ!LQ1G0d1G0dO7VQWO,5?gOOQ!LS1G0b1G0bO!AsQ!LdO1G0bO!BdQ!LbO,5:rOOQ!LS'#Fq'#FqO!CQQ!LdO'#IoOGTQYO1G0bO!EPQ#tO'#IwO!EZQWO,5:WO!E`QbO'#IxO){QYO'#IxO!EjQWO,5:]OOQ!LS'#DT'#DTOOQ!LS1G0k1G0kO!EoQWO1G0kO!HQQ!LdO1G0mO!HXQ!LdO1G0mO!JlQ!LdO1G0mO!JsQ!LdO1G0mO!LzQ!LdO1G0mO!M_Q!LdO1G0mO#!OQ!LdO1G0mO#!VQ!LdO1G0mO#$jQ!LdO1G0mO#$qQ!LdO1G0mO#&fQ!LdO1G0mO#)`Q7^O'#ChO#+ZQ7^O1G0}O#-UQ7^O'#IsOOQ!LS1G1T1G1TO#-iQ!LdO,5>iOOQ!LQ-E;{-E;{O#.YQ!LdO1G0mOOQ!LS1G0m1G0mO#0[Q!LdO1G1QO#0{QpO,5;sO#1QQpO,5;tO#1VQpO'#F[O#1kQWO'#FZOOQO'#JU'#JUOOQO'#H{'#H{O#1pQpO1G1]OOQ!LS1G1]1G1]OOOO1G1f1G1fO#2OQ7^O'#IrO#2YQWO,5;}OLXQYO,5;}OOOO-E;z-E;zOOQ!LS1G1Y1G1YOOQ!LS,5<P,5<PO#2_QpO,5<POOQ!LS,59a,59aOITQWO'#C{OOOS'#Hq'#HqO#2dOSO,59eOOQ!LS,59e,59eO){QYO1G1lO!(kQWO'#IPO#2oQWO,5<eOOQ!LS,5<b,5<bOOQO'#GV'#GVOJdQWO,5<pOOQO'#GX'#GXOJdQWO,5<rOJdQWO,5<tOOQO1G1n1G1nO#2zQ`O'#CpO#3_Q`O,5<^O#3fQWO'#JXO5qQWO'#JXO#3tQWO,5<`OJdQWO,5<_O#3yQ`O'#FqO#4WQ`O'#JYO#4bQWO'#JYOITQWO'#JYO#4gQWO,5<cOOQ!LQ'#Dg'#DgO#4lQWO'#FtO#4wQpO'#F|O!&wQ&jO'#F|O!&wQ&jO'#GOO#5YQWO'#GPO!(pQWO'#GSOOQO'#IR'#IRO#5_Q&jO,5<gOOQ!LS,5<g,5<gO#5fQ&jO'#F|O#5tQ&jO'#F}O#5|Q&jO'#F}OOQ!LS,5<u,5<uOJdQWO,5?YOJdQWO,5?YO#6RQWO'#ISO#6^QWO,5?XOOQ!LS'#Ch'#ChO#7QQ#tO,59jOOQ!LS,59j,59jO#7sQ#tO,5<UO#8fQ#tO,5<WO#8pQWO,5<YOOQ!LS,5<Z,5<ZO#8uQWO,5<aO#8zQ#tO,5<fOGTQYO1G1mO#9[QWO1G1mOOQQ1G3t1G3tOOQ!LS1G/p1G/pONXQWO1G/pOOQQ1G2b1G2bOITQWO1G2bO){QYO1G2bOITQWO1G2bO#9aQWO1G2bO#9oQWO,59]O#:xQWO'#EWOOQ!LQ,5?U,5?UO#;SQ!LYO,5?UOOQQ1G.s1G.sO:^QWO1G.sO!,rQpO1G.sO!,zQ#tO1G.sO#;bQWO1G0bO#;gQWO'#ChO#;rQWO'#JaO#;zQWO,5=dO#<PQWO'#JaO#<UQWO'#JaO#<^QWO'#I[O#<lQWO,5?zO#<tQbO1G1VOOQ!LS1G1X1G1XO5qQWO1G2}O#<{QWO1G2}O#=QQWO1G2}O#=VQWO1G2}OOQQ1G2}1G2}O#=[Q#tO1G2bO7VQWO'#JOO7VQWO'#EaO7VQWO'#IUO#=mQ!LYO,5?wOOQQ1G2f1G2fO!/yQWO1G2lOITQWO1G2iO#=xQWO1G2iOOQQ1G2j1G2jOITQWO1G2jO#=}QWO1G2jO#>VQ&jO'#GhOOQQ1G2l1G2lO!&wQ&jO'#IWO!0OQ`O1G2oOOQQ1G2o1G2oOOQQ,5=Y,5=YO#>_Q#tO,5=[O5qQWO,5=[O#5YQWO,5=_O5_QWO,5=_O!,rQpO,5=_O!,zQ#tO,5=_O5vQ#tO,5=_O#>pQWO'#J_O#>{QWO,5=`OOQQ1G.j1G.jO#?QQ!LYO1G.jO#?]QWO1G.jO#?bQWO1G.jO5iQ!LYO1G.jO#?jQbO,5?|O#?tQWO,5?|O#@PQYO,5=gO#@WQWO,5=gO7VQWO,5?|OOQQ1G3P1G3PO`QYO1G3POOQQ1G3V1G3VOOQQ1G3X1G3XO:XQWO1G3ZO#@]QYO1G3]O#DWQYO'#H[OOQQ1G3`1G3`O:^QWO1G3fO#DeQWO1G3fO5iQ!LYO1G3jOOQQ1G3l1G3lOOQ!LQ'#Fx'#FxO5iQ!LYO1G3nO5iQ!LYO1G3pOOOS1G/^1G/^O#DmQ`O,5<TO#DuQbO1G3yOOQO1G4O1G4OO){QYO,5>_O#EPQWO1G4zO#EXQWO1G5UO#EaQWO,5?bOLXQYO,5:{O7VQWO,5:{O:^QWO,59}OLXQYO,59}O!,rQpO,59}O#EfQ7^O,59}OOQO,5:{,5:{O#EpQ&jO'#HtO#FWQWO,5?aOOQ!LS1G/h1G/hO#F`Q&jO'#HyO#FtQWO,5?lOOQ!LQ1G0f1G0fO!;OQ&jO,59}O#F|QbO1G5VO7VQWO,5>dOOQ!LQ'#ES'#ESO#GWQ!LrO'#ETO!?{Q&jO'#D}OOQO'#Hw'#HwO#GrQ&jO,5:hOOQ!LS,5:h,5:hO#GyQ&jO'#D}O#H[Q&jO'#D}O#HcQ&jO'#EYO#HfQ&jO'#ETO#HsQ&jO'#ETO!?{Q&jO'#ETO#IWQWO1G0PO#I]Q`O1G0POOQ!LS1G0P1G0PO){QYO1G0POITQWO1G0POOQ!LS1G0a1G0aO:^QWO1G0aO!,rQpO1G0aO!,zQ#tO1G0aO#IdQ!LdO1G5SO){QYO1G5SO#ItQ!LYO1G5SO#JVQWO1G5RO7VQWO,5>fOOQO,5>f,5>fO#J_QWO,5>fOOQO-E;x-E;xO#JVQWO1G5RO#JmQ!LdO,59jO#LlQ!LdO,5<UO#NnQ!LdO,5<WO$!pQ!LdO,5<fOOQ!LS7+%|7+%|O$$xQ!LdO7+%|O$%iQWO'#HuO$%sQWO,5?cOOQ!LS1G/r1G/rO$%{QYO'#HvO$&YQWO,5?dO$&bQbO,5?dOOQ!LS1G/w1G/wOOQ!LS7+&V7+&VO$&lQ7^O,5:^O){QYO7+&iO$&vQ7^O,5:UOOQO1G1_1G1_OOQO1G1`1G1`O$'TQMhO,5;vOLXQYO,5;uOOQO-E;y-E;yOOQ!LS7+&w7+&wOOOO7+'Q7+'QOOOO1G1i1G1iO$'`QWO1G1iOOQ!LS1G1k1G1kO$'eQ`O,59gOOOS-E;o-E;oOOQ!LS1G/P1G/PO$'lQ!LdO7+'WOOQ!LS,5>k,5>kO$(]QWO,5>kOOQ!LS1G2P1G2PP$(bQWO'#IPPOQ!LS-E;}-E;}O$)RQ#tO1G2[O$)tQ#tO1G2^O$*OQ#tO1G2`OOQ!LS1G1x1G1xO$*VQWO'#IOO$*eQWO,5?sO$*eQWO,5?sO$*mQWO,5?sO$*xQWO,5?sOOQO1G1z1G1zO$+WQ#tO1G1yO$+hQWO'#IQO$+xQWO,5?tOITQWO,5?tO$,QQ`O,5?tOOQ!LS1G1}1G1}O5iQ!LYO,5<hO5iQ!LYO,5<iO$,[QWO,5<iO#5TQWO,5<iO!,rQpO,5<hO$,aQWO,5<jO5iQ!LYO,5<kO$,[QWO,5<nOOQO-E<P-E<POOQ!LS1G2R1G2RO!&wQ&jO,5<hO$,iQWO,5<iO!&wQ&jO,5<jO!&wQ&jO,5<iO$,tQ#tO1G4tO$-OQ#tO1G4tOOQO,5>n,5>nOOQO-E<Q-E<QO!-uQ&jO,59lO){QYO,59lO$-]QWO1G1tOJdQWO1G1{O$-bQ!LdO7+'XOOQ!LS7+'X7+'XOGTQYO7+'XOOQ!LS7+%[7+%[O$.RQ`O'#JZO#IWQWO7+'|O$.]QWO7+'|O$.eQ`O7+'|OOQQ7+'|7+'|OITQWO7+'|O){QYO7+'|OITQWO7+'|OOQO1G.w1G.wO$.oQ!LbO'#ChO$/PQ!LbO,5<lO$/nQWO,5<lOOQ!LQ1G4p1G4pOOQQ7+$_7+$_O:^QWO7+$_O!,rQpO7+$_OGTQYO7+%|O$/sQWO'#IZO$0UQWO,5?{OOQO1G3O1G3OO5qQWO,5?{O$0UQWO,5?{O$0^QWO,5?{OOQO,5>v,5>vOOQO-E<Y-E<YOOQ!LS7+&q7+&qO$0cQWO7+(iO5iQ!LYO7+(iO5qQWO7+(iO$0hQWO7+(iO$0mQWO7+'|OOQ!LQ,5>p,5>pOOQ!LQ-E<S-E<SOOQQ7+(W7+(WO$0{Q!LbO7+(TOITQWO7+(TO$1VQ`O7+(UOOQQ7+(U7+(UOITQWO7+(UO$1^QWO'#J^O$1iQWO,5=SOOQO,5>r,5>rOOQO-E<U-E<UOOQQ7+(Z7+(ZO$2cQ&jO'#GqOOQQ1G2v1G2vOITQWO1G2vO){QYO1G2vOITQWO1G2vO$2jQWO1G2vO$2xQ#tO1G2vO5iQ!LYO1G2yO#5YQWO1G2yO5_QWO1G2yO!,rQpO1G2yO!,zQ#tO1G2yO$3ZQWO'#IYO$3fQWO,5?yO$3nQ&jO,5?yOOQ!LQ1G2z1G2zOOQQ7+$U7+$UO$3vQWO7+$UO5iQ!LYO7+$UO$3{QWO7+$UO){QYO1G5hO){QYO1G5iO$4QQYO1G3RO$4XQWO1G3RO$4^QYO1G3RO$4eQ!LYO1G5hOOQQ7+(k7+(kO5iQ!LYO7+(uO`QYO7+(wOOQQ'#Jd'#JdOOQQ'#I]'#I]O$4oQYO,5=vOOQQ,5=v,5=vO){QYO'#H]O$4|QWO'#H_OOQQ7+)Q7+)QO$5RQYO7+)QO7VQWO7+)QOOQQ7+)U7+)UOOQQ7+)Y7+)YOOQQ7+)[7+)[OOQO1G4|1G4|O$9PQ7^O1G0gO$9ZQWO1G0gOOQO1G/i1G/iO$9fQ7^O1G/iO:^QWO1G/iOLXQYO'#DcOOQO,5>`,5>`OOQO-E;r-E;rOOQO,5>e,5>eOOQO-E;w-E;wO!,rQpO1G/iO:^QWO,5:iOOQO,5:o,5:oO){QYO,5:oO$9pQ!LYO,5:oO$9{Q!LYO,5:oO!,rQpO,5:iOOQO-E;u-E;uOOQ!LS1G0S1G0SO!?{Q&jO,5:iO$:ZQ&jO,5:iO$:lQ!LrO,5:oO$;WQ&jO,5:iO!?{Q&jO,5:oOOQO,5:t,5:tO$;_Q&jO,5:oO$;lQ!LYO,5:oOOQ!LS7+%k7+%kO#IWQWO7+%kO#I]Q`O7+%kOOQ!LS7+%{7+%{O:^QWO7+%{O!,rQpO7+%{O$<QQ!LdO7+*nO){QYO7+*nOOQO1G4Q1G4QO7VQWO1G4QO$<bQWO7+*mO$<jQ!LdO1G2[O$>lQ!LdO1G2^O$@nQ!LdO1G1yO$BvQ#tO,5>aOOQO-E;s-E;sO$CQQbO,5>bO){QYO,5>bOOQO-E;t-E;tO$C[QWO1G5OO$CdQ7^O1G0bO$EkQ7^O1G0mO$ErQ7^O1G0mO$GsQ7^O1G0mO$GzQ7^O1G0mO$IoQ7^O1G0mO$JSQ7^O1G0mO$LaQ7^O1G0mO$LhQ7^O1G0mO$NiQ7^O1G0mO$NpQ7^O1G0mO%!eQ7^O1G0mO%!xQ!LdO<<JTO%#iQ7^O1G0mO%%XQ7^O'#IoO%'UQ7^O1G1QOLXQYO'#F^OOQO'#JV'#JVOOQO1G1b1G1bO%'cQWO1G1aO%'hQ7^O,5>iOOOO7+'T7+'TOOOS1G/R1G/ROOQ!LS1G4V1G4VOJdQWO7+'zO%'rQWO,5>jO5qQWO,5>jOOQO-E;|-E;|O%(QQWO1G5_O%(QQWO1G5_O%(YQWO1G5_O%(eQ`O,5>lO%(oQWO,5>lOITQWO,5>lOOQO-E<O-E<OO%(tQ`O1G5`O%)OQWO1G5`OOQO1G2S1G2SOOQO1G2T1G2TO5iQ!LYO1G2TO$,[QWO1G2TO5iQ!LYO1G2SO%)WQWO1G2UOITQWO1G2UOOQO1G2V1G2VO5iQ!LYO1G2YO!,rQpO1G2SO#5TQWO1G2TO%)]QWO1G2UO%)eQWO1G2TOJdQWO7+*`OOQ!LS1G/W1G/WO%)pQWO1G/WOOQ!LS7+'`7+'`O%)uQ#tO7+'gO%*VQ!LdO<<JsOOQ!LS<<Js<<JsOITQWO'#ITO%*vQWO,5?uOOQQ<<Kh<<KhOITQWO<<KhO#IWQWO<<KhO%+OQWO<<KhO%+WQ`O<<KhOITQWO1G2WOOQQ<<Gy<<GyO:^QWO<<GyO%+bQ!LdO<<IhOOQ!LS<<Ih<<IhOOQO,5>u,5>uO%,RQWO,5>uO%,WQWO,5>uOOQO-E<X-E<XO%,`QWO1G5gO%,`QWO1G5gO5qQWO1G5gO%,hQWO<<LTOOQQ<<LT<<LTO%,mQWO<<LTO5iQ!LYO<<LTO){QYO<<KhOITQWO<<KhOOQQ<<Ko<<KoO$0{Q!LbO<<KoOOQQ<<Kp<<KpO$1VQ`O<<KpO%,rQ&jO'#IVO%,}QWO,5?xOLXQYO,5?xOOQQ1G2n1G2nO#GWQ!LrO'#ETO!?{Q&jO'#GrOOQO'#IX'#IXO%-VQ&jO,5=]OOQQ,5=],5=]O%-^Q&jO'#ETO%-iQ&jO'#ETO%.QQ&jO'#ETO%.[Q&jO'#GrO%.mQWO7+(bO%.rQWO7+(bO%.zQ`O7+(bOOQQ7+(b7+(bOITQWO7+(bO){QYO7+(bOITQWO7+(bO%/UQWO7+(bOOQQ7+(e7+(eO5iQ!LYO7+(eO#5YQWO7+(eO5_QWO7+(eO!,rQpO7+(eO%/dQWO,5>tOOQO-E<W-E<WOOQO'#Gu'#GuO%/oQWO1G5eO5iQ!LYO<<GpOOQQ<<Gp<<GpO%/wQWO<<GpO%/|QWO7++SO%0RQWO7++TOOQQ7+(m7+(mO%0WQWO7+(mO%0]QYO7+(mO%0dQWO7+(mO){QYO7++SO){QYO7++TOOQQ<<La<<LaOOQQ<<Lc<<LcOOQQ-E<Z-E<ZOOQQ1G3b1G3bO%0iQWO,5=wOOQQ,5=y,5=yO:^QWO<<LlO%0nQWO<<LlOLXQYO7+&ROOQO7+%T7+%TO%0sQ7^O1G5VO:^QWO7+%TOOQO1G0T1G0TO%0}Q!LdO1G0ZOOQO1G0Z1G0ZO){QYO1G0ZO%1XQ!LYO1G0ZO:^QWO1G0TO!,rQpO1G0TO!?{Q&jO1G0TO%1dQ!LYO1G0ZO%1rQ&jO1G0TO%2TQ!LYO1G0ZO%2iQ!LrO1G0ZO%2sQ&jO1G0TO!?{Q&jO1G0ZOOQ!LS<<IV<<IVOOQ!LS<<Ig<<IgO:^QWO<<IgO%2zQ!LdO<<NYOOQO7+)l7+)lO%3[Q!LdO7+'gO%5dQbO1G3|O%5nQ7^O7+%|O%5{Q7^O,59jO%7xQ7^O,5<UO%9uQ7^O,5<WO%;rQ7^O,5<fO%=bQ7^O7+'WO%=oQ7^O7+'XO%=|QWO,5;xOOQO7+&{7+&{O%>RQ#tO<<KfOOQO1G4U1G4UO%>cQWO1G4UO%>nQWO1G4UO%>|QWO7+*yO%>|QWO7+*yOITQWO1G4WO%?UQ`O1G4WO%?`QWO7+*zOOQO7+'o7+'oO5iQ!LYO7+'oOOQO7+'n7+'nO$,[QWO7+'pO%?hQ`O7+'pOOQO7+'t7+'tO5iQ!LYO7+'nO$,[QWO7+'oO%?oQWO7+'pOITQWO7+'pO#5TQWO7+'oO%?tQ#tO<<MzOOQ!LS7+$r7+$rO%@OQ`O,5>oOOQO-E<R-E<RO#IWQWOANASOOQQANASANASOITQWOANASO%@YQ!LbO7+'rOOQQAN=eAN=eO5qQWO1G4aOOQO1G4a1G4aO%@gQWO1G4aO%@lQWO7++RO%@lQWO7++RO5iQ!LYOANAoO%@tQWOANAoOOQQANAoANAoO%@yQWOANASO%ARQ`OANASOOQQANAZANAZOOQQANA[ANA[O%A]QWO,5>qOOQO-E<T-E<TO%AhQ7^O1G5dO#5YQWO,5=^O5_QWO,5=^O!,rQpO,5=^OOQO-E<V-E<VOOQQ1G2w1G2wO$:lQ!LrO,5:oO!?{Q&jO,5=^O%ArQ&jO,5=^O%BTQ&jO,5:oOOQQ<<K|<<K|OITQWO<<K|O%.mQWO<<K|O%B_QWO<<K|O%BgQ`O<<K|O){QYO<<K|OITQWO<<K|OOQQ<<LP<<LPO5iQ!LYO<<LPO#5YQWO<<LPO5_QWO<<LPO%BqQ&jO1G4`O%ByQWO7++POOQQAN=[AN=[O5iQ!LYOAN=[OOQQ<<Nn<<NnOOQQ<<No<<NoOOQQ<<LX<<LXO%CRQWO<<LXO%CWQYO<<LXO%C_QWO<<NnO%CdQWO<<NoOOQQ1G3c1G3cOOQQANBWANBWO:^QWOANBWO%CiQ7^O<<ImOOQO<<Ho<<HoOOQO7+%u7+%uO%0}Q!LdO7+%uO){QYO7+%uOOQO7+%o7+%oO:^QWO7+%oO!,rQpO7+%oO%CsQ!LYO7+%uO!?{Q&jO7+%oO%DOQ!LYO7+%uO%D^Q&jO7+%oO%DoQ!LYO7+%uOOQ!LSAN?RAN?RO%ETQ!LdO<<KfO%G]Q7^O<<JTO%GjQ7^O1G1yO%IYQ7^O1G2[O%KVQ7^O1G2^O%MSQ7^O<<JsO%MaQ7^O<<IhOOQO1G1d1G1dOOQO7+)p7+)pO%MnQWO7+)pO%MyQWO<<NeO%NRQ`O7+)rOOQO<<KZ<<KZO5iQ!LYO<<K[O$,[QWO<<K[OOQO<<KY<<KYO5iQ!LYO<<KZO%N]Q`O<<K[O$,[QWO<<KZOOQQG26nG26nO#IWQWOG26nOOQO7+){7+){O5qQWO7+){O%NdQWO<<NmOOQQG27ZG27ZO5iQ!LYOG27ZOITQWOG26nOLXQYO1G4]O%NlQWO7++OO5iQ!LYO1G2xO#5YQWO1G2xO5_QWO1G2xO!,rQpO1G2xO!?{Q&jO1G2xO%2iQ!LrO1G0ZO%NtQ&jO1G2xO%.mQWOANAhOOQQANAhANAhOITQWOANAhO& VQWOANAhO& _Q`OANAhOOQQANAkANAkO5iQ!LYOANAkO#5YQWOANAkOOQO'#Gv'#GvOOQO7+)z7+)zOOQQG22vG22vOOQQANAsANAsO& iQWOANAsOOQQANDYANDYOOQQANDZANDZO& nQYOG27rOOQO<<Ia<<IaO%0}Q!LdO<<IaOOQO<<IZ<<IZO:^QWO<<IZO){QYO<<IaO!,rQpO<<IZO&%lQ!LYO<<IaO!?{Q&jO<<IZO&%wQ!LYO<<IaO&&VQ7^O7+'gOOQO<<M[<<M[OOQOAN@vAN@vO5iQ!LYOAN@vOOQOAN@uAN@uO$,[QWOAN@vO5iQ!LYOAN@uOOQQLD,YLD,YOOQO<<Mg<<MgOOQQLD,uLD,uO#IWQWOLD,YO&'uQ7^O7+)wOOQO7+(d7+(dO5iQ!LYO7+(dO#5YQWO7+(dO5_QWO7+(dO!,rQpO7+(dO!?{Q&jO7+(dOOQQG27SG27SO%.mQWOG27SOITQWOG27SOOQQG27VG27VO5iQ!LYOG27VOOQQG27_G27_O:^QWOLD-^OOQOAN>{AN>{OOQOAN>uAN>uO%0}Q!LdOAN>{O:^QWOAN>uO){QYOAN>{O!,rQpOAN>uO&(PQ!LYOAN>{O&([Q7^O<<KfOOQOG26bG26bO5iQ!LYOG26bOOQOG26aG26aOOQQ!$( t!$( tOOQO<<LO<<LOO5iQ!LYO<<LOO#5YQWO<<LOO5_QWO<<LOO!,rQpO<<LOOOQQLD,nLD,nO%.mQWOLD,nOOQQLD,qLD,qOOQQ!$(!x!$(!xOOQOG24gG24gOOQOG24aG24aO%0}Q!LdOG24gO:^QWOG24aO){QYOG24gOOQOLD+|LD+|OOQOANAjANAjO5iQ!LYOANAjO#5YQWOANAjO5_QWOANAjOOQQ!$(!Y!$(!YOOQOLD*RLD*ROOQOLD){LD){O%0}Q!LdOLD*ROOQOG27UG27UO5iQ!LYOG27UO#5YQWOG27UOOQO!$'Mm!$'MmOOQOLD,pLD,pO5iQ!LYOLD,pOOQO!$(![!$(![OLXQYO'#DrO&)zQbO'#IrOLXQYO'#DjO&*RQ!LdO'#ChO&*lQbO'#ChO&*|QYO,5:vOLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO'#H}O&,|QWO,5<TO&.`QWO,5;ROLXQYO,5;fO!(aQWO'#DOO!(aQWO'#DOOITQWO'#FjO&-UQWO'#FjOITQWO'#FlO&-UQWO'#FlOITQWO'#FzO&-UQWO'#FzOLXQYO,5?kO&*|QYO1G0bO&.gQ7^O'#ChOLXQYO1G1lOITQWO,5<pO&-UQWO,5<pOITQWO,5<rO&-UQWO,5<rOITQWO,5<_O&-UQWO,5<_O&*|QYO1G1mOLXQYO7+&iOITQWO1G1{O&-UQWO1G1{O&*|QYO7+'XO&*|QYO7+%|OITQWO7+'zO&-UQWO7+'zO&.qQWO'#E[O&.vQWO'#E[O&/OQWO'#EzO&/TQWO'#EgO&/YQWO'#JPO&/eQWO'#I}O&/pQWO,5:vO&/uQ#tO,5<QO&/|QWO'#FsO&0RQWO'#FsO&0WQWO,5<RO&0`QWO,5:vO&0hQ7^O1G0}O&0oQWO,5<aO&0tQWO,5<aO&0yQWO1G1mO&1OQWO1G0bO&1TQ#tO1G2`O&1[Q#tO1G2`O4QQWO'#FhO5_QWO'#FgOBwQWO'#EZOLXQYO,5;cO!(pQWO'#FuO!(pQWO'#FuOJdQWO,5<tOJdQWO,5<t",stateData:"&2X~O'WOS'XOSTOSUOS~OPTOQTOXyO]cO_hObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#dsO#tpO#x^O%PqO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO%axO%nzO%t{O%v|O%x}O%z!OO%}!PO&T!QO&X!RO&Z!SO&]!TO&_!UO&a!VO'ZPO'dQO'mYO'zaO~OP[XZ[X_[Xj[Xu[Xv[Xx[X!R[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'U[X'd[X'n[X'u[X'v[X~O!]$lX~P$zOR!WO'S!XO'T!ZO~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O'Z![O'dQO'mYO'zaO~O!Q!`O!R!]O!O'hP!O'rP~P'dO!S!mO~P`OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O'Z9YO'dQO'mYO'zaO~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O'dQO'mYO'zaO~O!Q!rO#U!uO#V!rO'Z9ZO!c'oP~P+{O#W!vO~O!]!wO#W!vO~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!R#bO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'dQO'n#[O'u!}O'v#OO~O_'fX'U'fX!c'fX!O'fX!T'fX%Q'fX!]'fX~P.jO!{#eO#o#eOP'gXZ'gX_'gXj'gXu'gXv'gXx'gX!R'gX!a'gX!b'gX!d'gX!j'gX#['gX#]'gX#^'gX#_'gX#`'gX#a'gX#b'gX#e'gX#g'gX#i'gX#j'gX'd'gX'n'gX'u'gX'v'gX~O#c'gX'U'gX!O'gX!c'gXn'gX!T'gX%Q'gX!]'gX~P0zO!{#eO~O#z#fO$R#jO~O!T#kO#x^O$U#lO$W#nO~O]#qOh$OOj#rOk#qOl#qOq$POs$QOx#xO!T#yO!_$VO!d#vO#V$WO#t$TO$_$RO$a$SO$d$UO'Z#pO'd#sO'_'aP~O!d$XO~O!]$ZO~O_$[O'U$[O~O'Z$`O~O!d$XO'Z$`O'[$bO'`$cO~Oc$iO!d$XO'Z$`O~O#c#TO~O]$rOu$nO!T$kO!d$mO%R$qO'Z$`O'[$bO^(SP~O!n$sO~Ox$tO!T$uO'Z$`O~Ox$tO!T$uO%Z$yO'Z$`O~O'Z$zO~O#dsO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO~Ob%TOc%SO!n%QO%P%RO%c%PO~P7uOb%WOcmO!T%VO!nlO#dsO%PqO%TrO%UrO%XuO%ZvO%^wO%_wO%axO~O`%ZO!{%^O%R%XO'[$bO~P8tO!d%_O!g%cO~O!d%dO~O!TSO~O_$[O'R%lO'U$[O~O_$[O'R%oO'U$[O~O_$[O'R%qO'U$[O~OR!WO'S!XO'T%uO~OP[XZ[Xj[Xu[Xv[Xx[X!R[X!RdX!a[X!b[X!d[X!j[X!{[X!{dX#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'd[X'n[X'u[X'v[X~O!O[X!OdX~P;aO!Q%wO!O&gX!O&lX!R&gX!R&lX~P'dO!R%yO!O'hX~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!R%yO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'dQO'n#[O'u!}O'v#OO~O!O'hX~P>^O!O&OO~Ox&RO!W&]O!X&UO!Y&UO'[$bO~O]&SOk&SO!Q&VO'e&PO!S'iP!S'tP~P@aO!O'qX!R'qX!]'qX!c'qX'n'qX~O!{'qX#W#PX!S'qX~PAYO!{&^O!O'sX!R'sX~O!R&_O!O'rX~O!O&bO~O!{#eO~PAYOS&fO!T&cO!o&eO'Z$`O~Oc&kO!d$XO'Z$`O~Ou$nO!d$mO~O!S&lO~P`Ou!{Ov!{Ox!|O!b!yO!d!zO'dQOP!faZ!faj!fa!R!fa!a!fa!j!fa#[!fa#]!fa#^!fa#_!fa#`!fa#a!fa#b!fa#c!fa#e!fa#g!fa#i!fa#j!fa'n!fa'u!fa'v!fa~O_!fa'U!fa!O!fa!c!fan!fa!T!fa%Q!fa!]!fa~PCcO!c&mO~O!]!wO!{&oO'n&nO!R'pX_'pX'U'pX~O!c'pX~PE{O!R&sO!c'oX~O!c&uO~Ox$tO!T$uO#V&vO'Z$`O~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O'Z9YO'dQO'mYO'zaO~O]#qOh$OOj#rOk#qOl#qOq$POs9lOx#xO!T#yO!_:oO!d#vO#V9rO#t$TO$_9nO$a9pO$d$UO'Z&zO'd#sO~O#W&|O~O]#qOh$OOj#rOk#qOl#qOq$POs$QOx#xO!T#yO!_$VO!d#vO#V$WO#t$TO$_$RO$a$SO$d$UO'Z&zO'd#sO~O'_'kP~PJdO!Q'QO!c'lP~P){O'e'SO'mYO~OP9VOQ9VO]cOb:mOc!jOhcOj9VOkcOlcOq9VOs9VOxRO{cO|cO}cO!T!bO!_9XO!dUO!g9VO!h9VO!i9VO!j9VO!k9VO!n!iO#t!lO#x^O'Z'bO'dQO'mYO'z:kO~O!d!zO~O!R#bO_$]a'U$]a!c$]a!O$]a!T$]a%Q$]a!]$]a~O#d'iO~PITO!]'kO!T'wX#w'wX#z'wX$R'wX~Ou'lO~P! POu'lO!T'wX#w'wX#z'wX$R'wX~O!T'nO#w'rO#z'mO$R'sO~O!Q'vO~PLXO#z#fO$R'yO~Ou$eXx$eX!b$eX'n$eX'u$eX'v$eX~OSfX!RfX!{fX'_fX'_$eX~P!!iOk'{O~OR'|O'S'}O'T(PO~Ou(ROx(SO'n#[O'u(UO'v(WO~O'_(QO~P!#rO'_(ZO~O]#qOh$OOj#rOk#qOl#qOq$POs9lOx#xO!T#yO!_:oO!d#vO#V9rO#t$TO$_9nO$a9pO$d$UO'd#sO~O!Q(_O'Z([O!c'{P~P!$aO#W(aO~O!Q(eO'Z(bO!O'|P~P!$aO_(nOj(sOx(kO!W(qO!X(jO!Y(jO!d(hO!x(rO$w(mO'[$bO'e(gO~O!S(pO~P!&XO!b!yOu'cXx'cX'n'cX'u'cX'v'cX!R'cX!{'cX~O'_'cX#m'cX~P!'TOS(vO!{(uO!R'bX'_'bX~O!R(wO'_'aX~O'Z(yO~O!d)OO~O'Z&zO~O!d(hO~Ox$tO!Q!rO!T$uO#U!uO#V!rO'Z$`O!c'oP~O!]!wO#W)SO~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'dQO'n#[O'u!}O'v#OO~O_!^a!R!^a'U!^a!O!^a!c!^an!^a!T!^a%Q!^a!]!^a~P!)fOS)[O!T&cO!o)ZO%Q)YO'`$cO~O'Z$zO'_'aP~O!])_O!T'^X_'^X'U'^X~O!d$XO'`$cO~O!d$XO'Z$`O'`$cO~O!]!wO#W&|O~O])jO%R)kO'Z)gO!S(TP~O!R)lO^(SX~O'e'SO~OZ)pO~O^)qO~O!T$kO'Z$`O'[$bO^(SP~Ox$tO!Q)vO!R&_O!T$uO'Z$`O!O'rP~O]&YOk&YO!Q)wO'e'SO!S'tP~O!R)xO_(PX'U(PX~O!{)|O'`$cO~OS*PO!T#yO'`$cO~O!T*RO~Ou*TO!TSO~O!n*YO~Oc*_O~O'Z(yO!S(RP~Oc$iO~O%RtO'Z$zO~P8tOZ*eO^*dO~OPTOQTO]cObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#x^O%PqO'dQO'mYO'zaO~O!T!bO#t!lO'Z9YO~P!1RO^*dO_$[O'U$[O~O_*iO#d*kO%T*kO%U*kO~P){O!d%_O~O%t*pO~O!T*rO~O&U*uO&V*tOP&SaQ&SaX&Sa]&Sa_&Sab&Sac&Sah&Saj&Sak&Sal&Saq&Sas&Sax&Sa{&Sa|&Sa}&Sa!T&Sa!_&Sa!d&Sa!g&Sa!h&Sa!i&Sa!j&Sa!k&Sa!n&Sa#d&Sa#t&Sa#x&Sa%P&Sa%R&Sa%T&Sa%U&Sa%X&Sa%Z&Sa%^&Sa%_&Sa%a&Sa%n&Sa%t&Sa%v&Sa%x&Sa%z&Sa%}&Sa&T&Sa&X&Sa&Z&Sa&]&Sa&_&Sa&a&Sa'Q&Sa'Z&Sa'd&Sa'm&Sa'z&Sa!S&Sa%{&Sa`&Sa&Q&Sa~O'Z*xO~On*{O~O!O&ga!R&ga~P!)fO!Q+PO!O&gX!R&gX~P){O!R%yO!O'ha~O!O'ha~P>^O!R&_O!O'ra~O!RwX!R!ZX!SwX!S!ZX!]wX!]!ZX!d!ZX!{wX'`!ZX~O!]+UO!{+TO!R#TX!R'jX!S#TX!S'jX!]'jX!d'jX'`'jX~O!]+WO!d$XO'`$cO!R!VX!S!VX~O]&QOk&QOx&RO'e(gO~OP9VOQ9VO]cOb:mOc!jOhcOj9VOkcOlcOq9VOs9VOxRO{cO|cO}cO!T!bO!_9XO!dUO!g9VO!h9VO!i9VO!j9VO!k9VO!n!iO#t!lO#x^O'dQO'mYO'z:kO~O'Z9vO~P!;^O!R+[O!S'iX~O!S+^O~O!]+UO!{+TO!R#TX!S#TX~O!R+_O!S'tX~O!S+aO~O]&QOk&QOx&RO'[$bO'e(gO~O!X+bO!Y+bO~P!>[Ox$tO!Q+dO!T$uO'Z$`O!O&lX!R&lX~O_+hO!W+kO!X+gO!Y+gO!r+oO!s+mO!t+nO!u+lO!x+pO'[$bO'e(gO'm+eO~O!S+jO~P!?]OS+uO!T&cO!o+tO~O!{+{O!R'pa!c'pa_'pa'U'pa~O!]!wO~P!@gO!R&sO!c'oa~Ox$tO!Q,OO!T$uO#U,QO#V,OO'Z$`O!R&nX!c&nX~O_#Oi!R#Oi'U#Oi!O#Oi!c#Oin#Oi!T#Oi%Q#Oi!]#Oi~P!)fO#W!za!R!za!c!za!{!za!T!za_!za'U!za!O!za~P!#rO#W'cXP'cXZ'cX_'cXj'cXv'cX!a'cX!d'cX!j'cX#['cX#]'cX#^'cX#_'cX#`'cX#a'cX#b'cX#c'cX#e'cX#g'cX#i'cX#j'cX'U'cX'd'cX!c'cX!O'cX!T'cXn'cX%Q'cX!]'cX~P!'TO!R,ZO'_'kX~P!#rO'_,]O~O!R,^O!c'lX~P!)fO!c,aO~O!O,bO~OP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'dQOZ#Zi_#Zij#Zi!R#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'U#Zi'n#Zi'u#Zi'v#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O#[#Zi~P!EtO#[#PO~P!EtOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO'dQOZ#Zi_#Zi!R#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'U#Zi'n#Zi'u#Zi'v#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~Oj#Zi~P!H`Oj#RO~P!H`OP#^Oj#ROu!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO'dQO_#Zi!R#Zi#e#Zi#g#Zi#i#Zi#j#Zi'U#Zi'n#Zi'u#Zi'v#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P!JzOZ#dO!a#TO#a#TO#b#TO#c#TO~P!JzOP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO'dQO_#Zi!R#Zi#g#Zi#i#Zi#j#Zi'U#Zi'n#Zi'v#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'u#Zi~P!MrO'u!}O~P!MrOP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO'dQO'u!}O_#Zi!R#Zi#i#Zi#j#Zi'U#Zi'n#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'v#Zi~P#!^O'v#OO~P#!^OP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO'dQO'u!}O'v#OO~O_#Zi!R#Zi#j#Zi'U#Zi'n#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P#$xOP[XZ[Xj[Xu[Xv[Xx[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'd[X'n[X'u[X'v[X!R[X!S[X~O#m[X~P#']OP#^OZ9jOj9_Ou!{Ov!{Ox!|O!a9aO!b!yO!d!zO!j#^O#[9]O#]9^O#^9^O#_9^O#`9`O#a9aO#b9aO#c9aO#e9bO#g9dO#i9fO#j9gO'dQO'n#[O'u!}O'v#OO~O#m,dO~P#)gOP'gXZ'gXj'gXu'gXv'gXx'gX!a'gX!b'gX!d'gX!j'gX#['gX#]'gX#^'gX#_'gX#`'gX#a'gX#b'gX#e'gX#g'gX#i'gX#j'gX'd'gX'n'gX'u'gX'v'gX!R'gX~O!{9kO#o9kO#c'gX#m'gX!S'gX~P#+bO_&qa!R&qa'U&qa!c&qan&qa!O&qa!T&qa%Q&qa!]&qa~P!)fOP#ZiZ#Zi_#Zij#Ziv#Zi!R#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'U#Zi'd#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P!#rO_#ni!R#ni'U#ni!O#ni!c#nin#ni!T#ni%Q#ni!]#ni~P!)fO#z,fO~O#z,gO~O!]'kO!{,hO!T$OX#w$OX#z$OX$R$OX~O!Q,iO~O!T'nO#w,kO#z'mO$R,lO~O!R9hO!S'fX~P#)gO!S,mO~O$R,oO~OR'|O'S'}O'T,rO~O],uOk,uO!O,vO~O!RdX!]dX!cdX!c$eX'ndX~P!!iO!c,|O~P!#rO!R,}O!]!wO'n&nO!c'{X~O!c-SO~O!O$eX!R$eX!]$lX~P!!iO!R-UO!O'|X~P!#rO!]-WO~O!O-YO~O!Q(_O'Z$`O!c'{P~Oj-^O!]!wO!d$XO'`$cO'n&nO~O!])_O~O!S-dO~P!&XO!X-eO!Y-eO'[$bO'e(gO~Ox-gO'e(gO~O!x-hO~O'Z$zO!R&vX'_&vX~O!R(wO'_'aa~Ou-mOv-mOx-nO'nra'ura'vra!Rra!{ra~O'_ra#mra~P#6fOu(ROx(SO'n$^a'u$^a'v$^a!R$^a!{$^a~O'_$^a#m$^a~P#7[Ou(ROx(SO'n$`a'u$`a'v$`a!R$`a!{$`a~O'_$`a#m$`a~P#7}O]-oO~O#W-pO~O'_$na!R$na#m$na!{$na~P!#rO#W-sO~OS-|O!T&cO!o-{O%Q-zO~O'_-}O~O]#qOj#rOk#qOl#qOq$POs9lOx#xO!T#yO!_:oO!d#vO#V9rO#t$TO$_9nO$a9pO$d$UO'd#sO~Oh.PO'Z.OO~P#9tO!])_O!T'^a_'^a'U'^a~O#W.VO~OZ[X!RdX!SdX~O!R.WO!S(TX~O!S.YO~OZ.ZO~O].]O'Z)gO~O!T$kO'Z$`O^'OX!R'OX~O!R)lO^(Sa~O!c.`O~P!)fO].bO~OZ.cO~O^.dO~OS-|O!T&cO!o-{O%Q-zO'`$cO~O!R)xO_(Pa'U(Pa~O!{.jO~OS.mO!T#yO~O'e'SO!S(QP~OS.wO!T.sO!o.vO%Q.uO'`$cO~OZ/RO!R/PO!S(RX~O!S/SO~O^/UO_$[O'U$[O~O]/VO~O]/WO'Z(yO~O#c/XO%r/YO~P0zO!{#eO#c/XO%r/YO~O_/ZO~P){O_/]O~O%{/aOP%yiQ%yiX%yi]%yi_%yib%yic%yih%yij%yik%yil%yiq%yis%yix%yi{%yi|%yi}%yi!T%yi!_%yi!d%yi!g%yi!h%yi!i%yi!j%yi!k%yi!n%yi#d%yi#t%yi#x%yi%P%yi%R%yi%T%yi%U%yi%X%yi%Z%yi%^%yi%_%yi%a%yi%n%yi%t%yi%v%yi%x%yi%z%yi%}%yi&T%yi&X%yi&Z%yi&]%yi&_%yi&a%yi'Q%yi'Z%yi'd%yi'm%yi'z%yi!S%yi`%yi&Q%yi~O`/gO!S/eO&Q/fO~P`O!TSO!d/jO~O!R#bOn$]a~O!O&gi!R&gi~P!)fO!R%yO!O'hi~O!R&_O!O'ri~O!O/nO~O!R!Va!S!Va~P#)gO]&QOk&QO!Q/tO'e(gO!R&hX!S&hX~P@aO!R+[O!S'ia~O]&YOk&YO!Q)wO'e'SO!R&mX!S&mX~O!R+_O!S'ta~O!O'si!R'si~P!)fO_$[O!]!wO!d$XO!j0OO!{/|O'U$[O'`$cO'n&nO~O!S0RO~P!?]O!X0SO!Y0SO'[$bO'e(gO'm+eO~O!W0TO~P#GyO!TSO!W0TO!u0VO!x0WO~P#GyO!W0TO!s0YO!t0YO!u0VO!x0WO~P#GyO!T&cO~O!T&cO~P!#rO!R'pi!c'pi_'pi'U'pi~P!)fO!{0cO!R'pi!c'pi_'pi'U'pi~O!R&sO!c'oi~Ox$tO!T$uO#V0eO'Z$`O~O#WraPraZra_rajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra'Ura'dra!cra!Ora!Tranra%Qra!]ra~P#6fO#W$^aP$^aZ$^a_$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a'U$^a'd$^a!c$^a!O$^a!T$^an$^a%Q$^a!]$^a~P#7[O#W$`aP$`aZ$`a_$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a'U$`a'd$`a!c$`a!O$`a!T$`an$`a%Q$`a!]$`a~P#7}O#W$naP$naZ$na_$naj$nav$na!R$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na'U$na'd$na!c$na!O$na!T$na!{$nan$na%Q$na!]$na~P!#rO_#Oq!R#Oq'U#Oq!O#Oq!c#Oqn#Oq!T#Oq%Q#Oq!]#Oq~P!)fO!R&iX'_&iX~PJdO!R,ZO'_'ka~O!Q0mO!R&jX!c&jX~P){O!R,^O!c'la~O!R,^O!c'la~P!)fO#m!fa!S!fa~PCcO#m!^a!R!^a!S!^a~P#)gO!T1QO#x^O$P1RO~O!S1VO~On1WO~P!#rO_$Yq!R$Yq'U$Yq!O$Yq!c$Yqn$Yq!T$Yq%Q$Yq!]$Yq~P!)fO!O1XO~O],uOk,uO~Ou(ROx(SO'v(WO'n$xi'u$xi!R$xi!{$xi~O'_$xi#m$xi~P$(jOu(ROx(SO'n$zi'u$zi'v$zi!R$zi!{$zi~O'_$zi#m$zi~P$)]O#m1YO~P!#rO!Q1[O'Z$`O!R&rX!c&rX~O!R,}O!c'{a~O!R,}O!]!wO!c'{a~O!R,}O!]!wO'n&nO!c'{a~O'_$gi!R$gi#m$gi!{$gi~P!#rO!Q1cO'Z(bO!O&tX!R&tX~P!$aO!R-UO!O'|a~O!R-UO!O'|a~P!#rO!]!wO~O!]!wO#c1mO~Oj1qO!]!wO'n&nO~O!R'bi'_'bi~P!#rO!{1tO!R'bi'_'bi~P!#rO!c1wO~O_$Zq!R$Zq'U$Zq!O$Zq!c$Zqn$Zq!T$Zq%Q$Zq!]$Zq~P!)fO!R1{O!T'}X~P!#rO!T&cO%Q2OO~O!T&cO%Q2OO~P!#rO!T$eX$u[X_$eX'U$eX~P!!iO$u2SOugXxgX!TgX'ngX'ugX'vgX_gX'UgX~O$u2SO~O]2YO%R2ZO'Z)gO!R&}X!S&}X~O!R.WO!S(Ta~OZ2_O~O^2`O~O]2cO~OS2eO!T&cO!o2dO%Q2OO~O_$[O'U$[O~P!#rO!T#yO~P!#rO!R2jO!{2lO!S(QX~O!S2mO~Ox(kO!W2vO!X2oO!Y2oO!r2uO!s2tO!t2tO!x2sO'[$bO'e(gO'm+eO~O!S2rO~P$1nOS2}O!T.sO!o2|O%Q2{O~OS2}O!T.sO!o2|O%Q2{O'`$cO~O'Z(yO!R&|X!S&|X~O!R/PO!S(Ra~O]3XO'e3WO~O]3YO~O^3[O~O!c3_O~P){O_3aO~O_3aO~P){O#c3cO%r3dO~PE{O`/gO!S3hO&Q/fO~P`O!]3jO~O&V3kOP&SqQ&SqX&Sq]&Sq_&Sqb&Sqc&Sqh&Sqj&Sqk&Sql&Sqq&Sqs&Sqx&Sq{&Sq|&Sq}&Sq!T&Sq!_&Sq!d&Sq!g&Sq!h&Sq!i&Sq!j&Sq!k&Sq!n&Sq#d&Sq#t&Sq#x&Sq%P&Sq%R&Sq%T&Sq%U&Sq%X&Sq%Z&Sq%^&Sq%_&Sq%a&Sq%n&Sq%t&Sq%v&Sq%x&Sq%z&Sq%}&Sq&T&Sq&X&Sq&Z&Sq&]&Sq&_&Sq&a&Sq'Q&Sq'Z&Sq'd&Sq'm&Sq'z&Sq!S&Sq%{&Sq`&Sq&Q&Sq~O!R#Ti!S#Ti~P#)gO!{3mO!R#Ti!S#Ti~O!R!Vi!S!Vi~P#)gO_$[O!{3tO'U$[O~O_$[O!]!wO!{3tO'U$[O~O!X3xO!Y3xO'[$bO'e(gO'm+eO~O_$[O!]!wO!d$XO!j3yO!{3tO'U$[O'`$cO'n&nO~O!W3zO~P$:ZO!W3zO!u3}O!x4OO~P$:ZO_$[O!]!wO!j3yO!{3tO'U$[O'n&nO~O!R'pq!c'pq_'pq'U'pq~P!)fO!R&sO!c'oq~O#W$xiP$xiZ$xi_$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi'U$xi'd$xi!c$xi!O$xi!T$xin$xi%Q$xi!]$xi~P$(jO#W$ziP$ziZ$zi_$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi'U$zi'd$zi!c$zi!O$zi!T$zin$zi%Q$zi!]$zi~P$)]O#W$giP$giZ$gi_$gij$giv$gi!R$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi'U$gi'd$gi!c$gi!O$gi!T$gi!{$gin$gi%Q$gi!]$gi~P!#rO!R&ia'_&ia~P!#rO!R&ja!c&ja~P!)fO!R,^O!c'li~O#m#Oi!R#Oi!S#Oi~P#)gOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'dQOZ#Zij#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'n#Zi'u#Zi'v#Zi!R#Zi!S#Zi~O#[#Zi~P$CqO#[9]O~P$CqOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9]O#]9^O#^9^O#_9^O'dQOZ#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'n#Zi'u#Zi'v#Zi!R#Zi!S#Zi~Oj#Zi~P$EyOj9_O~P$EyOP#^Oj9_Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9]O#]9^O#^9^O#_9^O#`9`O'dQO#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'n#Zi'u#Zi'v#Zi!R#Zi!S#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P$HROZ9jO!a9aO#a9aO#b9aO#c9aO~P$HROP#^OZ9jOj9_Ou!{Ov!{Ox!|O!a9aO!b!yO!d!zO!j#^O#[9]O#]9^O#^9^O#_9^O#`9`O#a9aO#b9aO#c9aO#e9bO'dQO#g#Zi#i#Zi#j#Zi#m#Zi'n#Zi'v#Zi!R#Zi!S#Zi~O'u#Zi~P$JgO'u!}O~P$JgOP#^OZ9jOj9_Ou!{Ov!{Ox!|O!a9aO!b!yO!d!zO!j#^O#[9]O#]9^O#^9^O#_9^O#`9`O#a9aO#b9aO#c9aO#e9bO#g9dO'dQO'u!}O#i#Zi#j#Zi#m#Zi'n#Zi!R#Zi!S#Zi~O'v#Zi~P$LoO'v#OO~P$LoOP#^OZ9jOj9_Ou!{Ov!{Ox!|O!a9aO!b!yO!d!zO!j#^O#[9]O#]9^O#^9^O#_9^O#`9`O#a9aO#b9aO#c9aO#e9bO#g9dO#i9fO'dQO'u!}O'v#OO~O#j#Zi#m#Zi'n#Zi!R#Zi!S#Zi~P$NwO_#ky!R#ky'U#ky!O#ky!c#kyn#ky!T#ky%Q#ky!]#ky~P!)fOP#ZiZ#Zij#Ziv#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'd#Zi!R#Zi!S#Zi~P!#rO!b!yOP'cXZ'cXj'cXu'cXv'cXx'cX!a'cX!d'cX!j'cX#['cX#]'cX#^'cX#_'cX#`'cX#a'cX#b'cX#c'cX#e'cX#g'cX#i'cX#j'cX#m'cX'd'cX'n'cX'u'cX'v'cX!R'cX!S'cX~O#m#ni!R#ni!S#ni~P#)gO!S4`O~O!R&qa!S&qa~P#)gO!]!wO'n&nO!R&ra!c&ra~O!R,}O!c'{i~O!R,}O!]!wO!c'{i~O!O&ta!R&ta~P!#rO!]4gO~O!R-UO!O'|i~P!#rO!R-UO!O'|i~O!O4mO~O!]!wO#c4sO~Oj4tO!]!wO'n&nO~O!O4vO~O'_$iq!R$iq#m$iq!{$iq~P!#rO_$Zy!R$Zy'U$Zy!O$Zy!c$Zyn$Zy!T$Zy%Q$Zy!]$Zy~P!)fO!R1{O!T'}a~O!T&cO%Q4{O~O!T&cO%Q4{O~P!#rO_#Oy!R#Oy'U#Oy!O#Oy!c#Oyn#Oy!T#Oy%Q#Oy!]#Oy~P!)fOZ5OO~O]5QO'Z)gO~O!R.WO!S(Ti~O]5TO~O^5UO~O'e'SO!R&yX!S&yX~O!R2jO!S(Qa~O!S5cO~P$1nOx-gO'e(gO'm+eO~O!W5fO!X5eO!Y5eO!x0WO'[$bO'e(gO'm+eO~O!s5gO!t5gO~P%-iO!X5eO!Y5eO'[$bO'e(gO'm+eO~O!T.sO~O!T.sO%Q5iO~O!T.sO%Q5iO~P!#rOS5nO!T.sO!o5mO%Q5iO~OZ5sO!R&|a!S&|a~O!R/PO!S(Ri~O]5vO~O!c5wO~O!c5xO~O!c5yO~O!c5yO~P){O_5{O~O!]6OO~O!c6QO~O!R'si!S'si~P#)gO_$[O'U$[O~P!)fO_$[O!{6VO'U$[O~O_$[O!]!wO!{6VO'U$[O~O!X6[O!Y6[O'[$bO'e(gO'm+eO~O_$[O!]!wO!j6]O!{6VO'U$[O'n&nO~O!d$XO'`$cO~P%2TO!W6^O~P%1rO!R'py!c'py_'py'U'py~P!)fO#W$iqP$iqZ$iq_$iqj$iqv$iq!R$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq'U$iq'd$iq!c$iq!O$iq!T$iq!{$iqn$iq%Q$iq!]$iq~P!#rO!R&ji!c&ji~P!)fO#m#Oq!R#Oq!S#Oq~P#)gOu-mOv-mOx-nOPraZrajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra#mra'dra'nra'ura'vra!Rra!Sra~Ou(ROx(SOP$^aZ$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a#m$^a'd$^a'n$^a'u$^a'v$^a!R$^a!S$^a~Ou(ROx(SOP$`aZ$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a#m$`a'd$`a'n$`a'u$`a'v$`a!R$`a!S$`a~OP$naZ$naj$nav$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na#m$na'd$na!R$na!S$na~P!#rO#m$Yq!R$Yq!S$Yq~P#)gO#m$Zq!R$Zq!S$Zq~P#)gO!S6hO~O'_$|y!R$|y#m$|y!{$|y~P!#rO!]!wO!R&ri!c&ri~O!]!wO'n&nO!R&ri!c&ri~O!R,}O!c'{q~O!O&ti!R&ti~P!#rO!R-UO!O'|q~O!O6oO~P!#rO!O6oO~O!R'by'_'by~P!#rO!R&wa!T&wa~P!#rO!T$tq_$tq'U$tq~P!#rOZ6wO~O!R.WO!S(Tq~O]6zO~O!T&cO%Q6{O~O!T&cO%Q6{O~P!#rO!{6|O!R&ya!S&ya~O!R2jO!S(Qi~P#)gO!X7SO!Y7SO'[$bO'e(gO'm+eO~O!W7UO!x4OO~P%ArO!T.sO%Q7XO~O!T.sO%Q7XO~P!#rO]7`O'e7_O~O!R/PO!S(Rq~O!c7bO~O!c7bO~P){O!c7dO~O!c7eO~O!R#Ty!S#Ty~P#)gO_$[O!{7kO'U$[O~O_$[O!]!wO!{7kO'U$[O~O!X7nO!Y7nO'[$bO'e(gO'm+eO~O_$[O!]!wO!j7oO!{7kO'U$[O'n&nO~O#W$|yP$|yZ$|y_$|yj$|yv$|y!R$|y!a$|y!b$|y!d$|y!j$|y#[$|y#]$|y#^$|y#_$|y#`$|y#a$|y#b$|y#c$|y#e$|y#g$|y#i$|y#j$|y'U$|y'd$|y!c$|y!O$|y!T$|y!{$|yn$|y%Q$|y!]$|y~P!#rO#m#ky!R#ky!S#ky~P#)gOP$giZ$gij$giv$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi#m$gi'd$gi!R$gi!S$gi~P!#rOu(ROx(SO'v(WOP$xiZ$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi#m$xi'd$xi'n$xi'u$xi!R$xi!S$xi~Ou(ROx(SOP$ziZ$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi#m$zi'd$zi'n$zi'u$zi'v$zi!R$zi!S$zi~O#m$Zy!R$Zy!S$Zy~P#)gO#m#Oy!R#Oy!S#Oy~P#)gO!]!wO!R&rq!c&rq~O!R,}O!c'{y~O!O&tq!R&tq~P!#rO!O7uO~P!#rO!R.WO!S(Ty~O!R2jO!S(Qq~O!X8RO!Y8RO'[$bO'e(gO'm+eO~O!T.sO%Q8UO~O!T.sO%Q8UO~P!#rO!c8XO~O&V8YOP&S!ZQ&S!ZX&S!Z]&S!Z_&S!Zb&S!Zc&S!Zh&S!Zj&S!Zk&S!Zl&S!Zq&S!Zs&S!Zx&S!Z{&S!Z|&S!Z}&S!Z!T&S!Z!_&S!Z!d&S!Z!g&S!Z!h&S!Z!i&S!Z!j&S!Z!k&S!Z!n&S!Z#d&S!Z#t&S!Z#x&S!Z%P&S!Z%R&S!Z%T&S!Z%U&S!Z%X&S!Z%Z&S!Z%^&S!Z%_&S!Z%a&S!Z%n&S!Z%t&S!Z%v&S!Z%x&S!Z%z&S!Z%}&S!Z&T&S!Z&X&S!Z&Z&S!Z&]&S!Z&_&S!Z&a&S!Z'Q&S!Z'Z&S!Z'd&S!Z'm&S!Z'z&S!Z!S&S!Z%{&S!Z`&S!Z&Q&S!Z~O_$[O!{8_O'U$[O~O_$[O!]!wO!{8_O'U$[O~OP$iqZ$iqj$iqv$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq#m$iq'd$iq!R$iq!S$iq~P!#rO!R&yq!S&yq~P#)gO_$[O!{8tO'U$[O~OP$|yZ$|yj$|yv$|y!a$|y!b$|y!d$|y!j$|y#[$|y#]$|y#^$|y#_$|y#`$|y#a$|y#b$|y#c$|y#e$|y#g$|y#i$|y#j$|y#m$|y'd$|y!R$|y!S$|y~P!#rOn'fX~P.jOn[X!O[X!c[X%r[X!T[X%Q[X!][X~P$zO!]dX!c[X!cdX'ndX~P;aOP9VOQ9VO]cOb:mOc!jOhcOj9VOkcOlcOq9VOs9VOxRO{cO|cO}cO!TSO!_9XO!dUO!g9VO!h9VO!i9VO!j9VO!k9VO!n!iO#t!lO#x^O'Z'bO'dQO'mYO'z:kO~O!R9hO!S$]a~O]#qOh$OOj#rOk#qOl#qOq$POs9mOx#xO!T#yO!_:pO!d#vO#V9sO#t$TO$_9oO$a9qO$d$UO'Z&zO'd#sO~O#d'iO~P&-UO!S[X!SdX~P;aO#W9[O~O!]!wO#W9[O~O!{9kO~O#c9aO~O!{9tO!R'sX!S'sX~O!{9kO!R'qX!S'qX~O#W9uO~O'_9wO~P!#rO#W9|O~O#W9}O~O!]!wO#W:OO~O!]!wO#W9uO~O#m:PO~P#)gO#W:QO~O#W:RO~O#W:SO~O#W:TO~O#m:UO~P!#rO#m:VO~P!#rO#x~!b!r!t!u#U#V'z$_$a$d$u%P%Q%R%X%Z%^%_%a%c~UT#x'z#]}'W'X#z'W'Z'e~",goto:"#Ed(XPPPPPPPP(YP(jP*^PPPP-uPP.[3n5b5uP5uPPP5uP7c5uP5uP7gPP7lP8Q<cPPPP<gPPPP<g?XPPP?_AjP<gPDTPPPPE{<gPPPPPGt<gPPJuKrPPPPKvM`PMhNiPKr<g<g!#p!&k!+^!+^!.mPPP!.t!1j<gPPPPPPPPPP!4aP!5rPP<g!7PP<gP<g<g<g<gP<g!9dPP!<]P!?Q!?Y!?^!?^P!<YP!?b!?bP!BVP!BZ<g<g!Ba!ET5uP5uP5u5uP!FW5u5u!HO5u!JQ5u!Kr5u5u!L`!NY!NY!N^!NY!NfP!NYP5u# b5u#!l5u5u-uPPP##yPP#$c#$cP#$cP#$x#$cPP#%OP#$uP#$u#%bMd#$u#&P#&V#&Y(Y#&](YP#&d#&d#&dP(YP(YP(YP(YPP(YP#&j#&mP#&m(YPPP(YP(YP(YP(YP(YP(Y(Y#&q#&{#'R#'X#'g#'m#'s#'}#(T#(d#(j#(x#)O#)U#)d#)y#+]#+k#+q#+w#+}#,T#,_#,e#,k#,u#-X#-_PPPPPPPP#-ePP#.X#2VPP#3m#3t#3|PP#8Y#:m#@i#@l#@o#@z#@}PP#AQ#AU#As#Bj#Bn#CSPP#CW#C^#CbP#Ce#Ci#Cl#D[#Dr#Dw#Dz#D}#ET#EW#E[#E`mhOSj}!n$Z%b%e%f%h*m*r/a/dQ$hmQ$opQ%YyS&U!b+[Q&j!jS(j#y(oQ)e$iQ)r$qQ*^%SQ+b&]S+g&c+iQ+y&kQ-e(qQ/O*_Y0S+k+l+m+n+oS2o.s2qU3x0T0V0YU5e2t2u2vS6[3z3}S7S5f5gQ7n6^R8R7U$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+P+t+{,^,d-n-s-{.V.v/X/Y/Z/]/a/d/f/|0c0m2d2|3a3c3d3t5m5{6V7k8_8t!j'd#]#k&V'v+T+W,i/t1Q2l3m6|9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nQ(z$QQ)j$kQ*`%VQ*g%_Q,T9lQ.Q)_Q.])kQ/W*eQ2Y.WQ3U/PQ4X9mR5Q2ZpeOSjy}!n$Z%X%b%e%f%h*m*r/a/dR*b%Z&WVOSTjkn}!S!W!k!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%y&R&^&e&o&|'Q'v(Q)S)Z*i*m*r+P+T+W+t+{,^,d,i-n-s-{.V.v/X/Y/Z/]/a/d/f/t/|0c0m1Q2d2l2|3a3c3d3m3t5m5{6V6|7k8_8t9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:m:n[!cRU!]!`%w&VQ$alQ$gmS$lp$qv$vrs!r!u$X$t&_&s&v)v)w)x*k+U+d,O,Q/j0eQ%OwQ&g!iQ&i!jS(^#v(hS)d$h$iQ)h$kQ)u$sQ*X%QQ*]%SS+x&j&kQ-R(_Q.U)eQ.[)kQ.^)lQ.a)pQ.y*YS.}*^*_Q0a+yQ1Z,}Q2X.WQ2].ZQ2b.cQ3T/OQ4d1[Q5P2ZQ5S2_Q6v5OR7x6w!Y$em!j$g$h$i&T&i&j&k(i)d)e+X+f+x+y-_.U/y0P0U0a1p3w3|6Y7l8`Q)]$aQ)}${Q*Q$|Q*[%SQ.e)uQ.x*XU.|*]*^*_Q3O.yS3S.}/OQ5`2nQ5r3TS7Q5a5dS8P7R7TQ8j8QR8y8kW#|a$c(w:kS${t%XQ$|uQ$}vR){$y$V#{a!w!y#d#v#x$R$S$W&f'|(V(X(Y(a(e(u(v)Y)[)_)|*P+u,Z-U-W-p-z-|.j.m.u.w1Y1c1m1t1{2O2S2e2{2}4g4s4{5i5n6{7X8U9j9n9o9p9q9r9s9x9y9z9{9|9}:Q:R:U:V:k:q:rT'}#s(OV({$Q9l9mU&Y!b$u+_Q'T!{Q)o$nQ.n*RQ1u-mR5[2j&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+P+T+W+t+{,^,d,i-n-s-{.V.v/X/Y/Z/]/a/d/f/t/|0c0m1Q2d2l2|3a3c3d3m3t5m5{6V6|7k8_8t9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:n$]#aZ!_!o$_%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n*}+Y+c+z,Y,`,c,e,s-q/o/r0b0l0p0q0r0s0t0u0v0w0x0y0z0{0|1P1U1y2V3o3r4S4V4W4]4^5^6R6U6b6f6g7h7{8]8r8}9W:dT!XQ!Y&_cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+P+T+W+t+{,^,d,i-n-s-{.V.v/X/Y/Z/]/a/d/f/t/|0c0m1Q2d2l2|3a3c3d3m3t5m5{6V6|7k8_8t9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nQ&W!bR/u+[Y&Q!b&U&]+[+bS(i#y(oS+f&c+iS-_(j(qQ-`(kQ-f(rQ.p*TU0P+g+k+lU0U+m+n+oS0Z+p2sQ1p-eQ1r-gQ1s-hS2n.s2qU3w0S0T0VQ3{0WQ3|0YS5a2o2vS5d2t2uU6Y3x3z3}Q6_4OS7R5e5fQ7T5gS7l6[6^S8Q7S7UQ8`7nR8k8RlhOSj}!n$Z%b%e%f%h*m*r/a/dQ%j!QS&w!v9[Q)b$fQ*V%OQ*W%PQ+v&hS,X&|9uS-r)S:OQ.S)cQ.r*UQ/h*tQ/i*uQ/q+VQ0X+mQ0_+wS1z-s:SQ2T.TS2W.V:TQ3n/sQ3q/zQ4Q0`Q4}2UQ6P3kQ6S3pQ6W3vQ6`4RQ7f6QQ7i6XQ8[7jQ8o8YQ8q8^R8|8s$W#`Z!_!o%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n*}+Y+c+z,Y,`,c,s-q/o/r0b0l0p0q0r0s0t0u0v0w0x0y0z0{0|1P1U1y2V3o3r4S4V4W4]4^5^6R6U6b6f6g7h7{8]8r8}9W:dU(t#z&{1OT)W$_,e$W#_Z!_!o%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n*}+Y+c+z,Y,`,c,s-q/o/r0b0l0p0q0r0s0t0u0v0w0x0y0z0{0|1P1U1y2V3o3r4S4V4W4]4^5^6R6U6b6f6g7h7{8]8r8}9W:dQ'e#`S)V$_,eR-t)W&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+P+T+W+t+{,^,d,i-n-s-{.V.v/X/Y/Z/]/a/d/f/t/|0c0m1Q2d2l2|3a3c3d3m3t5m5{6V6|7k8_8t9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nQ%e{Q%f|Q%h!OQ%i!PR/`*pQ&d!iQ)X$aQ+s&gS-y)])uS0[+q+rW1}-v-w-x.eS4P0]0^U4z2P2Q2RU6t4y5W5XQ7w6uR8f7zT+h&c+iS+f&c+iU0P+g+k+lU0U+m+n+oS0Z+p2sS2n.s2qU3w0S0T0VQ3{0WQ3|0YS5a2o2vS5d2t2uU6Y3x3z3}Q6_4OS7R5e5fQ7T5gS7l6[6^S8Q7S7UQ8`7nR8k8RS+h&c+iT2p.s2qS&q!q/^Q-Q(^Q-](iS0O+f2nQ1`-RS1j-^-fU3y0U0Z5dQ4c1ZS4q1q1sU6]3{3|7TQ6j4dQ6s4tR7o6_Q!xXS&p!q/^Q)T$YQ)`$dQ)f$jQ+|&qQ-P(^Q-[(iQ-a(lQ.R)aQ.z*ZS/}+f2nS1_-Q-RS1i-]-fQ1l-`Q1o-bQ3Q.{W3u0O0U0Z5dQ4b1ZQ4f1`S4k1j1sQ4r1rQ5p3RW6Z3y3{3|7TS6i4c4dQ6n4mQ6q4qQ7O5_Q7]5qS7m6]6_Q7q6jQ7s6oQ7v6sQ7}7PQ8W7^Q8a7oQ8d7uQ8h8OQ8w8iQ9P8xQ9T9QQ:^:XQ:g:bR:h:c$rWORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+P+t+{,^,d-n-s-{.V.v/X/Y/Z/]/a/d/f/|0c0m2d2|3a3c3d3t5m5{6V7k8_8tS!xn!k!j:W#]#k&V'v+T+W,i/t1Q2l3m6|9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nR:^:m$rXORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+P+t+{,^,d-n-s-{.V.v/X/Y/Z/]/a/d/f/|0c0m2d2|3a3c3d3t5m5{6V7k8_8tQ$Yb!Y$dm!j$g$h$i&T&i&j&k(i)d)e+X+f+x+y-_.U/y0P0U0a1p3w3|6Y7l8`S$jn!kQ)a$eQ*Z%SW.{*[*]*^*_U3R.|.}/OQ5_2nS5q3S3TU7P5`5a5dQ7^5rU8O7Q7R7TS8i8P8QS8x8j8kQ9Q8y!j:X#]#k&V'v+T+W,i/t1Q2l3m6|9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nQ:b:lR:c:m$f]OSTjk}!S!W!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+P+t+{,^,d-n-s-{.V.v/X/Y/Z/]/a/d/f/|0c0m2d2|3a3c3d3t5m5{6V7k8_8tY!hRU!]!`%wv$vrs!r!u$X$t&_&s&v)v)w)x*k+U+d,O,Q/j0eQ*h%_!h:Y#]#k'v+T+W,i/t1Q2l3m6|9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nR:]&VS&Z!b$uR/w+_$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+P+t+{,^,d-n-s-{.V.v/X/Y/Z/]/a/d/f/|0c0m2d2|3a3c3d3t5m5{6V7k8_8t!j'd#]#k&V'v+T+W,i/t1Q2l3m6|9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nR*g%_$roORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+P+t+{,^,d-n-s-{.V.v/X/Y/Z/]/a/d/f/|0c0m2d2|3a3c3d3t5m5{6V7k8_8tQ'T!{!k:Z#]#k&V'v+T+W,i/t1Q2l3m6|9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:n!h#VZ!_$_%v%|&x'P'^'_'`'a'f'j)n*}+c+z,Y,`,s-q0b0l0|1y2V3r4S4V6U7h8]8r8}9W!R9c'c't+Y,e/o/r0p0x0y0z0{1P1U3o4W4]4^5^6R6b6f6g7{:d!d#XZ!_$_%v%|&x'P'`'a'f'j)n*}+c+z,Y,`,s-q0b0l0|1y2V3r4S4V6U7h8]8r8}9W}9e'c't+Y,e/o/r0p0z0{1P1U3o4W4]4^5^6R6b6f6g7{:d!`#]Z!_$_%v%|&x'P'f'j)n*}+c+z,Y,`,s-q0b0l0|1y2V3r4S4V6U7h8]8r8}9Wl(Y#t&})R,{-T-i-j0j1x4a4u:_:i:jx:n'c't+Y,e/o/r0p1P1U3o4W4]4^5^6R6b6f6g7{:d!`:q&y'h(](c+r,W,p-X-u-x.i.k0^0i1a1e2R2g2i2y4U4h4n4w4|5X5l6a6l6r7ZZ:r0}4[6c7p8b&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+P+T+W+t+{,^,d,i-n-s-{.V.v/X/Y/Z/]/a/d/f/t/|0c0m1Q2d2l2|3a3c3d3m3t5m5{6V6|7k8_8t9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nS#l`#mR1R,h&e_ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+P+T+W+t+{,^,d,h,i-n-s-{.V.v/X/Y/Z/]/a/d/f/t/|0c0m1Q2d2l2|3a3c3d3m3t5m5{6V6|7k8_8t9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nS#g^#nT'm#i'qT#h^#nT'o#i'q&e`ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+P+T+W+t+{,^,d,h,i-n-s-{.V.v/X/Y/Z/]/a/d/f/t/|0c0m1Q2d2l2|3a3c3d3m3t5m5{6V6|7k8_8t9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:nT#l`#mQ#o`R'x#m$rbORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+P+t+{,^,d-n-s-{.V.v/X/Y/Z/]/a/d/f/|0c0m2d2|3a3c3d3t5m5{6V7k8_8t!k:l#]#k&V'v+T+W,i/t1Q2l3m6|9V9X9[9]9^9_9`9a9b9c9d9e9f9g9h9k9t9u9w:O:P:S:T:n#RdOSUj}!S!W!n!|#k$Z%Z%^%_%b%d%e%f%h%l&R&e'v)Z*i*m*r+t,i-n-{.v/X/Y/Z/]/a/d/f1Q2d2|3a3c3d5m5{t#za!y$R$S$W(V(X(Y(a(u(v,Z-p1Y1t:k:q:r!|&{!w#d#v#x&f'|(e)Y)[)_)|*P+u-U-W-z-|.j.m.u.w1c1m1{2O2S2e2{2}4g4s4{5i5n6{7X8U9n9p9r9x9z9|:Q:UQ)P$UQ,t(Rc1O9j9o9q9s9y9{9}:R:Vt#wa!y$R$S$W(V(X(Y(a(u(v,Z-p1Y1t:k:q:rS(l#y(oQ)Q$VQ-b(m!|:`!w#d#v#x&f'|(e)Y)[)_)|*P+u-U-W-z-|.j.m.u.w1c1m1{2O2S2e2{2}4g4s4{5i5n6{7X8U9n9p9r9x9z9|:Q:Ub:a9j9o9q9s9y9{9}:R:VQ:e:oR:f:pt#za!y$R$S$W(V(X(Y(a(u(v,Z-p1Y1t:k:q:r!|&{!w#d#v#x&f'|(e)Y)[)_)|*P+u-U-W-z-|.j.m.u.w1c1m1{2O2S2e2{2}4g4s4{5i5n6{7X8U9n9p9r9x9z9|:Q:Uc1O9j9o9q9s9y9{9}:R:VlfOSj}!n$Z%b%e%f%h*m*r/a/dQ(d#xQ*y%oQ*z%qR1b-U$U#{a!w!y#d#v#x$R$S$W&f'|(V(X(Y(a(e(u(v)Y)[)_)|*P+u,Z-U-W-p-z-|.j.m.u.w1Y1c1m1t1{2O2S2e2{2}4g4s4{5i5n6{7X8U9j9n9o9p9q9r9s9x9y9z9{9|9}:Q:R:U:V:k:q:rQ*O$|Q.l*QQ2h.kR5Z2iT(n#y(oS(n#y(oT2p.s2qQ)`$dQ-a(lQ.R)aQ.z*ZQ3Q.{Q5p3RQ7O5_Q7]5qQ7}7PQ8W7^Q8h8OQ8w8iQ9P8xR9T9Ql(V#t&})R,{-T-i-j0j1x4a4u:_:i:j!`9x&y'h(](c+r,W,p-X-u-x.i.k0^0i1a1e2R2g2i2y4U4h4n4w4|5X5l6a6l6r7ZZ9y0}4[6c7p8bn(X#t&})R,y,{-T-i-j0j1x4a4u:_:i:j!b9z&y'h(](c+r,W,p-X-u-x.i.k0^0g0i1a1e2R2g2i2y4U4h4n4w4|5X5l6a6l6r7Z]9{0}4[6c6d7p8bpeOSjy}!n$Z%X%b%e%f%h*m*r/a/dQ%UxR*i%_peOSjy}!n$Z%X%b%e%f%h*m*r/a/dR%UxQ*S$}R.h){qeOSjy}!n$Z%X%b%e%f%h*m*r/a/dQ.t*XS2z.x.yW5h2w2x2y3OU7W5j5k5lU8S7V7Y7ZQ8l8TR8z8mQ%]yR*c%XR3X/RR7`5sS$lp$qR.^)lQ%bzR*m%cR*s%iT/b*r/dQjOQ!nST$^j!nQ(O#sR,q(OQ!YQR%t!YQ!^RU%z!^%{+QQ%{!_R+Q%|Q+]&WR/v+]Q,[&}R0k,[Q,_'PS0n,_0oR0o,`Q+i&cR0Q+iS!eR$tU&`!e&a+RQ&a!fR+R%}Q+`&ZR/x+`Q&t!sQ+}&rU,R&t+}0fR0f,SQ'q#iR,j'qQ#m`R'w#mQ#cZU'g#c*|9iQ*|9WR9i'tQ-O(^W1]-O1^4e6kU1^-P-Q-RS4e1_1`R6k4f#q(T#t&y&}'h(](c(|(})R+r,U,V,W,p,y,z,{-T-X-i-j-u-x.i.k0^0g0h0i0j0}1a1e1x2R2g2i2y4U4Y4Z4[4a4h4n4u4w4|5X5l6a6c6d6e6l6r7Z7p8b:_:i:jQ-V(cU1d-V1f4iQ1f-XR4i1eQ(o#yR-c(oQ(x#}R-l(xQ1|-uR4x1|Q)y$wR.g)yQ2k.nS5]2k6}R6}5^Q*U%OR.q*UQ2q.sR5b2qQ/Q*`S3V/Q5tR5t3XQ.X)hW2[.X2^5R6xQ2^.[Q5R2]R6x5SQ)m$lR._)mQ/d*rR3g/dWiOSj!nQ%g}Q)U$ZQ*l%bQ*n%eQ*o%fQ*q%hQ/_*mS/b*r/dR3f/aQ$]gQ%k!RQ%n!TQ%p!UQ%r!VQ)t$rQ)z$xQ*b%]Q*w%mS/T*c*fQ/k*vQ/l*yQ/m*zS/{+f2nQ1g-ZQ1h-[Q1n-aQ2a.bQ2f.iQ3P.zQ3Z/VQ3e/`Y3s/}0O0U0Z5dQ4j1iQ4l1kQ4o1oQ5V2cQ5Y2gQ5o3QQ5u3Y[6T3r3u3y3{3|7TQ6m4kQ6p4pQ6y5TQ7[5pQ7a5vW7g6U6Z6]6_Q7r6nQ7t6qQ7y6zQ7|7OQ8V7]U8Z7h7m7oQ8c7sQ8e7vQ8g7}Q8n8WS8p8]8aQ8u8dQ8v8hQ8{8rQ9O8wQ9R8}Q9S9PR9U9TQ$fmQ&h!jU)c$g$h$iQ+V&TU+w&i&j&kQ-Z(iS.T)d)eQ/s+XQ/z+fS0`+x+yQ1k-_Q2U.UQ3p/yS3v0P0UQ4R0aQ4p1pS6X3w3|Q7j6YQ8^7lR8s8`S#ua:kR)^$cU#}a$c:kR-k(wQ#taS&y!w)_Q&}!yQ'h#dQ(]#vQ(c#xQ(|$RQ(}$SQ)R$WQ+r&fQ,U9nQ,V9pQ,W9rQ,p'|Q,y(VQ,z(XQ,{(YQ-T(aQ-X(eQ-i(uQ-j(vd-u)Y-z.u2O2{4{5i6{7X8UQ-x)[Q.i)|Q.k*PQ0^+uQ0g9xQ0h9zQ0i9|Q0j,ZQ0}9jQ1a-UQ1e-WQ1x-pQ2R-|Q2g.jQ2i.mQ2y.wQ4U:QQ4Y9oQ4Z9qQ4[9sQ4a1YQ4h1cQ4n1mQ4u1tQ4w1{Q4|2SQ5X2eQ5l2}Q6a:UQ6c9}Q6d9yQ6e9{Q6l4gQ6r4sQ7Z5nQ7p:RQ8b:VQ:_:kQ:i:qR:j:rlgOSj}!n$Z%b%e%f%h*m*r/a/dS!pU%dQ%m!SQ%s!WQ'U!|Q'u#kS*f%Z%^Q*j%_Q*v%lQ+S&RQ+q&eQ,n'vQ-w)ZQ/[*iQ0]+tQ1T,iQ1v-nQ2Q-{Q2x.vQ3]/XQ3^/YQ3`/ZQ3b/]Q3i/fQ4_1QQ5W2dQ5k2|Q5z3aQ5|3cQ5}3dQ7Y5mR7c5{!vZOSUj}!S!n!|$Z%Z%^%_%b%d%e%f%h%l&R&e)Z*i*m*r+t-n-{.v/X/Y/Z/]/a/d/f2d2|3a3c3d5m5{Q!_RQ!oTQ$_kS%v!]%yQ%|!`Q&x!vQ'P!zQ'V#PQ'W#QQ'X#RQ'Y#SQ'Z#TQ'[#UQ']#VQ'^#WQ'_#XQ'`#YQ'a#ZQ'c#]Q'f#bQ'j#eW't#k'v,i1QQ)n$mS*}%w+PS+Y&V/tQ+c&^Q+z&oQ,Y&|Q,`'QQ,c9VQ,e9XQ,s(QQ-q)SQ/o+TQ/r+WQ0b+{Q0l,^Q0p9[Q0q9]Q0r9^Q0s9_Q0t9`Q0u9aQ0v9bQ0w9cQ0x9dQ0y9eQ0z9fQ0{9gQ0|,dQ1P9kQ1U9hQ1y-sQ2V.VQ3o9tQ3r/|Q4S0cQ4V0mQ4W9uQ4]9wQ4^:OQ5^2lQ6R3mQ6U3tQ6b:PQ6f:SQ6g:TQ7h6VQ7{6|Q8]7kQ8r8_Q8}8tQ9W!WR:d:nR!aRR&X!bS&T!b+[S+X&U&]R/y+bR'O!yR'R!zT!tU$XS!sU$XU$wrs*kS&r!r!uQ,P&sQ,S&vQ.f)xS0d,O,QR4T0e`!dR!]!`$t%w&_)v+dh!qUrs!r!u$X&s&v)x,O,Q0eQ/^*kQ/p+UQ3l/jT:[&V)wT!gR$tS!fR$tS%x!]&_S%}!`)vS+O%w+dT+Z&V)wT&[!b$uQ#i^R'z#nT'p#i'qR1S,hT(`#v(hR(f#xQ-v)YQ2P-zQ2w.uQ4y2OQ5j2{Q6u4{Q7V5iQ7z6{Q8T7XR8m8UlhOSj}!n$Z%b%e%f%h*m*r/a/dQ%[yR*b%XV$xrs*kR.o*RR*a%VQ$ppR)s$qR)i$kT%`z%cT%az%cT/c*r/d",nodeNames:" ArithOp ArithOp InterpolationStart extends LineComment BlockComment Script ExportDeclaration export Star as VariableName String from ; default FunctionDeclaration async function VariableDefinition TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Interpolation null super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression PrivatePropertyName BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try catch finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement",maxTerm:330,context:trackNewline,nodeProps:[[NodeProp.closedBy,3,"InterpolationEnd",40,"]",51,"}",66,")",132,"JSXSelfCloseEndTag JSXEndTag",146,"JSXEndTag"],[NodeProp.group,-26,8,15,17,58,184,188,191,192,194,197,200,211,213,219,221,223,225,228,234,238,240,242,244,246,248,249,"Statement",-30,12,13,24,27,28,41,43,44,45,47,52,60,68,74,75,91,92,101,103,119,122,124,125,126,127,129,130,148,149,151,"Expression",-22,23,25,29,32,34,152,154,156,157,159,160,161,163,164,165,167,168,169,178,180,182,183,"Type",-3,79,85,90,"ClassItem"],[NodeProp.openedBy,30,"InterpolationStart",46,"[",50,"{",65,"(",131,"JSXStartTag",141,"JSXStartTag JSXStartCloseTag"]],skippedNodes:[0,5,6],repeatNodeCount:28,tokenData:"!C}~R!`OX%TXY%cYZ'RZ[%c[]%T]^'R^p%Tpq%cqr'crs(kst0htu2`uv4pvw5ewx6cxy<yyz=Zz{=k{|>k|}?O}!O>k!O!P?`!P!QCl!Q!R!0[!R![!1q![!]!7s!]!^!8V!^!_!8g!_!`!9d!`!a!:[!a!b!<R!b!c%T!c!}2`!}#O!=d#O#P%T#P#Q!=t#Q#R!>U#R#S2`#S#T!>i#T#o2`#o#p!>y#p#q!?O#q#r!?f#r#s!?x#s$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$I|2`$I|$I}!Bq$I}$JO!Bq$JO$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`W%YR$UWO!^%T!_#o%T#p~%T,T%jg$UW'W+{OX%TXY%cYZ%TZ[%c[p%Tpq%cq!^%T!_#o%T#p$f%T$f$g%c$g#BY%T#BY#BZ%c#BZ$IS%T$IS$I_%c$I_$JT%T$JT$JU%c$JU$KV%T$KV$KW%c$KW&FU%T&FU&FV%c&FV?HT%T?HT?HU%c?HU~%T,T'YR$UW'X+{O!^%T!_#o%T#p~%T$T'jS$UW!j#{O!^%T!_!`'v!`#o%T#p~%T$O'}S#e#v$UWO!^%T!_!`(Z!`#o%T#p~%T$O(bR#e#v$UWO!^%T!_#o%T#p~%T'u(rZ$UW]!ROY(kYZ)eZr(krs*rs!^(k!^!_+U!_#O(k#O#P-b#P#o(k#o#p+U#p~(k&r)jV$UWOr)ers*Ps!^)e!^!_*a!_#o)e#o#p*a#p~)e&r*WR$P&j$UWO!^%T!_#o%T#p~%T&j*dROr*ars*ms~*a&j*rO$P&j'u*{R$P&j$UW]!RO!^%T!_#o%T#p~%T'm+ZV]!ROY+UYZ*aZr+Urs+ps#O+U#O#P+w#P~+U'm+wO$P&j]!R'm+zROr+Urs,Ts~+U'm,[U$P&j]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R,sU]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R-[O]!R!R-_PO~,n'u-gV$UWOr(krs-|s!^(k!^!_+U!_#o(k#o#p+U#p~(k'u.VZ$P&j$UW]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/PZ$UW]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/yR$UW]!RO!^%T!_#o%T#p~%T!Z0XT$UWO!^.x!^!_,n!_#o.x#o#p,n#p~.xy0mZ$UWOt%Ttu1`u!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`y1g]$UW'mqOt%Ttu1`u!Q%T!Q![1`![!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`&i2k_$UW#zS'Z%k'epOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`[3q_$UW#zSOt%Ttu3ju}%T}!O3j!O!Q%T!Q![3j![!^%T!_!c%T!c!}3j!}#R%T#R#S3j#S#T%T#T#o3j#p$g%T$g~3j$O4wS#^#v$UWO!^%T!_!`5T!`#o%T#p~%T$O5[R$UW#o#vO!^%T!_#o%T#p~%T%r5lU'v%j$UWOv%Tvw6Ow!^%T!_!`5T!`#o%T#p~%T$O6VS$UW#i#vO!^%T!_!`5T!`#o%T#p~%T'u6jZ$UW]!ROY6cYZ7]Zw6cwx*rx!^6c!^!_8T!_#O6c#O#P:T#P#o6c#o#p8T#p~6c&r7bV$UWOw7]wx*Px!^7]!^!_7w!_#o7]#o#p7w#p~7]&j7zROw7wwx*mx~7w'm8YV]!ROY8TYZ7wZw8Twx+px#O8T#O#P8o#P~8T'm8rROw8Twx8{x~8T'm9SU$P&j]!ROY9fZw9fwx-Vx#O9f#O#P9}#P~9f!R9kU]!ROY9fZw9fwx-Vx#O9f#O#P9}#P~9f!R:QPO~9f'u:YV$UWOw6cwx:ox!^6c!^!_8T!_#o6c#o#p8T#p~6c'u:xZ$P&j$UW]!ROY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k!Z;rZ$UW]!ROY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k!Z<jT$UWO!^;k!^!_9f!_#o;k#o#p9f#p~;k%V=QR!d$}$UWO!^%T!_#o%T#p~%TZ=bR!cR$UWO!^%T!_#o%T#p~%T%R=tU'[!R#_#v$UWOz%Tz{>W{!^%T!_!`5T!`#o%T#p~%T$O>_S#[#v$UWO!^%T!_!`5T!`#o%T#p~%T$u>rSj$m$UWO!^%T!_!`5T!`#o%T#p~%T&i?VR!R&a$UWO!^%T!_#o%T#p~%T&i?gVu%n$UWO!O%T!O!P?|!P!Q%T!Q![@r![!^%T!_#o%T#p~%Ty@RT$UWO!O%T!O!P@b!P!^%T!_#o%T#p~%Ty@iR!Qq$UWO!^%T!_#o%T#p~%Ty@yZ$UWkqO!Q%T!Q![@r![!^%T!_!g%T!g!hAl!h#R%T#R#S@r#S#X%T#X#YAl#Y#o%T#p~%TyAqZ$UWO{%T{|Bd|}%T}!OBd!O!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%TyBiV$UWO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%TyCVV$UWkqO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T,TCs`$UW#]#vOYDuYZ%TZzDuz{Jl{!PDu!P!Q!-e!Q!^Du!^!_Fx!_!`!.^!`!a!/]!a!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXD|[$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXEy_$UW}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%TPF}V}POYFxZ!PFx!P!QGd!Q!}Fx!}#OG{#O#PHh#P~FxPGiU}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGdPHOTOYG{Z#OG{#O#PH_#P#QFx#Q~G{PHbQOYG{Z~G{PHkQOYFxZ~FxXHvY$UWOYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~HqXIkV$UWOYHqYZ%TZ!^Hq!^!_G{!_#oHq#o#pG{#p~HqXJVV$UWOYDuYZ%TZ!^Du!^!_Fx!_#oDu#o#pFx#p~Du,TJs^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q!,R!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl,TKtV$UWOzKoz{LZ{!^Ko!^!_M]!_#oKo#o#pM]#p~Ko,TL`X$UWOzKoz{LZ{!PKo!P!QL{!Q!^Ko!^!_M]!_#oKo#o#pM]#p~Ko,TMSR$UWU+{O!^%T!_#o%T#p~%T+{M`ROzM]z{Mi{~M]+{MlTOzM]z{Mi{!PM]!P!QM{!Q~M]+{NQOU+{,TNX^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q! T!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl,T! ^_$UWU+{}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%T+{!!bY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!&x!Q!}!!]!}#O!$`#O#P!&f#P~!!]+{!#VY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!#u!Q!}!!]!}#O!$`#O#P!&f#P~!!]+{!#|UU+{}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGd+{!$cWOY!$`YZM]Zz!$`z{!${{#O!$`#O#P!&S#P#Q!!]#Q~!$`+{!%OYOY!$`YZM]Zz!$`z{!${{!P!$`!P!Q!%n!Q#O!$`#O#P!&S#P#Q!!]#Q~!$`+{!%sTU+{OYG{Z#OG{#O#PH_#P#QFx#Q~G{+{!&VTOY!$`YZM]Zz!$`z{!${{~!$`+{!&iTOY!!]YZM]Zz!!]z{!#Q{~!!]+{!&}_}POzM]z{Mi{#ZM]#Z#[!&x#[#]M]#]#^!&x#^#aM]#a#b!&x#b#gM]#g#h!&x#h#iM]#i#j!&x#j#mM]#m#n!&x#n~M],T!(R[$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|,T!(|^$UWOY!'|YZKoZz!'|z{!(w{!P!'|!P!Q!)x!Q!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|,T!*PY$UWU+{OYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~Hq,T!*tX$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#o!'|#o#p!$`#p~!'|,T!+fX$UWOYJlYZKoZzJlz{NQ{!^Jl!^!_!!]!_#oJl#o#p!!]#p~Jl,T!,Yc$UW}POzKoz{LZ{!^Ko!^!_M]!_#ZKo#Z#[!,R#[#]Ko#]#^!,R#^#aKo#a#b!,R#b#gKo#g#h!,R#h#iKo#i#j!,R#j#mKo#m#n!,R#n#oKo#o#pM]#p~Ko,T!-lV$UWT+{OY!-eYZ%TZ!^!-e!^!_!.R!_#o!-e#o#p!.R#p~!-e+{!.WQT+{OY!.RZ~!.R$P!.g[$UW#o#v}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Du]!/f[#wS$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Duy!0cd$UWkqO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#U%T#U#V!3X#V#X%T#X#YAl#Y#b%T#b#c!2w#c#d!4m#d#l%T#l#m!5{#m#o%T#p~%Ty!1x_$UWkqO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#X%T#X#YAl#Y#b%T#b#c!2w#c#o%T#p~%Ty!3OR$UWkqO!^%T!_#o%T#p~%Ty!3^W$UWO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#o%T#p~%Ty!3}Y$UWkqO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#b%T#b#c!2w#c#o%T#p~%Ty!4rV$UWO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#o%T#p~%Ty!5`X$UWkqO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#b%T#b#c!2w#c#o%T#p~%Ty!6QZ$UWO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#o%T#p~%Ty!6z]$UWkqO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#b%T#b#c!2w#c#o%T#p~%T%w!7|R!]V$UW#m%hO!^%T!_#o%T#p~%T!P!8^R_w$UWO!^%T!_#o%T#p~%T+c!8rR'`d!a%Y#x&s'zP!P!Q!8{!^!_!9Q!_!`!9_W!9QO$WW#v!9VP#`#v!_!`!9Y#v!9_O#o#v#v!9dO#a#v%w!9kT!{%o$UWO!^%T!_!`'v!`!a!9z!a#o%T#p~%T$P!:RR#W#w$UWO!^%T!_#o%T#p~%T%w!:gT'_!s#a#v$RS$UWO!^%T!_!`!:v!`!a!;W!a#o%T#p~%T$O!:}R#a#v$UWO!^%T!_#o%T#p~%T$O!;_T#`#v$UWO!^%T!_!`5T!`!a!;n!a#o%T#p~%T$O!;uS#`#v$UWO!^%T!_!`5T!`#o%T#p~%T%w!<YV'n%o$UWO!O%T!O!P!<o!P!^%T!_!a%T!a!b!=P!b#o%T#p~%T$`!<vRv$W$UWO!^%T!_#o%T#p~%T$O!=WS$UW#j#vO!^%T!_!`5T!`#o%T#p~%T&e!=kRx&]$UWO!^%T!_#o%T#p~%TZ!={R!OR$UWO!^%T!_#o%T#p~%T$O!>]S#g#v$UWO!^%T!_!`5T!`#o%T#p~%T$P!>pR$UW'd#wO!^%T!_#o%T#p~%T~!?OO!T~%r!?VT'u%j$UWO!^%T!_!`5T!`#o%T#p#q!=P#q~%T$u!?oR!S$knQ$UWO!^%T!_#o%T#p~%TX!@PR!kP$UWO!^%T!_#o%T#p~%T,T!@gr$UW'W+{#zS'Z%k'epOX%TXY%cYZ%TZ[%c[p%Tpq%cqt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`,T!CO_$UW'X+{#zS'Z%k'epOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`",tokenizers:[noSemicolon,incdecToken,template,0,1,2,3,4,5,6,7,8,insertSemicolon],topRules:{Script:[0,7]},dialects:{jsx:11335,ts:11337},dynamicPrecedences:{149:1,176:1},specialized:[{term:287,get:(e,t)=>tsExtends(e,t)<<1},{term:287,get:e=>spec_identifier[e]||-1},{term:297,get:e=>spec_word[e]||-1},{term:63,get:e=>spec_LessThan[e]||-1}],tokenPrec:11358}),snippets=[snippetCompletion("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"block",type:"keyword"}),snippetCompletion("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],javascriptLanguage=LRLanguage.define({parser:parser.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:e=>{let t=e.textAfter,n=/^\s*\}/.test(t),i=/^\s*(case|default)\b/.test(t);return e.baseIndent+(n?0:i?1:2)*e.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>-1,"Statement Property":continuedIndent({except:/^{/}),JSXElement(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},JSXEscape(e){let t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag":e=>e.column(e.node.from)+e.unit}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":foldInside$1,BlockComment:e=>({from:e.from+2,to:e.to-2})}),styleTags({"get set async static":tags.modifier,"for while do if else switch try catch finally return throw break continue default case":tags.controlKeyword,"in of await yield void typeof delete instanceof":tags.operatorKeyword,"let var const function class extends":tags.definitionKeyword,"import export from":tags.moduleKeyword,"with debugger as new":tags.keyword,TemplateString:tags.special(tags.string),Super:tags.atom,BooleanLiteral:tags.bool,this:tags.self,null:tags.null,Star:tags.modifier,VariableName:tags.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags.function(tags.variableName),VariableDefinition:tags.definition(tags.variableName),Label:tags.labelName,PropertyName:tags.propertyName,PrivatePropertyName:tags.special(tags.propertyName),"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),"FunctionDeclaration/VariableDefinition":tags.function(tags.definition(tags.variableName)),"ClassDeclaration/VariableDefinition":tags.definition(tags.className),PropertyDefinition:tags.definition(tags.propertyName),PrivatePropertyDefinition:tags.definition(tags.special(tags.propertyName)),UpdateOp:tags.updateOperator,LineComment:tags.lineComment,BlockComment:tags.blockComment,Number:tags.number,String:tags.string,ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,RegExp:tags.regexp,Equals:tags.definitionOperator,"Arrow : Spread":tags.punctuation,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,"InterpolationStart InterpolationEnd":tags.special(tags.brace),".":tags.derefOperator,", ;":tags.separator,TypeName:tags.typeName,TypeDefinition:tags.definition(tags.typeName),"type enum interface implements namespace module declare":tags.definitionKeyword,"abstract global Privacy readonly override":tags.modifier,"is keyof unique infer":tags.operatorKeyword,JSXAttributeValue:tags.attributeValue,JSXText:tags.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags.angleBracket,"JSXIdentifier JSXNameSpacedName":tags.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags.attributeName})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),typescriptLanguage=javascriptLanguage.configure({dialect:"ts"}),jsxLanguage=javascriptLanguage.configure({dialect:"jsx"}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts"});function javascript(e={}){let t=e.jsx?e.typescript?tsxLanguage:jsxLanguage:e.typescript?typescriptLanguage:javascriptLanguage;return new LanguageSupport(t,javascriptLanguage.data.of({autocomplete:ifNotIn(["LineComment","BlockComment","String"],completeFromList(snippets))}))}class InputCode extends InputLong{constructor(){super(),this.codeLanguage="text/javascript",this.attemptText="",this.instruction="Type in your code below"}_getInput(){return $$1`<textarea name='attempt'></textarea><input type='submit' @click='${this._submit}' value='${this.actionLabel}'/>`}static get title(){return"Code"}static get is(){return"input-code"}static get properties(){return{attemptText:{type:String},codeLanguage:{type:String}}}static styles=InputLong.styles;firstUpdated(e){if(!this.querySelector(".CodeMirror")){let e=this.shadowRoot.querySelector("textarea[name=attempt]");this.editor=new EditorView({state:EditorState.create({extensions:[basicSetup,javascript()]}),doc:e.value}),this.shadowRoot.querySelector("textarea[name=attempt]").style.display="none",e.parentNode.insertBefore(this.editor.dom,e)}}_submit(e){e.preventDefault(),e.stopPropagation(),this.pushAttempt(this.editor.state.doc.toString())}}customElements.define(InputCode.is,InputCode);var commonjsGlobal$2="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function commonjsRequire$1(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dist={exports:{}},jsuites={exports:{}};jsuites.exports=function(){var e,t,n=function(e){var t={},i="4.10.4",r=function(e,t){return!(!e[t.type]||e[t.type]!=t)||!!e.parentNode&&r(e.parentNode,t)},s=function(e){if(n.current.length>0)for(var t=0;t<n.current.length;t++)n.current[t]&&!r(e,n.current[t])&&n.current[t].close()};return t.init=function(){var e=15,r=null,a=!1,o={x:null,y:null},l=function(e){var t=n.findElement(e.target,"jpanel");if(t&&!t.classList.contains("readonly")){t.focus();var i=e.target.getBoundingClientRect();a={e:t,x:e.clientX,y:e.clientY,w:i.width,h:i.height,d:t.style.cursor,resizing:!!t.style.cursor},t.style.width||(t.style.width=i.width+"px"),t.style.height||(t.style.height=i.height+"px");var o=window.getSelection();if(o.rangeCount)for(var l=0;l<o.rangeCount;l++)o.removeRange(o.getRangeAt(l));e.preventDefault(),e.stopPropagation()}else a=!1;if(e.changedTouches&&e.changedTouches[0])var c=e.changedTouches[0].clientX,h=e.changedTouches[0].clientY;else c=e.clientX,h=e.clientY;var d=event.path||event.composedPath&&event.composedPath();if(d)r=d[0];else{if(e.target&&e.target.shadowRoot)var p=e.target.shadowRoot;else p=document;r=p.elementFromPoint(c,h)}s(r)},c=function(e){a&&a.e&&("function"==typeof a.e.refresh&&a.e.refresh(),a.e.style.cursor=""),o={x:null,y:null},a=!1},h=function(t){if(a){var i=t.clientX||t.pageX,r=t.clientY||t.pageY;if(a.resizing){var s=null,l=null;if("e-resize"==a.d||"ne-resize"==a.d||"se-resize"==a.d)if(s=a.w+(i-a.x),a.e.style.width=s+"px",t.shiftKey){var c=(i-a.x)*(a.h/a.w);l=a.h+c,a.e.style.height=l+"px"}else c=!1;c||"s-resize"!=a.d&&"se-resize"!=a.d&&"sw-resize"!=a.d||(l=a.h+(r-a.y),a.e.style.height=l+"px"),"function"==typeof a.e.refresh&&a.e.refresh("dimensions",s,l)}else{null==o.x&&null==o.y&&(o.x=i,o.y=r);var h=i-o.x,d=r-o.y,p=a.e.offsetTop+d,u=a.e.offsetLeft+h;a.e.style.top=p+"px",a.e.style.left=u+"px",a.e.style.cursor="move",o.x=i,o.y=r,"function"==typeof a.e.refresh&&a.e.refresh("position",p,u)}}else{var m=n.findElement(t.target,"jpanel");if(m&&m.getAttribute("tabindex")){var f=m.getBoundingClientRect();t.clientY-f.top<e?f.width-(t.clientX-f.left)<e?m.style.cursor="ne-resize":t.clientX-f.left<e?m.style.cursor="nw-resize":m.style.cursor="n-resize":f.height-(t.clientY-f.top)<e?f.width-(t.clientX-f.left)<e?m.style.cursor="se-resize":t.clientX-f.left<e?m.style.cursor="sw-resize":m.style.cursor="s-resize":f.width-(t.clientX-f.left)<e?m.style.cursor="e-resize":t.clientX-f.left<e?m.style.cursor="w-resize":m.style.cursor=""}}},d=function(e){var t=n.findElement(e.target,"jpanel");t&&"function"==typeof t.dblclick&&t.dblclick(e)},p=function(e){var t=document.activeElement;if(t&&"function"==typeof t.contextmenu)t.contextmenu(e),e.preventDefault(),e.stopImmediatePropagation();else if(t=n.findElement(e.target,(function(e){return e.tagName&&e.getAttribute("aria-contextmenu-id")})),t){var i=document.querySelector("#"+t);i?(i.contextmenu.open(e),e.preventDefault(),e.stopImmediatePropagation()):console.error("JSUITES: contextmenu id not found: "+t)}},u=function(e){var t=document.activeElement;t&&"Delete"==e.key&&"function"==typeof t.delete&&(t.delete(),e.preventDefault(),e.stopImmediatePropagation()),n.current.length&&(t=n.current[n.current.length-1])&&"Escape"==e.key&&"function"==typeof t.close&&(t.close(),e.preventDefault(),e.stopImmediatePropagation())};document.addEventListener("mouseup",c),document.addEventListener("mousedown",l),document.addEventListener("mousemove",h),document.addEventListener("dblclick",d),document.addEventListener("keydown",u),document.addEventListener("contextmenu",p),document.dictionary={},t.version=i},t.setExtensions=function(e){if("object"==typeof e)for(var n=Object.keys(e),i=0;i<n.length;i++)t[n[i]]=e[n[i]]},t.tracking=function(e,t){if(1==t)n.current=n.current.filter((function(e){return null!==e})),setTimeout((function(){n.current.push(e)}),0);else{var i=n.current.indexOf(e);i>=0&&n.current.splice(i,1)}},t.path=function(e,t){if((e=e.split(".")).length){for(var n=this,i=null;e.length>1;)if(i=e.shift(),n.hasOwnProperty(i))n=n[i];else{if(void 0===t)return;n[i]={},n=n[i]}if(i=e.shift(),void 0!==t)return n[i]=t,!0;if(n)return n[i]}return!1},t.setDictionary=function(e){document.dictionary||(document.dictionary={});for(var t=Object.keys(e),i=0;i<t.length;i++)document.dictionary[t[i]]=e[t[i]];var r=null;for(i=0;i<n.calendar.weekdays.length;i++)r=n.translate(n.calendar.weekdays[i]),n.calendar.weekdays[i]&&(n.calendar.weekdays[i]=r,n.calendar.weekdaysShort[i]=r.substr(0,3));for(i=0;i<n.calendar.months.length;i++)(r=n.translate(n.calendar.months[i]))&&(n.calendar.months[i]=r,n.calendar.monthsShort[i]=r.substr(0,3))},t.translate=function(e){return document.dictionary&&document.dictionary[e]||e},t.current=[],t}();"undefined"!=typeof document&&n.init(),n.ajax=function(e,t){if(Array.isArray(e)){var i={instance:[],complete:t};if(e.length>0)for(var r=0;r<e.length;r++)e[r].multiple=i,i.instance.push(n.ajax(e[r]));return i}if(e.data||(e.data={}),e.type&&(e.method=e.type),e.method||(e.method="GET"),e.dataType||(e.dataType="json"),e.data){var s=function(e,t){var n=[],i=Object.keys(e);if(i.length)for(var r=0;r<i.length;r++){if(t)var a=t+"["+i[r]+"]";else a=i[r];if(e[a]instanceof FileList)n[a]=e[i[r]];else if("object"==typeof e[i[r]])for(var o=s(e[i[r]],a),l=Object.keys(o),c=0;c<l.length;c++)n[l[c]]=o[l[c]];else n[a]=e[i[r]]}return n},a=s(e.data),o=Object.keys(a);if("GET"==e.method){if(o.length){var l=[];for(r=0;r<o.length;r++)l.push(o[r]+"="+encodeURIComponent(a[o[r]]));e.url.indexOf("?")<0&&(e.url+="?"),e.url+=l.join("&")}}else for(l=new FormData,r=0;r<o.length;r++)if(a[o[r]]instanceof FileList){if(a[o[r]].length)for(var c=0;c<a[o[r]].length;c++)l.append(o[r],a[o[r]][c],a[o[r]][c].name)}else l.append(o[r],a[o[r]])}var h=new XMLHttpRequest;return h.open(e.method,e.url,!0),h.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.contentType&&h.setRequestHeader("Content-Type",e.contentType),"POST"==e.method?h.setRequestHeader("Accept","application/json"):"blob"==e.dataType?h.responseType="blob":e.contentType||("json"==e.dataType?h.setRequestHeader("Content-Type","text/json"):"html"==e.dataType&&h.setRequestHeader("Content-Type","text/html")),1!=e.cache&&(h.setRequestHeader("pragma","no-cache"),h.setRequestHeader("cache-control","no-cache")),1==e.withCredentials&&(h.withCredentials=!0),"function"==typeof e.beforeSend&&e.beforeSend(h),"function"==typeof n.ajax.beforeSend&&n.ajax.beforeSend(h),document.ajax&&"function"==typeof document.ajax.beforeSend&&document.ajax.beforeSend(h),h.onload=function(){if(200===h.status)if("json"==e.dataType)try{var t=JSON.parse(h.responseText);e.success&&"function"==typeof e.success&&e.success(t)}catch(n){e.error&&"function"==typeof e.error&&e.error(n,t)}else t="blob"==e.dataType?h.response:h.responseText,e.success&&"function"==typeof e.success&&e.success(t);else e.error&&"function"==typeof e.error&&e.error(h.responseText,h.status);if(n.ajax.queue&&n.ajax.queue.length>0&&n.ajax.send(n.ajax.queue.shift()),n.ajax.requests&&n.ajax.requests.length){var i=n.ajax.requests.indexOf(h);n.ajax.requests.splice(i,1),n.ajax.requests.length||e.complete&&"function"==typeof e.complete&&e.complete(t),e.group&&n.ajax.oncomplete&&"function"==typeof n.ajax.oncomplete[e.group]&&(n.ajax.pending(e.group)||(n.ajax.oncomplete[e.group](),n.ajax.oncomplete[e.group]=null)),e.multiple&&e.multiple.instance&&(i=e.multiple.instance.indexOf(h),e.multiple.instance.splice(i,1),e.multiple.instance.length||e.multiple.complete&&"function"==typeof e.multiple.complete&&e.multiple.complete(t))}},h.options=e,h.data=l,1==e.queue&&n.ajax.requests.length>0?n.ajax.queue.push(h):n.ajax.send(h),h},n.ajax.send=function(e){e.data?Array.isArray(e.data)?e.send(e.data.join("&")):e.send(e.data):e.send(),n.ajax.requests.push(e)},n.ajax.exists=function(e,t){var n=new XMLHttpRequest;n.open("HEAD",e,!1),n.send(),n.status&&t(n.status)},n.ajax.pending=function(e){var t=0,i=n.ajax.requests;if(i&&i.length)for(var r=0;r<i.length;r++)e&&e!=i[r].options.group||t++;return t},n.ajax.oncomplete={},n.ajax.requests=[],n.ajax.queue=[],n.alert=function(e){n.getWindowWidth()<800&&n.dialog?n.dialog.open({title:"Alert",message:e}):alert(e)},n.animation={},n.animation.slideLeft=function(e,t,n){1==t?(e.classList.add("slide-left-in"),setTimeout((function(){e.classList.remove("slide-left-in"),"function"==typeof n&&n()}),400)):(e.classList.add("slide-left-out"),setTimeout((function(){e.classList.remove("slide-left-out"),"function"==typeof n&&n()}),400))},n.animation.slideRight=function(e,t,n){1==t?(e.classList.add("slide-right-in"),setTimeout((function(){e.classList.remove("slide-right-in"),"function"==typeof n&&n()}),400)):(e.classList.add("slide-right-out"),setTimeout((function(){e.classList.remove("slide-right-out"),"function"==typeof n&&n()}),400))},n.animation.slideTop=function(e,t,n){1==t?(e.classList.add("slide-top-in"),setTimeout((function(){e.classList.remove("slide-top-in"),"function"==typeof n&&n()}),400)):(e.classList.add("slide-top-out"),setTimeout((function(){e.classList.remove("slide-top-out"),"function"==typeof n&&n()}),400))},n.animation.slideBottom=function(e,t,n){1==t?(e.classList.add("slide-bottom-in"),setTimeout((function(){e.classList.remove("slide-bottom-in"),"function"==typeof n&&n()}),400)):(e.classList.add("slide-bottom-out"),setTimeout((function(){e.classList.remove("slide-bottom-out"),"function"==typeof n&&n()}),100))},n.animation.fadeIn=function(e,t){e.style.display="",e.classList.add("fade-in"),setTimeout((function(){e.classList.remove("fade-in"),"function"==typeof t&&t()}),2e3)},n.animation.fadeOut=function(e,t){e.classList.add("fade-out"),setTimeout((function(){e.style.display="none",e.classList.remove("fade-out"),"function"==typeof t&&t()}),1e3)},n.calendar=function(e,t){if(e.calendar)return e.calendar.setOptions(t,!0);var i={type:"calendar",options:{},date:null,setOptions:function(t,r){for(var s={type:"default",validRange:null,startingDay:null,format:"DD/MM/YYYY",readonly:!0,today:!1,time:!1,resetButton:!0,placeholder:"",months:n.calendar.monthsShort,monthsFull:n.calendar.months,weekdays:n.calendar.weekdays,weekdays_short:n.calendar.weekdays,textDone:n.translate("Done"),textReset:n.translate("Reset"),textUpdate:n.translate("Update"),value:null,fullscreen:!1,opened:!1,onopen:null,onclose:null,onchange:null,onupdate:null,mode:null,position:null,dataType:null},a=0;a<s.weekdays_short.length;a++)s.weekdays_short[a]=s.weekdays_short[a].substr(0,1);for(var o in s)t&&t.hasOwnProperty(o)?i.options[o]=t[o]:void 0!==i.options[o]&&!0!==r||(i.options[o]=s[o]);if(0==i.options.resetButton?l.style.display="none":l.style.display="",i.options.readonly?e.setAttribute("readonly","readonly"):e.removeAttribute("readonly"),i.options.placeholder?e.setAttribute("placeholder",i.options.placeholder):e.removeAttribute("placeholder"),n.isNumeric(i.options.value)&&i.options.value>0&&(i.options.value=n.calendar.numToDate(i.options.value),i.options.dataType="numeric"),l.innerHTML=i.options.textReset,c.innerHTML=i.options.textDone,v.innerHTML=i.options.textUpdate,e.setAttribute("data-mask",i.options.format.toLowerCase()),!i.options.value&&i.options.today)var h=n.calendar.now();else h=i.options.value;return h&&(i.options.value=null,i.setValue(h)),i},open:function(t){if(!o.classList.contains("jcalendar-focus")&&!o.classList.contains("jcalendar-inline")){if(n.calendar.current=i,n.tracking(i,!0),i.getDays(),"year-month-picker"==i.options.type&&i.getMonths(),i.options.time&&(x.value=i.date[3],w.value=i.date[4]),o.classList.add("jcalendar-focus"),n.getWindowWidth()<800||i.options.fullscreen)o.classList.add("jcalendar-fullsize"),n.animation.slideBottom(d,1);else{o.classList.remove("jcalendar-fullsize");var r=e.getBoundingClientRect(),s=d.getBoundingClientRect();if(i.options.position)h.style.position="fixed",window.innerHeight<r.bottom+s.height?h.style.top=r.top-(s.height+2)+"px":h.style.top=r.top+r.height+2+"px",h.style.left=r.left+"px";else if(window.innerHeight<r.bottom+s.height?((a=-1*(r.height+s.height+2))+r.top<0&&(a=-1*(r.top+r.height)),h.style.top=a+"px"):h.style.top="2px",window.innerWidth<r.left+s.width){var a=window.innerWidth-(r.left+s.width+20);h.style.left=a+"px"}else h.style.left="0px"}"function"==typeof i.options.onopen&&i.options.onopen(e)}},close:function(t,r){if(o.classList.contains("jcalendar-focus")){if(!1!==r){var s=o.querySelector(".jcalendar-selected");if("string"==typeof r)var a=r;else a=!s||s.classList.contains("jcalendar-disabled")?i.options.value:i.getValue();i.setValue(a)}t||"function"!=typeof i.options.onclose||i.options.onclose(e),o.classList.remove("jcalendar-focus"),n.tracking(i,!1),n.calendar.current=null}return i.options.value},prev:function(){"years"==i.options.mode?(i.date[0]=i.date[0]-12,i.getYears()):"months"==i.options.mode?(i.date[0]=parseInt(i.date[0])-1,i.getMonths()):(i.date[1]<2?(i.date[0]=i.date[0]-1,i.date[1]=12):i.date[1]=i.date[1]-1,i.getDays())},next:function(){"years"==i.options.mode?(i.date[0]=parseInt(i.date[0])+12,i.getYears()):"months"==i.options.mode?(i.date[0]=parseInt(i.date[0])+1,i.getMonths()):(i.date[1]>11?(i.date[0]=parseInt(i.date[0])+1,i.date[1]=1):i.date[1]=parseInt(i.date[1])+1,i.getDays())},setToday:function(){var e=(new Date).toISOString().substr(0,10);return i.setValue(e),e},setValue:function(t){t||(t=""+t);var n=t,r=i.options.value;if(r!=n){if(n){i.setLabel(n,i.options),(a=n.split(" "))[1]||(a[1]="00:00:00");var s=a[1].split(":"),a=a[0].split("-"),o=parseInt(a[0]),l=parseInt(a[1]),c=parseInt(a[2]),h=parseInt(s[0]),d=parseInt(s[1]);i.date=[o,l,c,h,d,0],t=i.setLabel(n,i.options)}else{i.date=null;var t=""}i.options.value=n,"function"==typeof i.options.onchange&&i.options.onchange(e,n,r),e.value!=t&&(e.value=t,"function"==typeof e.oninput&&e.oninput({type:"input",target:e,value:e.value}))}i.getDays()},getValue:function(){return i.date?i.options.time?n.two(i.date[0])+"-"+n.two(i.date[1])+"-"+n.two(i.date[2])+" "+n.two(i.date[3])+":"+n.two(i.date[4])+":"+n.two(0):n.two(i.date[0])+"-"+n.two(i.date[1])+"-"+n.two(i.date[2])+" "+n.two(0)+":"+n.two(0)+":"+n.two(0):""},update:function(e,t){if(e.classList.contains("jcalendar-disabled"));else{var n=o.querySelector(".jcalendar-selected");n&&n.classList.remove("jcalendar-selected"),e.classList.add("jcalendar-selected"),e.classList.contains("jcalendar-set-month")?i.date[1]=t:i.date[2]=e.innerText,i.options.time?(i.date[3]=x.value,i.date[4]=w.value):i.close()}a()},reset:function(){i.setValue(""),i.date=null,i.close(!1,!1)},getDays:function(){i.options.mode="days";var e=new Date,t=i.date&&n.isNumeric(i.date[0])?i.date[0]:parseInt(e.getFullYear()),r=i.date&&n.isNumeric(i.date[1])?i.date[1]:parseInt(e.getMonth())+1,s=i.date&&n.isNumeric(i.date[2])?i.date[2]:parseInt(e.getDate()),o=i.date&&n.isNumeric(i.date[3])?i.date[3]:parseInt(e.getHours()),l=i.date&&n.isNumeric(i.date[4])?i.date[4]:parseInt(e.getMinutes());i.date=[t,r,s,o,l,0],p.innerHTML=t,u.innerHTML=i.options.months[r-1];var c=e.getMonth()==r-1&&e.getFullYear()==t,h=e.getDate(),d=(e=new Date(t,r,0,0,0)).getDate(),m=(e=new Date(t,r-1,0,0,0)).getDay()+1;m-=y=i.options.startingDay||0,f.innerHTML="",(w=document.createElement("tr")).setAttribute("align","center"),f.appendChild(w);for(var g=0;g<7;g++)(S=document.createElement("td")).classList.add("jcalendar-weekday"),S.innerHTML=i.options.weekdays_short[y],w.appendChild(S),++y>6&&(y=0);for(var y=0,v=0,x=0;x<6;x++){var w;(w=document.createElement("tr")).setAttribute("align","center");var O=!0;for(g=0;g<7;g++){var S;if((S=document.createElement("td")).classList.add("jcalendar-set-day"),y>=m&&y<m+d){v++,S.innerHTML=v,v==s&&S.classList.add("jcalendar-selected"),c&&h==v&&(S.style.fontWeight="bold");var k=n.calendar.now(new Date(t,r-1,v),!0);if(i.options.validRange){if(!i.options.validRange[0]||k>=i.options.validRange[0])var _=!0;else _=!1;if(!i.options.validRange[1]||k<=i.options.validRange[1])var A=!0;else A=!1;_&&A||S.classList.add("jcalendar-disabled")}O=!1}w.appendChild(S),y++}0==O&&f.appendChild(w)}i.options.time?b.style.display="":b.style.display="none",a()},getMonths:function(){i.options.mode="months";var e=i.options.months;i.options.value;var t=new Date,r=parseInt(t.getFullYear()),s=parseInt(t.getMonth())+1,o=i.date&&n.isNumeric(i.date[0])?i.date[0]:r,l=i.date&&n.isNumeric(i.date[1])?i.date[1]:s;p.innerHTML=i.date[0],u.innerHTML=e[l-1];var c=document.createElement("table");c.setAttribute("width","100%");for(var h=null,d=0;d<12;d++){d%4||((h=document.createElement("tr")).setAttribute("align","center"),c.appendChild(h));var m=document.createElement("td");if(m.classList.add("jcalendar-set-month"),m.setAttribute("data-value",d+1),m.innerText=e[d],i.options.validRange){var g=o+"-"+n.two(d+1);if(!i.options.validRange[0]||g>=i.options.validRange[0].substr(0,7))var b=!0;else b=!1;if(!i.options.validRange[1]||g<=i.options.validRange[1].substr(0,7))var y=!0;else y=!1;b&&y||m.classList.add("jcalendar-disabled")}d+1==l&&m.classList.add("jcalendar-selected"),r==o&&d+1==s&&(m.style.fontWeight="bold"),h.appendChild(m)}f.innerHTML='<tr><td colspan="7"></td></tr>',f.children[0].children[0].appendChild(c),a()},getYears:function(){i.options.mode="years";for(var e=new Date,t=e.getFullYear(),r=i.date&&n.isNumeric(i.date[0])?i.date[0]:parseInt(e.getFullYear()),s=[],o=0;o<25;o++)s[o]=parseInt(i.date[0])+(o-12);var l=document.createElement("table");for(l.setAttribute("width","100%"),o=0;o<25;o++){if(!(o%5)){var c=document.createElement("tr");c.setAttribute("align","center"),l.appendChild(c)}var h=document.createElement("td");h.classList.add("jcalendar-set-year"),h.innerText=s[o],r==s[o]&&h.classList.add("jcalendar-selected"),t==s[o]&&(h.style.fontWeight="bold"),c.appendChild(h)}f.innerHTML='<tr><td colspan="7"></td></tr>',f.firstChild.firstChild.appendChild(l),a()},setLabel:function(e,t){return n.calendar.getDateString(e,t)},fromFormatted:function(e,t){return n.calendar.extractDateFromString(e,t)}},r=function(e){if(n.findElement(e.target,"jcalendar-container")){var t=e.target.className;if("jcalendar-prev"==t)i.prev();else if("jcalendar-next"==t)i.next();else if("jcalendar-month"==t)i.getMonths();else if("jcalendar-year"==t)i.getYears();else if("jcalendar-set-year"==t)i.date[0]=e.target.innerText,"year-month-picker"==i.options.type?i.getMonths():i.getDays();else if(e.target.classList.contains("jcalendar-set-month")){var r=parseInt(e.target.getAttribute("data-value"));"year-month-picker"==i.options.type?i.update(e.target,r):(i.date[1]=r,i.getDays())}else"jcalendar-confirm"==t||"jcalendar-update"==t||"jcalendar-close"==t?i.close():"jcalendar-backdrop"==t?i.close(!1,!1):"jcalendar-reset"==t?i.reset():e.target.classList.contains("jcalendar-set-day")&&e.target.innerText&&i.update(e.target)}else i.close()},s=function(e){if(e.target.value&&e.target.value.length>3){var t=n.calendar.extractDateFromString(e.target.value,i.options.format);t&&i.setValue(t)}},a=function(){var t=o.querySelector(".jcalendar-selected");t&&t.classList.contains("jcalendar-disabled")?(v.setAttribute("disabled","disabled"),x.setAttribute("disabled","disabled"),w.setAttribute("disabled","disabled")):(v.removeAttribute("disabled"),x.removeAttribute("disabled"),w.removeAttribute("disabled")),"function"==typeof i.options.onupdate&&i.options.onupdate(e,i.getValue())},o=null,l=null,c=null,h=null,d=null,p=null,u=null,m=null,f=null,g=null,b=null,y=null,v=null,x=null,w=null,O=function(){"INPUT"==e.tagName&&e.value&&(t.value=e.value),(l=document.createElement("div")).className="jcalendar-reset",(c=document.createElement("div")).className="jcalendar-confirm",(g=document.createElement("div")).className="jcalendar-controls",g.style.borderBottom="1px solid #ddd",g.appendChild(l),g.appendChild(c),(h=document.createElement("div")).className="jcalendar-container",(d=document.createElement("div")).className="jcalendar-content",h.appendChild(d),"DIV"==e.tagName?(o=e).classList.add("jcalendar-inline"):(d.appendChild(g),(o=document.createElement("div")).className="jcalendar"),o.classList.add("jcalendar-container"),o.appendChild(h);var a=document.createElement("div");a.className="jcalendar-table",d.appendChild(a);var O=document.createElement("td");O.setAttribute("colspan","2"),O.className="jcalendar-prev",(p=document.createElement("span")).className="jcalendar-year",(u=document.createElement("span")).className="jcalendar-month";var S=document.createElement("td");S.className="jcalendar-header",S.setAttribute("colspan","3"),S.appendChild(u),S.appendChild(p);var k=document.createElement("td");k.setAttribute("colspan","2"),k.className="jcalendar-next";var _=document.createElement("thead"),A=document.createElement("tr");A.appendChild(O),A.appendChild(S),A.appendChild(k),_.appendChild(A),m=document.createElement("table"),f=document.createElement("tbody"),m.setAttribute("cellpadding","0"),m.setAttribute("cellspacing","0"),m.appendChild(_),m.appendChild(f),a.appendChild(m),(x=document.createElement("select")).className="jcalendar-select",x.onchange=function(){i.date[3]=this.value,"function"==typeof i.options.onupdate&&i.options.onupdate(e,i.getValue())};for(var T=0;T<24;T++)(C=document.createElement("option")).value=T,C.innerHTML=n.two(T),x.appendChild(C);for((w=document.createElement("select")).className="jcalendar-select",w.onchange=function(){i.date[4]=this.value,"function"==typeof i.options.onupdate&&i.options.onupdate(e,i.getValue())},T=0;T<60;T++){var C;(C=document.createElement("option")).value=T,C.innerHTML=n.two(T),w.appendChild(C)}var M=document.createElement("div");M.className="jcalendar-controls",(b=document.createElement("div")).className="jcalendar-time",b.style.maxWidth="140px",b.appendChild(x),b.appendChild(w),(v=document.createElement("button")).setAttribute("type","button"),v.className="jcalendar-update",(y=document.createElement("div")).style.flexGrow="10",y.appendChild(v),M.appendChild(b),"INPUT"==e.tagName&&M.appendChild(y),d.appendChild(M);var E=document.createElement("div");E.className="jcalendar-backdrop",o.appendChild(E),e.addEventListener("keyup",s),o.addEventListener("swipeleft",(function(e){n.animation.slideLeft(m,0,(function(){i.next(),n.animation.slideRight(m,1)})),e.preventDefault(),e.stopPropagation()})),o.addEventListener("swiperight",(function(e){n.animation.slideRight(m,0,(function(){i.prev(),n.animation.slideLeft(m,1)})),e.preventDefault(),e.stopPropagation()})),e.onmouseup=function(){i.open()},"ontouchend"in document.documentElement==1?o.addEventListener("touchend",r):o.addEventListener("mouseup",r),n.calendar.hasEvents||(n.calendar.hasEvents=!0,document.addEventListener("keydown",n.calendar.keydown)),i.setOptions(t),"INPUT"==e.tagName?(e.parentNode.insertBefore(o,e.nextSibling),e.setAttribute("autocomplete","off"),e.classList.add("jcalendar-input"),e.value=i.setLabel(i.getValue(),i.options)):(i.getDays(),i.options.time&&(x.value=i.date[3],w.value=i.date[4])),1==i.options.opened&&i.open(),e.change=i.setValue,e.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},e.calendar=o.calendar=i};return O(),i},n.calendar.keydown=function(e){var t=null;(t=n.calendar.current)&&(13==e.which?t.close(!1,!0):27==e.which&&t.close(!1,!1))},n.calendar.prettify=function(e,t){t||(t={justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"});var n=new Date,i=new Date(e),r=parseInt((n-i)/1e3/60);if(String.prototype.format=function(e){return this.replace("{0}",e)},0==r)var s=t.justNow;else s=r<90?t.xMinutesAgo.format(r):r<1440?t.xHoursAgo.format(Math.round(r/60)):r<20160?t.xDaysAgo.format(Math.round(r/1440)):r<43200?t.xWeeksAgo.format(Math.round(r/10080)):r<1036800?t.xMonthsAgo.format(Math.round(r/43200)):t.xYearsAgo.format(Math.round(r/525600));return s},n.calendar.prettifyAll=function(){for(var e=document.querySelectorAll(".prettydate"),t=0;t<e.length;t++)e[t].getAttribute("data-date")?e[t].innerHTML=n.calendar.prettify(e[t].getAttribute("data-date")):e[t].innerHTML&&(e[t].setAttribute("data-date",e[t].innerHTML),e[t].innerHTML=n.calendar.prettify(e[t].innerHTML))},n.calendar.now=function(e,t){if(Array.isArray(e))var i=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5];else e||(e=new Date),i=e.getFullYear(),r=e.getMonth()+1,s=e.getDate(),a=e.getHours(),o=e.getMinutes(),l=e.getSeconds();return 1==t?n.two(i)+"-"+n.two(r)+"-"+n.two(s):n.two(i)+"-"+n.two(r)+"-"+n.two(s)+" "+n.two(a)+":"+n.two(o)+":"+n.two(l)},n.calendar.toArray=function(e){var t=(n=e.split(-1!==e.indexOf("T")?"T":" "))[1],n=n[0].split("-"),i=parseInt(n[0]),r=parseInt(n[1]),s=parseInt(n[2]);if(t){t=t.split(":");var a=parseInt(t[0]),o=parseInt(t[1])}else a=0,o=0;return[i,r,s,a,o,0]},n.calendar.extractDateFromString=function(e,t){if(e>0&&Number(e)==e){var i=new Date(Math.round(86400*(e-25569)*1e3));return i.getFullYear()+"-"+n.two(i.getMonth())+"-"+n.two(i.getDate())+" 00:00:00"}var r=n.mask(e,{mask:t},!0);return r.date[0]&&r.date[1]?(r.date[2]||(r.date[2]=1),r.date[0]+"-"+n.two(r.date[1])+"-"+n.two(r.date[2])+" "+n.two(r.date[3])+":"+n.two(r.date[4])+":"+n.two(r.date[5])):""},n.calendar.dateToNum=function(e,t){e=new Date(e),t||(t="1899-12-30 "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()),t=new Date(t);var n=e.getTime()-t.getTime();return Math.round(n/864e5)},n.calendar.numToDate=function(e){var t=new Date(Math.round(86400*(e-25569)*1e3));return t.getFullYear()+"-"+n.two(t.getMonth()+1)+"-"+n.two(t.getDate())+" 00:00:00"},n.calendar.getDateString=function(e,t){if(t||(t={}),t&&"object"==typeof t)var i=t.format;else i=t;if(i||(i="YYYY-MM-DD"),"number"==typeof e&&i.indexOf("[h]")>=0){var r=parseFloat(24*Number(e));if(i.indexOf("mm")>=0){if((d=(""+r).split("."))[1]){var s=60*parseFloat("0."+d[1]);s=parseFloat(s.toFixed(2))}else s=0;r=parseInt(d[0])+":"+n.two(s)}return r}e instanceof Date?e=n.calendar.now(e):e&&n.isNumeric(e)&&(e=n.calendar.numToDate(e));for(var a=new RegExp(["DAY","WD","DDDD","DDD","DD","D","Q","HH24","HH12","HH","H","AM/PM","MI","SS","MS","YYYY","YYY","YY","Y","MONTH","MON","MMMMM","MMMM","MMM","MM","M","."].join("|"),"gi"),o=i.match(a),l=0;l<o.length;l++)"MM"==o[l].toUpperCase()&&(o[l-1]&&o[l-1].toUpperCase().indexOf("H")>=0||o[l-2]&&o[l-2].toUpperCase().indexOf("H")>=0||o[l+1]&&o[l+1].toUpperCase().indexOf("S")>=0||o[l+2]&&o[l+2].toUpperCase().indexOf("S")>=0)&&(o[l]="mi");var c={tokens:o};if(e){var h=-1!==(s=""+e).indexOf("T")?"T":" ",d=0,p=0,u=0;if((s=s.split(h))[1]&&(p=(d=s[1].split(":"))[1]?d[1]:0,u=d[2]?d[2]:0,d=d[0]?d[0]:0),(s=s[0].split("-"))[0]&&s[1]&&s[2]&&s[0]>0&&s[1]>0&&s[1]<13&&s[2]>0&&s[2]<32){c.data=[s[0],s[1],s[2],d,p,u],c.value=[];var m=new Date(c.data[0],c.data[1]-1,c.data[2],c.data[3],c.data[4],c.data[5]),f=function(e){var t=this.tokens[e],i=t.toUpperCase(),r=null;"YYYY"===i?r=this.data[0]:"YYY"===i?r=this.data[0].substring(1,4):"YY"===i?r=this.data[0].substring(2,4):"Y"===i?r=this.data[0].substring(3,4):"MON"===t?r=n.calendar.months[m.getMonth()].substr(0,3).toUpperCase():"mon"===t?r=n.calendar.months[m.getMonth()].substr(0,3).toLowerCase():"MONTH"===t?r=n.calendar.months[m.getMonth()].toUpperCase():"month"===t?r=n.calendar.months[m.getMonth()].toLowerCase():"MMMMM"===i?r=n.calendar.months[m.getMonth()].substr(0,1):"MMMM"===i||"Month"===t?r=n.calendar.months[m.getMonth()]:"MMM"===i||"Mon"==t?r=n.calendar.months[m.getMonth()].substr(0,3):"MM"===i?r=n.two(this.data[1]):"M"===i?r=m.getMonth()+1:"DAY"===t?r=n.calendar.weekdays[m.getDay()].toUpperCase():"day"===t?r=n.calendar.weekdays[m.getDay()].toLowerCase():"DDDD"===i||"Day"==t?r=n.calendar.weekdays[m.getDay()]:"DDD"===i?r=n.calendar.weekdays[m.getDay()].substr(0,3):"DD"===i?r=n.two(this.data[2]):"D"===i?r=this.data[2]:"Q"===i?r=Math.floor((m.getMonth()+3)/3):"HH24"===i||"HH"===i?r=n.two(this.data[3]):"HH12"===i?r=this.data[3]>12?n.two(this.data[3]-12):n.two(this.data[3]):"H"===i?r=this.data[3]:"MI"===i?r=n.two(this.data[4]):"SS"===i?r=n.two(this.data[5]):"MS"===i?r=m.getMilliseconds():"AM/PM"===i?r=this.data[3]>=12?"PM":"AM":"WD"===i&&(r=n.calendar.weekdays[m.getDay()]),this.value[e]=null===r?this.tokens[e]:r};for(l=0;l<c.tokens.length;l++)f.call(c,l);e=c.value.join("")}else e=""}return e},n.calendar.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n.calendar.months=["January","February","March","April","May","June","July","August","September","October","November","December"],n.calendar.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n.calendar.monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n.color=function(e,t){if(e.color)return e.color.setOptions(t,!0);var i={type:"color",options:{}},r=null,s=null,a=null,o=null,l=null,c=null,h=null;i.setOptions=function(t,r){var s={placeholder:"",value:null,onopen:null,onclose:null,onchange:null,closeOnChange:!0,palette:null,position:null,doneLabel:"Done",resetLabel:"Reset",fullscreen:!1,opened:!1};for(var a in t||(t={}),t&&!t.palette&&(t.palette=n.palette()),s)t&&t.hasOwnProperty(a)?i.options[a]=t[a]:void 0!==i.options[a]&&!0!==r||(i.options[a]=s[a]);return o&&(o.innerHTML=i.options.resetLabel),l&&(l.innerHTML=i.options.doneLabel),i.options.palette&&h&&h.updateContent(0,f()),"string"==typeof i.options.value&&(e.value=i.options.value,"INPUT"===e.tagName&&(e.style.color=e.value,e.style.backgroundColor=e.value)),i.options.placeholder?e.setAttribute("placeholder",i.options.placeholder):e.getAttribute("placeholder")&&e.removeAttribute("placeholder"),i},i.select=function(e){var t=r.querySelector(".jcolor-selected");t&&t.classList.remove("jcolor-selected"),i.values[e]&&i.values[e].classList.add("jcolor-selected")},i.open=function(){if(!r.classList.contains("jcolor-focus")){n.tracking(i,!0),r.classList.add("jcolor-focus"),i.options.value&&i.select(i.options.value),a.style.marginTop="",a.style.marginLeft="";var t=a.getBoundingClientRect(),o=n.getWindowWidth(),l=n.getWindowHeight();if(o<800||1==i.options.fullscreen?(a.classList.add("jcolor-fullscreen"),n.animation.slideBottom(a,1),s.style.display="block"):(a.classList.contains("jcolor-fullscreen")&&(a.classList.remove("jcolor-fullscreen"),s.style.display=""),i.options.position?a.style.position="fixed":a.style.position="",t.left+t.width>o&&(a.style.marginLeft=-1*(t.left+t.width-(o-20))+"px"),t.top+t.height>l&&(a.style.marginTop=-1*(t.top+t.height-(l-20))+"px")),"function"==typeof i.options.onopen&&i.options.onopen(e),h.setBorder(h.getActive()),i.options.value){var c=m(i.options.value);O.forEach((function(e,t){e.value=c[t],e.dispatchEvent(new Event("input"))}))}}},i.close=function(t){return r.classList.contains("jcolor-focus")&&(r.classList.remove("jcolor-focus"),s.style.display="",t||"function"!=typeof i.options.onclose||i.options.onclose(e),n.tracking(i,!1)),i.options.value},i.setValue=function(t){t||(t=""),t!=i.options.value&&(i.options.value=t,w=t,i.select(t),"function"==typeof i.options.onchange&&i.options.onchange(e,t),e.value!=i.options.value&&(e.value=i.options.value,"INPUT"===e.tagName&&(e.style.color=e.value,e.style.backgroundColor=e.value),"function"==typeof e.oninput&&e.oninput({type:"input",target:e,value:e.value})),1==i.options.closeOnChange&&i.close())},i.getValue=function(){return i.options.value};var d=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},p=function(e,t,n){return"#"+d(e)+d(t)+d(n)},u=function(e){return parseInt("0x"+e)},m=function(e){return[u(e.substr(1,2)),u(e.substr(3,2)),u(e.substr(5,2))]},f=function(){var e=document.createElement("div");e.className="jcolor-grid",i.values=[];var t=document.createElement("table");t.setAttribute("cellpadding","7"),t.setAttribute("cellspacing","0");for(var n=0;n<i.options.palette.length;n++){for(var r=document.createElement("tr"),s=0;s<i.options.palette[n].length;s++){var a=document.createElement("td"),o=i.options.palette[n][s];o.length<7&&"#"!==o.substr(0,1)&&(o="#"+o),a.style.backgroundColor=o,a.setAttribute("data-value",o),a.innerHTML="",r.appendChild(a),i.options.value==o&&a.classList.add("jcolor-selected"),i.values[o]=a}t.appendChild(r)}return e.appendChild(t),e},g=document.createElement("canvas");g.width=200,g.height=160;var b=g.getContext("2d"),y=function(){var e=c.firstChild.getBoundingClientRect();g.width=e.width-14,v()},v=function(){var e=b.createLinearGradient(0,0,g.width,0);e.addColorStop(0,"rgb(255,0,0)"),e.addColorStop(.15,"rgb(255,0,255)"),e.addColorStop(.33,"rgb(0,0,255)"),e.addColorStop(.49,"rgb(0,255,255)"),e.addColorStop(.67,"rgb(0,255,0)"),e.addColorStop(.84,"rgb(255,255,0)"),e.addColorStop(1,"rgb(255,0,0)"),b.fillStyle=e,b.fillRect(0,0,g.width,g.height),(e=b.createLinearGradient(0,0,0,g.height)).addColorStop(0,"rgba(255,255,255,1)"),e.addColorStop(.5,"rgba(255,255,255,0)"),e.addColorStop(.5,"rgba(0,0,0,0)"),e.addColorStop(1,"rgba(0,0,0,1)"),b.fillStyle=e,b.fillRect(0,0,g.width,g.height)},x=function(){var e=document.createElement("div");e.className="jcolor-hsl";var t=document.createElement("div");t.className="jcolor-point";var n=document.createElement("div");n.appendChild(g),n.appendChild(t),e.appendChild(n);var i=function(n,i,r){if(1===n){var s=e.getBoundingClientRect(),a=i-s.left,o=r-s.top;a<0&&(a=0),o<0&&(o=0),a>s.width&&(a=s.width),o>s.height&&(o=s.height),t.style.left=a+"px",t.style.top=o+"px";var l=b.getImageData(a,o,1,1).data;w=p(l[0],l[1],l[2])}};return e.addEventListener("mousedown",(function(e){i(e.buttons,e.clientX,e.clientY)})),e.addEventListener("mousemove",(function(e){i(e.buttons,e.clientX,e.clientY)})),e.addEventListener("touchmove",(function(e){i(1,e.changedTouches[0].clientX,e.changedTouches[0].clientY)})),e},w="",O=[],S=function(){if(""!==w)for(var e=0;e<O.length;e++){var t=m(w);t[e]=0;var n="linear-gradient(90deg, rgb(";n+=t.join(", "),n+="), rgb(",t[e]=255,n+=t.join(", "),n+="))",O[e].style.backgroundImage=n}},k=function(){var e=document.createElement("div");e.className="jcolor-sliders";var t=document.createElement("div"),n=function(e){var n=document.createElement("div");n.className="jcolor-sliders-input-container";var i=document.createElement("label");i.innerText=e;var r=document.createElement("div");r.className="jcolor-sliders-input-subcontainer";var s=document.createElement("input");s.type="range",s.min=0,s.max=255,s.value=0,n.appendChild(i),r.appendChild(s);var a=document.createElement("div");return a.innerText=s.value,s.addEventListener("input",(function(){a.innerText=s.value})),r.appendChild(a),n.appendChild(r),t.appendChild(n),s};O=[n("Red"),n("Green"),n("Blue")],e.appendChild(t);var i=document.createElement("div");i.className="jcolor-sliders-final-color";var r=document.createElement("div");r.style.visibility="hidden",r.innerText="a",i.appendChild(r);var s=function(){var e=p(parseInt(O[0].value),parseInt(O[1].value),parseInt(O[2].value));r.innerText=e,r.style.color=e,r.style.removeProperty("visibility"),w=e};return O.forEach((function(e){e.addEventListener("input",(function(){s(),S()}))})),e.appendChild(i),e},_=function(){i.setOptions(t),"INPUT"==e.tagName&&(e.classList.add("jcolor-input"),e.readOnly=!0),(r=document.createElement("div")).className="jcolor",(s=document.createElement("div")).className="jcolor-backdrop",r.appendChild(s),(a=document.createElement("div")).className="jcolor-content";var d=document.createElement("div");d.className="jcolor-controls",a.appendChild(d),(o=document.createElement("div")).className="jcolor-reset",o.innerHTML=i.options.resetLabel,d.appendChild(o),(l=document.createElement("div")).className="jcolor-close",l.innerHTML=i.options.doneLabel,d.appendChild(l),c=document.createElement("div"),a.appendChild(c),h=n.tabs(c,{animation:!0,data:[{title:"Grid",contentElement:f()},{title:"Spectrum",contentElement:x()},{title:"Sliders",contentElement:k()}],onchange:function(e,t,n){if(1===n)y();else{var r=""!==w?w:i.getValue();if(2===n&&r){var s=m(r);O.forEach((function(e,t){e.value=s[t],e.dispatchEvent(new Event("input"))}))}}},palette:"modern"}),r.appendChild(a),"INPUT"==e.tagName?e.parentNode.insertBefore(r,e.nextSibling):e.appendChild(r),r.addEventListener("click",(function(e){if("TD"==e.target.tagName){var t=e.target.getAttribute("data-value");t&&i.setValue(t)}else e.target.classList.contains("jcolor-reset")?(i.setValue(""),i.close()):e.target.classList.contains("jcolor-close")?(h.getActive()>0&&i.setValue(w),i.close()):e.target.classList.contains("jcolor-backdrop")?i.close():i.open()})),e.addEventListener("mouseup",(function(e){i.open()})),window.addEventListener("resize",(function(){r.classList.contains("jcolor-focus")&&1==h.getActive()&&y()})),1==i.options.opened&&i.open(),e.change=i.setValue,e.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},e.color=i,r.color=i};return i.toHex=function(e){var t=function(e){return("0"+parseInt(e).toString(16)).slice(-2)};return/^#[0-9A-F]{6}$/i.test(e)?e:"#"+t((e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))[1])+t(e[2])+t(e[3])},_(),i},n.contextmenu=function(e,t){var i={type:"contextmenu",options:{}},r={items:null,onclick:null};for(var s in r)t&&t.hasOwnProperty(s)?i.options[s]=t[s]:i.options[s]=r[s];function a(){var e=document.createElement("div");e.classList.add("header"),e.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation()}));var t=document.createElement("a");t.classList.add("title"),t.innerHTML=n.translate("Menu"),e.appendChild(t);var r=document.createElement("a");return r.classList.add("close"),r.innerHTML=n.translate("close"),r.addEventListener("click",(function(e){i.close()})),e.appendChild(r),e}function o(e){if(!e.type||"line"!=e.type&&"divisor"!=e.type){c=document.createElement("div");var t=document.createElement("a");if(t.innerHTML=e.title,e.tooltip&&c.setAttribute("title",e.tooltip),e.icon&&c.setAttribute("data-icon",e.icon),e.id&&(c.id=e.id),e.disabled?c.className="jcontextmenu-disabled":e.onclick&&(c.method=e.onclick,c.addEventListener("mousedown",(function(e){e.preventDefault()})),c.addEventListener("mouseup",(function(e){this.method(this,e)}))),c.appendChild(t),e.submenu){var n=document.createElement("span");n.innerHTML="&#9658;",c.appendChild(n),c.classList.add("jcontexthassubmenu");var i=document.createElement("div");i.classList.add("jcontextmenu"),i.setAttribute("tabindex","900");for(var r=e.submenu,s=0;s<r.length;s++){var a=o(r[s]);i.appendChild(a)}c.appendChild(i)}else if(e.shortcut){var l=document.createElement("span");l.innerHTML=e.shortcut,c.appendChild(l)}}else var c=document.createElement("hr");return c}return e.classList.add("jcontextmenu"),i.open=function(t,r){if(r&&(i.options.items=r,i.create(r)),n.contextmenu.current&&n.contextmenu.current.close(),n.tracking(i,!0),e.classList.add("jcontextmenu-focus"),n.contextmenu.current=i,i.options.items&&i.options.items.length>0||e.children.length){if(t.target)var s=t.clientX,a=t.clientY;else s=t.x,a=t.y;var o=e.getBoundingClientRect();if(window.innerHeight<a+o.height){var l=a-o.height;l<0&&(l=0),e.style.top=l+"px"}else e.style.top=a+"px";window.innerWidth<s+o.width?s-o.width>0?e.style.left=s-o.width+"px":e.style.left="10px":e.style.left=s+"px"}},i.close=function(){e.classList.contains("jcontextmenu-focus")&&e.classList.remove("jcontextmenu-focus"),n.tracking(i,!1)},i.create=function(t){e.innerHTML="";var n=a();e.appendChild(n);for(var i=0;i<t.length;i++){var r=o(t[i]);e.appendChild(r)}},"function"==typeof i.options.onclick&&e.addEventListener("click",(function(e){i.options.onclick(i,e)})),i.options.items&&i.create(i.options.items),window.addEventListener("mousewheel",(function(){i.close()})),e.contextmenu=i,i},n.dropdown=function(e,t){if(e.dropdown)return e.dropdown.setOptions(t,!0);var i={type:"dropdown",options:{}},r=function(t,n){t&&t.length&&(!1!==i.options.sortResults&&("function"==typeof i.options.sortResults?t.sort(i.options.sortResults):t.sort(s)),i.setData(t)),"function"==typeof i.options.onload&&i.options.onload(e,i,t,n),n&&o(n),null==n&&(i.options.value=""),e.value=i.options.value,1==i.options.opened&&i.open()},s=function(e,t){var n,i;return"string"==typeof e?n=e:e.text?n=e.text:e.name&&(n=e.name),"string"==typeof t?i=t:t.text?i=t.text:t.name&&(i=t.name),"string"==typeof n||"string"==typeof i?("string"!=typeof n&&(n=""+n),"string"!=typeof i&&(i=""+i),n.localeCompare(i)):n-i},a=function(){i.value={};for(var e=0;e<i.items.length;e++)1==i.items[e].selected&&(i.items[e].element&&i.items[e].element.classList.remove("jdropdown-selected"),i.items[e].selected=null);i.options.value=""},o=function(e){if(a(),null!==e)if(e){Array.isArray(e)||(e=(""+e).split(";"));for(var t=0;t<e.length;t++)i.value[e[t]]=""}else void 0!==i.value[""]&&(i.value[""]="");for(t=0;t<i.items.length;t++)void 0!==i.value[l(t)]&&(i.items[t].element&&i.items[t].element.classList.add("jdropdown-selected"),i.items[t].selected=!0,i.value[l(t)]=c(t));i.options.value=Object.keys(i.value).join(";"),i.header.value=i.getText()},l=function(e,t){if(i.options.format)n="id";else var n="value";return i.items[e]?void 0!==t?i.items[e].data[n]=t:i.items[e].data[n]:""},c=function(e,t){if(i.options.format)n="name";else var n="text";return i.items[e]?void 0!==t?i.items[e].data[n]=t:i.items[e].data[n]:""},h=function(){return Object.keys(i.value)},d=function(){for(var e=[],t=Object.keys(i.value),n=0;n<t.length;n++)e.push(i.value[t[n]]);return e};i.setOptions=function(t,s){t||(t={});var a={url:null,data:[],format:0,multiple:!1,autocomplete:!1,remoteSearch:!1,lazyLoading:!1,type:null,width:null,maxWidth:null,opened:!1,value:null,placeholder:"",newOptions:!1,position:!1,onchange:null,onload:null,onopen:null,onclose:null,onfocus:null,onblur:null,oninsert:null,onbeforeinsert:null,sortResults:!1,autofocus:!1};for(var o in a)t&&t.hasOwnProperty(o)?i.options[o]=t[o]:void 0!==i.options[o]&&!0!==s||(i.options[o]=a[o]);return 1!=i.options.remoteSearch&&"searchbar"!==i.options.type||(i.options.autocomplete=!0),1==i.options.newOptions?i.header.classList.add("jdropdown-add"):i.header.classList.remove("jdropdown-add"),1==i.options.autocomplete?i.header.removeAttribute("readonly"):i.header.setAttribute("readonly","readonly"),i.options.placeholder?i.header.setAttribute("placeholder",i.options.placeholder):i.header.removeAttribute("placeholder"),e.classList.remove("jdropdown-searchbar"),e.classList.remove("jdropdown-picker"),e.classList.remove("jdropdown-list"),"searchbar"==i.options.type?e.classList.add("jdropdown-searchbar"):"list"==i.options.type?e.classList.add("jdropdown-list"):"picker"==i.options.type?e.classList.add("jdropdown-picker"):n.getWindowWidth()<800?i.options.autocomplete?(e.classList.add("jdropdown-searchbar"),i.options.type="searchbar"):(e.classList.add("jdropdown-picker"),i.options.type="picker"):(i.options.width?(e.style.width=i.options.width,e.style.minWidth=i.options.width):(e.style.removeProperty("width"),e.style.removeProperty("min-width")),e.classList.add("jdropdown-default"),i.options.type="default"),"searchbar"==i.options.type?p.appendChild(f):u.insertBefore(f,u.firstChild),i.options.url&&!t.data?n.ajax({url:i.options.url,method:"GET",dataType:"json",success:function(e){e&&r(e,i.options.value)}}):r(i.options.data,i.options.value),i};var p=null,u=null,m=null,f=null,g=null,b=null,y=null,v=function(){if(t||(t={}),"SELECT"==e.tagName){var r=n.dropdown.extractFromDom(e,t);e=r.el,t=r.options}!t.placeholder&&e.getAttribute("placeholder")&&(t.placeholder=e.getAttribute("placeholder")),i.value={},i.items=[],i.groups=[],i.search="",i.results=null,e.classList.add("jdropdown"),(p=document.createElement("div")).className="jdropdown-container-header",i.header=document.createElement("input"),i.header.className="jdropdown-header",i.header.type="text",i.header.setAttribute("autocomplete","off"),i.header.onfocus=function(){"function"==typeof i.options.onfocus&&i.options.onfocus(e)},i.header.onblur=function(){"function"==typeof i.options.onblur&&i.options.onblur(e)},i.header.onkeyup=function(t){1!=i.options.autocomplete||y?i.options.autocomplete||i.next(t.key):(i.search!=i.header.value.trim()&&(y=setTimeout((function(){i.find(i.header.value.trim()),y=null}),400)),e.classList.contains("jdropdown-focus")||i.open())},n.dropdown.hasEvents||(n.dropdown.hasEvents=!0,document.addEventListener("keydown",n.dropdown.keydown)),(u=document.createElement("div")).className="jdropdown-container",(m=document.createElement("div")).className="jdropdown-content",(f=document.createElement("div")).className="jdropdown-close",f.innerHTML="Done",(g=document.createElement("div")).className="jdropdown-reset",g.innerHTML="x",g.onclick=function(){i.reset(),i.close()},(b=document.createElement("div")).className="jdropdown-backdrop",p.appendChild(i.header),u.appendChild(m),e.appendChild(p),e.appendChild(u),e.appendChild(b),i.setOptions(t),"ontouchsend"in document.documentElement==1?e.addEventListener("touchsend",n.dropdown.mouseup):e.addEventListener("mouseup",n.dropdown.mouseup),1==i.options.lazyLoading&&n.lazyLoading(m,{loadUp:i.loadUp,loadDown:i.loadDown}),m.onwheel=function(e){e.stopPropagation()},e.change=i.setValue,e.val=function(e){if(void 0===e)return i.getValue(!!i.options.multiple);i.setValue(e)},e.dropdown=i};i.getUrl=function(){return i.options.url},i.setUrl=function(e,t){i.options.url=e,n.ajax({url:i.options.url,method:"GET",dataType:"json",success:function(e){i.setData(e),"function"==typeof t&&t(i)}})},i.setId=function(e,t){if(i.options.format)n="id";else var n="value";"object"==typeof e?e[n]=t:i.items[e].data[n]=t},i.add=function(e,t){if(!e){var r=1==i.options.autocomplete?i.header.value:"";if(!(e=prompt(n.translate("Add A New Option"),r)))return!1}if(t||(t=n.guid()),i.options.format)s={id:t,name:e};else var s={value:t,text:e};if("function"==typeof i.options.onbeforeinsert){var a=i.options.onbeforeinsert(i,s);if(!1===a)return!1;a&&(s=a)}i.options.data.push(s);var o=i.createItem(s);return m.appendChild(o.element),"function"==typeof i.options.oninsert&&i.options.oninsert(i,s,o),"none"==m.style.display&&(m.style.display=""),i.results&&i.results.push(o),s},i.createItem=function(e,t,n){i.options.format?(e.id||void 0===e.value||(e.id=e.value),e.name||void 0===e.text||(e.name=e.text)):(e.value||void 0===e.id||(e.value=e.id),e.text||void 0===e.name||(e.text=e.name));var r={};if(r.element=document.createElement("div"),r.element.className="jdropdown-item",r.element.indexValue=i.items.length,r.data=e,t&&(r.group=t),e.id&&r.element.setAttribute("id",e.id),1==e.disabled&&r.element.setAttribute("data-disabled",!0),e.tooltip&&r.element.setAttribute("title",e.tooltip),e.image){var s=document.createElement("img");s.className="jdropdown-image",s.src=e.image,e.title||s.classList.add("jdropdown-image-small"),r.element.appendChild(s)}else if(e.icon){var a=document.createElement("span");a.className="jdropdown-icon material-icons",a.innerText=e.icon,e.title||a.classList.add("jdropdown-icon-small"),e.color&&(a.style.color=e.color),r.element.appendChild(a)}else if(e.color){var o=document.createElement("div");o.className="jdropdown-color",o.style.backgroundColor=e.color,r.element.appendChild(o)}if(i.options.format)l=e.name;else var l=e.text;var c=document.createElement("div");if(c.className="jdropdown-description",c.innerHTML=l||"&nbsp;",e.title){var h=document.createElement("div");h.className="jdropdown-title",h.innerText=e.title,c.appendChild(h)}if(i.options.format)d=e.id;else var d=e.value;return i.value[d]&&(r.element.classList.add("jdropdown-selected"),r.selected=!0),i.items.push(r),r.element.appendChild(c),r},i.appendData=function(e){if(e.length){for(var t=[],n=[],r=0;r<e.length;r++)e[r].group?(n[e[r].group]||(n[e[r].group]=[]),n[e[r].group].push(r)):t.push(r);var s=0,a=Object.keys(n);if(a.length>0)for(r=0;r<a.length;r++){var o=document.createElement("div");o.className="jdropdown-group";var l=document.createElement("div");l.className="jdropdown-group-name",l.innerHTML=a[r];var c=document.createElement("i");c.className="jdropdown-group-arrow jdropdown-group-arrow-down",l.appendChild(c);var h=document.createElement("div");h.className="jdropdown-group-items";for(var d=0;d<n[a[r]].length;d++){var p=i.createItem(e[n[a[r]][d]],o,a[r]);(0==i.options.lazyLoading||s<200)&&(h.appendChild(p.element),s++)}o.appendChild(l),o.appendChild(h),i.groups.push(o),h.children.length>0&&m.appendChild(o)}if(t.length)for(r=0;r<t.length;r++)p=i.createItem(e[t[r]]),(0==i.options.lazyLoading||s<200)&&(m.appendChild(p.element),s++)}},i.setData=function(e){if(e.length){for(var t=0;t<e.length;t++)"object"!=typeof e[t]&&(i.options.format?e[t]={id:e[t],name:e[t]}:e[t]={value:e[t],text:e[t]});a(),m.innerHTML="",i.header.value="",i.items=[],i.appendData(e),i.options.data=e}},i.getData=function(){return i.options.data},i.getPosition=function(e){for(var t=0;t<i.items.length;t++)if(l(t)==e)return t;return!1},i.getText=function(e){var t=d();return e?t:t.join("; ")},i.getValue=function(e){var t=h();return e?t:t.join(";")};var x=function(t){e.value!=i.options.value&&(e.value=i.options.value,"function"==typeof e.oninput&&e.oninput({type:"input",target:e,value:e.value})),"function"==typeof i.options.onchange&&i.options.onchange(e,i,t,i.options.value)};i.setValue=function(e){var t=i.getValue();Array.isArray(e)&&(e=e.join(";")),t!==e&&(o(e),x(t))},i.resetSelected=function(){i.setValue(null)},i.selectIndex=function(e,t){if(e=parseInt(e),i.items&&i.items[e]&&(!0===t||!0!==i.items[e].data.disabled))if(i.setCursor(e,!1),i.options.multiple){var n=i.options.value;i.items[e].selected?(i.items[e].element.classList.remove("jdropdown-selected"),i.items[e].selected=!1,delete i.value[l(e)]):(i.items[e].element.classList.add("jdropdown-selected"),i.items[e].selected=!0,i.value[l(e)]=c(e)),i.options.value=Object.keys(i.value).join(";"),0==i.options.autocomplete&&(i.header.value=d().join("; ")),x(n)}else i.items[e].selected?i.setValue(null):i.setValue(l(e)),i.close()},i.selectItem=function(e){i.selectIndex(e.indexValue)};var w=function(e,t){for(var n=0;n<t.length;n++)if(i.options.format){if(t[n].id==e)return!0}else if(t[n].value==e)return!0;return!1};return i.find=function(e){if(i.search==e.trim())return!1;if(i.search=e,i.setCursor(),i.groups.length)for(var t=0;t<i.groups.length;t++)i.groups[t].lastChild.innerHTML="";if(m.innerHTML="",1==i.options.remoteSearch){i.results=null;var r=i.options.url+(i.options.url.indexOf("?")>0?"&":"?")+"q="+e;n.ajax({url:r,method:"GET",dataType:"json",success:function(e){i.items=[];var t=Object.keys(i.value);if(t.length)for(var n=0;n<t.length;n++)w(t[n],e)||(i.options.format?e.unshift({id:t[n],name:i.value[t[n]]}):e.unshift({value:t[n],text:i.value[t[n]]}));i.appendData(e),e.length?m.style.display="":m.style.display="none"}})}else{e=new RegExp(e,"gi");var s=[];for(t=0;t<i.items.length;t++){var a=c(t),o=i.items[t].data.title||"",l=i.items[t].data.group||"",h=i.items[t].data.synonym||"";h&&(h=h.join(" ")),(null==e||1==i.items[t].selected||a.match(e)||o.match(e)||l.match(e)||h.match(e))&&s.push(i.items[t])}if(s.length){m.style.display="",i.results=s;var d=s.length||0;for(1==i.options.lazyLoading&&d>200&&(d=200),t=0;t<d;t++)i.results[t].group?(i.results[t].group.parentNode||m.appendChild(i.results[t].group),i.results[t].group.lastChild.appendChild(i.results[t].element)):m.appendChild(i.results[t].element)}else m.style.display="none",i.results=null}1==i.options.autofocus&&i.first()},i.open=function(){if(!e.classList.contains("jdropdown-focus")){n.dropdown.current=i,n.tracking(i,!0),e.classList.add("jdropdown-focus"),n.getWindowWidth()<800&&(null!=i.options.type&&"picker"!=i.options.type||n.animation.slideBottom(u,1)),1==i.options.autocomplete&&(i.header.value=i.search,i.header.focus());var t=h();if(t[0]){var r=i.getPosition(t[0]);!1!==r&&i.setCursor(r)}if(!i.options.type||"default"==i.options.type){var s=e.getBoundingClientRect(),a=u.getBoundingClientRect();i.options.position?(u.style.position="fixed",window.innerHeight<s.bottom+a.height?(u.style.top="",u.style.bottom=window.innerHeight-s.top+1+"px"):(u.style.top=s.bottom+"px",u.style.bottom=""),u.style.left=s.left+"px"):window.innerHeight<s.bottom+a.height?(u.style.top="",u.style.bottom=s.height+1+"px"):(u.style.top="",u.style.bottom=""),u.style.minWidth=s.width+"px",i.options.maxWidth&&(u.style.maxWidth=i.options.maxWidth),i.items.length||1!=i.options.autocomplete?m.style.display="":m.style.display="none"}}"function"==typeof i.options.onopen&&i.options.onopen(e)},i.close=function(t){return e.classList.contains("jdropdown-focus")&&(i.header.value=i.getText(),i.setCursor(),t||"function"!=typeof i.options.onclose||i.options.onclose(e),i.header.blur&&i.header.blur(),e.classList.remove("jdropdown-focus"),n.tracking(i,!1),n.dropdown.current=null),i.getValue()},i.setCursor=function(e,t){if(null!=i.currentIndex&&i.items&&i.items[i.currentIndex]&&i.items[i.currentIndex].element.classList.remove("jdropdown-cursor"),null==e)i.currentIndex=null;else if(e=parseInt(e),i.items[e].element.parentNode&&(i.items[e].element.classList.add("jdropdown-cursor"),i.currentIndex=e,!1!==t&&i.items[i.currentIndex].element)){m.scrollTop;var n=i.items[i.currentIndex].element;m.scrollTop=n.offsetTop-n.scrollTop+n.clientTop-95}},i.resetCursor=i.setCursor,i.updateCursor=i.setCursor,i.reset=function(){i.setCursor(),i.setValue(null)},i.first=function(){!0===i.options.lazyLoading&&i.loadFirst();var e=m.querySelectorAll(".jdropdown-item");if(e.length){var t=e[0].indexValue;i.setCursor(t)}},i.last=function(){!0===i.options.lazyLoading&&i.loadLast();var e=m.querySelectorAll(".jdropdown-item");if(e.length){var t=e[e.length-1].indexValue;i.setCursor(t)}},i.next=function(e){var t=null;if(e){if(1==e.length){var n=i.currentIndex||-1;e=e.toLowerCase();var r=null,s=null,a=m.querySelectorAll(".jdropdown-item");if(a.length){for(var o=0;o<a.length;o++)if(a[o].indexValue>n&&(r=i.items[a[o].indexValue])&&(s=r.element.innerText[0])&&e==(s=s.toLowerCase())){t=a[o].indexValue;break}i.setCursor(t)}}}else if(null==i.currentIndex||null==i.currentIndex)i.first();else{var l=i.items[i.currentIndex].element,c=l.nextElementSibling;c?(c.classList.contains("jdropdown-group")&&(c=c.lastChild.firstChild),t=c.indexValue):l.parentNode.classList.contains("jdropdown-group-items")&&((c=l.parentNode.parentNode.nextElementSibling)&&(c.classList.contains("jdropdown-group")?c=c.lastChild.firstChild:c.classList.contains("jdropdown-item")?t=c.indexValue:c=null),c&&(t=c.indexValue)),null!==t&&i.setCursor(t)}},i.prev=function(){var e=null;if(null===i.currentIndex)i.first();else{var t=i.items[i.currentIndex].element,n=t.previousElementSibling;n?(n.classList.contains("jdropdown-group")&&(n=n.lastChild.lastChild),e=n.indexValue):t.parentNode.classList.contains("jdropdown-group-items")&&((n=t.parentNode.parentNode.previousElementSibling)&&(n.classList.contains("jdropdown-group")?n=n.lastChild.lastChild:n.classList.contains("jdropdown-item")?e=n.indexValue:n=null),n&&(e=n.indexValue))}null!==e&&i.setCursor(e)},i.loadFirst=function(){if(i.results)var e=i.results;else e=i.items;var t=e.length||0;1==i.options.lazyLoading&&t>200&&(t=200),m.innerHTML="";for(var n=0;n<t;n++)e[n].group?(e[n].group.parentNode||m.appendChild(e[n].group),e[n].group.lastChild.appendChild(e[n].element)):m.appendChild(e[n].element);m.scrollTop=0},i.loadLast=function(){if(i.results)var e=i.results;else e=i.items;var t=e.length;if(t>200){t-=200,m.innerHTML="";for(var n=t;n<e.length;n++)e[n].group?(e[n].group.parentNode||m.appendChild(e[n].group),e[n].group.lastChild.appendChild(e[n].element)):m.appendChild(e[n].element);m.scrollTop=m.scrollHeight}},i.loadUp=function(){var e=!1;if(i.results)var t=i.results;else t=i.items;var n=m.querySelectorAll(".jdropdown-item")[0].indexValue;n=i.items[n];var r=t.indexOf(n)-1;if(r>0){for(var s=0;r>0&&t[r]&&s<200;)t[r].group?(t[r].group.parentNode||m.insertBefore(t[r].group,m.firstChild),t[r].group.lastChild.insertBefore(t[r].element,t[r].group.lastChild.firstChild)):m.insertBefore(t[r].element,m.firstChild),r--,s++;e=!0}return e},i.loadDown=function(){var e=!1;if(i.results)var t=i.results;else t=i.items;var n=m.querySelectorAll(".jdropdown-item"),r=n[n.length-1].indexValue;r=i.items[r];var s=t.indexOf(r)+1;if(s<t.length){for(var a=0;s<t.length&&t[s]&&a<200;)t[s].group?(t[s].group.parentNode||m.appendChild(t[s].group),t[s].group.lastChild.appendChild(t[s].element)):m.appendChild(t[s].element),s++,a++;e=!0}return e},v(),i},n.dropdown.keydown=function(e){var t=null;if(t=n.dropdown.current)if(13==e.which||9==e.which)t.header.value&&null==t.currentIndex&&t.options.newOptions?t.add():(null==t.currentIndex&&1==t.options.autocomplete&&""!=t.header.value&&t.find(t.header.value),t.selectIndex(t.currentIndex));else if(38==e.which)null==t.currentIndex?t.first():t.currentIndex>0&&t.prev(),e.preventDefault();else if(40==e.which)null==t.currentIndex?t.first():t.currentIndex+1<t.items.length&&t.next(),e.preventDefault();else if(36==e.which)t.first(),e.target.classList.contains("jdropdown-header")||e.preventDefault();else if(35==e.which)t.last(),e.target.classList.contains("jdropdown-header")||e.preventDefault();else if(27==e.which)t.close();else if(33==e.which){if(null==t.currentIndex)t.first();else if(t.currentIndex>0)for(var i=0;i<7;i++)t.prev();e.preventDefault()}else if(34==e.which){if(null==t.currentIndex)t.first();else if(t.currentIndex+1<t.items.length)for(i=0;i<7;i++)t.next();e.preventDefault()}},n.dropdown.mouseup=function(e){var t=n.findElement(e.target,"jdropdown");if(t){var i=t.dropdown;if(e.target.classList.contains("jdropdown-header"))if(t.classList.contains("jdropdown-focus")&&t.classList.contains("jdropdown-default")){var r=t.getBoundingClientRect();if(e.changedTouches&&e.changedTouches[0]){var s=e.changedTouches[0].clientX;e.changedTouches[0].clientY}else s=e.clientX,e.clientY;r.width-(s-r.left)<30?e.target.classList.contains("jdropdown-add")?i.add():i.close():0==i.options.autocomplete&&i.close()}else i.open();else if(e.target.classList.contains("jdropdown-group-name")){var a=e.target.nextSibling.children;if("none"!=e.target.nextSibling.style.display)for(var o=0;o<a.length;o++)"none"!=a[o].style.display&&i.selectItem(a[o])}else e.target.classList.contains("jdropdown-group-arrow")?e.target.classList.contains("jdropdown-group-arrow-down")?(e.target.classList.remove("jdropdown-group-arrow-down"),e.target.classList.add("jdropdown-group-arrow-up"),e.target.parentNode.nextSibling.style.display="none"):(e.target.classList.remove("jdropdown-group-arrow-up"),e.target.classList.add("jdropdown-group-arrow-down"),e.target.parentNode.nextSibling.style.display=""):e.target.classList.contains("jdropdown-item")?i.selectItem(e.target):e.target.classList.contains("jdropdown-image")||e.target.classList.contains("jdropdown-description")?i.selectItem(e.target.parentNode):e.target.classList.contains("jdropdown-title")?i.selectItem(e.target.parentNode.parentNode):(e.target.classList.contains("jdropdown-close")||e.target.classList.contains("jdropdown-backdrop"))&&i.close()}},n.dropdown.extractFromDom=function(e,t){var n=e;if(t||(t={}),!e.getAttribute("multiple")||t&&null!=t.multiple||(t.multiple=!0),!e.getAttribute("placeholder")||t&&null!=t.placeholder||(t.placeholder=e.getAttribute("placeholder")),!e.getAttribute("data-autocomplete")||t&&null!=t.autocomplete||(t.autocomplete=!0),t&&null!=t.width||(t.width=e.offsetWidth),!e.value||t&&null!=t.value||(t.value=e.value),!t||null==t.data){t.data=[];for(var i=0;i<e.children.length;i++)if("OPTGROUP"==e.children[i].tagName)for(var r=0;r<e.children[i].children.length;r++)t.data.push({value:e.children[i].children[r].value,text:e.children[i].children[r].innerHTML,group:e.children[i].getAttribute("label")});else t.data.push({value:e.children[i].value,text:e.children[i].innerHTML})}t&&null!=t.onchange||(t.onchange=function(e,i,r,s){1==t.multiple?obj.items[i].classList.contains("jdropdown-selected")?n.options[i].setAttribute("selected","selected"):n.options[i].removeAttribute("selected"):n.value=s});var s=document.createElement("div");return e.parentNode.insertBefore(s,e),e.style.display="none",{el:e=s,options:t}},n.editor=function(e,t){var i={type:"editor",options:{}},r={value:null,snippet:null,toolbar:null,remoteParser:null,placeholder:null,parseURL:!1,filterPaste:!0,dropZone:!1,dropAsSnippet:!1,acceptImages:!1,acceptFiles:!1,maxFileSize:5e6,allowImageResize:!0,border:!0,padding:!0,maxHeight:null,height:null,focus:!1,onclick:null,onfocus:null,onblur:null,onload:null,onkeyup:null,onkeydown:null,onchange:null};for(var s in r)t&&t.hasOwnProperty(s)?i.options[s]=t[s]:i.options[s]=r[s];var a=null,o=null,l=[];e.innerHTML="",i.el=e,"function"==typeof i.options.onclick&&(e.onclick=function(t){i.options.onclick(e,i,t)}),e.classList.add("jeditor-container"),1==i.options.padding&&e.classList.add("jeditor-padding"),0==i.options.border&&(e.style.border="0px");var c=document.createElement("div");c.className="jsnippet",c.setAttribute("contenteditable",!1);var h=document.createElement("div");h.className="jeditor-toolbar";var d=document.createElement("div");if(d.setAttribute("contenteditable",!0),d.setAttribute("spellcheck",!1),d.className="jeditor",i.options.placeholder&&d.setAttribute("data-placeholder",i.options.placeholder),(i.options.maxHeight||i.options.height)&&(d.style.overflowY="auto",i.options.maxHeight&&(d.style.maxHeight=i.options.maxHeight),i.options.height&&(d.style.height=i.options.height)),i.options.value)var p=i.options.value;else p=e.innerHTML?e.innerHTML:"";p||(p="");var u=function(t){"function"==typeof i.options.onchange&&i.options.onchange(e,i,t),i.options.value=i.getData(),e.value!=i.options.value&&(e.value=i.options.value,"function"==typeof e.oninput&&e.oninput({type:"input",target:e,value:e.value}))},m=function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.querySelectorAll("img");if(n.length)for(var r=0;r<n.length;r++)i.addImage(n[r].src)},f=function(e){var t,n;window.getSelection&&(t=window.getSelection()).rangeCount&&((n=t.getRangeAt(0)).toString(),n.deleteContents(),n.insertNode(e),n.setStartAfter(e),n.setEndAfter(e),t.removeAllRanges(),t.addRange(n))},g=function(){var e=null;if(e=c.children[0]){e.classList.contains("jslider-grid")||e.classList.add("jslider-grid");var t=e.children.length;e.setAttribute("data-number",t>4?4:t),t>4?e.setAttribute("data-total",t-4):e.removeAttribute("data-total")}},b=function(e){c.innerHTML||y({}),c.children[0].appendChild(e),g()},y=function(e){c.innerHTML="";for(var t=["image","title","description","host","url"],n=0;n<t.length;n++){var i=document.createElement("div");if(i.className="jsnippet-"+t[n],i.setAttribute("data-k",t[n]),c.appendChild(i),e[t[n]])if("image"==t[n]){Array.isArray(e.image)||(e.image=[e.image]);for(var r=0;r<e.image.length;r++){var s=document.createElement("img");s.src=e.image[r],i.appendChild(s)}}else i.innerHTML=e[t[n]]}d.appendChild(document.createElement("br")),d.appendChild(c)},v=function(){clearTimeout(a),a=setTimeout((function(){if(!d.querySelector(".jsnippet")){var e=d.innerHTML.replace(/\n/g," "),t=document.createElement("div");t.innerHTML=e;var r=t.innerText,s=n.editor.detectUrl(r);if(s)if("jpg"==s[0].substr(-3)||"png"==s[0].substr(-3)||"gif"==s[0].substr(-3))i.addImage(s[0],!0);else{var a=n.editor.youtubeParser(s[0]);i.parseWebsite(s[0],a)}}}),1e3)};i.parseContent=function(){v()},i.parseWebsite=function(e,t){if(i.options.remoteParser){t&&(e="https://www.youtube.com/watch?v="+t);var r={title:"",description:"",image:"",host:e.split("/")[2],url:e};n.ajax({url:i.options.remoteParser+encodeURI(e.trim()),method:"GET",dataType:"json",success:function(e){e.title&&(r.title=e.title),e.description&&(r.description=e.description),e.host&&(r.host=e.host),e.url&&(r.url=e.url),y(r),e.image?i.addImage(e.image,!0):e["og:image"]&&i.addImage(e["og:image"],!0)}})}else console.log("The remoteParser is not defined")},i.setData=function(e){d.innerHTML=e,i.options.focus&&n.editor.setCursor(d,!0),l=[]},i.getFiles=function(){for(var e=d.querySelectorAll(".jfile"),t=[],n=0;n<e.length;n++)l[e[n].src]&&t.push(l[e[n].src]);return t},i.getText=function(){return d.innerText},i.getData=function(e){if(e){if(a={content:""},c.innerHTML){a.snippet={};for(var t=0;t<c.children.length;t++){var n=c.children[t].getAttribute("data-k");if(n)if("image"==n){a.snippet.image||(a.snippet.image=[]);for(var i=0;i<c.children[t].children.length;i++)a.snippet.image.push(c.children[t].children[i].getAttribute("src"))}else a.snippet[n]=c.children[t].innerHTML}}var r=Object.keys(l);if(r.length)for(a.files=[],t=0;t<r.length;t++)a.files.push(l[r[t]]);var s=d.innerHTML;s=(s=(s=s.replace(/<br>/g,"\n")).replace(/<\/div>/g,"</div>\n")).replace(/<(?:.|\n)*?>/gm,""),a.content=s.trim()}else var a=d.innerHTML;return a},i.reset=function(){d.innerHTML="",c.innerHTML="",l=[]},i.addPdf=function(e){if("data"!=e.result.substr(0,4))console.error("Invalid source");else{var t=document.createElement("canvas");t.width=60,t.height=60;var n=new Image;t.getContext("2d").drawImage(n,0,0,t.width,t.height),t.toBlob((function(t){var n=document.createElement("img");n.src=window.URL.createObjectURL(t),n.title=e.name,n.className="jfile pdf",l[n.src]={file:n.src,extension:"pdf",content:e.result},f(n)}))}},i.addImage=function(e,t){if(e||(e=""),"data"==e.substr(0,4)||i.options.remoteParser){if("data"==e.substr(0,4))n=(n=(n=e.split(";"))[0].split("/"))[1];else{var n=e.substr(e.lastIndexOf(".")+1);e=i.options.remoteParser+e}var r=new Image;r.onload=function(){var e=document.createElement("canvas");e.width=r.width,e.height=r.height,e.getContext("2d").drawImage(r,0,0,e.width,e.height),e.toBlob((function(r){var s=document.createElement("img");s.src=window.URL.createObjectURL(r),s.classList.add("jfile"),s.setAttribute("tabindex","900"),l[s.src]={file:s.src,extension:n,content:e.toDataURL()},i.options.dropAsSnippet||t?(b(s),l[s.src].snippet=!0):f(s),u()}))},r.src=e}else console.error("remoteParser not defined in your initialization")},i.addFile=function(e){for(var t=[],n=0;n<e.length;n++)if(e[n].size>i.options.maxFileSize)alert("The file is too big");else{var r=e[n].type.split("/");(r="image"==r[0]?1:"pdf"==r[1]?2:0)?(t[n]=new FileReader,t[n].index=n,t[n].type=r,t[n].name=e[n].name,t[n].date=e[n].lastModified,t[n].size=e[n].size,t[n].addEventListener("load",(function(e){2==e.target.type?1==i.options.acceptFiles&&i.addPdf(e.target):i.addImage(e.target.result)}),!1),t[n].readAsDataURL(e[n])):alert("The extension is not allowed")}},i.destroy=function(){d.removeEventListener("mouseup",x),d.removeEventListener("mousedown",w),d.removeEventListener("mousemove",O),d.removeEventListener("keyup",S),d.removeEventListener("keydown",k),d.removeEventListener("dragstart",j),d.removeEventListener("dragenter",R),d.removeEventListener("dragover",P),d.removeEventListener("drop",L),d.removeEventListener("paste",E),"function"==typeof i.options.onblur&&d.removeEventListener("blur",I),"function"==typeof i.options.onfocus&&d.removeEventListener("focus",N),e.editor=null,e.classList.remove("jeditor-container"),h.remove(),c.remove(),d.remove()};var x=function(e){o&&o.e&&o.e.classList.remove("resizing"),o=!1},w=function(e){var t=function(t){var n=t.getBoundingClientRect();n.width-(e.clientX-n.left)<40&&e.clientY-n.top<40&&(t.innerHTML="",t.remove())};if("IMG"==e.target.tagName)if(e.target.style.cursor){var n=e.target.getBoundingClientRect();o={e:e.target,x:e.clientX,y:e.clientY,w:n.width,h:n.height,d:e.target.style.cursor},e.target.width||(e.target.width=n.width+"px"),e.target.height||(e.target.height=n.height+"px");var i=window.getSelection();if(i.rangeCount)for(var r=0;r<i.rangeCount;r++)i.removeRange(i.getRangeAt(r));e.target.classList.add("resizing")}else o=!0;else e.target.classList.contains("jsnippet")?t(e.target):e.target.parentNode.classList.contains("jsnippet")&&t(e.target.parentNode),o=!0},O=function(e){if("IMG"==e.target.tagName&&!e.target.parentNode.classList.contains("jsnippet-image")&&1==i.options.allowImageResize&&e.target.getAttribute("tabindex")){var t=e.target.getBoundingClientRect();e.clientY-t.top<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="ne-resize":e.clientX-t.left<5?e.target.style.cursor="nw-resize":e.target.style.cursor="n-resize":t.height-(e.clientY-t.top)<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="se-resize":e.clientX-t.left<5?e.target.style.cursor="sw-resize":e.target.style.cursor="s-resize":t.width-(e.clientX-t.left)<5?e.target.style.cursor="e-resize":e.clientX-t.left<5?e.target.style.cursor="w-resize":e.target.style.cursor=""}if(1==e.which&&o&&o.d){if("e-resize"==o.d||"ne-resize"==o.d||"se-resize"==o.d)if(o.e.width=o.w+(e.clientX-o.x),e.shiftKey){var n=(e.clientX-o.x)*(o.h/o.w);o.e.height=o.h+n}else n=null;n||"s-resize"!=o.d&&"se-resize"!=o.d&&"sw-resize"!=o.d||e.shiftKey||(o.e.height=o.h+(e.clientY-o.y))}},S=function(t){d.innerHTML||(d.innerHTML="<div><br></div>"),"function"==typeof i.options.onkeyup&&i.options.onkeyup(e,i,t)},k=function(t){1==i.options.parseURL&&v(),"function"==typeof i.options.onkeydown&&i.options.onkeydown(e,i,t),"Delete"==t.key&&"IMG"==t.target.tagName&&t.target.parentNode.classList.contains("jsnippet-image")&&(t.target.remove(),g())},_=[HTMLUnknownElement,HTMLAudioElement,HTMLEmbedElement,HTMLIFrameElement,HTMLTextAreaElement,HTMLInputElement,HTMLScriptElement],A=["width","height","align","border","src","tabindex"],T=["color","font-weight","font-size","background","background-color","margin"],C=function(e){if(e.attributes&&e.attributes.length){var t=null,n=e.getAttribute("style");if(n){t=[];for(var r=n.split(";"),s=0;s<r.length;s++){var a=r[s].trim().split(":");if(T.indexOf(a[0].trim())>=0){var o=a.shift();a=a.join(":"),t.push(o+":"+a)}}}"IMG"==e.tagName.toUpperCase()&&(i.options.acceptImages&&e.src?(e.setAttribute("tabindex","900"),i.addImage(e.src)):e.parentNode.removeChild(e));var l=[],c=e.attributes.length-1;if(c>0){for(var h=c;h>=0;h--)l.push(e.attributes[h].name);l.forEach((function(t){-1==A.indexOf(t)&&e.removeAttribute(t)}))}e.style="",t&&t.length&&e.setAttribute("style",t.join(";"))}if(e.children.length)for(h=0;h<e.children.length;h++)C(e.children[h]);_.indexOf(e.constructor)>=0&&e.remove()},M=function(e){e&&(e=e.replace(new RegExp("\x3c!--(.*?)--\x3e","gsi"),""));var t=(new DOMParser).parseFromString(e,"text/html");C(t);var n=document.createElement("span");return n.innerHTML=t.firstChild.innerHTML,n},E=function(e){if(1==i.options.filterPaste){if(e.clipboardData||e.originalEvent.clipboardData)var t=(e.originalEvent||e).clipboardData.getData("text/html"),n=(e.originalEvent||e).clipboardData.getData("text/plain"),r=(e.originalEvent||e).clipboardData.files;else window.clipboardData&&(t=window.clipboardData.getData("Html"),n=window.clipboardData.getData("Text"),r=window.clipboardData.files);if(r.length)i.addFile(r);else if(t){var s=M(t);document.execCommand("insertHtml",!1,s.innerHTML)}else t=n.split("\r\n"),e.target.innerText?(t=t.map((function(e){return"<div>"+e+"</div>"})),document.execCommand("insertHtml",!1,t.join(""))):t.map((function(e){var t=document.createElement("div");t.innerText=e,d.appendChild(t)}));e.preventDefault()}},j=function(e){o&&o.e&&e.preventDefault()},R=function(t){o||0==i.options.dropZone||(e.classList.add("jeditor-dragging"),t.preventDefault())},P=function(t){o||0==i.options.dropZone||(a&&clearTimeout(a),a=setTimeout((function(){e.classList.remove("jeditor-dragging")}),100),t.preventDefault())},L=function(t){if(o||0==i.options.dropZone);else{var n=null;document.caretRangeFromPoint?n=document.caretRangeFromPoint(t.clientX,t.clientY):t.rangeParent&&(n=document.createRange()).setStart(t.rangeParent,t.rangeOffset);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),r.anchorNode.parentNode.focus();var s=(t.originalEvent||t).dataTransfer.getData("text/html"),a=(t.originalEvent||t).dataTransfer.getData("text/plain"),l=(t.originalEvent||t).dataTransfer.files;l.length?i.addFile(l):a&&m(s),e.classList.remove("jeditor-dragging"),t.preventDefault()}},I=function(t){"function"==typeof i.options.onblur&&i.options.onblur(e,i,t),u(t)},N=function(t){"function"==typeof i.options.onfocus&&i.options.onfocus(e,i,t)};return d.addEventListener("mouseup",x),d.addEventListener("mousedown",w),d.addEventListener("mousemove",O),d.addEventListener("keyup",S),d.addEventListener("keydown",k),d.addEventListener("dragstart",j),d.addEventListener("dragenter",R),d.addEventListener("dragover",P),d.addEventListener("drop",L),d.addEventListener("paste",E),d.addEventListener("focus",N),d.addEventListener("blur",I),"function"==typeof i.options.onload&&i.options.onload(e,i,d),d.innerHTML=p,e.appendChild(d),i.options.snippet&&y(i.options.snippet),null==i.options.toolbar&&(i.options.toolbar=n.editor.getDefaultToolbar()),i.options.toolbar&&(e.appendChild(h),n.toolbar(h,{container:!0,responsive:!0,items:i.options.toolbar})),i.options.focus&&n.editor.setCursor(d,"initial"==i.options.focus),e.change=i.setData,e.val=function(t){if(void 0===t){var n="true"!==e.getAttribute("data-html");return i.getData(n)}i.setData(t)},e.editor=i,i},n.editor.setCursor=function(e,t){e.focus(),document.execCommand("selectAll");var n=window.getSelection(),i=n.getRangeAt(0);if(1==t)var r=i.startContainer,s=0;else s=(r=i.endContainer).length;i.setStart(r,s),i.setEnd(r,s),n.removeAllRanges(),n.addRange(i)},n.editor.getDomain=function(e){return e.replace("http://","").replace("https://","").replace("www.","").split(/[/?#]/)[0].split(/:/g)[0]},n.editor.detectUrl=function(e){var t=/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi,n=e.match(t);return n&&"www"==n[0].substr(0,3)&&(n[0]="http://"+n[0]),n},n.editor.youtubeParser=function(e){var t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,n=e.match(t);return!(!n||11!=n[7].length)&&n[7]},n.editor.getDefaultToolbar=function(){return[{content:"undo",onclick:function(){document.execCommand("undo")}},{content:"redo",onclick:function(){document.execCommand("redo")}},{type:"divisor"},{content:"format_bold",onclick:function(e,t,n){document.execCommand("bold"),document.queryCommandState("bold")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_italic",onclick:function(e,t,n){document.execCommand("italic"),document.queryCommandState("italic")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_underline",onclick:function(e,t,n){document.execCommand("underline"),document.queryCommandState("underline")?n.classList.add("selected"):n.classList.remove("selected")}},{type:"divisor"},{content:"format_list_bulleted",onclick:function(e,t,n){document.execCommand("insertUnorderedList"),document.queryCommandState("insertUnorderedList")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_list_numbered",onclick:function(e,t,n){document.execCommand("insertOrderedList"),document.queryCommandState("insertOrderedList")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_indent_increase",onclick:function(e,t,n){document.execCommand("indent",!0,null),document.queryCommandState("indent")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_indent_decrease",onclick:function(){document.execCommand("outdent"),document.queryCommandState("outdent")?this.classList.add("selected"):this.classList.remove("selected")}}]},n.form=function(e,t){var i={options:{}},r={url:null,message:"Are you sure? There are unsaved information in your form",ignore:!1,currentHash:null,submitButton:null,validations:null,onbeforeload:null,onload:null,onbeforesave:null,onsave:null,onbeforeremove:null,onremove:null,onerror:function(e,t){n.alert(t)}};for(var s in r)t&&t.hasOwnProperty(s)?i.options[s]=t[s]:i.options[s]=r[s];i.options.validations||(i.options.validations={}),i.options.submitButton||(i.options.submitButton=e.querySelector("input[type=submit]")),i.options.submitButton&&i.options.url&&(i.options.submitButton.onclick=function(){i.save()}),i.options.validations.email||(i.options.validations.email=n.validations.email),i.options.validations.length||(i.options.validations.length=n.validations.length),i.options.validations.required||(i.options.validations.required=n.validations.required),i.setUrl=function(e){i.options.url=e},i.load=function(){n.ajax({url:i.options.url,method:"GET",dataType:"json",queue:!0,success:function(t){if("function"==typeof i.options.onbeforeload){var r=i.options.onbeforeload(e,t);r&&(t=r)}n.form.setElements(e,t),"function"==typeof i.options.onload&&i.options.onload(e,t)}})},i.save=function(){var t=i.validate();if(t)i.options.onerror(e,t);else{var r=n.form.getElements(e,!0);if("function"==typeof i.options.onbeforesave&&!1===(r=i.options.onbeforesave(e,r)))return;n.ajax({url:i.options.url,method:"POST",dataType:"json",data:r,success:function(t){"function"==typeof i.options.onsave&&i.options.onsave(e,r,t)}})}},i.remove=function(){if("function"==typeof i.options.onbeforeremove&&!1===i.options.onbeforeremove(e,i))return!1;n.ajax({url:i.options.url,method:"DELETE",dataType:"json",success:function(t){"function"==typeof i.options.onremove&&i.options.onremove(e,i,t),i.reset()}})};var a=function(e){e.classList.add("error"),i.options.submitButton&&i.options.submitButton.setAttribute("disabled",!0);var t=e.getAttribute("data-error")||"There is an error in the form";return e.setAttribute("title",t),t},o=function(t){var n=!1;t.classList.remove("error"),t.removeAttribute("title");for(var r=e.querySelectorAll("input, select, textarea, div[name]"),s=0;s<r.length;s++)r[s].getAttribute("data-validation")&&r[s].classList.contains("error")&&(n=!0);i.options.submitButton&&(n?i.options.submitButton.setAttribute("disabled",!0):i.options.submitButton.removeAttribute("disabled"))};return i.validateElement=function(e){var t=!1,r=n.form.getValue(e),s=e.getAttribute("data-validation");return"function"!=typeof i.options.validations[s]||i.options.validations[s](r,e)?e.classList.contains("error")&&o(e):t=a(e),t},i.reset=function(){for(var t=e.querySelectorAll("input, select, textarea, div[name]"),n=0;n<t.length;n++)t[n].getAttribute("name")&&("checkbox"==t[n].type||"radio"==t[n].type?t[n].checked=!1:"function"==typeof t[n].val?t[n].val(""):t[n].value="")},i.validate=function(){for(var t=[],n=e.querySelectorAll("input, select, textarea, div[name]"),r=0;r<n.length;r++)if(n[r].getAttribute("data-validation")){var s=i.validateElement(n[r]);s&&t.push(s)}return t.length>0&&t.join("<br>")},i.getError=function(){return!!i.validation()},i.setHash=function(){return i.getHash(n.form.getElements(e))},i.getHash=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},i.isChanged=function(){var e=i.setHash();return i.options.currentHash!=e},i.resetTracker=function(){i.options.currentHash=i.setHash(),i.options.ignore=!1},i.setIgnore=function(e){i.options.ignore=!!e},setTimeout((function(){i.options.currentHash=i.setHash()}),1e3),e.addEventListener("keyup",(function(e){e.target.getAttribute("data-validation")&&i.validateElement(e.target)})),n.form.hasEvents||(window.addEventListener("beforeunload",(function(e){if(i.isChanged()&&0==i.options.ignore){var t=i.options.message?i.options.message:"o/";return t?(void 0===e&&(e=window.event),e&&(e.returnValue=t),t):void 0}})),n.form.hasEvents=!0),e.form=i,i},n.form.getValue=function(e){var t=null;if("checkbox"==e.type)1==e.checked&&(t=e.value||!0);else if("radio"==e.type)1==e.checked&&(t=e.value);else if("file"==e.type)t=e.files;else if("select"==e.tagName&&1==e.multiple){t=[];for(var n=e.querySelectorAll("options[selected]"),i=0;i<n.length;i++)t.push(n[i].value)}else t="function"==typeof e.val?e.val():e.value||"";return t},n.form.getElements=function(e,t){for(var i={},r=null,s=e.querySelectorAll("input, select, textarea, div[name]"),a=0;a<s.length;a++)(r=s[a].getAttribute("name"))&&(i[r]=n.form.getValue(s[a])||"");return 1==t?i:JSON.stringify(i)},n.form.setElements=function(e,t){for(var i=null,r=null,s=e.querySelectorAll("input, select, textarea, div[name]"),a=0;a<s.length;a++){var o=s[a].getAttribute("type");if(i=s[a].getAttribute("name")){if(r=null,(i=i.replace(new RegExp(/\[(.*?)\]/gi),".$1")).match(/\./)){var l=n.path.call(t,i)||"";void 0!==l&&(r=l)}else void 0!==t[i]&&(r=t[i]);null!==r&&("checkbox"==o||"radio"==o?s[a].checked=!!r:"file"==o||("function"==typeof s[a].val?s[a].val(r):s[a].value=r))}}},n.tracker=n.form,n.focus=function(e){if(e.innerText.length){var t=document.createRange(),n=window.getSelection(),i=e.childNodes[e.childNodes.length-1];t.setStart(i,i.length),t.collapse(!0),n.removeAllRanges(),n.addRange(t),e.scrollLeft=e.scrollWidth}},n.isNumeric=function(e){return!isNaN(e)&&null!==e&&""!==e},n.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},n.getNode=function(){var e=document.getSelection().anchorNode;return e?3==e.nodeType?e.parentNode:e:null},n.hash=function(e){var t,n,i=0;if(0===e.length)return i;for(t=0;t<e.length;t++)(n=e.charCodeAt(t))>32&&(i=(i<<5)-i+n,i|=0);return i},n.randomColor=function(e){var t=-.25,i=String("#"+Math.random().toString(16).slice(2,8).toUpperCase()).replace(/[^0-9a-f]/gi,"");i.length<6&&(i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]);var r,s,a=[];for(s=0;s<3;s++)r=parseInt(i.substr(2*s,2),16),r=Math.round(Math.min(Math.max(0,r+r*t),255)).toString(16),a.push(("00"+r).substr(r.length));return 1==e?"#"+n.two(a[0].toString(16))+n.two(a[1].toString(16))+n.two(a[2].toString(16)):a},n.getWindowWidth=function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0];return e.innerWidth||n.clientWidth||i.clientWidth},n.getWindowHeight=function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0];return e.innerHeight||n.clientHeight||i.clientHeight},n.getPosition=function(e){if(e.changedTouches&&e.changedTouches[0])var t=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY;else t=window.Event?e.pageX:e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),n=window.Event?e.pageY:e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);return[t,n]},n.click=function(e){if(e.click)e.click();else{var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)}},n.findElement=function(e,t){var n=!1;function i(e){e&&!n&&("function"==typeof t?n=t(e):"string"==typeof t&&e.classList&&e.classList.contains(t)&&(n=e)),e.parentNode&&!n&&i(e.parentNode)}return i(e),n},n.two=function(e){return 1==(e=""+e).length&&(e="0"+e),e},n.sha512=function(e){function t(e,t){this.highOrder=e,this.lowOrder=t}var n,i,r,s,a,o,l,c,h,d,p=[new t(1779033703,4089235720),new t(3144134277,2227873595),new t(1013904242,4271175723),new t(2773480762,1595750129),new t(1359893119,2917565137),new t(2600822924,725511199),new t(528734635,4215389547),new t(1541459225,327033209)],u=[new t(1116352408,3609767458),new t(1899447441,602891725),new t(3049323471,3964484399),new t(3921009573,2173295548),new t(961987163,4081628472),new t(1508970993,3053834265),new t(2453635748,2937671579),new t(2870763221,3664609560),new t(3624381080,2734883394),new t(310598401,1164996542),new t(607225278,1323610764),new t(1426881987,3590304994),new t(1925078388,4068182383),new t(2162078206,991336113),new t(2614888103,633803317),new t(3248222580,3479774868),new t(3835390401,2666613458),new t(4022224774,944711139),new t(264347078,2341262773),new t(604807628,2007800933),new t(770255983,1495990901),new t(1249150122,1856431235),new t(1555081692,3175218132),new t(1996064986,2198950837),new t(2554220882,3999719339),new t(2821834349,766784016),new t(2952996808,2566594879),new t(3210313671,3203337956),new t(3336571891,1034457026),new t(3584528711,2466948901),new t(113926993,3758326383),new t(338241895,168717936),new t(666307205,1188179964),new t(773529912,1546045734),new t(1294757372,1522805485),new t(1396182291,2643833823),new t(1695183700,2343527390),new t(1986661051,1014477480),new t(2177026350,1206759142),new t(2456956037,344077627),new t(2730485921,1290863460),new t(2820302411,3158454273),new t(3259730800,3505952657),new t(3345764771,106217008),new t(3516065817,3606008344),new t(3600352804,1432725776),new t(4094571909,1467031594),new t(275423344,851169720),new t(430227734,3100823752),new t(506948616,1363258195),new t(659060556,3750685593),new t(883997877,3785050280),new t(958139571,3318307427),new t(1322822218,3812723403),new t(1537002063,2003034995),new t(1747873779,3602036899),new t(1955562222,1575990012),new t(2024104815,1125592928),new t(2227730452,2716904306),new t(2361852424,442776044),new t(2428436474,593698344),new t(2756734187,3733110249),new t(3204031479,2999351573),new t(3329325298,3815920427),new t(3391569614,3928383900),new t(3515267271,566280711),new t(3940187606,3454069534),new t(4118630271,4000239992),new t(116418474,1914138554),new t(174292421,2731055270),new t(289380356,3203993006),new t(460393269,320620315),new t(685471733,587496836),new t(852142971,1086792851),new t(1017036298,365543100),new t(1126000580,2618297676),new t(1288033470,3409855158),new t(1501505948,4234509866),new t(1607167915,987167468),new t(1816402316,1246189591)],m=new Array(64),f=8;function g(e){return unescape(encodeURIComponent(e))}function b(e){for(var t=[],n=(1<<f)-1,i=e.length*f,r=0;r<i;r+=f)t[r>>5]|=(e.charCodeAt(r/f)&n)<<32-f-r%32;return t}function y(e){for(var t,n="0123456789abcdef",i="",r=4*e.length,s=0;s<r;s+=1)t=e[s>>2]>>8*(3-s%4),i+=n.charAt(t>>4&15)+n.charAt(15&t);return i}function v(e,n){var i,r,s;return i=(65535&e.lowOrder)+(65535&n.lowOrder),s=(65535&(r=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(i>>>16)))<<16|65535&i,i=(65535&e.highOrder)+(65535&n.highOrder)+(r>>>16),new t((65535&(r=(e.highOrder>>>16)+(n.highOrder>>>16)+(i>>>16)))<<16|65535&i,s)}function x(e,n,i,r){var s,a,o;return s=(65535&e.lowOrder)+(65535&n.lowOrder)+(65535&i.lowOrder)+(65535&r.lowOrder),o=(65535&(a=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(i.lowOrder>>>16)+(r.lowOrder>>>16)+(s>>>16)))<<16|65535&s,s=(65535&e.highOrder)+(65535&n.highOrder)+(65535&i.highOrder)+(65535&r.highOrder)+(a>>>16),new t((65535&(a=(e.highOrder>>>16)+(n.highOrder>>>16)+(i.highOrder>>>16)+(r.highOrder>>>16)+(s>>>16)))<<16|65535&s,o)}function w(e,n,i,r,s){var a,o,l;return a=(65535&e.lowOrder)+(65535&n.lowOrder)+(65535&i.lowOrder)+(65535&r.lowOrder)+(65535&s.lowOrder),l=(65535&(o=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(i.lowOrder>>>16)+(r.lowOrder>>>16)+(s.lowOrder>>>16)+(a>>>16)))<<16|65535&a,a=(65535&e.highOrder)+(65535&n.highOrder)+(65535&i.highOrder)+(65535&r.highOrder)+(65535&s.highOrder)+(o>>>16),new t((65535&(o=(e.highOrder>>>16)+(n.highOrder>>>16)+(i.highOrder>>>16)+(r.highOrder>>>16)+(s.highOrder>>>16)+(a>>>16)))<<16|65535&a,l)}function O(e,n,i){return new t(e.highOrder&n.highOrder^e.highOrder&i.highOrder^n.highOrder&i.highOrder,e.lowOrder&n.lowOrder^e.lowOrder&i.lowOrder^n.lowOrder&i.lowOrder)}function S(e,n,i){return new t(e.highOrder&n.highOrder^~e.highOrder&i.highOrder,e.lowOrder&n.lowOrder^~e.lowOrder&i.lowOrder)}function k(e,n){return n<=32?new t(e.highOrder>>>n|e.lowOrder<<32-n,e.lowOrder>>>n|e.highOrder<<32-n):new t(e.lowOrder>>>n|e.highOrder<<32-n,e.highOrder>>>n|e.lowOrder<<32-n)}function _(e){var n=k(e,28),i=k(e,34),r=k(e,39);return new t(n.highOrder^i.highOrder^r.highOrder,n.lowOrder^i.lowOrder^r.lowOrder)}function A(e){var n=k(e,14),i=k(e,18),r=k(e,41);return new t(n.highOrder^i.highOrder^r.highOrder,n.lowOrder^i.lowOrder^r.lowOrder)}function T(e){var n=k(e,1),i=k(e,8),r=M(e,7);return new t(n.highOrder^i.highOrder^r.highOrder,n.lowOrder^i.lowOrder^r.lowOrder)}function C(e){var n=k(e,19),i=k(e,61),r=M(e,6);return new t(n.highOrder^i.highOrder^r.highOrder,n.lowOrder^i.lowOrder^r.lowOrder)}function M(e,n){return n<=32?new t(e.highOrder>>>n,e.lowOrder>>>n|e.highOrder<<32-n):new t(0,e.highOrder<<32-n)}var E=(e=g(e)).length*f;(e=b(e))[E>>5]|=128<<24-E%32,e[31+(E+128>>10<<5)]=E;for(var j=0;j<e.length;j+=32){n=p[0],i=p[1],r=p[2],s=p[3],a=p[4],o=p[5],l=p[6],c=p[7];for(var R=0;R<80;R++)m[R]=R<16?new t(e[2*R+j],e[2*R+j+1]):x(C(m[R-2]),m[R-7],T(m[R-15]),m[R-16]),h=w(c,A(a),S(a,o,l),u[R],m[R]),d=v(_(n),O(n,i,r)),c=l,l=o,o=a,a=v(s,h),s=r,r=i,i=n,n=v(h,d);p[0]=v(n,p[0]),p[1]=v(i,p[1]),p[2]=v(r,p[2]),p[3]=v(s,p[3]),p[4]=v(a,p[4]),p[5]=v(o,p[5]),p[6]=v(l,p[6]),p[7]=v(c,p[7])}var P=[];for(j=0;j<p.length;j++)P.push(p[j].highOrder),P.push(p[j].lowOrder);return y(P)},n.login||(n.login={},n.login.sha512=n.sha512),n.image=n.upload=function(e,t){var i={options:{}},r={type:"image",extension:"*",input:!1,minWidth:!1,maxWidth:null,maxHeight:null,maxJpegSizeBytes:null,onchange:null,multiple:!1,remoteParser:null,text:{extensionNotAllowed:"The extension is not allowed"}};for(var s in r)t&&t.hasOwnProperty(s)?i.options[s]=t[s]:i.options[s]=r[s];1==i.options.multiple&&e.setAttribute("data-multiple",!0),e.content=[],e.classList.add("jupload"),1==i.options.input&&e.classList.add("input"),i.add=function(t){if(0==i.options.multiple&&(e.content=[],e.innerText=""),"image"==i.options.type){var r=document.createElement("img");r.setAttribute("src",t.file),r.setAttribute("tabindex",-1),e.getAttribute("name")||(r.className="jfile",r.content=t),e.appendChild(r)}else{if(t.name)var s=t.name;else s=t.file;var a=document.createElement("div");a.innerText=s||i.options.type,a.classList.add("jupload-item"),a.setAttribute("tabindex",-1),e.appendChild(a)}t.content&&(t.file=n.guid()),e.content.push(t),"function"==typeof i.options.onchange&&i.options.onchange(e,t)},i.addFromFile=function(e){if(e.type.split("/")[0]==i.options.type){var t=new FileReader;t.addEventListener("load",(function(t){var n={file:t.srcElement.result,extension:e.name.substr(e.name.lastIndexOf(".")+1),name:e.name,size:e.size,lastmodified:e.lastModified,content:t.srcElement.result};i.add(n)})),t.readAsDataURL(e)}else alert(i.options.text.extensionNotAllowed)},i.addFromUrl=function(e){if("data"==e.substr(0,4)||i.options.remoteParser)if("data"==e.substr(0,4))if((r=(r=e.split(";"))[0].split("/"))[0].replace("data:","")==i.options.type){var t={file:e,name:"",extension:r[1],content:e};i.add(t)}else alert(i.options.text.extensionNotAllowed);else{var r=e.substr(e.lastIndexOf(".")+1);e=i.options.remoteParser+e,n.ajax({url:e,type:"GET",dataType:"blob",success:function(e){}})}else console.error("remoteParser not defined in your initialization")};var a=i.options.type+"/"+i.options.extension,o=document.createElement("input");o.type="file",o.setAttribute("accept",a),o.onchange=function(){for(var e=0;e<this.files.length;e++)i.addFromFile(this.files[e])},1==i.options.multiple&&o.setAttribute("multiple",!0);var l=null;return e.addEventListener("click",(function(t){l=null,e.children.length&&t.target!==e?t.target.parentNode==e&&(l=t.target):n.click(o)})),e.addEventListener("dblclick",(function(e){n.click(o)})),e.addEventListener("dragenter",(function(t){e.style.border="1px dashed #000"})),e.addEventListener("dragleave",(function(t){e.style.border="1px solid #eee"})),e.addEventListener("dragstop",(function(t){e.style.border="1px solid #eee"})),e.addEventListener("dragover",(function(e){e.preventDefault()})),e.addEventListener("keydown",(function(t){if(l&&46==t.which){var n=Array.prototype.indexOf.call(e.children,l);n>=0&&(e.content.splice(n,1),l.remove(),l=null)}})),e.addEventListener("drop",(function(t){t.preventDefault(),t.stopPropagation();var n=(t.originalEvent||t).dataTransfer.getData("text/html");if((t.originalEvent||t).dataTransfer.files.length)for(var r=0;r<t.dataTransfer.files.length;r++)i.addFromFile(t.dataTransfer.files[r]);else if(n){0==i.options.multiple&&(e.innerText="");var s=document.createElement("div");s.innerHTML=n;var a=s.querySelectorAll("img");if(a.length)for(r=0;r<a.length;r++)i.addFromUrl(a[r].src)}return e.style.border="1px solid #eee",!1})),e.val=function(t){if(void 0===t)return e.content&&e.content.length?e.content:null;if(e.innerText="",e.content=[],t)if(Array.isArray(t))for(var n=0;n<t.length;n++)"string"==typeof t[n]?i.add({file:t[n]}):i.add(t[n]);else"string"==typeof t&&i.add({file:t})},e.upload=e.image=i,i},n.image.create=function(e){var t=document.createElement("img");return t.setAttribute("src",e.file),t.className="jfile",t.setAttribute("tabindex",-1),t.content=e,t},n.lazyLoading=function(e,t){var n={};t.loadUp&&"function"==typeof t.loadUp||(t.loadUp=function(){return!1}),t.loadDown&&"function"==typeof t.loadDown||(t.loadDown=function(){return!1}),t.timer||(t.timer=100);var i=null,r=function(n){if(null==i){var r=!1,s=e.scrollTop;e.scrollTop+2*e.clientHeight>=e.scrollHeight?t.loadDown()&&(s==e.scrollTop&&(e.scrollTop=e.scrollTop-e.clientHeight),r=!0):e.scrollTop<=e.clientHeight&&t.loadUp()&&(s==e.scrollTop&&(e.scrollTop=e.scrollTop+e.clientHeight),r=!0),i=setTimeout((function(){i=null}),t.timer),r&&"function"==typeof t.onupdate&&t.onupdate()}};return e.onscroll=function(e){r()},e.onwheel=function(e){r()},n},n.loading=function(){var e={},t=null;return e.show=function(){t||((t=document.createElement("div")).className="jloading"),document.body.appendChild(t)},e.hide=function(){t&&t.parentNode&&document.body.removeChild(t)},e}(),n.mask=function(){var e={currency:["#(.{1})##0?(.{1}0+)?( ?;(.*)?)?","#"],percentage:["0{1}(.{1}0+)?%"],numeric:["0{1}(.{1}0+)?"],datetime:["YYYY","YYY","YY","MMMMM","MMMM","MMM","MM","DDDDD","DDDD","DDD","DD","DY","DAY","WD","D","Q","HH24","HH12","HH","\\[H\\]","H","AM/PM","PM","AM","MI","SS","MS","MONTH","MON","Y","M"],general:["A","0","[0-9a-zA-Z$]+","."]},t=function(){if(-1!==this.mask.toLowerCase().indexOf("[h]")){var e=0;this.date[4]&&(e=parseFloat(this.date[4]/60));var t=parseInt(this.date[3])+e;t/=24}else this.date[0]&&this.date[1]&&this.date[2]||!this.date[3]&&!this.date[4]?(this.date[0]&&this.date[1]&&!this.date[2]&&(this.date[2]=1),t=n.two(this.date[0])+"-"+n.two(this.date[1])+"-"+n.two(this.date[2]),(this.date[3]||this.date[4]||this.date[5])&&(t+=" "+n.two(this.date[3])+":"+n.two(this.date[4])+":"+n.two(this.date[5]))):t=n.two(this.date[3])+":"+n.two(this.date[4])+":"+n.two(this.date[5]);return t},i=function(e){return null===e||""===e||void 0===e},r=function(e){return"="==(""+e).chartAt(0)},s=function(e){return"currency"===e||"percentage"===e||"numeric"===e},a=function(e){if(e&&Number(e)==e)return".";if(this.options.decimal)return this.options.decimal;if(this.locale){var t=Intl.NumberFormat(this.locale).format(1.1);return this.options.decimal=t[1]}return e||(e=this.mask),(t=new RegExp("0{1}(.{1})0+","ig").exec(e))&&t[1]&&1==t[1].length?(this.options.decimal=t[1],t[1]):((t=new RegExp("#{1}(.{1})#+","ig").exec(e))&&t[1]&&1==t[1].length?","===t[1]?this.options.decimal=".":this.options.decimal=",":this.options.decimal="1.1".toLocaleString().substring(1,2),this.options.decimal?this.options.decimal:null)},o=function(e,t){return""==e?"":(t||(t=a.call(this)),(e=(""+e).split(t))[0]=e[0].match(/[\-0-9]+/g,""),e[0]&&(e[0]=e[0].join("")),e[0]||e[1]?(void 0!==e[1]&&(e[1]=e[1].match(/[0-9]+/g,""),e[1]?e[1]=e[1].join(""):e[1]=""),e):"")},l=function(e){if(""==e)return"";var t=a.call(this),n=this.options;if(""==(e=o.call(this,e)))return"";if("-"===e[0]&&(e[0]="-0"),e[0]){var i=parseFloat(e[0]);"percent"==n.style&&(i/=100)}else i=null;var r=new Intl.NumberFormat(this.locale,n).format(i);if(void 0!==(r=r.split(t))[1]){var s=r[1].replace(/[0-9]*/g,"");s&&(r[2]=s)}return void 0!==e[1]?r[1]=t+e[1]:r[1]="",r.join("")},c=function(e){var t=p.call(e);if(t){a.call(this);var n=l.call(this,t),i=n.length-t.length,r=d.call(e)+i;p.call(e,n,r,!0)}},h=function(e){var t=o.call(this,e);return t?("-"===t[0]&&(t[0]="-0"),parseFloat(t.join("."))):null},d=function(e,t){if(void 0===e){if("DIV"==this.tagName){var n=0;return(o=window.getSelection())&&0!==o.rangeCount&&((r=(a=o.getRangeAt(0)).cloneRange()).selectNodeContents(this),r.setEnd(a.endContainer,a.endOffset),n=r.toString().length),n}return this.selectionStart}var i=p.call(this);if(t){for(var r=null,s=0;s<i.length;s++)(i[s].match(/[\-0-9]/g)||"."==i[s]||","==i[s])&&(r=s);null===r&&(r=i.indexOf(" ")),e>=r&&(e=r+1)}if(e>i.length&&(e=i.length),e)if("DIV"==this.tagName){var a,o=window.getSelection();(a=document.createRange()).setStart(this.childNodes[0],e),o.removeAllRanges(),o.addRange(a)}else this.selectionStart=e,this.selectionEnd=e},p=function(e,t,n){if("DIV"==this.tagName){if(void 0===e)return this.innerText;this.innerText!==e&&(this.innerText=e,t&&d.call(this,t,n))}else{if(void 0===e)return this.value;this.value!==e&&(this.value=e,t&&d.call(this,t,n))}},u=n.calendar.weekdays,m=n.calendar.weekdaysShort,f=n.calendar.months,g=n.calendar.monthsShort,b={YEAR:function(e,t){var n=""+(new Date).getFullYear();void 0===this.values[this.index]&&(this.values[this.index]=""),parseInt(e)>=0&&parseInt(e)<=10&&this.values[this.index].length<t&&(this.values[this.index]+=e),this.values[this.index].length==t&&(2==t?n=n.substr(0,2)+this.values[this.index]:3==t?n=n.substr(0,1)+this.values[this.index]:4==t&&(n=this.values[this.index]),this.date[0]=n,this.index++)},YYYY:function(e){b.YEAR.call(this,e,4)},YYY:function(e){b.YEAR.call(this,e,3)},YY:function(e){b.YEAR.call(this,e,2)},FIND:function(e,t){i(this.values[this.index])&&(this.values[this.index]="");for(var n=0,r=0,s=(this.values[this.index]+e).toLowerCase(),a=0;a<t.length;a++)0==t[a].toLowerCase().indexOf(s)&&(n=a,r++);if(r>1)this.values[this.index]+=e;else if(1==r){var o=t[n].length-this.values[this.index].length-1;return this.position+=o,this.values[this.index]=t[n],this.index++,n}},MMM:function(e){var t=b.FIND.call(this,e,g);void 0!==t&&(this.date[1]=t+1)},MMMM:function(e){var t=b.FIND.call(this,e,f);void 0!==t&&(this.date[1]=t+1)},MMMMM:function(e){i(this.values[this.index])&&(this.values[this.index]="");for(var t=(this.values[this.index]+e).toLowerCase(),n=0;n<f.length;n++)if(0==f[n][0].toLowerCase().indexOf(t)){this.values[this.index]=f[n][0],this.date[1]=n+1,this.index++;break}},MM:function(e){i(this.values[this.index])?parseInt(e)>1&&parseInt(e)<10?(this.date[1]=this.values[this.index]="0"+e,this.index++):parseInt(e)<2&&(this.values[this.index]=e):(1==this.values[this.index]&&parseInt(e)<3||0==this.values[this.index]&&parseInt(e)>0&&parseInt(e)<10)&&(this.date[1]=this.values[this.index]+=e,this.index++)},M:function(e){var t=!1;if(parseInt(e)>=0&&parseInt(e)<10?i(this.values[this.index])?(this.values[this.index]=e,e>1&&(this.date[1]=this.values[this.index],this.index++)):1==this.values[this.index]&&parseInt(e)<3||0==this.values[this.index]&&parseInt(e)>0?(this.date[1]=this.values[this.index]+=e,this.index++):t=!0:t=!0,1==t){var n=parseInt(this.values[this.index]);n>0&&n<12&&(this.date[2]=this.values[this.index],this.index++,this.position--)}},D:function(e){var t=!1;if(parseInt(e)>=0&&parseInt(e)<10?i(this.values[this.index])?(this.values[this.index]=e,parseInt(e)>3&&(this.date[2]=this.values[this.index],this.index++)):3==this.values[this.index]&&parseInt(e)<2||1==this.values[this.index]||2==this.values[this.index]||0==this.values[this.index]&&parseInt(e)>0?(this.date[2]=this.values[this.index]+=e,this.index++):t=!0:t=!0,1==t){var n=parseInt(this.values[this.index]);n>0&&n<32&&(this.date[2]=this.values[this.index],this.index++,this.position--)}},DD:function(e){i(this.values[this.index])?parseInt(e)>3&&parseInt(e)<10?(this.date[2]=this.values[this.index]="0"+e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):(3==this.values[this.index]&&parseInt(e)<2||(1==this.values[this.index]||2==this.values[this.index])&&parseInt(e)<10||0==this.values[this.index]&&parseInt(e)>0&&parseInt(e)<10)&&(this.date[2]=this.values[this.index]+=e,this.index++)},DDD:function(e){b.FIND.call(this,e,m)},DDDD:function(e){b.FIND.call(this,e,u)},HH12:function(e,t){i(this.values[this.index])?parseInt(e)>1&&parseInt(e)<10?(t&&(e=0+e),this.date[3]=this.values[this.index]=e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):(1==this.values[this.index]&&parseInt(e)<3||this.values[this.index]<1&&parseInt(e)<10)&&(this.date[3]=this.values[this.index]+=e,this.index++)},HH24:function(e,t){parseInt(e)>=0&&parseInt(e)<10&&(null==this.values[this.index]||""==this.values[this.index]?parseInt(e)>2&&parseInt(e)<10?(t&&(e=0+e),this.date[3]=this.values[this.index]=e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):(2==this.values[this.index]&&parseInt(e)<4||this.values[this.index]<2&&parseInt(e)<10)&&(this.date[3]=this.values[this.index]+=e,this.index++))},HH:function(e){b.HH24.call(this,e,1)},H:function(e){b.HH24.call(this,e,0)},"\\[H\\]":function(e){null==this.values[this.index]&&(this.values[this.index]=""),e.match(/[0-9]/g)?this.date[3]=this.values[this.index]+=e:this.values[this.index].match(/[0-9]/g)&&(this.date[3]=this.values[this.index],this.index++,this.position--)},N60:function(e,t){null==this.values[this.index]||""==this.values[this.index]?parseInt(e)>5&&parseInt(e)<10?(this.date[t]=this.values[this.index]="0"+e,this.index++):parseInt(e)<10&&(this.values[this.index]=e):parseInt(e)<10&&(this.date[t]=this.values[this.index]+=e,this.index++)},MI:function(e){b.N60.call(this,e,4)},SS:function(e){b.N60.call(this,e,5)},"AM/PM":function(e){this.values[this.index]="",e&&(this.date[3]>12?this.values[this.index]="PM":this.values[this.index]="AM"),this.index++},WD:function(e){void 0===this.values[this.index]&&(this.values[this.index]=""),parseInt(e)>=0&&parseInt(e)<7&&(this.values[this.index]=e),1==this.value[this.index].length&&this.index++},"0{1}(.{1}0+)?":function(e){var t=a.call(this),n=!1;i(this.values[this.index])?this.values[this.index]="":"-"==this.values[this.index]&&(n=!0);var r=o.call(this,this.values[this.index],t);r&&(this.values[this.index]=r.join(t)),parseInt(e)>=0&&parseInt(e)<10?"0"==this.values[this.index]&&e!=t||(this.values[this.index]+=e):t&&e==t?-1==this.values[this.index].indexOf(t)&&(this.values[this.index]||(this.values[this.index]="0"),this.values[this.index]+=e):"-"==e&&(n=!0),!0===n&&"-"!==this.values[this.index][0]&&(this.values[this.index]="-"+this.values[this.index])},"0{1}(.{1}0+)?%":function(e){b["0{1}(.{1}0+)?"].call(this,e),this.values[this.index].match(/[\-0-9]/g)?this.values[this.index]&&-1==this.values[this.index].indexOf("%")&&(this.values[this.index]+="%"):this.values[this.index]=""},"#(.{1})##0?(.{1}0+)?( ?;(.*)?)?":function(e){b["0{1}(.{1}0+)?"].call(this,e);var t=a.call(this),n=this.tokens[this.index].substr(1,1),i="-"===this.values[this.index][0],r=o.call(this,this.values[this.index],t);if(""!==r){var s=r[0].match(/[0-9]/g);if(s){for(var l=[],c=0,h=(s=s.join("")).length-1;h>=0;h--)l.push(s[h]),++c%3||l.push(n);l=l.reverse(),r[0]=l.join(""),r[0].substr(0,1)==n&&(r[0]=r[0].substr(1))}else r[0]="";this.values[this.index]=r.join(t),i&&(this.values[this.index]="-"+this.values[this.index])}},0:function(e){e.match(/[0-9]/g)&&(this.values[this.index]=e,this.index++)},"[0-9a-zA-Z$]+":function(e){i(this.values[this.index])&&(this.values[this.index]="");var t=this.tokens[this.index];t[this.values[this.index].length]==e?(this.values[this.index]+=e,this.values[this.index]==t&&this.index++):(this.values[this.index]=t,this.index++,e.match(/[\-0-9]/g)&&this.position--)},A:function(e){e.match(/[a-zA-Z]/gi)&&(this.values[this.index]=e,this.index++)},".":function(e){b["[0-9a-zA-Z$]+"].call(this,e)}},y=function(t){if("general"==this.type)var n=[].concat(e.general);else n=[].concat(e.currency,e.datetime,e.percentage,e.numeric,e.general);var i=new RegExp(n.join("|"),"gi");return t.match(i)},v=function(t){if(this.type)n="general"==this.type?["general"]:"datetime"==this.type?["numeric","datetime","general"]:["currency","percentage","numeric","general"];else var n=Object.keys(e);for(var i=0;i<n.length;i++)for(var r=n[i],s=0;s<e[r].length;s++){var a=new RegExp(e[r][s],"gi");if(t.match(a))return{type:r,method:e[r][s]}}},x=function(e){for(var t=[],n=0;n<e.length;n++){var i=v.call(this,e[n]);i?t.push(i.method):t.push(null)}for(n=0;n<t.length;n++)"MM"==t[n]&&(t[n-1]&&t[n-1].indexOf("H")>=0||t[n-2]&&t[n-2].indexOf("H")>=0||t[n+1]&&t[n+1].indexOf("S")>=0||t[n+2]&&t[n+2].indexOf("S")>=0)&&(t[n]="MI");return t},w=function(e){var t=v.call(this,e);if(t)var n=t.type;if(n){for(var i=0,r=y.call(this,e),a=0;a<r.length;a++)(t=v.call(this,r[a]))&&s(t.type)&&i++;i>1&&(n="general")}return n},O=function(){"function"==typeof b[this.methods[this.index]]?(b[this.methods[this.index]].call(this,this.value[this.position]),this.position++):(this.values[this.index]=this.tokens[this.index],this.index++)},S=(r=function(e){return"="==(""+e)[0]},function(e){return(""+ +e).replace(/(-?)(\d*)\.?(\d*)e([+-]\d+)/,(function(e,t,n,i,r){return r<0?t+"0."+Array(1-r-n.length).join(0)+n+i:t+n+i+Array(r-i.length+1).join(0)}))}),k=function(e,i,o){var u=null,m={input:null,value:null,options:{},values:[],index:0,position:0,date:[0,0,0,0,0,0],number:0};if("object"==typeof e){if(m.input=e.target,m.value=p.call(e.target),m.caret=d.call(e.target),(u=e.target.getAttribute("data-mask"))&&(m.mask=u),(u=e.target.getAttribute("data-type"))&&(m.type=u),e.target.mask?(e.target.mask.options&&(m.options=e.target.mask.options),e.target.mask.locale&&(m.locale=e.target.mask.locale)):(u=e.target.getAttribute("data-locale"))&&(m.locale=u,m.mask&&(m.options.style=m.mask)),e.target.attributes&&e.target.attributes.length)for(var f=0;f<e.target.attributes.length;f++){var g=e.target.attributes[f].name,b=e.target.attributes[f].value;"data"==g.substr(0,4)&&(m.options[g.substr(5)]=b)}}else{if("string"==typeof i)m.mask=i;else for(g=Object.keys(i),f=0;f<g.length;f++)m[g[f]]=i[g[f]];"number"==typeof e&&(a.call(m,m.mask),e=(""+e).replace(".",m.options.decimal)),m.value=e,m.input&&(p.call(m.input,e),n.focus(m.input),m.caret=d.call(m.input))}if(!r(m.value)&&(m.mask||m.locale)){if(m.mask){if(m.mask=m.mask.replace("[-]",""),-1!==m.mask.indexOf("##")){var S=m.mask.split(";");S[0]&&(S[0]=S[0].replace("*",""),S[0]=S[0].replace(/_/g,""),S[0]=S[0].replace(/-/g,""),S[0]=S[0].replace("(",""),S[0]=S[0].replace(")",""),S[0]=S[0].replace("##0.###","##0.000"),S[0]=S[0].replace("##0.##","##0.00"),S[0]=S[0].replace("##0.#","##0.0")),m.mask=S[0]}m.type||(m.type=w.call(m,m.mask)),m.tokens=y.call(m,m.mask)}if("object"!=typeof e||!e.inputType||!e.inputType.indexOf("insert")||!e.inputType.indexOf("delete"))if(m.locale)if(m.input)c.call(m,m.input);else var k=l.call(m,m.value);else{for(m.methods=x.call(m,m.tokens);m.position<m.value.length&&void 0!==m.tokens[m.index];)O.call(m);if(s(m.type)){for(;void 0!==m.tokens[m.index];)(u=v.call(m,m.tokens[m.index]))&&"general"==u.type&&(m.values[m.index]=m.tokens[m.index]),m.index++;var _=!0}else _=!1;if(k=m.values.join(""),m.input){if((u=k.length-m.value.length)>0)var A=m.caret+u;else A=m.caret;p.call(m.input,k,A,_)}}if(m.input){var T=null;s(m.type)?(m.number=h.call(m,p.call(m.input)),T="percentage"==m.type?m.number/100:m.number):"datetime"==m.type&&(T=t.call(m),m.date[0]&&m.date[1]&&m.date[2]&&m.input.setAttribute("data-completed",!0)),T&&m.input.setAttribute("data-value",T)}if(void 0!==k)return o?m:k}};return k.prepare=function(e,t){return t||(t={}),y.call(t,e)},k.apply=function(e){var t=p.call(e.target);1==e.key.length&&(t+=e.key),p.call(e.target,k(t,e.target.getAttribute("data-mask")))},k.run=function(e,t,n){return k(e,{mask:t,decimal:n})},k.extract=function(e,r,s){if(i(e))return e;if("object"!=typeof r)return d;r.options||(r.options={}),!r.mask&&r.format&&(r.mask=r.format),a.call(r,r.mask);var o=null;if("percent"==r.type||"percent"==r.options.style?o="percentage":r.mask&&(o=w.call(r,r.mask)),"datetime"===o){if(e instanceof Date)var l=n.calendar.getDateString(d,r.mask);var c=k(e,r,!0),d=t.call(c);c.date[0]&&c.date[1]&&c.date[2]&&!(c.date[3]||c.date[4]||c.date[5])&&(l=n.calendar.now(c.date),d=n.calendar.dateToNum(l))}else d=h.call(r,e),"percentage"==o&&(d/=100),c=r;return c.value=d,s?c:d},k.render=function(e,t,r){if(i(e))return e;if("object"!=typeof t)return e;t.options||(t.options={}),!t.mask&&t.format&&(t.mask=t.format);var s=null;"percent"==t.type||"percent"==t.options.style?s="percentage":t.mask?s=w.call(t,t.mask):e instanceof Date&&(s="datetime");var o=!1;if("datetime"==s||"calendar"==t.type)(l=n.calendar.getDateString(e,t.mask))&&(e=l),t.mask&&r&&(o=!0);else if("percentage"==s&&(e*=100),"number"==typeof e){var l=null;if(t.mask&&r){var c=new RegExp("0{1}(.{1})0+","ig");(h=t.mask.match(c))&&h[0]?(h=h[0].length-2,l=e.toFixed(h)):l=e.toFixed(0)}else if(t.locale&&r){var h=(""+e).split(".");if(t.options){void 0===h[1]&&(h[1]="");var d=h[1].length;if(t.options.minimumFractionDigits>d)for(var p=0;p<t.options.minimumFractionDigits-d;p++)h[1]+="0"}l=h[1].length?h.join("."):h[0],d=h[1].length,t.options&&t.options.maximumFractionDigits<d&&(l=parseFloat(l).toFixed(t.options.maximumFractionDigits))}else l=S(e);null!==l&&(e=l,a.call(t,t.mask),t.options.decimal&&(e=e.replace(".",t.options.decimal)))}else t.mask&&r&&(o=!0);if(o){var u=t.mask.length-e.length;if(u>0)for(p=0;p<u;p++)e+=" "}return e=k(e,t)},k.set=function(e,t){if(t){e.setAttribute("data-mask",t);var n=new Event("input",{bubbles:!0,cancelable:!0});e.dispatchEvent(n)}},"undefined"!=typeof document&&document.addEventListener("input",(function(e){(e.target.getAttribute("data-mask")||e.target.mask)&&k(e)})),k}(),n.modal=function(e,t){var i={options:{}},r={url:null,onopen:null,onclose:null,closed:!1,width:null,height:null,title:null,padding:null,backdrop:!0};for(var s in r)t&&t.hasOwnProperty(s)?i.options[s]=t[s]:i.options[s]=r[s];!i.options.title&&e.getAttribute("title")&&(i.options.title=e.getAttribute("title"));for(var a=document.createElement("div");e.children[0];)a.appendChild(e.children[0]);for(i.content=document.createElement("div"),i.content.className="jmodal_content",i.content.innerHTML=e.innerHTML;a.children[0];)i.content.appendChild(a.children[0]);if(i.container=document.createElement("div"),i.container.className="jmodal",i.container.appendChild(i.content),i.options.padding&&(i.content.style.padding=i.options.padding),i.options.width&&(i.container.style.width=i.options.width),i.options.height&&(i.container.style.height=i.options.height),i.options.title?i.container.setAttribute("title",i.options.title):i.container.classList.add("no-title"),e.innerHTML="",e.style.display="none",e.appendChild(i.container),i.options.backdrop){var o=document.createElement("div");o.className="jmodal_backdrop",o.onclick=function(){i.close()},e.appendChild(o)}if(i.open=function(){e.style.display="block";var t=i.container.getBoundingClientRect();n.getWindowWidth()<t.width?(i.container.style.top="",i.container.style.left="",i.container.classList.add("jmodal_fullscreen"),n.animation.slideBottom(i.container,1)):i.options.backdrop&&(o.style.display="block"),"function"==typeof i.options.onopen&&i.options.onopen(e,i)},i.resetPosition=function(){i.container.style.top="",i.container.style.left=""},i.isOpen=function(){return"none"!=e.style.display},i.close=function(){i.isOpen()&&(e.style.display="none",i.options.backdrop&&(o.style.display=""),i.container.classList.remove("jmodal_fullscreen"),"function"==typeof i.options.onclose&&i.options.onclose(e,i))},!n.modal.hasEvents){var l=null;document.addEventListener("keydown",(function(e){if(27==e.which)for(var t=document.querySelectorAll(".jmodal"),n=0;n<t.length;n++)t[n].parentNode.modal.close()})),document.addEventListener("mouseup",(function(e){l&&(l.element.style.cursor="auto",l=null)})),document.addEventListener("mousedown",(function(e){var t=n.findElement(e.target,"jmodal");if(t){var i=t.getBoundingClientRect();if(e.changedTouches&&e.changedTouches[0])var r=e.changedTouches[0].clientX,s=e.changedTouches[0].clientY;else r=e.clientX,s=e.clientY;i.width-(r-i.left)<50&&s-i.top<50?t.parentNode.modal.close():e.target.getAttribute("title")&&s-i.top<50&&(document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),l={left:i.left,top:i.top,x:e.clientX,y:e.clientY,width:i.width,height:i.height,element:t})}})),document.addEventListener("mousemove",(function(e){if(l){if((e=e||window.event).buttons)var t=e.buttons;else t=e.button?e.button:e.which;t?(l.element.style.top=l.top+(e.clientY-l.y)+l.height/2+"px",l.element.style.left=l.left+(e.clientX-l.x)+l.width/2+"px",l.element.style.cursor="move"):l.element.style.cursor="auto"}})),n.modal.hasEvents=!0}return i.options.url?n.ajax({url:i.options.url,method:"GET",dataType:"text/html",success:function(e){i.content.innerHTML=e,i.options.closed||i.open()}}):i.options.closed||i.open(),e.modal=i,i},n.notification=function(e){var t={options:{}},i={icon:null,name:"Notification",date:null,error:null,title:null,message:null,timeout:4e3,autoHide:!0,closeable:!0};for(var r in i)e&&e.hasOwnProperty(r)?t.options[r]=e[r]:t.options[r]=i[r];var s=document.createElement("div");s.className="jnotification",t.options.error&&s.classList.add("jnotification-error");var a=document.createElement("div");a.className="jnotification-container",s.appendChild(a);var o=document.createElement("div");o.className="jnotification-header",a.appendChild(o);var l=document.createElement("div");if(l.className="jnotification-image",o.appendChild(l),t.options.icon){var c=document.createElement("img");c.src=t.options.icon,l.appendChild(c)}var h=document.createElement("div");if(h.className="jnotification-name",h.innerHTML=t.options.name,o.appendChild(h),1==t.options.closeable){var d=document.createElement("div");d.className="jnotification-close",d.onclick=function(){t.hide()},o.appendChild(d)}var p=document.createElement("div");p.className="jnotification-date",o.appendChild(p);var u=document.createElement("div");if(u.className="jnotification-content",a.appendChild(u),t.options.title){var m=document.createElement("div");m.className="jnotification-title",m.innerHTML=t.options.title,u.appendChild(m)}var f=document.createElement("div");if(f.className="jnotification-message",f.innerHTML=t.options.message,u.appendChild(f),t.show=function(){document.body.appendChild(s),n.getWindowWidth()>800?n.animation.fadeIn(s):n.animation.slideTop(s,1)},t.hide=function(){n.getWindowWidth()>800?n.animation.fadeOut(s,(function(){s.parentNode&&(s.parentNode.removeChild(s),g&&clearTimeout(g))})):n.animation.slideTop(s,0,(function(){s.parentNode&&(s.parentNode.removeChild(s),g&&clearTimeout(g))}))},t.show(),1==t.options.autoHide)var g=setTimeout((function(){t.hide()}),t.options.timeout);return n.getWindowWidth()<800&&s.addEventListener("swipeup",(function(e){t.hide(),e.preventDefault(),e.stopPropagation()})),t},n.notification.isVisible=function(){var e=document.querySelector(".jnotification");return!(!e||!e.parentNode)},n.palette=(e={material:[["#ffebee","#fce4ec","#f3e5f5","#e8eaf6","#e3f2fd","#e0f7fa","#e0f2f1","#e8f5e9","#f1f8e9","#f9fbe7","#fffde7","#fff8e1","#fff3e0","#fbe9e7","#efebe9","#fafafa","#eceff1"],["#ffcdd2","#f8bbd0","#e1bee7","#c5cae9","#bbdefb","#b2ebf2","#b2dfdb","#c8e6c9","#dcedc8","#f0f4c3","#fff9c4","#ffecb3","#ffe0b2","#ffccbc","#d7ccc8","#f5f5f5","#cfd8dc"],["#ef9a9a","#f48fb1","#ce93d8","#9fa8da","#90caf9","#80deea","#80cbc4","#a5d6a7","#c5e1a5","#e6ee9c","#fff59d","#ffe082","#ffcc80","#ffab91","#bcaaa4","#eeeeee","#b0bec5"],["#e57373","#f06292","#ba68c8","#7986cb","#64b5f6","#4dd0e1","#4db6ac","#81c784","#aed581","#dce775","#fff176","#ffd54f","#ffb74d","#ff8a65","#a1887f","#e0e0e0","#90a4ae"],["#ef5350","#ec407a","#ab47bc","#5c6bc0","#42a5f5","#26c6da","#26a69a","#66bb6a","#9ccc65","#d4e157","#ffee58","#ffca28","#ffa726","#ff7043","#8d6e63","#bdbdbd","#78909c"],["#f44336","#e91e63","#9c27b0","#3f51b5","#2196f3","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607d8b"],["#e53935","#d81b60","#8e24aa","#3949ab","#1e88e5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#fdd835","#ffb300","#fb8c00","#f4511e","#6d4c41","#757575","#546e7a"],["#d32f2f","#c2185b","#7b1fa2","#303f9f","#1976d2","#0097a7","#00796b","#388e3c","#689f38","#afb42b","#fbc02d","#ffa000","#f57c00","#e64a19","#5d4037","#616161","#455a64"],["#c62828","#ad1457","#6a1b9a","#283593","#1565c0","#00838f","#00695c","#2e7d32","#558b2f","#9e9d24","#f9a825","#ff8f00","#ef6c00","#d84315","#4e342e","#424242","#37474f"],["#b71c1c","#880e4f","#4a148c","#1a237e","#0d47a1","#006064","#004d40","#1b5e20","#33691e","#827717","#f57f17","#ff6f00","#e65100","#bf360c","#3e2723","#212121","#263238"]],fire:[["0b1a6d","840f38","b60718","de030b","ff0c0c","fd491c","fc7521","faa331","fbb535","ffc73a"],["071147","5f0b28","930513","be0309","ef0000","fa3403","fb670b","f9991b","faad1e","ffc123"],["03071e","370617","6a040f","9d0208","d00000","dc2f02","e85d04","f48c06","faa307","ffba08"],["020619","320615","61040d","8c0207","bc0000","c82a02","d05203","db7f06","e19405","efab00"],["020515","2d0513","58040c","7f0206","aa0000","b62602","b94903","c57205","ca8504","d89b00"]],baby:[["eddcd2","fff1e6","fde2e4","fad2e1","c5dedd","dbe7e4","f0efeb","d6e2e9","bcd4e6","99c1de"],["e1c4b3","ffd5b5","fab6ba","f5a8c4","aacecd","bfd5cf","dbd9d0","baceda","9dc0db","7eb1d5"],["daa990","ffb787","f88e95","f282a9","8fc4c3","a3c8be","cec9b3","9dbcce","82acd2","649dcb"],["d69070","ff9c5e","f66770","f05f8f","74bbb9","87bfae","c5b993","83aac3","699bca","4d89c2"],["c97d5d","f58443","eb4d57","e54a7b","66a9a7","78ae9c","b5a67e","7599b1","5c88b7","4978aa"]],chart:[["#C1D37F","#4C5454","#FFD275","#66586F","#D05D5B","#C96480","#95BF8F","#6EA240","#0F0F0E","#EB8258","#95A3B3","#995D81"]]},t=function(t){return e[t]?e[t]:e.material},t.get=function(t){return e[t]?e[t]:e},t.set=function(t,n){e[t]=n},t),n.picker=function(e,t){if(e.picker)return e.picker.setOptions(t,!0);var i={type:"picker",options:{}},r=null,s=null,a=function(){s.innerHTML="";for(var e=Object.keys(i.options.data),t=0;t<e.length;t++){var n=document.createElement("div");n.classList.add("jpicker-item"),n.k=e[t],n.v=i.options.data[e[t]],n.innerHTML=i.getLabel(e[t]),s.appendChild(n)}};i.setOptions=function(e,t){var n={value:0,data:null,render:null,onchange:null,onselect:null,onopen:null,onclose:null,onload:null,width:null,header:!0,right:!1,content:!1,columns:null,height:null};for(var o in e&&e.options&&(e.data=e.options),n)e&&e.hasOwnProperty(o)?i.options[o]=e[o]:void 0!==i.options[o]&&!0!==t||(i.options[o]=n[o]);return!1===i.options.header?r.style.display="none":r.style.display="",i.options.width?r.style.width=parseInt(i.options.width)+"px":r.style.width="",i.options.height?(s.style.maxHeight=i.options.height+"px",s.style.overflow="scroll"):s.style.overflow="",i.options.columns>0&&(s.classList.add("jpicker-columns"),s.style.width=i.options.width?i.options.width:36*i.options.columns+"px"),isNaN(i.options.value)&&(i.options.value="0"),a(),i.setValue(i.options.value),i},i.getValue=function(){return i.options.value},i.setValue=function(t){i.setLabel(t),i.options.value=String(t),e.value!=i.options.value&&(e.value=i.options.value,"function"==typeof e.oninput&&e.oninput({type:"input",target:e,value:e.value})),"generic"!==s.children[t].getAttribute("type")&&i.close()},i.getLabel=function(e){var t=i.options.data[e]||null;return"function"==typeof i.options.render&&(t=i.options.render(t)),t},i.setLabel=function(e){if(i.options.content)var t='<i class="material-icons">'+i.options.content+"</i>";else t=i.getLabel(e);r.innerHTML=t},i.open=function(){if(!e.classList.contains("jpicker-focus")){n.tracking(i,!0),e.classList.add("jpicker-focus"),e.focus();var t=0,a=0;s.style.marginLeft="";var o=r.getBoundingClientRect(),l=s.getBoundingClientRect();t=window.innerHeight<o.bottom+l.height?-1*(l.height+4):o.height+4,!0===i.options.right&&(a=-1*l.width+o.width),l.left+a<0&&(a=a+l.left+10),l.left+l.width>window.innerWidth&&(a=-1*(10+l.left+l.width-window.innerWidth)),s.style.marginTop=parseInt(t)+"px",s.style.marginLeft=parseInt(a)+"px","function"==typeof i.options.onopen&&i.options.onopen(e,i)}},i.close=function(){e.classList.contains("jpicker-focus")&&(e.classList.remove("jpicker-focus"),n.tracking(i,!1),"function"==typeof i.options.onclose&&i.options.onclose(e,i))};var o=function(){e.classList.add("jpicker"),e.setAttribute("tabindex","900"),e.onmousedown=function(t){e.classList.contains("jpicker-focus")||i.open()},(r=document.createElement("div")).classList.add("jpicker-header"),(s=document.createElement("div")).classList.add("jpicker-content"),s.onclick=function(t){var r=n.findElement(t.target,"jpicker-item");r&&r.parentNode===s&&(i.setValue(r.k),"function"==typeof i.options.onchange&&i.options.onchange.call(i,e,i,r.v,r.v,r.k))},e.appendChild(r),e.appendChild(s),e.value=t.value||0,i.setOptions(t),"function"==typeof i.options.onload&&i.options.onload(e,i),e.change=i.setValue,e.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},e.picker=i};return o(),i},n.progressbar=function(e,t){var n={options:{}},i={value:0,onchange:null,width:null};for(var r in i)t&&t.hasOwnProperty(r)?n.options[r]=t[r]:n.options[r]=i[r];e.classList.add("jprogressbar"),e.setAttribute("tabindex",1),e.setAttribute("data-value",n.options.value);var s=document.createElement("div");s.style.width=n.options.value+"%",s.style.color="#fff",e.appendChild(s),n.options.width&&(e.style.width=n.options.width),n.setValue=function(t){t=parseInt(t),n.options.value=t,s.style.width=t+"%",e.setAttribute("data-value",t+"%"),e.style.color=t<6?"#000":"#fff",n.options.value=t,"function"==typeof n.options.onchange&&n.options.onchange(e,t),e.value!=n.options.value&&(e.value=n.options.value,"function"==typeof e.oninput&&e.oninput({type:"input",target:e,value:e.value}))},n.getValue=function(){return n.options.value};var a=function(t){if(t.which){var i=e.getBoundingClientRect();if(t.changedTouches&&t.changedTouches[0]){var r=t.changedTouches[0].clientX;t.changedTouches[0].clientY}else r=t.clientX,t.clientY;n.setValue(Math.round((r-i.left)/i.width*100))}};return"touchstart"in document.documentElement==1?(e.addEventListener("touchstart",a),e.addEventListener("touchend",a)):(e.addEventListener("mousedown",a),e.addEventListener("mousemove",a)),e.change=n.setValue,e.val=function(e){if(void 0===e)return n.getValue();n.setValue(e)},e.progressbar=n,n},n.rating=function(e,t){if(e.rating)return e.rating.setOptions(t,!0);var n={options:{},setOptions:function(t,i){var r={number:5,value:0,tooltip:["Very bad","Bad","Average","Good","Very good"],onchange:null};for(var s in r)t&&t.hasOwnProperty(s)?n.options[s]=t[s]:void 0!==n.options[s]&&!0!==i||(n.options[s]=r[s]);e.innerHTML="";for(var a=0;a<n.options.number;a++){var o=document.createElement("div");o.setAttribute("data-index",a+1),o.setAttribute("title",n.options.tooltip[a]),e.appendChild(o)}if(n.options.value)for(a=0;a<n.options.number;a++)a<n.options.value&&e.children[a].classList.add("jrating-selected");return n},setValue:function(t){for(var i=0;i<n.options.number;i++)i<t?e.children[i].classList.add("jrating-selected"):(e.children[i].classList.remove("jrating-over"),e.children[i].classList.remove("jrating-selected"));n.options.value=t,"function"==typeof n.options.onchange&&n.options.onchange(e,t),e.value!=n.options.value&&(e.value=n.options.value,"function"==typeof e.oninput&&e.oninput({type:"input",target:e,value:e.value}))},getValue:function(){return n.options.value}},i=function(){n.setOptions(t),e.classList.add("jrating"),e.addEventListener("click",(function(e){var t=e.target.getAttribute("data-index");null!=t&&(t==n.options.value?n.setValue(0):n.setValue(t))})),e.addEventListener("mouseover",(function(t){for(var i=t.target.getAttribute("data-index"),r=0;r<n.options.number;r++)r<i?e.children[r].classList.add("jrating-over"):e.children[r].classList.remove("jrating-over")})),e.addEventListener("mouseout",(function(t){for(var i=0;i<n.options.number;i++)e.children[i].classList.remove("jrating-over")})),e.change=n.setValue,e.val=function(e){if(void 0===e)return n.getValue();n.setValue(e)},e.rating=n};return i(),n},n.search=function(e,t){if(e.search)return e.search;var i=null,r=function(e){if(e.target.classList.contains("jsearch_item"))var t=e.target;else t=e.target.parentNode;l.selectIndex(t),e.preventDefault()},s=function(t){if(c.innerHTML="",t.length){e.style.display="block";for(var n=t.length<11?t.length:10,i=0;i<n;i++){if("string"==typeof t[i])var r=t[i],s=t[i];else!(r=t[i].text)&&t[i].name&&(r=t[i].name),!(s=t[i].value)&&t[i].id&&(s=t[i].id);var a=document.createElement("div");a.setAttribute("data-value",s),a.setAttribute("data-text",r),a.className="jsearch_item",t[i].id&&a.setAttribute("id",t[i].id),l.options.forceSelect&&0==i&&a.classList.add("selected");var o=document.createElement("img");t[i].image?o.src=t[i].image:o.style.display="none",a.appendChild(o);var h=document.createElement("div");h.innerHTML=r,a.appendChild(h),c.appendChild(a)}}else e.style.display=""},a=function(e){if(e!=l.terms)if(l.terms=e,i=l.options.forceSelect?0:null,Array.isArray(l.options.data)){var t=function(t){if("string"==typeof t){if((""+t).toLowerCase().search(e.toLowerCase())>=0)return!0}else for(var n in t)if((""+t[n]).toLowerCase().search(e.toLowerCase())>=0)return!0;return!1},r=l.options.data.filter((function(e){return t(e)}));s(r)}else n.ajax({url:l.options.data+e,method:"GET",dataType:"json",success:function(e){s(e)}})},o=null,l=function(e){o&&clearTimeout(o),o=setTimeout((function(){a(e)}),500)};null===t.forceSelect&&(t.forceSelect=!0),l.options={data:t.data||null,input:t.input||null,onselect:t.onselect||null,forceSelect:t.forceSelect},l.selectIndex=function(e){var t=e.getAttribute("id"),n=e.getAttribute("data-text"),i=e.getAttribute("data-value");"function"==typeof l.options.onselect&&l.options.onselect(l,n,i,t),l.close()},l.open=function(){e.style.display="block"},l.close=function(){o&&clearTimeout(o),l.terms="",c.innerHTML="",e.style.display=""},l.isOpened=function(){return!!e.style.display},l.keydown=function(e){l.isOpened()&&("Enter"==e.key?null!==i&&c.children[i]?(l.selectIndex(c.children[i]),e.preventDefault()):l.close():"ArrowUp"===e.key?(null!==i&&c.children[0]&&(c.children[i].classList.remove("selected"),l.options.forceSelect||0!==i?(i=Math.max(0,i-1),c.children[i].classList.add("selected")):i=null),e.preventDefault()):"ArrowDown"===e.key&&(null==i?i=-1:c.children[i].classList.remove("selected"),i<9&&c.children[i+1]&&i++,c.children[i].classList.add("selected"),e.preventDefault()))},l.keyup=function(e){if(l.options.input)l(l.options.input.value);else{var t=n.getNode();t&&l(t.innerText)}},l.options.input&&(l.options.input.addEventListener("keyup",l.keyup),l.options.input.addEventListener("keydown",l.keydown));var c=document.createElement("div");return c.classList.add("jsearch_container"),c.onmousedown=r,e.appendChild(c),e.classList.add("jsearch"),e.search=l,l},n.slider=function(e,t){var n={options:{},currentImage:null};if(t&&(n.options=t),e.setAttribute("tabindex","900"),n.options.items=[],!e.classList.contains("jslider")){if(e.classList.add("jslider"),e.classList.add("unselectable"),n.options.height&&(e.style.minHeight=n.options.height),n.options.width&&(e.style.width=n.options.width),n.options.grid){e.classList.add("jslider-grid");var i=e.children.length;i>4&&e.setAttribute("data-total",i-4),e.setAttribute("data-number",i>4?4:i)}var r=document.createElement("div");if(r.classList.add("jslider-counter"),e.children.length>0)for(var s=0;s<e.children.length;s++){n.options.items.push(e.children[s]);var a=document.createElement("div");a.onclick=function(){var e=Array.prototype.slice.call(r.children).indexOf(this);n.show(n.currentImage=n.options.items[e])},r.appendChild(a)}var o=document.createElement("div");o.className="jslider-caption";var l=document.createElement("div"),c=document.createElement("div");c.className="jslider-close",c.innerHTML="",c.onclick=function(){n.close()},l.appendChild(o),l.appendChild(c)}n.updateCounter=function(e){for(var t=0;t<r.children.length;t++)if(r.children[t].classList.contains("jslider-counter-focus")){r.children[t].classList.remove("jslider-counter-focus");break}r.children[e].classList.add("jslider-counter-focus")},n.show=function(t){t||(t=e.children[0]),e.classList.add("jslider-focus"),e.classList.remove("jslider-grid"),e.appendChild(l),e.appendChild(r);var i=n.options.items.indexOf(t);n.updateCounter(i);for(var s=0;s<e.children.length;s++)e.children[s].style.display="";t.style.display="block",t.previousElementSibling?e.classList.add("jslider-left"):e.classList.remove("jslider-left"),t.nextElementSibling&&"IMG"==t.nextElementSibling.tagName?e.classList.add("jslider-right"):e.classList.remove("jslider-right"),n.currentImage=t,n.currentImage.offsetHeight>n.currentImage.offsetWidth&&n.currentImage.classList.add("jslider-vertical"),l.children[0].innerText=n.currentImage.getAttribute("title")},n.open=function(){n.show(),"function"==typeof n.options.onopen&&n.options.onopen(e)},n.close=function(){e.classList.remove("jslider-focus"),e.classList.remove("jslider-left"),e.classList.remove("jslider-right"),n.options.grid&&e.classList.add("jslider-grid");for(var t=0;t<e.children.length;t++)e.children[t].style.display="";r.remove(),l.remove(),n.currentImage=null,"function"==typeof n.options.onclose&&n.options.onclose(e)},n.reset=function(){e.innerHTML=""},n.next=function(){var e=n.currentImage.nextElementSibling;e&&"IMG"===e.tagName&&n.show(n.currentImage.nextElementSibling)},n.prev=function(){n.currentImage.previousElementSibling&&n.show(n.currentImage.previousElementSibling)};var h=function(e){if("IMG"==e.target.tagName)n.show(e.target);else if(!e.target.classList.contains("jslider-close")&&!e.target.parentNode.classList.contains("jslider-counter")&&!e.target.classList.contains("jslider-counter")){var t=e.offsetX||e.changedTouches[0].clientX;e.target.clientWidth-t<40?n.next():t<40&&n.prev()}};return"ontouchend"in document.documentElement==1?e.addEventListener("touchend",h):e.addEventListener("mouseup",h),e.addEventListener("swipeleft",(function(e){n.next(),e.preventDefault(),e.stopPropagation()})),e.addEventListener("swiperight",(function(e){n.prev(),e.preventDefault(),e.stopPropagation()})),e.addEventListener("keydown",(function(e){27==e.which&&n.close()})),e.slider=n,n},n.sorting=function(e,t){var n={options:{}},i={pointer:null,direction:null,ondragstart:null,ondragend:null,ondrop:null},r=null;for(var s in i)t&&t.hasOwnProperty(s)?n.options[s]=t[s]:n.options[s]=i[s];e.classList.add("jsorting"),e.addEventListener("dragstart",(function(t){var i=Array.prototype.indexOf.call(t.target.parentNode.children,t.target);r={element:t.target,o:i,d:i},t.target.style.opacity="0.25","function"==typeof n.options.ondragstart&&n.options.ondragstart(e,t.target,t)})),e.addEventListener("dragover",(function(e){if(e.preventDefault(),a(e.target)&&r&&"true"==e.target.getAttribute("draggable")&&r.element!=e.target){if(n.options.direction)t=e.target.clientWidth/2>e.offsetX;else var t=e.target.clientHeight/2>e.offsetY;t?e.target.parentNode.insertBefore(r.element,e.target):e.target.parentNode.insertBefore(r.element,e.target.nextSibling),r.d=Array.prototype.indexOf.call(e.target.parentNode.children,r.element)}})),e.addEventListener("dragleave",(function(e){e.preventDefault()})),e.addEventListener("dragend",(function(t){t.preventDefault(),r&&("function"==typeof n.options.ondragend&&n.options.ondragend(e,r.element,t),r.o<r.d?t.target.parentNode.insertBefore(r.element,t.target.parentNode.children[r.o]):t.target.parentNode.insertBefore(r.element,t.target.parentNode.children[r.o].nextSibling),r.element.style.opacity="",r=null)})),e.addEventListener("drop",(function(t){t.preventDefault(),r&&r.o!=r.d&&"function"==typeof n.options.ondrop&&n.options.ondrop(e,r.o,r.d,r.element,t.target,t),r.element.style.opacity="",r=null}));for(var a=function(e){var t=!1;function n(e){e.className&&e.classList.contains("jsorting")&&(t=!0),t||n(e.parentNode)}return n(e),t},o=0;o<e.children.length;o++)e.children[o].hasAttribute("draggable")||e.children[o].setAttribute("draggable","true");return e.val=function(){for(var t=null,n=[],i=0;i<e.children.length;i++)(t=e.children[i].getAttribute("data-id"))&&n.push(t);return n},e},n.tabs=function(e,t){var i={options:{}},r={data:[],position:null,allowCreate:!1,allowChangePosition:!1,onclick:null,onload:null,onchange:null,oncreate:null,ondelete:null,onbeforecreate:null,onchangeposition:null,animation:!1,hideHeaders:!1,padding:null,palette:null,maxWidth:null};for(var s in r)t&&t.hasOwnProperty(s)?i.options[s]=t[s]:i.options[s]=r[s];e.classList.add("jtabs");var a=null,o=null,l=null,c=function(e){if(i.options.animation){var t=i.headers.children[e].getBoundingClientRect();"modern"==i.options.palette?(l.style.width=t.width-4+"px",l.style.left=i.headers.children[e].offsetLeft+2+"px"):(l.style.width=t.width+"px",l.style.left=i.headers.children[e].offsetLeft+"px"),"bottom"==i.options.position?l.style.top="0px":l.style.bottom="0px"}},h=function(e){"function"==typeof i.headers.scrollTo?i.headers.scrollTo({left:e,behavior:"smooth"}):i.headers.scrollLeft=e,e<=1?a.classList.add("disabled"):a.classList.remove("disabled"),e>=i.headers.scrollWidth-i.headers.offsetWidth?o.classList.add("disabled"):o.classList.remove("disabled"),i.headers.scrollWidth<=i.headers.offsetWidth?(a.style.display="none",o.style.display="none"):(a.style.display="",o.style.display="")};if(i.setBorder=c,i.open=function(t){for(var n=null,r=0;r<i.headers.children.length;r++)i.headers.children[r].classList.contains("jtabs-selected")&&(n=r),i.headers.children[r].classList.remove("jtabs-selected"),i.content.children[r]&&i.content.children[r].classList.remove("jtabs-selected");if(i.headers.children[t].classList.add("jtabs-selected"),i.content.children[t]&&i.content.children[t].classList.add("jtabs-selected"),n!=t&&"function"==typeof i.options.onchange&&i.content.children[t]&&i.options.onchange(e,i,t,i.headers.children[t],i.content.children[t]),1==i.options.hideHeaders&&i.headers.children.length<3&&0==i.options.allowCreate)i.headers.parentNode.style.display="none";else{c(t),i.headers.parentNode.style.display="";var s=i.headers.children[t].offsetLeft,a=s+i.headers.children[t].offsetWidth,o=i.headers.scrollLeft,l=o+i.headers.offsetWidth;o<=s&&l>=a||h(s-1)}},i.selectIndex=function(e){var t=Array.prototype.indexOf.call(i.headers.children,e);return t>=0&&i.open(t),t},i.rename=function(e,t){t||(t=prompt("New title",i.headers.children[e].innerText)),i.headers.children[e].innerText=t,i.open(e)},i.create=function(t,n){if("function"==typeof i.options.onbeforecreate){var r=i.options.onbeforecreate(e);if(!1===r)return!1;t=r}var s=i.appendElement(t);return"function"==typeof i.options.oncreate&&i.options.oncreate(e,s),s},i.remove=function(e){return i.deleteElement(e)},i.nextNumber=function(){for(var e=0,t=0;t<i.headers.children.length;t++){var n=i.headers.children[t].innerText.match(/[0-9].*/);n>e&&(e=parseInt(n))}return e?e++:e=1,e},i.deleteElement=function(t){if(!i.headers.children[t])return!1;i.headers.removeChild(i.headers.children[t]),i.content.removeChild(i.content.children[t]),i.open(0),"function"==typeof i.options.ondelete&&i.options.ondelete(e,t)},i.appendElement=function(e,t){if(e||(e=prompt("Title?","")),e){var n=document.createElement("div");i.content.appendChild(n);var r=document.createElement("div");return r.innerHTML=e,r.content=n,i.headers.insertBefore(r,i.headers.lastChild),i.options.allowChangePosition&&r.setAttribute("draggable","true"),i.selectIndex(r),"function"==typeof t&&t(n,r),n}},i.getActive=function(){for(var e=0;e<i.headers.children.length;e++)if(i.headers.children[e].classList.contains("jtabs-selected"))return e;return 0},i.updateContent=function(e,t){"string"!=typeof t||(document.createElement("div").innerHTML=t),i.content.children[e].classList.contains("jtabs-selected")&&t.classList.add("jtabs-selected"),i.content.replaceChild(t,i.content.children[e])},i.updatePosition=function(e,t){e>t?i.content.insertBefore(i.content.children[e],i.content.children[t]):i.content.insertBefore(i.content.children[e],i.content.children[t].nextSibling),i.open(t),"function"==typeof i.options.onchangeposition&&i.options.onchangeposition(i.headers,e,t)},i.move=function(e,t){e>t?i.headers.insertBefore(i.headers.children[e],i.headers.children[t]):i.headers.insertBefore(i.headers.children[e],i.headers.children[t].nextSibling),i.updatePosition(e,t)},i.setBorder=c,i.init=function(){e.innerHTML="",i.headers=document.createElement("div"),i.content=document.createElement("div"),i.headers.classList.add("jtabs-headers"),i.content.classList.add("jtabs-content"),i.options.palette?e.classList.add("jtabs-modern"):e.classList.remove("jtabs-modern"),i.options.padding&&(i.content.style.padding=parseInt(i.options.padding)+"px");var t=document.createElement("div");t.className="jtabs-headers-container",t.appendChild(i.headers),i.options.maxWidth&&(t.style.maxWidth=parseInt(i.options.maxWidth)+"px");var r=document.createElement("div");if(r.className="jtabs-controls",r.setAttribute("draggable","false"),t.appendChild(r),"bottom"==i.options.position?(e.appendChild(i.content),e.appendChild(t)):(e.appendChild(t),e.appendChild(i.content)),1==i.options.allowCreate){var s=document.createElement("div");s.className="jtabs-add",s.onclick=function(){i.create()},r.appendChild(s)}(a=document.createElement("div")).className="jtabs-prev",a.onclick=function(){h(i.headers.scrollLeft-i.headers.offsetWidth)},r.appendChild(a),(o=document.createElement("div")).className="jtabs-next",o.onclick=function(){h(i.headers.scrollLeft+i.headers.offsetWidth)},r.appendChild(o);for(var c=0;c<i.options.data.length;c++){if(i.options.data[c].titleElement)var d=i.options.data[c].titleElement;else d=document.createElement("div");if(i.options.data[c].icon){var p=document.createElement("div"),u=document.createElement("i");u.classList.add("material-icons"),u.innerHTML=i.options.data[c].icon,p.appendChild(u),d.appendChild(p)}if(i.options.data[c].title){var m=document.createTextNode(i.options.data[c].title);d.appendChild(m)}if(i.options.data[c].width&&(d.style.width=i.options.data[c].width),i.options.data[c].contentElement)var f=i.options.data[c].contentElement;else(f=document.createElement("div")).innerHTML=i.options.data[c].content;i.headers.appendChild(d),i.content.appendChild(f)}(l=document.createElement("div")).className="jtabs-border",i.headers.appendChild(l),i.options.animation&&e.classList.add("jtabs-animation"),i.headers.addEventListener("click",(function(t){if(t.target.parentNode.classList.contains("jtabs-headers"))var n=t.target;else n="I"==t.target.tagName?t.target.parentNode.parentNode:t.target.parentNode;var r=i.selectIndex(n);"function"==typeof i.options.onclick&&i.options.onclick(e,i,r,i.headers.children[r],i.content.children[r])})),i.headers.addEventListener("contextmenu",(function(e){i.selectIndex(e.target)})),i.headers.children.length&&i.open(0),h(0),1==i.options.allowChangePosition&&n.sorting(i.headers,{direction:1,ondrop:function(e,t,n){i.updatePosition(t,n)}}),"function"==typeof i.options.onload&&i.options.onload(e,i)},e.children[0]&&e.children[0].children.length)for(var d=0;d<e.children[0].children.length;d++){var p=i.options.data&&i.options.data[d]?i.options.data[d]:{};e.children[1]&&e.children[1].children[d]?(p.titleElement=e.children[0].children[d],p.contentElement=e.children[1].children[d]):p.contentElement=e.children[0].children[d],i.options.data[d]=p}var u=!1;if(i.options.data)for(d=0;d<i.options.data.length;d++)i.options.data[d].url&&(n.ajax({url:i.options.data[d].url,type:"GET",dataType:"text/html",index:d,success:function(e){i.options.data[this.index].content=e},complete:function(){i.init()}}),u=!0);return u||i.init(),e.tabs=i,i},n.tags=function(e,t){if(e.tags)return e.tags.setOptions(t,!0);var i={type:"tags",options:{}},r=function(){return!!(i.options.limit&&e.children.length>=i.options.limit)},s=null,a=null;i.setOptions=function(t,r){var o={value:"",limit:null,limitMessage:null,search:null,placeholder:null,validation:null,onbeforepaste:null,onbeforechange:null,onlimit:null,onchange:null,onfocus:null,onblur:null,onload:null,colors:null};for(var l in o)t&&t.hasOwnProperty(l)?i.options[l]=t[l]:void 0!==i.options[l]&&!0!==r||(i.options[l]=o[l]);return i.options.placeholder?e.setAttribute("data-placeholder",i.options.placeholder):e.removeAttribute("data-placeholder"),e.placeholder=i.options.placeholder,i.setValue(i.options.value),h(),i.options.search?a||(a=document.createElement("div"),e.parentNode.insertBefore(a,e.nextSibling),s=n.search(a,{data:i.options.search,onselect:function(e,t,n){i.selectIndex(t,n)}})):a&&(s=null,a.remove(),a=null),i},i.add=function(t,a){if("function"==typeof i.options.onbeforechange){var h=i.options.onbeforechange(e,i,i.options.value,t);if(!1===h)return!1;null!=h&&(t=h)}if(s&&s.close(),r())"function"==typeof i.options.onlimit?i.options.onlimit(i,i.options.limit):i.options.limitMessage&&alert(i.options.limitMessage+" "+i.options.limit);else{var d=n.getNode();if(!(d&&d.parentNode&&d.parentNode.classList.contains("jtags")&&d.nextSibling)||d.nextSibling.innerText&&d.nextSibling.innerText.trim()){if(e.lastChild&&(e.lastChild.innerText.trim()||e.removeChild(e.lastChild)),t&&"string"!=typeof t){for(var p=0;p<=t.length;p++)if(!r()){if(t[p]&&"string"!=typeof t[p])u=t[p].text,m=t[p].value;else var u=t[p]||"",m=null;f=l(u,m)}}else var f=l(t,t,d);c()}else f=d.nextSibling;a&&o(f)}},i.setLimit=function(t){for(i.options.limit=t,e.children.length;e.children.length>t;)e.removeChild(e.lastChild)},i.remove=function(t){t.parentNode.removeChild(t),e.children.length?c():i.add("",!0)},i.getData=function(){for(var t=[],n=0;n<e.children.length;n++){var i=e.children[n].innerText.replace("\n",""),r=e.children[n].getAttribute("data-value");r||(r=i),(i||r)&&t.push({text:i,value:r})}return t},i.getValue=function(t){var n=null;if(null!=t)(n=e.children[t].getAttribute("data-value"))||(n=e.children[t].innerText.replace("\n",""));else{for(var r=[],s=0;s<e.children.length;s++)(n=e.children[s].innerText.replace("\n",""))&&r.push(i.getValue(s));n=r.join(",")}return n},i.setValue=function(t){if(t){if(e.value!=t)if(Array.isArray(t))i.add(t);else{var n=(""+t).trim(),r=p(n);e.innerHTML="",i.add(r)}}else i.reset()},i.reset=function(){e.classList.add("jtags-empty"),e.innerHTML="<div></div>",c()},i.isValid=function(){for(var t=0,n=0;n<e.children.length;n++)e.children[n].classList.contains("jtags_error")&&t++;return 0==t},i.selectIndex=function(e,t){var s=n.getNode();s&&(s.innerText=e,t&&s.setAttribute("data-value",t),s.classList.remove("jtags_error"),r()||i.add("",!0))},i.search=function(e){e.innerText},i.destroy=function(){e.removeEventListener("mouseup",b),e.removeEventListener("keydown",m),e.removeEventListener("keyup",f),e.removeEventListener("paste",g),e.removeEventListener("focus",y),e.removeEventListener("blur",v),e.parentNode.removeChild(e)};var o=function(t){if(e.children.length>1){var n=document.createRange(),i=window.getSelection();t||(t=e.childNodes[e.childNodes.length-1]),n.setStart(t,t.length),n.collapse(!0),i.removeAllRanges(),i.addRange(n),e.scrollLeft=e.scrollWidth}},l=function(t,n,i){var r=document.createElement("div");return r.innerHTML=t||"",n&&r.setAttribute("data-value",n),i&&i.parentNode.classList.contains("jtags")?e.insertBefore(r,i.nextSibling):e.appendChild(r),r},c=function(){var t=i.getValue();t!=i.options.value&&(i.options.value=t,"function"==typeof i.options.onchange&&i.options.onchange(e,i,i.options.value),e.value!=i.options.value&&(e.value=i.options.value,"function"==typeof e.oninput&&e.oninput({type:"input",target:e,value:e.value}))),h()},h=function(){for(var t=0;t<e.children.length;t++)i.getValue(t)?(e.children[t].classList.add("jtags_label"),"function"==typeof i.options.validation&&i.getValue(t)?i.options.validation(e.children[t],e.children[t].innerText,e.children[t].getAttribute("data-value"))?e.children[t].classList.remove("jtags_error"):e.children[t].classList.add("jtags_error"):e.children[t].classList.remove("jtags_error")):e.children[t].classList.remove("jtags_label");d()},d=function(){e.innerText.trim()?e.classList.remove("jtags-empty"):(e.innerHTML="<div></div>",e.classList.add("jtags-empty"))},p=function(e){var t=[],n="";if(e=e.trim()){for(var i=0;i<e.length;i++)","==e[i]||";"==e[i]||"\n"==e[i]?n&&(t.push(n.trim()),n=""):n+=e[i];n&&t.push(n)}return t},u=0,m=function(t){u=window.getSelection().anchorOffset,d(),"Tab"===t.key||";"===t.key||","===t.key?(window.getSelection().anchorOffset>1&&(r()?"function"==typeof i.options.onlimit&&i.options.onlimit(i,i.options.limit):i.add("",!0)),t.preventDefault()):"Enter"==t.key?s&&s.isOpened()||(window.getSelection().anchorOffset>1&&(r()||i.add("",!0)),t.preventDefault()):"Backspace"==t.key&&1==e.children.length&&window.getSelection().anchorOffset<1&&t.preventDefault(),s&&s.keydown(t)},f=function(e){if(39==e.which){var t=window.getSelection().anchorOffset;t>1&&t==u&&i.add("",!0)}else 13==e.which||38==e.which||40==e.which?e.preventDefault():s&&s.keyup(e);h()},g=function(t){if(t.clipboardData||t.originalEvent.clipboardData)var n=(t.originalEvent||t).clipboardData.getData("text/plain");else window.clipboardData&&(n=window.clipboardData.getData("Text"));var r=p(n);if("function"==typeof i.options.onbeforepaste){var s=i.options.onbeforepaste(e,i,r);if(!1===s)return t.preventDefault(),!1;s&&(r=s)}r.length>1?(i.add(r,!0),t.preventDefault()):r[0]&&(document.execCommand("insertText",!1,r[0]),t.preventDefault())},b=function(t){if(t.target.parentNode&&t.target.parentNode.classList.contains("jtags")&&(t.target.classList.contains("jtags_label")||t.target.classList.contains("jtags_error"))){var n=t.target.getBoundingClientRect();n.width-(t.clientX-n.left)<16&&i.remove(t.target)}t.target==e&&o()},y=function(){e.classList.contains("jtags-focus")||(e.children.length&&!i.getValue(e.children.length-1)||r()||l(""),"function"==typeof i.options.onfocus&&i.options.onfocus(e,i,i.getValue()),e.classList.add("jtags-focus"))},v=function(){if(e.classList.contains("jtags-focus")){s&&s.close();for(var t=0;t<e.children.length-1;t++)i.getValue(t)||e.removeChild(e.children[t]);c(),e.classList.remove("jtags-focus"),"function"==typeof i.options.onblur&&i.options.onblur(e,i,i.getValue())}};return"touchend"in document.documentElement==1?e.addEventListener("touchend",b):e.addEventListener("mouseup",b),e.addEventListener("keydown",m),e.addEventListener("keyup",f),e.addEventListener("paste",g),e.addEventListener("focus",y),e.addEventListener("blur",v),e.setAttribute("contenteditable",!0),e.classList.add("jtags"),i.setOptions(t),"function"==typeof i.options.onload&&i.options.onload(e,i),e.change=i.setValue,e.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},e.tags=i,i},n.toolbar=function(e,t){var i={type:"toolbar",options:{}},r={app:null,container:!1,badge:!1,title:!1,responsive:!1,maxWidth:null,bottom:!0,items:[]};for(var s in r)t&&t.hasOwnProperty(s)?i.options[s]=t[s]:i.options[s]=r[s];!e&&t.app&&t.app.el&&(e=document.createElement("div"),t.app.el.appendChild(e));var a=document.createElement("div");a.classList.add("jtoolbar-item"),a.classList.add("jtoolbar-arrow");var o=document.createElement("div");o.classList.add("jtoolbar-floating"),a.appendChild(o),i.selectItem=function(e){for(var t=l.children,n=0;n<t.length;n++)e!=t[n]&&t[n].classList.remove("jtoolbar-selected");e.classList.add("jtoolbar-selected")},i.hide=function(){n.animation.slideBottom(e,0,(function(){e.style.display="none"}))},i.show=function(){e.style.display="",n.animation.slideBottom(e,1)},i.get=function(){return e},i.setBadge=function(e,t){l.children[e].children[1].firstChild.innerHTML=t},i.destroy=function(){toolbar.remove(),e.innerHTML=""},i.update=function(t,n){for(var r=0;r<l.children.length;r++){var s=l.children[r];"function"==typeof s.updateState&&s.updateState(e,i,s,t,n)}},i.create=function(t){l.innerHTML="";for(var r=0;r<t.length;r++){var s=document.createElement("div");if(s.classList.add("jtoolbar-item"),t[r].width&&(s.style.width=parseInt(t[r].width)+"px"),t[r].k&&(s.k=t[r].k),t[r].tooltip&&s.setAttribute("title",t[r].tooltip),t[r].id&&s.setAttribute("id",t[r].id),t[r].updateState&&(s.updateState=t[r].updateState),t[r].active&&s.classList.add("jtoolbar-active"),"select"==t[r].type||"dropdown"==t[r].type)n.picker(s,t[r]);else if("divisor"==t[r].type)s.classList.add("jtoolbar-divisor");else if("label"==t[r].type)s.classList.add("jtoolbar-label"),s.innerHTML=t[r].content;else{var a=document.createElement("i");if(void 0===t[r].class)a.classList.add("material-icons");else for(var o=t[r].class.split(" "),c=0;c<o.length;c++)a.classList.add(o[c]);if(a.innerHTML=t[r].content?t[r].content:"",s.appendChild(a),1==i.options.badge){var h=document.createElement("div");h.classList.add("jbadge");var d=document.createElement("div");d.innerHTML=t[r].badge?t[r].badge:"",h.appendChild(d),s.appendChild(h)}if(t[r].title)if(1==i.options.title){var p=document.createElement("span");p.innerHTML=t[r].title,s.appendChild(p)}else s.setAttribute("title",t[r].title);i.options.app&&t[r].route&&(s.route=t[r].route,s.onclick=function(){i.options.app.pages(this.route)},i.options.app.pages(t[r].route,{toolbarItem:s,closed:!0}))}t[r].onclick&&(s.onclick=t[r].onclick.bind(t[r],e,i,s)),l.appendChild(s)}setTimeout((function(){i.refresh()}),0)},i.open=function(){a.classList.add("jtoolbar-arrow-selected"),e.getBoundingClientRect(),o.getBoundingClientRect().bottom>window.innerHeight||i.options.bottom?o.style.bottom="0":o.style.removeProperty("bottom"),o.style.right="0",a.children[0].focus(),n.tracking(i,!0)},i.close=function(){a.classList.remove("jtoolbar-arrow-selected"),n.tracking(i,!1)},i.refresh=function(){if(1==i.options.responsive){var t=e.parentNode.getBoundingClientRect();i.options.maxWidth||(i.options.maxWidth=t.width);var n=parseInt(i.options.maxWidth);for(a.remove();o.firstChild;)l.appendChild(o.firstChild);if(n<l.offsetWidth)for(n-=50;l.lastChild&&n<l.offsetWidth;)o.insertBefore(l.lastChild,o.firstChild);o.children.length>0&&l.appendChild(a)}},e.onclick=function(e){var t=n.findElement(e.target,"jtoolbar-item");t&&i.selectItem(t),e.target.classList.contains("jtoolbar-arrow")&&i.open()},window.addEventListener("resize",(function(){i.refresh()})),e.classList.add("jtoolbar"),e.innerHTML="",1==i.options.container&&e.classList.add("jtoolbar-container");var l=document.createElement("div");return e.appendChild(l),i.options.app&&e.classList.add("jtoolbar-mobile"),i.create(i.options.items),e.toolbar=i,i},n.validations=function(e,t){return"function"==typeof n.validations[t.type]?n.validations[t.type](e,t):null},n.validations.email=function(e){var t=new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);return!(!e||!t.test(e))},n.validations.required=function(e){return!!e.trim()},n.validations.number=function(e){return n.isNumber(e)},n.validations.login=function(e){var t=new RegExp(/^[a-zA-Z0-9\_\-\.\s+]+$/);return!(!e||!t.test(e))};var i=function(e,t){return"="===t.constraint?e===t.reference:"<"===t.constraint?e<t.reference:"<="===t.constraint?e<=t.reference:">"===t.constraint?e>t.reference:">="===t.constraint?e>=t.reference:"between"===t.constraint?e>=t.reference[0]&&e<=t.reference[1]:"not between"===t.constraint?e<t.reference[0]||e>t.reference[1]:null};return n.validations.number=function(e,t){return!!n.isNumeric(e)&&(void 0===t||void 0===t.constraint||i(e,t))},n.validations.date=function(e,t){return"Invalid Date"!=new Date(e)&&(void 0===t||void 0===t.constraint||("object"==typeof t?(e=new Date(e).getTime(),Array.isArray(t.reference)?t.reference=t.reference.map((function(e){return new Date(e).getTime()})):t.reference=new Date(t.reference).getTime(),i(e,t)):null))},n.validations.itemList=function(e,t){return t.reference.some((function(t){return t==e}))},n.validations.text=function(e,t){return"string"==typeof e&&(void 0===t||void 0===t.constraint||("="===t.constraint?e===t.reference:"contains"===t.constraint?e.includes(t.reference):"not contain"===t.constraint?!e.includes(t.reference):"email"===t.constraint?n.validations.email(e):"url"===t.constraint?!!new RegExp(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi).test(e):null))},n.validations.constraints=function(){},n}(),function(module,exports){var formula=function(){var error=function(){var e={};return e.nil=new Error("#NULL!"),e.div0=new Error("#DIV/0!"),e.value=new Error("#VALUE!"),e.ref=new Error("#REF!"),e.name=new Error("#NAME?"),e.num=new Error("#NUM!"),e.na=new Error("#N/A"),e.error=new Error("#ERROR!"),e.data=new Error("#GETTING_DATA"),e}(),utils=function(){var e={flattenShallow:function(e){return e&&e.reduce?e.reduce((function(e,t){var n=Array.isArray(e),i=Array.isArray(t);return n&&i?e.concat(t):n?(e.push(t),e):i?[e].concat(t):[e,t]})):e},isFlat:function(e){if(!e)return!1;for(var t=0;t<e.length;++t)if(Array.isArray(e[t]))return!1;return!0},flatten:function(){for(var t=e.argsToArray.apply(null,arguments);!e.isFlat(t);)t=e.flattenShallow(t);return t},argsToArray:function(t){var n=[];return e.arrayEach(t,(function(e){n.push(e)})),n},numbers:function(){var e=this.flatten.apply(null,arguments);return e.filter((function(e){return"number"==typeof e}))},cleanFloat:function(e){var t=1e14;return Math.round(e*t)/t},parseBool:function(e){if("boolean"==typeof e)return e;if(e instanceof Error)return e;if("number"==typeof e)return 0!==e;if("string"==typeof e){var t=e.toUpperCase();if("TRUE"===t)return!0;if("FALSE"===t)return!1}return e instanceof Date&&!isNaN(e)||error.value},parseNumber:function(e){return void 0===e||""===e||isNaN(e)?error.value:parseFloat(e)},parseNumberArray:function(t){var n,i;if(!t||0===(n=t.length))return error.value;for(;n--;){if((i=e.parseNumber(t[n]))===error.value)return i;t[n]=i}return t},parseMatrix:function(t){if(!t||0===t.length)return error.value;for(var n,i=0;i<t.length;i++)if(n=e.parseNumberArray(t[i]),t[i]=n,n instanceof Error)return n;return t}},t=new Date(Date.UTC(1900,0,1));return e.parseDate=function(e){if(!isNaN(e)){if(e instanceof Date)return new Date(e);var n=parseInt(e,10);return n<0?error.num:n<=60?new Date(t.getTime()+864e5*(n-1)):new Date(t.getTime()+864e5*(n-2))}return"string"!=typeof e||(e=new Date(e),isNaN(e))?error.value:e},e.parseDateArray=function(e){for(var t,n=e.length;n--;){if((t=this.parseDate(e[n]))===error.value)return t;e[n]=t}return e},e.anyIsError=function(){for(var e=arguments.length;e--;)if(arguments[e]instanceof Error)return!0;return!1},e.arrayValuesToNumbers=function(e){for(var t,n=e.length;n--;)if("number"!=typeof(t=e[n]))if(!0!==t)if(!1!==t){if("string"==typeof t){var i=this.parseNumber(t);i instanceof Error?e[n]=0:e[n]=i}}else e[n]=0;else e[n]=1;return e},e.rest=function(e,t){return t=t||1,e&&"function"==typeof e.slice?e.slice(t):e},e.initial=function(e,t){return t=t||1,e&&"function"==typeof e.slice?e.slice(0,e.length-t):e},e.arrayEach=function(e,t){for(var n=-1,i=e.length;++n<i&&!1!==t(e[n],n,e););return e},e.transpose=function(e){return e?e[0].map((function(t,n){return e.map((function(e){return e[n]}))})):error.value},e}(),met={};met.datetime=function(){var e={},t=new Date(1900,0,1),n=[[],[1,2,3,4,5,6,7],[7,1,2,3,4,5,6],[6,0,1,2,3,4,5],[],[],[],[],[],[],[],[7,1,2,3,4,5,6],[6,7,1,2,3,4,5],[5,6,7,1,2,3,4],[4,5,6,7,1,2,3],[3,4,5,6,7,1,2],[2,3,4,5,6,7,1],[1,2,3,4,5,6,7]];function i(e){return(e-t)/864e5+(e>-22038912e5?2:1)}return e.DATE=function(e,t,n){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:e<0||t<0||n<0?error.num:new Date(e,t-1,n)},e.DATEVALUE=function(e){if("string"!=typeof e)return error.value;var n=Date.parse(e);return isNaN(n)?error.value:n<=-22038912e5?(n-t)/864e5+1:(n-t)/864e5+2},e.DAY=function(e){var t=utils.parseDate(e);return t instanceof Error?t:t.getDate()},e.DAYS=function(e,t){return e=utils.parseDate(e),t=utils.parseDate(t),e instanceof Error?e:t instanceof Error?t:i(e)-i(t)},e.DAYS360=function(e,t,n){},e.EDATE=function(e,t){return(e=utils.parseDate(e))instanceof Error?e:isNaN(t)?error.value:(t=parseInt(t,10),e.setMonth(e.getMonth()+t),i(e))},e.EOMONTH=function(e,t){return(e=utils.parseDate(e))instanceof Error?e:isNaN(t)?error.value:(t=parseInt(t,10),i(new Date(e.getFullYear(),e.getMonth()+t+1,0)))},e.HOUR=function(e){return(e=utils.parseDate(e))instanceof Error?e:e.getHours()},e.INTERVAL=function(e){if("number"!=typeof e&&"string"!=typeof e)return error.value;e=parseInt(e,10);var t=Math.floor(e/94608e4);e%=94608e4;var n=Math.floor(e/2592e3);e%=2592e3;var i=Math.floor(e/86400);e%=86400;var r=Math.floor(e/3600);e%=3600;var s=Math.floor(e/60),a=e%=60;return"P"+(t=t>0?t+"Y":"")+(n=n>0?n+"M":"")+(i=i>0?i+"D":"")+"T"+(r=r>0?r+"H":"")+(s=s>0?s+"M":"")+(a=a>0?a+"S":"")},e.ISOWEEKNUM=function(e){if((e=utils.parseDate(e))instanceof Error)return e;e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)},e.MINUTE=function(e){return(e=utils.parseDate(e))instanceof Error?e:e.getMinutes()},e.MONTH=function(e){return(e=utils.parseDate(e))instanceof Error?e:e.getMonth()+1},e.NETWORKDAYS=function(e,t,n){},e.NETWORKDAYS.INTL=function(e,t,n,i){},e.NOW=function(){return new Date},e.SECOND=function(e){return(e=utils.parseDate(e))instanceof Error?e:e.getSeconds()},e.TIME=function(e,t,n){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:e<0||t<0||n<0?error.num:(3600*e+60*t+n)/86400},e.TIMEVALUE=function(e){return(e=utils.parseDate(e))instanceof Error?e:(3600*e.getHours()+60*e.getMinutes()+e.getSeconds())/86400},e.TODAY=function(){return new Date},e.WEEKDAY=function(e,t){if((e=utils.parseDate(e))instanceof Error)return e;void 0===t&&(t=1);var i=e.getDay();return n[t][i]},e.WEEKNUM=function(e,t){},e.WORKDAY=function(e,t,n){},e.WORKDAY.INTL=function(e,t,n,i){},e.YEAR=function(e){return(e=utils.parseDate(e))instanceof Error?e:e.getFullYear()},e.YEARFRAC=function(e,t,n){},e}(),met.database=function(){var exports={};function compact(e){if(!e)return e;for(var t=[],n=0;n<e.length;++n)e[n]&&t.push(e[n]);return t}function findResultIndex(database,criterias){for(var matches={},i=1;i<database[0].length;++i)matches[i]=!0;var maxCriteriaLength=criterias[0].length;for(i=1;i<criterias.length;++i)criterias[i].length>maxCriteriaLength&&(maxCriteriaLength=criterias[i].length);for(var k=1;k<database.length;++k)for(var l=1;l<database[k].length;++l){for(var currentCriteriaResult=!1,hasMatchingCriteria=!1,j=0;j<criterias.length;++j){var criteria=criterias[j];if(!(criteria.length<maxCriteriaLength)){var criteriaField=criteria[0];if(database[k][0]===criteriaField){hasMatchingCriteria=!0;for(var p=1;p<criteria.length;++p)currentCriteriaResult=currentCriteriaResult||eval(database[k][l]+criteria[p])}}}hasMatchingCriteria&&(matches[l]=matches[l]&&currentCriteriaResult)}for(var result=[],n=0;n<database[0].length;++n)matches[n]&&result.push(n-1);return result}return exports.FINDFIELD=function(e,t){for(var n=null,i=0;i<e.length;i++)if(e[i][0]===t){n=i;break}return n??error.value},exports.DAVERAGE=function(e,t,n){if(isNaN(t)&&"string"!=typeof t)return error.value;var i=findResultIndex(e,n),r=[];if("string"==typeof t){var s=exports.FINDFIELD(e,t);r=utils.rest(e[s])}else r=utils.rest(e[t]);for(var a=0,o=0;o<i.length;o++)a+=r[i[o]];return 0===i.length?error.div0:a/i.length},exports.DCOUNT=function(e,t,n){},exports.DCOUNTA=function(e,t,n){},exports.DGET=function(e,t,n){if(isNaN(t)&&"string"!=typeof t)return error.value;var i=findResultIndex(e,n),r=[];if("string"==typeof t){var s=exports.FINDFIELD(e,t);r=utils.rest(e[s])}else r=utils.rest(e[t]);return 0===i.length?error.value:i.length>1?error.num:r[i[0]]},exports.DMAX=function(e,t,n){if(isNaN(t)&&"string"!=typeof t)return error.value;var i=findResultIndex(e,n),r=[];if("string"==typeof t){var s=exports.FINDFIELD(e,t);r=utils.rest(e[s])}else r=utils.rest(e[t]);for(var a=r[i[0]],o=1;o<i.length;o++)a<r[i[o]]&&(a=r[i[o]]);return a},exports.DMIN=function(e,t,n){if(isNaN(t)&&"string"!=typeof t)return error.value;var i=findResultIndex(e,n),r=[];if("string"==typeof t){var s=exports.FINDFIELD(e,t);r=utils.rest(e[s])}else r=utils.rest(e[t]);for(var a=r[i[0]],o=1;o<i.length;o++)a>r[i[o]]&&(a=r[i[o]]);return a},exports.DPRODUCT=function(e,t,n){if(isNaN(t)&&"string"!=typeof t)return error.value;var i=findResultIndex(e,n),r=[];if("string"==typeof t){var s=exports.FINDFIELD(e,t);r=utils.rest(e[s])}else r=utils.rest(e[t]);for(var a=[],o=0;o<i.length;o++)a[o]=r[i[o]];a=compact(a);var l=1;for(o=0;o<a.length;o++)l*=a[o];return l},exports.DSTDEV=function(e,t,n){},exports.DSTDEVP=function(e,t,n){},exports.DSUM=function(e,t,n){},exports.DVAR=function(e,t,n){},exports.DVARP=function(e,t,n){},exports.MATCH=function(e,t,n){if(!e&&!t)return error.na;if(2===arguments.length&&(n=1),!(t instanceof Array))return error.na;if(-1!==n&&0!==n&&1!==n)return error.na;for(var i,r,s=0;s<t.length;s++)if(1===n){if(t[s]===e)return s+1;t[s]<e&&(r?t[s]>r&&(i=s+1,r=t[s]):(i=s+1,r=t[s]))}else if(0===n){if("string"==typeof e){if(e=e.replace(/\?/g,"."),t[s].toLowerCase().match(e.toLowerCase()))return s+1}else if(t[s]===e)return s+1}else if(-1===n){if(t[s]===e)return s+1;t[s]>e&&(r?t[s]<r&&(i=s+1,r=t[s]):(i=s+1,r=t[s]))}return i||error.na},exports}(),met.engineering=function(){var e={};function t(e){return/^[01]{1,10}$/.test(e)}return e.BESSELI=function(e,t){},e.BESSELJ=function(e,t){},e.BESSELK=function(e,t){},e.BESSELY=function(e,t){},e.BIN2DEC=function(e){if(!t(e))return error.num;var n=parseInt(e,2),i=e.toString();return 10===i.length&&"1"===i.substring(0,1)?parseInt(i.substring(1),2)-512:n},e.BIN2HEX=function(e,n){if(!t(e))return error.num;var i=e.toString();if(10===i.length&&"1"===i.substring(0,1))return(0xfffffffe00+parseInt(i.substring(1),2)).toString(16);var r=parseInt(e,2).toString(16);return void 0===n?r:isNaN(n)?error.value:n<0?error.num:(n=Math.floor(n))>=r.length?REPT("0",n-r.length)+r:error.num},e.BIN2OCT=function(e,n){if(!t(e))return error.num;var i=e.toString();if(10===i.length&&"1"===i.substring(0,1))return(1073741312+parseInt(i.substring(1),2)).toString(8);var r=parseInt(e,2).toString(8);return void 0===n?r:isNaN(n)?error.value:n<0?error.num:(n=Math.floor(n))>=r.length?REPT("0",n-r.length)+r:error.num},e.BITAND=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e<0||t<0||Math.floor(e)!==e||Math.floor(t)!==t||e>0xffffffffffff||t>0xffffffffffff?error.num:e&t},e.BITLSHIFT=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e<0||Math.floor(e)!==e||e>0xffffffffffff||Math.abs(t)>53?error.num:t>=0?e<<t:e>>-t},e.BITOR=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e<0||t<0||Math.floor(e)!==e||Math.floor(t)!==t||e>0xffffffffffff||t>0xffffffffffff?error.num:e|t},e.BITRSHIFT=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e<0||Math.floor(e)!==e||e>0xffffffffffff||Math.abs(t)>53?error.num:t>=0?e>>t:e<<-t},e.BITXOR=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e<0||t<0||Math.floor(e)!==e||Math.floor(t)!==t||e>0xffffffffffff||t>0xffffffffffff?error.num:e^t},e.COMPLEX=function(e,t,n){if(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t))return e;if("i"!==(n=void 0===n?"i":n)&&"j"!==n)return error.value;if(0===e&&0===t)return 0;if(0===e)return 1===t?n:t.toString()+n;if(0===t)return e.toString();var i=t>0?"+":"";return e.toString()+i+(1===t?n:t.toString()+n)},e.CONVERT=function(e,t,n){if((e=utils.parseNumber(e))instanceof Error)return e;for(var i,r=[["a.u. of action","?",null,"action",!1,!1,105457168181818e-48],["a.u. of charge","e",null,"electric_charge",!1,!1,160217653141414e-33],["a.u. of energy","Eh",null,"energy",!1,!1,435974417757576e-32],["a.u. of length","a?",null,"length",!1,!1,529177210818182e-25],["a.u. of mass","m?",null,"mass",!1,!1,910938261616162e-45],["a.u. of time","?/Eh",null,"time",!1,!1,241888432650516e-31],["admiralty knot","admkn",null,"speed",!1,!0,.514773333],["ampere","A",null,"electric_current",!0,!1,1],["ampere per meter","A/m",null,"magnetic_field_intensity",!0,!1,1],["ngstrm","",["ang"],"length",!1,!0,1e-10],["are","ar",null,"area",!1,!0,100],["astronomical unit","ua",null,"length",!1,!1,149597870691667e-25],["bar","bar",null,"pressure",!1,!1,1e5],["barn","b",null,"area",!1,!1,1e-28],["becquerel","Bq",null,"radioactivity",!0,!1,1],["bit","bit",["b"],"information",!1,!0,1],["btu","BTU",["btu"],"energy",!1,!0,1055.05585262],["byte","byte",null,"information",!1,!0,8],["candela","cd",null,"luminous_intensity",!0,!1,1],["candela per square metre","cd/m?",null,"luminance",!0,!1,1],["coulomb","C",null,"electric_charge",!0,!1,1],["cubic ngstrm","ang3",["ang^3"],"volume",!1,!0,1e-30],["cubic foot","ft3",["ft^3"],"volume",!1,!0,.028316846592],["cubic inch","in3",["in^3"],"volume",!1,!0,16387064e-12],["cubic light-year","ly3",["ly^3"],"volume",!1,!0,846786664623715e-61],["cubic metre","m?",null,"volume",!0,!0,1],["cubic mile","mi3",["mi^3"],"volume",!1,!0,4168181825.44058],["cubic nautical mile","Nmi3",["Nmi^3"],"volume",!1,!0,6352182208],["cubic Pica","Pica3",["Picapt3","Pica^3","Picapt^3"],"volume",!1,!0,7.58660370370369e-8],["cubic yard","yd3",["yd^3"],"volume",!1,!0,.764554857984],["cup","cup",null,"volume",!1,!0,.0002365882365],["dalton","Da",["u"],"mass",!1,!1,166053886282828e-41],["day","d",["day"],"time",!1,!0,86400],["degree","",null,"angle",!1,!1,.0174532925199433],["degrees Rankine","Rank",null,"temperature",!1,!0,.555555555555556],["dyne","dyn",["dy"],"force",!1,!0,1e-5],["electronvolt","eV",["ev"],"energy",!1,!0,1.60217656514141],["ell","ell",null,"length",!1,!0,1.143],["erg","erg",["e"],"energy",!1,!0,1e-7],["farad","F",null,"electric_capacitance",!0,!1,1],["fluid ounce","oz",null,"volume",!1,!0,295735295625e-16],["foot","ft",null,"length",!1,!0,.3048],["foot-pound","flb",null,"energy",!1,!0,1.3558179483314],["gal","Gal",null,"acceleration",!1,!1,.01],["gallon","gal",null,"volume",!1,!0,.003785411784],["gauss","G",["ga"],"magnetic_flux_density",!1,!0,1],["grain","grain",null,"mass",!1,!0,647989e-10],["gram","g",null,"mass",!1,!0,.001],["gray","Gy",null,"absorbed_dose",!0,!1,1],["gross registered ton","GRT",["regton"],"volume",!1,!0,2.8316846592],["hectare","ha",null,"area",!1,!0,1e4],["henry","H",null,"inductance",!0,!1,1],["hertz","Hz",null,"frequency",!0,!1,1],["horsepower","HP",["h"],"power",!1,!0,745.69987158227],["horsepower-hour","HPh",["hh","hph"],"energy",!1,!0,2684519.538],["hour","h",["hr"],"time",!1,!0,3600],["imperial gallon (U.K.)","uk_gal",null,"volume",!1,!0,.00454609],["imperial hundredweight","lcwt",["uk_cwt","hweight"],"mass",!1,!0,50.802345],["imperial quart (U.K)","uk_qt",null,"volume",!1,!0,.0011365225],["imperial ton","brton",["uk_ton","LTON"],"mass",!1,!0,1016.046909],["inch","in",null,"length",!1,!0,.0254],["international acre","uk_acre",null,"area",!1,!0,4046.8564224],["IT calorie","cal",null,"energy",!1,!0,4.1868],["joule","J",null,"energy",!0,!0,1],["katal","kat",null,"catalytic_activity",!0,!1,1],["kelvin","K",["kel"],"temperature",!0,!0,1],["kilogram","kg",null,"mass",!0,!0,1],["knot","kn",null,"speed",!1,!0,.514444444444444],["light-year","ly",null,"length",!1,!0,9460730472580800],["litre","L",["l","lt"],"volume",!1,!0,.001],["lumen","lm",null,"luminous_flux",!0,!1,1],["lux","lx",null,"illuminance",!0,!1,1],["maxwell","Mx",null,"magnetic_flux",!1,!1,1e-18],["measurement ton","MTON",null,"volume",!1,!0,1.13267386368],["meter per hour","m/h",["m/hr"],"speed",!1,!0,.00027777777777778],["meter per second","m/s",["m/sec"],"speed",!0,!0,1],["meter per second squared","m?s??",null,"acceleration",!0,!1,1],["parsec","pc",["parsec"],"length",!1,!0,0x6da012f958ee1c],["meter squared per second","m?/s",null,"kinematic_viscosity",!0,!1,1],["metre","m",null,"length",!0,!0,1],["miles per hour","mph",null,"speed",!1,!0,.44704],["millimetre of mercury","mmHg",null,"pressure",!1,!1,133.322],["minute","?",null,"angle",!1,!1,.000290888208665722],["minute","min",["mn"],"time",!1,!0,60],["modern teaspoon","tspm",null,"volume",!1,!0,5e-6],["mole","mol",null,"amount_of_substance",!0,!1,1],["morgen","Morgen",null,"area",!1,!0,2500],["n.u. of action","?",null,"action",!1,!1,105457168181818e-48],["n.u. of mass","m?",null,"mass",!1,!1,910938261616162e-45],["n.u. of speed","c?",null,"speed",!1,!1,299792458],["n.u. of time","?/(me?c??)",null,"time",!1,!1,128808866778687e-35],["nautical mile","M",["Nmi"],"length",!1,!0,1852],["newton","N",null,"force",!0,!0,1],["rsted","Oe ",null,"magnetic_field_intensity",!1,!1,79.5774715459477],["ohm","",null,"electric_resistance",!0,!1,1],["ounce mass","ozm",null,"mass",!1,!0,.028349523125],["pascal","Pa",null,"pressure",!0,!1,1],["pascal second","Pa?s",null,"dynamic_viscosity",!0,!1,1],["pferdestrke","PS",null,"power",!1,!0,735.49875],["phot","ph",null,"illuminance",!1,!1,1e-4],["pica (1/6 inch)","pica",null,"length",!1,!0,.00035277777777778],["pica (1/72 inch)","Pica",["Picapt"],"length",!1,!0,.00423333333333333],["poise","P",null,"dynamic_viscosity",!1,!1,.1],["pond","pond",null,"force",!1,!0,.00980665],["pound force","lbf",null,"force",!1,!0,4.4482216152605],["pound mass","lbm",null,"mass",!1,!0,.45359237],["quart","qt",null,"volume",!1,!0,.000946352946],["radian","rad",null,"angle",!0,!1,1],["second","?",null,"angle",!1,!1,484813681109536e-20],["second","s",["sec"],"time",!0,!0,1],["short hundredweight","cwt",["shweight"],"mass",!1,!0,45.359237],["siemens","S",null,"electrical_conductance",!0,!1,1],["sievert","Sv",null,"equivalent_dose",!0,!1,1],["slug","sg",null,"mass",!1,!0,14.59390294],["square ngstrm","ang2",["ang^2"],"area",!1,!0,1e-20],["square foot","ft2",["ft^2"],"area",!1,!0,.09290304],["square inch","in2",["in^2"],"area",!1,!0,64516e-8],["square light-year","ly2",["ly^2"],"area",!1,!0,895054210748189e17],["square meter","m?",null,"area",!0,!0,1],["square mile","mi2",["mi^2"],"area",!1,!0,2589988.110336],["square nautical mile","Nmi2",["Nmi^2"],"area",!1,!0,3429904],["square Pica","Pica2",["Picapt2","Pica^2","Picapt^2"],"area",!1,!0,1792111111111e-17],["square yard","yd2",["yd^2"],"area",!1,!0,.83612736],["statute mile","mi",null,"length",!1,!0,1609.344],["steradian","sr",null,"solid_angle",!0,!1,1],["stilb","sb",null,"luminance",!1,!1,1e-4],["stokes","St",null,"kinematic_viscosity",!1,!1,1e-4],["stone","stone",null,"mass",!1,!0,6.35029318],["tablespoon","tbs",null,"volume",!1,!0,147868e-10],["teaspoon","tsp",null,"volume",!1,!0,492892e-11],["tesla","T",null,"magnetic_flux_density",!0,!0,1],["thermodynamic calorie","c",null,"energy",!1,!0,4.184],["ton","ton",null,"mass",!1,!0,907.18474],["tonne","t",null,"mass",!1,!1,1e3],["U.K. pint","uk_pt",null,"volume",!1,!0,.00056826125],["U.S. bushel","bushel",null,"volume",!1,!0,.03523907],["U.S. oil barrel","barrel",null,"volume",!1,!0,.158987295],["U.S. pint","pt",["us_pt"],"volume",!1,!0,.000473176473],["U.S. survey mile","survey_mi",null,"length",!1,!0,1609.347219],["U.S. survey/statute acre","us_acre",null,"area",!1,!0,4046.87261],["volt","V",null,"voltage",!0,!1,1],["watt","W",null,"power",!0,!0,1],["watt-hour","Wh",["wh"],"energy",!1,!0,3600],["weber","Wb",null,"magnetic_flux",!0,!1,1],["yard","yd",null,"length",!1,!0,.9144],["year","yr",null,"time",!1,!0,31557600]],s={Yi:["yobi",80,12089258196146292e8,"Yi","yotta"],Zi:["zebi",70,11805916207174113e5,"Zi","zetta"],Ei:["exbi",60,0x1000000000000000,"Ei","exa"],Pi:["pebi",50,0x4000000000000,"Pi","peta"],Ti:["tebi",40,1099511627776,"Ti","tera"],Gi:["gibi",30,1073741824,"Gi","giga"],Mi:["mebi",20,1048576,"Mi","mega"],ki:["kibi",10,1024,"ki","kilo"]},a={Y:["yotta",1e24,"Y"],Z:["zetta",1e21,"Z"],E:["exa",1e18,"E"],P:["peta",1e15,"P"],T:["tera",1e12,"T"],G:["giga",1e9,"G"],M:["mega",1e6,"M"],k:["kilo",1e3,"k"],h:["hecto",100,"h"],e:["dekao",10,"e"],d:["deci",.1,"d"],c:["centi",.01,"c"],m:["milli",.001,"m"],u:["micro",1e-6,"u"],n:["nano",1e-9,"n"],p:["pico",1e-12,"p"],f:["femto",1e-15,"f"],a:["atto",1e-18,"a"],z:["zepto",1e-21,"z"],y:["yocto",1e-24,"y"]},o=null,l=null,c=t,h=n,d=1,p=1,u=0;u<r.length;u++)i=null===r[u][2]?[]:r[u][2],(r[u][1]===c||i.indexOf(c)>=0)&&(o=r[u]),(r[u][1]===h||i.indexOf(h)>=0)&&(l=r[u]);if(null===o){var m=s[t.substring(0,2)],f=a[t.substring(0,1)];"da"===t.substring(0,2)&&(f=["dekao",10,"da"]),m?(d=m[2],c=t.substring(2)):f&&(d=f[1],c=t.substring(f[2].length));for(var g=0;g<r.length;g++)i=null===r[g][2]?[]:r[g][2],(r[g][1]===c||i.indexOf(c)>=0)&&(o=r[g])}if(null===l){var b=s[n.substring(0,2)],y=a[n.substring(0,1)];"da"===n.substring(0,2)&&(y=["dekao",10,"da"]),b?(p=b[2],h=n.substring(2)):y&&(p=y[1],h=n.substring(y[2].length));for(var v=0;v<r.length;v++)i=null===r[v][2]?[]:r[v][2],(r[v][1]===h||i.indexOf(h)>=0)&&(l=r[v])}return null===o||null===l||o[3]!==l[3]?error.na:e*o[6]*d/(l[6]*p)},e.DEC2BIN=function(e,t){if((e=utils.parseNumber(e))instanceof Error)return e;if(!/^-?[0-9]{1,3}$/.test(e)||e<-512||e>511)return error.num;if(e<0)return"1"+REPT("0",9-(512+e).toString(2).length)+(512+e).toString(2);var n=parseInt(e,10).toString(2);return void 0===t?n:isNaN(t)?error.value:t<0?error.num:(t=Math.floor(t))>=n.length?REPT("0",t-n.length)+n:error.num},e.DEC2HEX=function(e,t){if((e=utils.parseNumber(e))instanceof Error)return e;if(!/^-?[0-9]{1,12}$/.test(e)||e<-549755813888||e>549755813887)return error.num;if(e<0)return(1099511627776+e).toString(16);var n=parseInt(e,10).toString(16);return void 0===t?n:isNaN(t)?error.value:t<0?error.num:(t=Math.floor(t))>=n.length?REPT("0",t-n.length)+n:error.num},e.DEC2OCT=function(e,t){if((e=utils.parseNumber(e))instanceof Error)return e;if(!/^-?[0-9]{1,9}$/.test(e)||e<-536870912||e>536870911)return error.num;if(e<0)return(1073741824+e).toString(8);var n=parseInt(e,10).toString(8);return void 0===t?n:isNaN(t)?error.value:t<0?error.num:(t=Math.floor(t))>=n.length?REPT("0",t-n.length)+n:error.num},e.DELTA=function(e,t){return t=void 0===t?0:t,e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e===t?1:0},e.ERF=function(e,t){},e.ERF.PRECISE=function(){},e.ERFC=function(e){},e.ERFC.PRECISE=function(){},e.GESTEP=function(e,t){return t=t||0,e=utils.parseNumber(e),utils.anyIsError(t,e)?e:e>=t?1:0},e.HEX2BIN=function(e,t){if(!/^[0-9A-Fa-f]{1,10}$/.test(e))return error.num;var n=10===e.length&&"f"===e.substring(0,1).toLowerCase(),i=n?parseInt(e,16)-1099511627776:parseInt(e,16);if(i<-512||i>511)return error.num;if(n)return"1"+REPT("0",9-(512+i).toString(2).length)+(512+i).toString(2);var r=i.toString(2);return void 0===t?r:isNaN(t)?error.value:t<0?error.num:(t=Math.floor(t))>=r.length?REPT("0",t-r.length)+r:error.num},e.HEX2DEC=function(e){if(!/^[0-9A-Fa-f]{1,10}$/.test(e))return error.num;var t=parseInt(e,16);return t>=549755813888?t-1099511627776:t},e.HEX2OCT=function(e,t){if(!/^[0-9A-Fa-f]{1,10}$/.test(e))return error.num;var n=parseInt(e,16);if(n>536870911&&n<0xffe0000000)return error.num;if(n>=0xffe0000000)return(n-0xffc0000000).toString(8);var i=n.toString(8);return void 0===t?i:isNaN(t)?error.value:t<0?error.num:(t=Math.floor(t))>=i.length?REPT("0",t-i.length)+i:error.num},e.IMABS=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);return utils.anyIsError(n,i)?error.value:Math.sqrt(Math.pow(n,2)+Math.pow(i,2))},e.IMAGINARY=function(e){if(void 0===e||!0===e||!1===e)return error.value;if(0===e||"0"===e)return 0;if(["i","j"].indexOf(e)>=0)return 1;var t=(e=e.replace("+i","+1i").replace("-i","-1i").replace("+j","+1j").replace("-j","-1j")).indexOf("+"),n=e.indexOf("-");0===t&&(t=e.indexOf("+",1)),0===n&&(n=e.indexOf("-",1));var i=e.substring(e.length-1,e.length),r="i"===i||"j"===i;return t>=0||n>=0?r?t>=0?isNaN(e.substring(0,t))||isNaN(e.substring(t+1,e.length-1))?error.num:Number(e.substring(t+1,e.length-1)):isNaN(e.substring(0,n))||isNaN(e.substring(n+1,e.length-1))?error.num:-Number(e.substring(n+1,e.length-1)):error.num:r?isNaN(e.substring(0,e.length-1))?error.num:e.substring(0,e.length-1):isNaN(e)?error.num:0},e.IMARGUMENT=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);return utils.anyIsError(n,i)?error.value:0===n&&0===i?error.div0:0===n&&i>0?Math.PI/2:0===n&&i<0?-Math.PI/2:0===i&&n>0?0:0===i&&n<0?-Math.PI:n>0?Math.atan(i/n):n<0&&i>=0?Math.atan(i/n)+Math.PI:Math.atan(i/n)-Math.PI},e.IMCONJUGATE=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);return r="i"===r||"j"===r?r:"i",0!==i?e.COMPLEX(n,-i,r):t},e.IMCOS=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);return r="i"===r||"j"===r?r:"i",e.COMPLEX(Math.cos(n)*(Math.exp(i)+Math.exp(-i))/2,-Math.sin(n)*(Math.exp(i)-Math.exp(-i))/2,r)},e.IMCOSH=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);return r="i"===r||"j"===r?r:"i",e.COMPLEX(Math.cos(i)*(Math.exp(n)+Math.exp(-n))/2,Math.sin(i)*(Math.exp(n)-Math.exp(-n))/2,r)},e.IMCOT=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);return utils.anyIsError(n,i)?error.value:e.IMDIV(e.IMCOS(t),e.IMSIN(t))},e.IMDIV=function(t,n){var i=e.IMREAL(t),r=e.IMAGINARY(t),s=e.IMREAL(n),a=e.IMAGINARY(n);if(utils.anyIsError(i,r,s,a))return error.value;var o=t.substring(t.length-1),l=n.substring(n.length-1),c="i";if(("j"===o||"j"===l)&&(c="j"),0===s&&0===a)return error.num;var h=s*s+a*a;return e.COMPLEX((i*s+r*a)/h,(r*s-i*a)/h,c)},e.IMEXP=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);r="i"===r||"j"===r?r:"i";var s=Math.exp(n);return e.COMPLEX(s*Math.cos(i),s*Math.sin(i),r)},e.IMLN=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);return r="i"===r||"j"===r?r:"i",e.COMPLEX(Math.log(Math.sqrt(n*n+i*i)),Math.atan(i/n),r)},e.IMLOG10=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);return r="i"===r||"j"===r?r:"i",e.COMPLEX(Math.log(Math.sqrt(n*n+i*i))/Math.log(10),Math.atan(i/n)/Math.log(10),r)},e.IMLOG2=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);return r="i"===r||"j"===r?r:"i",e.COMPLEX(Math.log(Math.sqrt(n*n+i*i))/Math.log(2),Math.atan(i/n)/Math.log(2),r)},e.IMPOWER=function(t,n){n=utils.parseNumber(n);var i=e.IMREAL(t),r=e.IMAGINARY(t);if(utils.anyIsError(n,i,r))return error.value;var s=t.substring(t.length-1);s="i"===s||"j"===s?s:"i";var a=Math.pow(e.IMABS(t),n),o=e.IMARGUMENT(t);return e.COMPLEX(a*Math.cos(n*o),a*Math.sin(n*o),s)},e.IMPRODUCT=function(){for(var t=arguments[0],n=1;n<arguments.length;n++){var i=e.IMREAL(t),r=e.IMAGINARY(t),s=e.IMREAL(arguments[n]),a=e.IMAGINARY(arguments[n]);if(utils.anyIsError(i,r,s,a))return error.value;t=e.COMPLEX(i*s-r*a,i*a+r*s)}return t},e.IMREAL=function(e){if(void 0===e||!0===e||!1===e)return error.value;if(0===e||"0"===e)return 0;if(["i","+i","1i","+1i","-i","-1i","j","+j","1j","+1j","-j","-1j"].indexOf(e)>=0)return 0;var t=e.indexOf("+"),n=e.indexOf("-");0===t&&(t=e.indexOf("+",1)),0===n&&(n=e.indexOf("-",1));var i=e.substring(e.length-1,e.length),r="i"===i||"j"===i;return t>=0||n>=0?r?t>=0?isNaN(e.substring(0,t))||isNaN(e.substring(t+1,e.length-1))?error.num:Number(e.substring(0,t)):isNaN(e.substring(0,n))||isNaN(e.substring(n+1,e.length-1))?error.num:Number(e.substring(0,n)):error.num:r?isNaN(e.substring(0,e.length-1))?error.num:0:isNaN(e)?error.num:e},e.IMSEC=function(t){if(!0===t||!1===t)return error.value;var n=e.IMREAL(t),i=e.IMAGINARY(t);return utils.anyIsError(n,i)?error.value:e.IMDIV("1",e.IMCOS(t))},e.IMSECH=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);return utils.anyIsError(n,i)?error.value:e.IMDIV("1",e.IMCOSH(t))},e.IMSIN=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);return r="i"===r||"j"===r?r:"i",e.COMPLEX(Math.sin(n)*(Math.exp(i)+Math.exp(-i))/2,Math.cos(n)*(Math.exp(i)-Math.exp(-i))/2,r)},e.IMSINH=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);return r="i"===r||"j"===r?r:"i",e.COMPLEX(Math.cos(i)*(Math.exp(n)-Math.exp(-n))/2,Math.sin(i)*(Math.exp(n)+Math.exp(-n))/2,r)},e.IMSQRT=function(t){var n=e.IMREAL(t),i=e.IMAGINARY(t);if(utils.anyIsError(n,i))return error.value;var r=t.substring(t.length-1);r="i"===r||"j"===r?r:"i";var s=Math.sqrt(e.IMABS(t)),a=e.IMARGUMENT(t);return e.COMPLEX(s*Math.cos(a/2),s*Math.sin(a/2),r)},e.IMCSC=function(t){if(!0===t||!1===t)return error.value;var n=e.IMREAL(t),i=e.IMAGINARY(t);return utils.anyIsError(n,i)?error.num:e.IMDIV("1",e.IMSIN(t))},e.IMCSCH=function(t){if(!0===t||!1===t)return error.value;var n=e.IMREAL(t),i=e.IMAGINARY(t);return utils.anyIsError(n,i)?error.num:e.IMDIV("1",e.IMSINH(t))},e.IMSUB=function(e,t){var n=this.IMREAL(e),i=this.IMAGINARY(e),r=this.IMREAL(t),s=this.IMAGINARY(t);if(utils.anyIsError(n,i,r,s))return error.value;var a=e.substring(e.length-1),o=t.substring(t.length-1),l="i";return("j"===a||"j"===o)&&(l="j"),this.COMPLEX(n-r,i-s,l)},e.IMSUM=function(){for(var e=utils.flatten(arguments),t=e[0],n=1;n<e.length;n++){var i=this.IMREAL(t),r=this.IMAGINARY(t),s=this.IMREAL(e[n]),a=this.IMAGINARY(e[n]);if(utils.anyIsError(i,r,s,a))return error.value;t=this.COMPLEX(i+s,r+a)}return t},e.IMTAN=function(t){if(!0===t||!1===t)return error.value;var n=e.IMREAL(t),i=e.IMAGINARY(t);return utils.anyIsError(n,i)?error.value:this.IMDIV(this.IMSIN(t),this.IMCOS(t))},e.OCT2BIN=function(e,t){if(!/^[0-7]{1,10}$/.test(e))return error.num;var n=10===e.length&&"7"===e.substring(0,1),i=n?parseInt(e,8)-1073741824:parseInt(e,8);if(i<-512||i>511)return error.num;if(n)return"1"+REPT("0",9-(512+i).toString(2).length)+(512+i).toString(2);var r=i.toString(2);return void 0===t?r:isNaN(t)?error.value:t<0?error.num:(t=Math.floor(t))>=r.length?REPT("0",t-r.length)+r:error.num},e.OCT2DEC=function(e){if(!/^[0-7]{1,10}$/.test(e))return error.num;var t=parseInt(e,8);return t>=536870912?t-1073741824:t},e.OCT2HEX=function(e,t){if(!/^[0-7]{1,10}$/.test(e))return error.num;var n=parseInt(e,8);if(n>=536870912)return"ff"+(n+3221225472).toString(16);var i=n.toString(16);return void 0===t?i:isNaN(t)?error.value:t<0?error.num:(t=Math.floor(t))>=i.length?REPT("0",t-i.length)+i:error.num},e}(),met.financial=function(){var e={};function t(e){return e&&e.getTime&&!isNaN(e.getTime())}function n(e){return e instanceof Date?e:new Date(e)}return e.ACCRINT=function(e,i,r,s,a,o,l){return e=n(e),i=n(i),r=n(r),t(e)&&t(i)&&t(r)?s<=0||a<=0||-1===[1,2,4].indexOf(o)||-1===[0,1,2,3,4].indexOf(l)||r<=e?"#NUM!":(l=l||0,(a=a||0)*s*YEARFRAC(e,r,l)):"#VALUE!"},e.ACCRINTM=null,e.AMORDEGRC=null,e.AMORLINC=null,e.COUPDAYBS=null,e.COUPDAYS=null,e.COUPDAYSNC=null,e.COUPNCD=null,e.COUPNUM=null,e.COUPPCD=null,e.CUMIPMT=function(t,n,i,r,s,a){if(t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),utils.anyIsError(t,n,i))return error.value;if(t<=0||n<=0||i<=0)return error.num;if(r<1||s<1||r>s)return error.num;if(0!==a&&1!==a)return error.num;var o=e.PMT(t,n,i,0,a),l=0;1===r&&0===a&&(l=-i,r++);for(var c=r;c<=s;c++)l+=1===a?e.FV(t,c-2,o,i,1)-o:e.FV(t,c-1,o,i,0);return l*=t},e.CUMPRINC=function(t,n,i,r,s,a){if(t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),utils.anyIsError(t,n,i))return error.value;if(t<=0||n<=0||i<=0)return error.num;if(r<1||s<1||r>s)return error.num;if(0!==a&&1!==a)return error.num;var o=e.PMT(t,n,i,0,a),l=0;1===r&&(l=0===a?o+i*t:o,r++);for(var c=r;c<=s;c++)l+=a>0?o-(e.FV(t,c-2,o,i,1)-o)*t:o-e.FV(t,c-1,o,i,0)*t;return l},e.DB=function(e,t,n,i,r){if(r=void 0===r?12:r,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),r=utils.parseNumber(r),utils.anyIsError(e,t,n,i,r))return error.value;if(e<0||t<0||n<0||i<0)return error.num;if(-1===[1,2,3,4,5,6,7,8,9,10,11,12].indexOf(r))return error.num;if(i>n)return error.num;if(t>=e)return 0;for(var s=(1-Math.pow(t/e,1/n)).toFixed(3),a=e*s*r/12,o=a,l=0,c=i===n?n-1:i,h=2;h<=c;h++)o+=l=(e-o)*s;return 1===i?a:i===n?(e-o)*s:l},e.DDB=function(e,t,n,i,r){if(r=void 0===r?2:r,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),r=utils.parseNumber(r),utils.anyIsError(e,t,n,i,r))return error.value;if(e<0||t<0||n<0||i<0||r<=0)return error.num;if(i>n)return error.num;if(t>=e)return 0;for(var s=0,a=0,o=1;o<=i;o++)s+=a=Math.min(r/n*(e-s),e-t-s);return a},e.DISC=null,e.DOLLARDE=function(e,t){if(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;if(t<0)return error.num;if(t>=0&&t<1)return error.div0;t=parseInt(t,10);var n=parseInt(e,10);n+=e%1*Math.pow(10,Math.ceil(Math.log(t)/Math.LN10))/t;var i=Math.pow(10,Math.ceil(Math.log(t)/Math.LN2)+1);return n=Math.round(n*i)/i},e.DOLLARFR=function(e,t){if(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;if(t<0)return error.num;if(t>=0&&t<1)return error.div0;t=parseInt(t,10);var n=parseInt(e,10);return n+=e%1*Math.pow(10,-Math.ceil(Math.log(t)/Math.LN10))*t},e.DURATION=null,e.EFFECT=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e<=0||t<1?error.num:(t=parseInt(t,10),Math.pow(1+e/t,t)-1)},e.FV=function(e,t,n,i,r){if(i=i||0,r=r||0,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),r=utils.parseNumber(r),utils.anyIsError(e,t,n,i,r))return error.value;var s;if(0===e)s=i+n*t;else{var a=Math.pow(1+e,t);s=1===r?i*a+n*(1+e)*(a-1)/e:i*a+n*(a-1)/e}return-s},e.FVSCHEDULE=function(e,t){if(e=utils.parseNumber(e),t=utils.parseNumberArray(utils.flatten(t)),utils.anyIsError(e,t))return error.value;for(var n=t.length,i=e,r=0;r<n;r++)i*=1+t[r];return i},e.INTRATE=null,e.IPMT=function(t,n,i,r,s,a){if(s=s||0,a=a||0,t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),r=utils.parseNumber(r),s=utils.parseNumber(s),a=utils.parseNumber(a),utils.anyIsError(t,n,i,r,s,a))return error.value;var o=e.PMT(t,i,r,s,a);return(1===n?1===a?0:-r:1===a?e.FV(t,n-2,o,r,1)-o:e.FV(t,n-1,o,r,0))*t},e.IRR=function(e,t){if(t=t||0,e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;for(var n=function(e,t,n){for(var i=n+1,r=e[0],s=1;s<e.length;s++)r+=e[s]/Math.pow(i,(t[s]-t[0])/365);return r},i=function(e,t,n){for(var i=n+1,r=0,s=1;s<e.length;s++){var a=(t[s]-t[0])/365;r-=a*e[s]/Math.pow(i,a+1)}return r},r=[],s=!1,a=!1,o=0;o<e.length;o++)r[o]=0===o?0:r[o-1]+365,e[o]>0&&(s=!0),e[o]<0&&(a=!0);if(!s||!a)return error.num;var l,c,h,d=t=void 0===t?.1:t,p=!0;do{l=d-(h=n(e,r,d))/i(e,r,d),c=Math.abs(l-d),d=l,p=c>1e-10&&Math.abs(h)>1e-10}while(p);return d},e.ISPMT=function(e,t,n,i){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),utils.anyIsError(e,t,n,i)?error.value:i*e*(t/n-1)},e.MDURATION=null,e.MIRR=function(t,n,i){if(t=utils.parseNumberArray(utils.flatten(t)),n=utils.parseNumber(n),i=utils.parseNumber(i),utils.anyIsError(t,n,i))return error.value;for(var r=t.length,s=[],a=[],o=0;o<r;o++)t[o]<0?s.push(t[o]):a.push(t[o]);var l=-e.NPV(i,a)*Math.pow(1+i,r-1),c=e.NPV(n,s)*(1+n);return Math.pow(l/c,1/(r-1))-1},e.NOMINAL=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e<=0||t<1?error.num:(t=parseInt(t,10),(Math.pow(e+1,1/t)-1)*t)},e.NPER=function(e,t,n,i,r){if(r=void 0===r?0:r,i=void 0===i?0:i,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),r=utils.parseNumber(r),utils.anyIsError(e,t,n,i,r))return error.value;var s=t*(1+e*r)-i*e,a=n*e+t*(1+e*r);return Math.log(s/a)/Math.log(1+e)},e.NPV=function(){var e=utils.parseNumberArray(utils.flatten(arguments));if(e instanceof Error)return e;for(var t=e[0],n=0,i=1;i<e.length;i++)n+=e[i]/Math.pow(1+t,i);return n},e.ODDFPRICE=null,e.ODDFYIELD=null,e.ODDLPRICE=null,e.ODDLYIELD=null,e.PDURATION=function(e,t,n){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:e<=0?error.num:(Math.log(n)-Math.log(t))/Math.log(1+e)},e.PMT=function(e,t,n,i,r){if(i=i||0,r=r||0,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),r=utils.parseNumber(r),utils.anyIsError(e,t,n,i,r))return error.value;var s;if(0===e)s=(n+i)/t;else{var a=Math.pow(1+e,t);s=1===r?(i*e/(a-1)+n*e/(1-1/a))/(1+e):i*e/(a-1)+n*e/(1-1/a)}return-s},e.PPMT=function(t,n,i,r,s,a){return s=s||0,a=a||0,t=utils.parseNumber(t),i=utils.parseNumber(i),r=utils.parseNumber(r),s=utils.parseNumber(s),a=utils.parseNumber(a),utils.anyIsError(t,i,r,s,a)?error.value:e.PMT(t,i,r,s,a)-e.IPMT(t,n,i,r,s,a)},e.PRICE=null,e.PRICEDISC=null,e.PRICEMAT=null,e.PV=function(e,t,n,i,r){return i=i||0,r=r||0,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),r=utils.parseNumber(r),utils.anyIsError(e,t,n,i,r)?error.value:0===e?-n*t-i:((1-Math.pow(1+e,t))/e*n*(1+e*r)-i)/Math.pow(1+e,t)},e.RATE=function(e,t,n,i,r,s){if(s=void 0===s?.01:s,i=void 0===i?0:i,r=void 0===r?0:r,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),r=utils.parseNumber(r),s=utils.parseNumber(s),utils.anyIsError(e,t,n,i,r,s))return error.value;for(var a=0,o=!1,l=s;a<100&&!o;){var c=Math.pow(l+1,e),h=Math.pow(l+1,e-1),d=l-(i+c*n+t*(c-1)*(l*r+1)/l)/(e*h*n-t*(c-1)*(l*r+1)/Math.pow(l,2)+(e*t*h*(l*r+1)/l+t*(c-1)*r/l));Math.abs(d-l)<1e-6&&(o=!0),a++,l=d}return o?l:Number.NaN+l},e.RECEIVED=null,e.RRI=function(e,t,n){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:0===e||0===t?error.num:Math.pow(n/t,1/e)-1},e.SLN=function(e,t,n){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:0===n?error.num:(e-t)/n},e.SYD=function(e,t,n,i){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumber(i),utils.anyIsError(e,t,n,i)?error.value:0===n||i<1||i>n?error.num:(e-t)*(n-(i=parseInt(i,10))+1)*2/(n*(n+1))},e.TBILLEQ=function(e,t,n){return e=utils.parseDate(e),t=utils.parseDate(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:n<=0||e>t||t-e>31536e6?error.num:365*n/(360-n*DAYS360(e,t,!1))},e.TBILLPRICE=function(e,t,n){return e=utils.parseDate(e),t=utils.parseDate(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:n<=0||e>t||t-e>31536e6?error.num:100*(1-n*DAYS360(e,t,!1)/360)},e.TBILLYIELD=function(e,t,n){return e=utils.parseDate(e),t=utils.parseDate(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:n<=0||e>t||t-e>31536e6?error.num:360*(100-n)/(n*DAYS360(e,t,!1))},e.VDB=null,e.XIRR=function(e,t,n){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseDateArray(utils.flatten(t)),n=utils.parseNumber(n),utils.anyIsError(e,t,n))return error.value;for(var i=function(e,t,n){for(var i=n+1,r=e[0],s=1;s<e.length;s++)r+=e[s]/Math.pow(i,DAYS(t[s],t[0])/365);return r},r=function(e,t,n){for(var i=n+1,r=0,s=1;s<e.length;s++){var a=DAYS(t[s],t[0])/365;r-=a*e[s]/Math.pow(i,a+1)}return r},s=!1,a=!1,o=0;o<e.length;o++)e[o]>0&&(s=!0),e[o]<0&&(a=!0);if(!s||!a)return error.num;var l,c,h,d=n=n||.1,p=!0;do{l=d-(h=i(e,t,d))/r(e,t,d),c=Math.abs(l-d),d=l,p=c>1e-10&&Math.abs(h)>1e-10}while(p);return d},e.XNPV=function(e,t,n){if(e=utils.parseNumber(e),t=utils.parseNumberArray(utils.flatten(t)),n=utils.parseDateArray(utils.flatten(n)),utils.anyIsError(e,t,n))return error.value;for(var i=0,r=0;r<t.length;r++)i+=t[r]/Math.pow(1+e,DAYS(n[r],n[0])/365);return i},e.YIELD=null,e.YIELDDISC=null,e.YIELDMAT=null,e}(),met.information=function(){var e={CELL:null,ERROR:{}};return e.ERROR.TYPE=function(e){switch(e){case error.nil:return 1;case error.div0:return 2;case error.value:return 3;case error.ref:return 4;case error.name:return 5;case error.num:return 6;case error.na:return 7;case error.data:return 8}return error.na},e.INFO=null,e.ISBLANK=function(e){return null===e},e.ISBINARY=function(e){return/^[01]{1,10}$/.test(e)},e.ISERR=function(e){return[error.value,error.ref,error.div0,error.num,error.name,error.nil].indexOf(e)>=0||"number"==typeof e&&(isNaN(e)||!isFinite(e))},e.ISERROR=function(t){return e.ISERR(t)||t===error.na},e.ISEVEN=function(e){return!(1&Math.floor(Math.abs(e)))},e.ISFORMULA=null,e.ISLOGICAL=function(e){return!0===e||!1===e},e.ISNA=function(e){return e===error.na},e.ISNONTEXT=function(e){return"string"!=typeof e},e.ISNUMBER=function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)},e.ISODD=function(e){return!!(1&Math.floor(Math.abs(e)))},e.ISREF=null,e.ISTEXT=function(e){return"string"==typeof e},e.N=function(e){return this.ISNUMBER(e)?e:e instanceof Date?e.getTime():!0===e?1:!1===e?0:this.ISERROR(e)?e:0},e.NA=function(){return error.na},e.SHEET=null,e.SHEETS=null,e.TYPE=function(e){return this.ISNUMBER(e)?1:this.ISTEXT(e)?2:this.ISLOGICAL(e)?4:this.ISERROR(e)?16:Array.isArray(e)?64:void 0},e}(),met.logical=function(){var e={AND:function(){for(var e=utils.flatten(arguments),t=!0,n=0;n<e.length;n++)e[n]||(t=!1);return t},CHOOSE:function(){if(arguments.length<2)return error.na;var e=arguments[0];return e<1||e>254||arguments.length<e+1?error.value:arguments[e]},FALSE:function(){return!1},IF:function(e,t,n){return e?t:n},IFERROR:function(e,t){return ISERROR(e)?t:e},IFNA:function(e,t){return e===error.na?t:e},NOT:function(e){return!e},OR:function(){for(var e=utils.flatten(arguments),t=!1,n=0;n<e.length;n++)e[n]&&(t=!0);return t},TRUE:function(){return!0},XOR:function(){for(var e=utils.flatten(arguments),t=0,n=0;n<e.length;n++)e[n]&&t++;return!!(1&Math.floor(Math.abs(t)))},SWITCH:function(){var e;if(arguments.length>0){var t=arguments[0],n=arguments.length-1,i=Math.floor(n/2),r=!1,s=n%2==0?null:arguments[arguments.length-1];if(i)for(var a=0;a<i;a++)if(t===arguments[2*a+1]){e=arguments[2*a+2],r=!0;break}!r&&s&&(e=s)}return e}};return e}(),met.math=function(){var exports={ABS:function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.abs(utils.parseNumber(e))},ACOS:function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.acos(e)},ACOSH:function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.log(e+Math.sqrt(e*e-1))},ACOT:function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.atan(1/e)},ACOTH:function(e){return(e=utils.parseNumber(e))instanceof Error?e:.5*Math.log((e+1)/(e-1))},AGGREGATE:null,ARABIC:function(e){if(!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(e))return error.value;var t=0;return e.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,(function(e){t+={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}[e]})),t},ASIN:function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.asin(e)},ASINH:function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.log(e+Math.sqrt(e*e+1))},ATAN:function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.atan(e)},ATAN2:function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:Math.atan2(e,t)},ATANH:function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.log((1+e)/(1-e))/2},BASE:function(e,t,n){if(n=n||0,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n))return error.value;n=void 0===n?0:n;var i=e.toString(t);return new Array(Math.max(n+1-i.length,0)).join("0")+i},CEILING:function(e,t,n){return t=void 0===t?1:t,n=void 0===n?0:n,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:0===t?0:(t=Math.abs(t),e>=0?Math.ceil(e/t)*t:0===n?-1*Math.floor(Math.abs(e)/t)*t:-1*Math.ceil(Math.abs(e)/t)*t)}};exports.CEILING.MATH=exports.CEILING,exports.CEILING.PRECISE=exports.CEILING,exports.COMBIN=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:exports.FACT(e)/(exports.FACT(t)*exports.FACT(e-t))},exports.COMBINA=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:0===e&&0===t?1:exports.COMBIN(e+t-1,e-1)},exports.COS=function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.cos(e)},exports.COSH=function(e){return(e=utils.parseNumber(e))instanceof Error?e:(Math.exp(e)+Math.exp(-e))/2},exports.COT=function(e){return(e=utils.parseNumber(e))instanceof Error?e:1/Math.tan(e)},exports.COTH=function(e){if((e=utils.parseNumber(e))instanceof Error)return e;var t=Math.exp(2*e);return(t+1)/(t-1)},exports.CSC=function(e){return(e=utils.parseNumber(e))instanceof Error?e:1/Math.sin(e)},exports.CSCH=function(e){return(e=utils.parseNumber(e))instanceof Error?e:2/(Math.exp(e)-Math.exp(-e))},exports.DECIMAL=function(e,t){return arguments.length<1?error.value:parseInt(e,t)},exports.DEGREES=function(e){return(e=utils.parseNumber(e))instanceof Error?e:180*e/Math.PI},exports.EVEN=function(e){return(e=utils.parseNumber(e))instanceof Error?e:exports.CEILING(e,-2,-1)},exports.EXP=Math.exp;var MEMOIZED_FACT=[];return exports.FACT=function(e){if((e=utils.parseNumber(e))instanceof Error)return e;var t=Math.floor(e);return 0===t||1===t?1:(MEMOIZED_FACT[t]>0||(MEMOIZED_FACT[t]=exports.FACT(t-1)*t),MEMOIZED_FACT[t])},exports.FACTDOUBLE=function(e){if((e=utils.parseNumber(e))instanceof Error)return e;var t=Math.floor(e);return t<=0?1:t*exports.FACTDOUBLE(t-2)},exports.FLOOR=function(e,t,n){return t=void 0===t?1:t,n=void 0===n?0:n,e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:0===t?0:(t=Math.abs(t),e>=0?Math.floor(e/t)*t:0===n?-1*Math.ceil(Math.abs(e)/t)*t:-1*Math.floor(Math.abs(e)/t)*t)},exports.FLOOR.MATH=exports.FLOOR,exports.GCD=null,exports.INT=function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.floor(e)},exports.LCM=function(){var e=utils.parseNumberArray(utils.flatten(arguments));if(e instanceof Error)return e;for(var t,n,i,r,s=1;void 0!==(i=e.pop());)for(;i>1;){if(i%2){for(t=3,n=Math.floor(Math.sqrt(i));t<=n&&i%t;t+=2);r=t<=n?t:i}else r=2;for(i/=r,s*=r,t=e.length;t;e[--t]%r==0&&1==(e[t]/=r)&&e.splice(t,1));}return s},exports.LN=function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.log(e)},exports.LOG=function(e,t){return e=utils.parseNumber(e),t=void 0===t?10:utils.parseNumber(t),utils.anyIsError(e,t)?error.value:Math.log(e)/Math.log(t)},exports.LOG10=function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.log(e)/Math.log(10)},exports.MDETERM=null,exports.MINVERSE=null,exports.MMULT=null,exports.MOD=function(e,t){if(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;if(0===t)return error.div0;var n=Math.abs(e%t);return t>0?n:-n},exports.MROUND=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e*t<0?error.num:Math.round(e/t)*t},exports.MULTINOMIAL=function(){var e=utils.parseNumberArray(utils.flatten(arguments));if(e instanceof Error)return e;for(var t=0,n=1,i=0;i<e.length;i++)t+=e[i],n*=exports.FACT(e[i]);return exports.FACT(t)/n},exports.MUNIT=null,exports.ODD=function(e){if((e=utils.parseNumber(e))instanceof Error)return e;var t=Math.ceil(Math.abs(e));return t=1&t?t:t+1,e>0?t:-t},exports.PI=function(){return Math.PI},exports.POWER=function(e,t){if(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;var n=Math.pow(e,t);return isNaN(n)?error.num:n},exports.PRODUCT=function(){var e=utils.parseNumberArray(utils.flatten(arguments));if(e instanceof Error)return e;for(var t=1,n=0;n<e.length;n++)t*=e[n];return t},exports.QUOTIENT=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:parseInt(e/t,10)},exports.RADIANS=function(e){return(e=utils.parseNumber(e))instanceof Error?e:e*Math.PI/180},exports.RAND=function(){return Math.random()},exports.RANDBETWEEN=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e+Math.ceil((t-e+1)*Math.random())-1},exports.ROMAN=null,exports.ROUND=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:Math.round(e*Math.pow(10,t))/Math.pow(10,t)},exports.ROUNDDOWN=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:(e>0?1:-1)*Math.floor(Math.abs(e)*Math.pow(10,t))/Math.pow(10,t)},exports.ROUNDUP=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:(e>0?1:-1)*Math.ceil(Math.abs(e)*Math.pow(10,t))/Math.pow(10,t)},exports.SEC=function(e){return(e=utils.parseNumber(e))instanceof Error?e:1/Math.cos(e)},exports.SECH=function(e){return(e=utils.parseNumber(e))instanceof Error?e:2/(Math.exp(e)+Math.exp(-e))},exports.SERIESSUM=function(e,t,n,i){if(e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),i=utils.parseNumberArray(i),utils.anyIsError(e,t,n,i))return error.value;for(var r=i[0]*Math.pow(e,t),s=1;s<i.length;s++)r+=i[s]*Math.pow(e,t+s*n);return r},exports.SIGN=function(e){return(e=utils.parseNumber(e))instanceof Error?e:e<0?-1:0===e?0:1},exports.SIN=function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.sin(e)},exports.SINH=function(e){return(e=utils.parseNumber(e))instanceof Error?e:(Math.exp(e)-Math.exp(-e))/2},exports.SQRT=function(e){return(e=utils.parseNumber(e))instanceof Error?e:e<0?error.num:Math.sqrt(e)},exports.SQRTPI=function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.sqrt(e*Math.PI)},exports.SUBTOTAL=null,exports.ADD=function(e,t){return 2!==arguments.length?error.na:(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e+t)},exports.MINUS=function(e,t){return 2!==arguments.length?error.na:(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e-t)},exports.DIVIDE=function(e,t){return 2!==arguments.length?error.na:(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:0===t?error.div0:e/t)},exports.MULTIPLY=function(e,t){return 2!==arguments.length?error.na:(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:e*t)},exports.GTE=function(e,t){return 2!==arguments.length?error.na:(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.error:e>=t)},exports.LT=function(e,t){return 2!==arguments.length?error.na:(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.error:e<t)},exports.LTE=function(e,t){return 2!==arguments.length?error.na:(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.error:e<=t)},exports.EQ=function(e,t){return 2!==arguments.length?error.na:e===t},exports.NE=function(e,t){return 2!==arguments.length?error.na:e!==t},exports.POW=function(e,t){return 2!==arguments.length?error.na:(e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.error:exports.POWER(e,t))},exports.SUM=function(){for(var e=0,t=Object.keys(arguments),n=0;n<t.length;++n){var i=arguments[t[n]];if("number"==typeof i)e+=i;else if("string"==typeof i){var r=parseFloat(i);!isNaN(r)&&(e+=r)}else Array.isArray(i)&&(e+=exports.SUM.apply(null,i))}return e},exports.SUMIF=function(){var args=utils.argsToArray(arguments),criteria=args.pop(),range=utils.parseNumberArray(utils.flatten(args));if(range instanceof Error)return range;for(var result=0,i=0;i<range.length;i++)result+=eval(range[i]+criteria)?range[i]:0;return result},exports.SUMIFS=function(){var args=utils.argsToArray(arguments),range=utils.parseNumberArray(utils.flatten(args.shift()));if(range instanceof Error)return range;for(var criteria=args,n_range_elements=range.length,n_criterias=criteria.length,result=0,i=0;i<n_range_elements;i++){for(var el=range[i],condition="",c=0;c<n_criterias;c+=2)isNaN(criteria[c][i])?condition+='"'+criteria[c][i]+'"'+criteria[c+1]:condition+=criteria[c][i]+criteria[c+1],c!==n_criterias-1&&(condition+=" && ");condition=condition.slice(0,-4),eval(condition)&&(result+=el)}return result},exports.SUMPRODUCT=null,exports.SUMSQ=function(){var e=utils.parseNumberArray(utils.flatten(arguments));if(e instanceof Error)return e;for(var t=0,n=e.length,i=0;i<n;i++)t+=ISNUMBER(e[i])?e[i]*e[i]:0;return t},exports.SUMX2MY2=function(e,t){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumberArray(utils.flatten(t)),utils.anyIsError(e,t))return error.value;for(var n=0,i=0;i<e.length;i++)n+=e[i]*e[i]-t[i]*t[i];return n},exports.SUMX2PY2=function(e,t){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumberArray(utils.flatten(t)),utils.anyIsError(e,t))return error.value;var n=0;e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumberArray(utils.flatten(t));for(var i=0;i<e.length;i++)n+=e[i]*e[i]+t[i]*t[i];return n},exports.SUMXMY2=function(e,t){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumberArray(utils.flatten(t)),utils.anyIsError(e,t))return error.value;var n=0;e=utils.flatten(e),t=utils.flatten(t);for(var i=0;i<e.length;i++)n+=Math.pow(e[i]-t[i],2);return n},exports.TAN=function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.tan(e)},exports.TANH=function(e){if((e=utils.parseNumber(e))instanceof Error)return e;var t=Math.exp(2*e);return(t-1)/(t+1)},exports.TRUNC=function(e,t){return t=void 0===t?0:t,e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:(e>0?1:-1)*Math.floor(Math.abs(e)*Math.pow(10,t))/Math.pow(10,t)},exports}(),met.misc=function(){var e={UNIQUE:function(){for(var e=[],t=0;t<arguments.length;++t){for(var n=!1,i=arguments[t],r=0;r<e.length&&!(n=e[r]===i);++r);n||e.push(i)}return e}};return e.FLATTEN=utils.flatten,e.ARGS2ARRAY=function(){return Array.prototype.slice.call(arguments,0)},e.REFERENCE=function(e,t){try{for(var n=t.split("."),i=e,r=0;r<n.length;++r){var s=n[r];if("]"===s[s.length-1]){var a=s.indexOf("["),o=s.substring(a+1,s.length-1);i=i[s.substring(0,a)][o]}else i=i[s]}return i}catch(e){}},e.JOIN=function(e,t){return e.join(t)},e.NUMBERS=function(){var e=utils.flatten(arguments);return e.filter((function(e){return"number"==typeof e}))},e.NUMERAL=null,e}(),met.text=function(){var e={ASC:null,BAHTTEXT:null,CHAR:function(e){return(e=utils.parseNumber(e))instanceof Error?e:String.fromCharCode(e)},CLEAN:function(e){return(e=e||"").replace(/[\0-\x1F]/g,"")},CODE:function(e){return(e=e||"").charCodeAt(0)},CONCATENATE:function(){for(var e=utils.flatten(arguments),t=0;(t=e.indexOf(!0))>-1;)e[t]="TRUE";for(var n=0;(n=e.indexOf(!1))>-1;)e[n]="FALSE";return e.join("")},DBCS:null,DOLLAR:null,EXACT:function(e,t){return e===t},FIND:function(e,t,n){return n=void 0===n?0:n,t?t.indexOf(e,n-1)+1:null},FIXED:null,HTML2TEXT:function(e){var t="";return e&&(e instanceof Array?e.forEach((function(e){""!==t&&(t+="\n"),t+=e.replace(/<(?:.|\n)*?>/gm,"")})):t=e.replace(/<(?:.|\n)*?>/gm,"")),t},LEFT:function(e,t){return t=void 0===t?1:t,(t=utils.parseNumber(t))instanceof Error||"string"!=typeof e?error.value:e?e.substring(0,t):null},LEN:function(e){return 0===arguments.length?error.error:"string"==typeof e?e?e.length:0:e.length?e.length:error.value},LOWER:function(e){return"string"!=typeof e?error.value:e?e.toLowerCase():e},MID:function(e,t,n){if(t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(t,n)||"string"!=typeof e)return n;var i=t-1,r=i+n;return e.substring(i,r)},NUMBERVALUE:null,PRONETIC:null,PROPER:function(e){return void 0===e||0===e.length?error.value:(!0===e&&(e="TRUE"),!1===e&&(e="FALSE"),isNaN(e)&&"number"==typeof e?error.value:("number"==typeof e&&(e=""+e),e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))))},REGEXEXTRACT:function(e,t){var n=e.match(new RegExp(t));return n?n[n.length>1?n.length-1:0]:null},REGEXMATCH:function(e,t,n){var i=e.match(new RegExp(t));return n?i:!!i},REGEXREPLACE:function(e,t,n){return e.replace(new RegExp(t),n)},REPLACE:function(e,t,n,i){return t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(t,n)||"string"!=typeof e||"string"!=typeof i?error.value:e.substr(0,t-1)+i+e.substr(t-1+n)},REPT:function(e,t){return(t=utils.parseNumber(t))instanceof Error?t:new Array(t+1).join(e)},RIGHT:function(e,t){return t=void 0===t?1:t,(t=utils.parseNumber(t))instanceof Error?t:e?e.substring(e.length-t):null},SEARCH:function(e,t,n){var i;return"string"!=typeof e||"string"!=typeof t?error.value:(n=void 0===n?0:n,0===(i=t.toLowerCase().indexOf(e.toLowerCase(),n-1)+1)?error.value:i)},SPLIT:function(e,t){return e.split(t)},SUBSTITUTE:function(e,t,n,i){if(!(e&&t&&n))return e;if(void 0===i)return e.replace(new RegExp(t,"g"),n);for(var r=0,s=0;e.indexOf(t,r)>0;)if(r=e.indexOf(t,r+1),++s===i)return e.substring(0,r)+n+e.substring(r+t.length)},T:function(e){return"string"==typeof e?e:""},TEXT:null,TRIM:function(e){return"string"!=typeof e?error.value:e.replace(/ +/g," ").trim()}};return e.UNICHAR=e.CHAR,e.UNICODE=e.CODE,e.UPPER=function(e){return"string"!=typeof e?error.value:e.toUpperCase()},e.VALUE=null,e}(),met.stats=function(){var exports={},SQRT2PI=2.5066282746310002;return exports.AVEDEV=null,exports.AVERAGE=function(){for(var e=utils.numbers(utils.flatten(arguments)),t=e.length,n=0,i=0,r=0;r<t;r++)n+=e[r],i+=1;return n/i},exports.AVERAGEA=function(){for(var e=utils.flatten(arguments),t=e.length,n=0,i=0,r=0;r<t;r++){var s=e[r];"number"==typeof s&&(n+=s),!0===s&&n++,null!==s&&i++}return n/i},exports.AVERAGEIF=function(range,criteria,average_range){if(average_range=average_range||range,range=utils.flatten(range),average_range=utils.parseNumberArray(utils.flatten(average_range)),average_range instanceof Error)return average_range;for(var average_count=0,result=0,i=0;i<range.length;i++)eval(range[i]+criteria)&&(result+=average_range[i],average_count++);return result/average_count},exports.AVERAGEIFS=null,exports.COUNT=function(){return utils.numbers(utils.flatten(arguments)).length},exports.COUNTA=function(){var e=utils.flatten(arguments);return e.length-exports.COUNTBLANK(e)},exports.COUNTIN=function(e,t){for(var n=0,i=0;i<e.length;i++)e[i]===t&&n++;return n},exports.COUNTBLANK=function(){for(var e,t=utils.flatten(arguments),n=0,i=0;i<t.length;i++)null!==(e=t[i])&&""!==e||n++;return n},exports.COUNTIF=function(){var args=utils.argsToArray(arguments),criteria=args.pop(),range=utils.flatten(args);/[<>=!]/.test(criteria)||(criteria='=="'+criteria+'"');for(var matches=0,i=0;i<range.length;i++)"string"!=typeof range[i]?eval(range[i]+criteria)&&matches++:eval('"'+range[i]+'"'+criteria)&&matches++;return matches},exports.COUNTIFS=function(){for(var args=utils.argsToArray(arguments),results=new Array(utils.flatten(args[0]).length),i=0;i<results.length;i++)results[i]=!0;for(i=0;i<args.length;i+=2){var range=utils.flatten(args[i]),criteria=args[i+1];/[<>=!]/.test(criteria)||(criteria='=="'+criteria+'"');for(var j=0;j<range.length;j++)"string"!=typeof range[j]?results[j]=results[j]&&eval(range[j]+criteria):results[j]=results[j]&&eval('"'+range[j]+'"'+criteria)}var result=0;for(i=0;i<results.length;i++)results[i]&&result++;return result},exports.COUNTUNIQUE=function(){return UNIQUE.apply(null,utils.flatten(arguments)).length},exports.FISHER=function(e){return(e=utils.parseNumber(e))instanceof Error?e:Math.log((1+e)/(1-e))/2},exports.FISHERINV=function(e){if((e=utils.parseNumber(e))instanceof Error)return e;var t=Math.exp(2*e);return(t-1)/(t+1)},exports.FREQUENCY=function(e,t){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumberArray(utils.flatten(t)),utils.anyIsError(e,t))return error.value;for(var n=e.length,i=t.length,r=[],s=0;s<=i;s++){r[s]=0;for(var a=0;a<n;a++)0===s?e[a]<=t[0]&&(r[0]+=1):s<i?e[a]>t[s-1]&&e[a]<=t[s]&&(r[s]+=1):s===i&&e[a]>t[i-1]&&(r[i]+=1)}return r},exports.LARGE=function(e,t){return e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),utils.anyIsError(e,t)?e:e.sort((function(e,t){return t-e}))[t-1]},exports.MAX=function(){var e=utils.numbers(utils.flatten(arguments));return 0===e.length?0:Math.max.apply(Math,e)},exports.MAXA=function(){var e=utils.arrayValuesToNumbers(utils.flatten(arguments));return 0===e.length?0:Math.max.apply(Math,e)},exports.MIN=function(){var e=utils.numbers(utils.flatten(arguments));return 0===e.length?0:Math.min.apply(Math,e)},exports.MINA=function(){var e=utils.arrayValuesToNumbers(utils.flatten(arguments));return 0===e.length?0:Math.min.apply(Math,e)},exports.MODE={},exports.MODE.MULT=function(){var e=utils.parseNumberArray(utils.flatten(arguments));if(e instanceof Error)return e;for(var t,n=e.length,i={},r=[],s=0,a=0;a<n;a++)i[t=e[a]]=i[t]?i[t]+1:1,i[t]>s&&(s=i[t],r=[]),i[t]===s&&(r[r.length]=t);return r},exports.MODE.SNGL=function(){var e=utils.parseNumberArray(utils.flatten(arguments));return e instanceof Error?e:exports.MODE.MULT(e).sort((function(e,t){return e-t}))[0]},exports.PERCENTILE={},exports.PERCENTILE.EXC=function(e,t){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;e=e.sort((function(e,t){return e-t}));var n=e.length;if(t<1/(n+1)||t>1-1/(n+1))return error.num;var i=t*(n+1)-1,r=Math.floor(i);return utils.cleanFloat(i===r?e[i]:e[r]+(i-r)*(e[r+1]-e[r]))},exports.PERCENTILE.INC=function(e,t){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;e=e.sort((function(e,t){return e-t}));var n=t*(e.length-1),i=Math.floor(n);return utils.cleanFloat(n===i?e[n]:e[i]+(n-i)*(e[i+1]-e[i]))},exports.PERCENTRANK={},exports.PERCENTRANK.EXC=function(e,t,n){if(n=void 0===n?3:n,e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n))return error.value;e=e.sort((function(e,t){return e-t}));for(var i=UNIQUE.apply(null,e),r=e.length,s=i.length,a=Math.pow(10,n),o=0,l=!1,c=0;!l&&c<s;)t===i[c]?(o=(e.indexOf(i[c])+1)/(r+1),l=!0):t>=i[c]&&(t<i[c+1]||c===s-1)&&(o=(e.indexOf(i[c])+1+(t-i[c])/(i[c+1]-i[c]))/(r+1),l=!0),c++;return Math.floor(o*a)/a},exports.PERCENTRANK.INC=function(e,t,n){if(n=void 0===n?3:n,e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n))return error.value;e=e.sort((function(e,t){return e-t}));for(var i=UNIQUE.apply(null,e),r=e.length,s=i.length,a=Math.pow(10,n),o=0,l=!1,c=0;!l&&c<s;)t===i[c]?(o=e.indexOf(i[c])/(r-1),l=!0):t>=i[c]&&(t<i[c+1]||c===s-1)&&(o=(e.indexOf(i[c])+(t-i[c])/(i[c+1]-i[c]))/(r-1),l=!0),c++;return Math.floor(o*a)/a},exports.PERMUT=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:FACT(e)/FACT(e-t)},exports.PERMUTATIONA=function(e,t){return e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(e,t)?error.value:Math.pow(e,t)},exports.PHI=function(e){return(e=utils.parseNumber(e))instanceof Error?error.value:Math.exp(-.5*e*e)/SQRT2PI},exports.PROB=function(e,t,n,i){if(void 0===n)return 0;if(i=void 0===i?n:i,e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumberArray(utils.flatten(t)),n=utils.parseNumber(n),i=utils.parseNumber(i),utils.anyIsError(e,t,n,i))return error.value;if(n===i)return e.indexOf(n)>=0?t[e.indexOf(n)]:0;for(var r=e.sort((function(e,t){return e-t})),s=r.length,a=0,o=0;o<s;o++)r[o]>=n&&r[o]<=i&&(a+=t[e.indexOf(r[o])]);return a},exports.QUARTILE={},exports.QUARTILE.EXC=function(e,t){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;switch(t){case 1:return exports.PERCENTILE.EXC(e,.25);case 2:return exports.PERCENTILE.EXC(e,.5);case 3:return exports.PERCENTILE.EXC(e,.75);default:return error.num}},exports.QUARTILE.INC=function(e,t){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;switch(t){case 1:return exports.PERCENTILE.INC(e,.25);case 2:return exports.PERCENTILE.INC(e,.5);case 3:return exports.PERCENTILE.INC(e,.75);default:return error.num}},exports.RANK={},exports.RANK.AVG=function(e,t,n){if(e=utils.parseNumber(e),t=utils.parseNumberArray(utils.flatten(t)),utils.anyIsError(e,t))return error.value;for(var i=(n=n||!1)?function(e,t){return e-t}:function(e,t){return t-e},r=(t=(t=utils.flatten(t)).sort(i)).length,s=0,a=0;a<r;a++)t[a]===e&&s++;return s>1?(2*t.indexOf(e)+s+1)/2:t.indexOf(e)+1},exports.RANK.EQ=function(e,t,n){if(e=utils.parseNumber(e),t=utils.parseNumberArray(utils.flatten(t)),utils.anyIsError(e,t))return error.value;var i=(n=n||!1)?function(e,t){return e-t}:function(e,t){return t-e};return(t=t.sort(i)).indexOf(e)+1},exports.RSQ=function(e,t){return e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumberArray(utils.flatten(t)),utils.anyIsError(e,t)?error.value:Math.pow(exports.PEARSON(e,t),2)},exports.SMALL=function(e,t){return e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),utils.anyIsError(e,t)?e:e.sort((function(e,t){return e-t}))[t-1]},exports.STANDARDIZE=function(e,t,n){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:(e-t)/n},exports.STDEV={},exports.STDEV.P=function(){var e=exports.VAR.P.apply(this,arguments);return Math.sqrt(e)},exports.STDEV.S=function(){var e=exports.VAR.S.apply(this,arguments);return Math.sqrt(e)},exports.STDEVA=function(){var e=exports.VARA.apply(this,arguments);return Math.sqrt(e)},exports.STDEVPA=function(){var e=exports.VARPA.apply(this,arguments);return Math.sqrt(e)},exports.VAR={},exports.VAR.P=function(){for(var e=utils.numbers(utils.flatten(arguments)),t=e.length,n=0,i=exports.AVERAGE(e),r=0;r<t;r++)n+=Math.pow(e[r]-i,2);return n/t},exports.VAR.S=function(){for(var e=utils.numbers(utils.flatten(arguments)),t=e.length,n=0,i=exports.AVERAGE(e),r=0;r<t;r++)n+=Math.pow(e[r]-i,2);return n/(t-1)},exports.VARA=function(){for(var e=utils.flatten(arguments),t=e.length,n=0,i=0,r=exports.AVERAGEA(e),s=0;s<t;s++){var a=e[s];n+="number"==typeof a?Math.pow(a-r,2):!0===a?Math.pow(1-r,2):Math.pow(0-r,2),null!==a&&i++}return n/(i-1)},exports.VARPA=function(){for(var e=utils.flatten(arguments),t=e.length,n=0,i=0,r=exports.AVERAGEA(e),s=0;s<t;s++){var a=e[s];n+="number"==typeof a?Math.pow(a-r,2):!0===a?Math.pow(1-r,2):Math.pow(0-r,2),null!==a&&i++}return n/i},exports.WEIBULL={},exports.WEIBULL.DIST=function(e,t,n,i){return e=utils.parseNumber(e),t=utils.parseNumber(t),n=utils.parseNumber(n),utils.anyIsError(e,t,n)?error.value:i?1-Math.exp(-Math.pow(e/n,t)):Math.pow(e,t-1)*Math.exp(-Math.pow(e/n,t))*t/Math.pow(n,t)},exports.Z={},exports.Z.TEST=function(e,t,n){if(e=utils.parseNumberArray(utils.flatten(e)),t=utils.parseNumber(t),utils.anyIsError(e,t))return error.value;n=n||exports.STDEV.S(e);var i=e.length;return 1-exports.NORM.S.DIST((exports.AVERAGE(e)-t)/(n/Math.sqrt(i)),!0)},exports}(),met.utils=function(){var e={PROGRESS:function(e,t){return'<div style="width:'+(e||"0")+"%;height:4px;background-color:"+(t||"red")+';margin-top:1px;"></div>'},RATING:function(e){for(var t='<div class="jrating">',n=0;n<5;n++)t+=n<e?'<div class="jrating-selected"></div>':"<div></div>";return t+="</div>"}};return e}();for(var i=0;i<Object.keys(met).length;i++)for(var methods=met[Object.keys(met)[i]],keys=Object.keys(methods),j=0;j<keys.length;j++)if(methods[keys[j]])if("function"==typeof methods[keys[j]]||"object"==typeof methods[keys[j]]){if(window[keys[j]]=methods[keys[j]],window[keys[j]].toString=function(){return"#ERROR"},"object"==typeof methods[keys[j]])for(var tmp=Object.keys(methods[keys[j]]),z=0;z<tmp.length;z++)window[keys[j]][tmp[z]].toString=function(){return"#ERROR"}}else window[keys[j]]=function(){return keys[j]+"Not implemented"};else window[keys[j]]=function(){return keys[j]+"Not implemented"};var x=null,y=null,instance=null;window.TABLE=function(){return instance},window.COLUMN=window.COL=function(){return parseInt(x)+1},window.ROW=function(){return parseInt(y)+1},window.CELL=function(){return F.getColumnNameFromCoords(x,y)},window.VALUE=function(e,t,n){return instance.getValueFromCoords(parseInt(e)-1,parseInt(t)-1,n)},window.THISROWCELL=function(e){return instance.getValueFromCoords(parseInt(e)-1,parseInt(y))};var secureFormula=function(e,t){for(var n="",i=0,r=["=","!",">","<"],s=0;s<e.length;s++)'"'==e[s]&&(i=0==i?1:0),1==i?n+=e[s]:(n+=e[s].toUpperCase(),1==t&&s>0&&"="==e[s]&&-1==r.indexOf(e[s-1])&&-1==r.indexOf(e[s+1])&&(n+="="));return n=(n=(n=(n=n.replace(/\^/g,"**")).replace(/\<\>/g,"!=")).replace(/\&/g,"+")).replace(/\$/g,"")},tokensUpdate=function(e,t){for(var n=0;n<e.length;n++){var i=F.getTokensFromRange(e[n]);t=t.replace(e[n],"["+i.join(",")+"]")}return t},F=function(e,t,n,i,r){instance=r,x=n,y=i;var s="",a=Object.keys(t);if(a.length)for(n=0;n<a.length;n++)-1==a[n].indexOf(".")&&-1==a[n].indexOf("!")?s+="var "+a[n]+" = "+t[a[n]]+";\n":s+=a[n]+" = "+t[a[n]]+";\n";e=(e=e.replace(/\$/g,"")).replace(/\!/g,".");var o=(e=secureFormula(e,!0)).match(/([A-Z]+[0-9]*\.)?(\$?[A-Z]+\$?[0-9]+):(\$?[A-Z]+\$?[0-9]+)?/g);return o&&o.length&&(e=tokensUpdate(o,e)),new Function(s+"; return "+e)()},getColumnName=function(e){var t="";return e>701?(t+=String.fromCharCode(64+parseInt(e/676)),t+=String.fromCharCode(64+parseInt(e%676/26))):e>25&&(t+=String.fromCharCode(64+parseInt(e/26))),t+=String.fromCharCode(65+e%26)};return F.getColumnNameFromCoords=function(e,t){return getColumnName(parseInt(e))+(parseInt(t)+1)},F.getCoordsFromColumnName=function(e){var t=/^[a-zA-Z]+/.exec(e);if(t){for(var n=0,i=0;i<t[0].length;i++)n+=parseInt(t[0].charCodeAt(i)-64)*Math.pow(26,t[0].length-1-i);--n<0&&(n=0);var r=parseInt(/[0-9]+$/.exec(e))||null;return r>0&&r--,[n,r]}},F.getRangeFromTokens=function(e){e=e.filter((function(e){return"#REF!"!=e}));for(var t="",n="",i=0;i<e.length;i++)e[i].indexOf(".")>=0?t=".":e[i].indexOf("!")>=0&&(t="!"),t&&(n=e[i].split(t),e[i]=n[1],n=n[0]+t);return e.sort((function(e,t){var n=Helpers.getCoordsFromColumnName(e),i=Helpers.getCoordsFromColumnName(t);return n[1]>i[1]?1:n[1]<i[1]?-1:n[0]>i[0]?1:n[0]<i[0]?-1:0})),e.length?n+(e[0]+":")+e[e.length-1]:"#REF!"},F.getTokensFromRange=function(e){if(e.indexOf(".")>0){var t=e.split(".");e=t[1],t=t[0]+"."}else if(e.indexOf("!")>0){t=e.split("!");e=t[1],t=t[0]+"!"}else t="";e=e.split(":");var n=F.getCoordsFromColumnName(e[0]),i=F.getCoordsFromColumnName(e[1]);if(n[0]<=i[0])var r=n[0],s=i[0];else r=i[0],s=n[0];if(null===n[1]&&null==i[1])for(var a=null,o=null,l=Object.keys(vars),c=0;c<l.length;c++){var h=F.getCoordsFromColumnName(l[c]);h[0]===n[0]&&(null===a||h[1]<a)&&(a=h[1]),h[0]===i[0]&&(null===o||h[1]>o)&&(o=h[1])}else if(n[1]<=i[1])a=n[1],o=i[1];else a=i[1],o=n[1];for(var d=[],p=a;p<=o;p++){var u=[];for(c=r;c<=s;c++)u.push(t+F.getColumnNameFromCoords(c,p));d.push(u)}return d},F.setFormula=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)"function"==typeof e[t[n]]&&(window[t[n]]=e[t[n]])},F}(),factory;if(!jSuites&&"function"==typeof commonjsRequire$1)var jSuites=jsuites.exports;factory=function(){var Version=(info={title:"Jspreadsheet",version:"4.10.1",type:"CE",host:"https://bossanova.uk/jspreadsheet",license:"MIT",print:function(){return[this.title+" "+this.type+" "+this.version,this.host,this.license].join("\r\n")}},function(){return info}),info,isFormula=function(e){var t=(""+e)[0];return"="==t||"#"==t},getMask=function(e){if(e.format||e.mask||e.locale){var t={};return e.mask?t.mask=e.mask:e.format?t.mask=e.format:(t.locale=e.locale,t.options=e.options),e.decimal&&(t.options||(t.options={}),t.options={decimal:e.decimal}),t}return null},jexcel=function(el,options){var obj={options:{}};if(!(el instanceof Element||el instanceof HTMLDocument))return console.error("Jspreadsheet: el is not a valid DOM element"),!1;if("TABLE"==el.tagName){if(!(options=jexcel.createFromTable(el,options)))return console.error("Jspreadsheet: el is not a valid DOM element"),!1;var div=document.createElement("div");el.parentNode.insertBefore(div,el),el.remove(),el=div}var defaults={url:null,method:"GET",requestVariables:null,data:null,sorting:null,copyCompatibility:!1,root:null,rows:[],columns:[],colHeaders:[],colWidths:[],colAlignments:[],nestedHeaders:null,defaultColWidth:50,defaultColAlign:"center",defaultRowHeight:null,minSpareRows:0,minSpareCols:0,minDimensions:[0,0],allowExport:!0,includeHeadersOnDownload:!1,includeHeadersOnCopy:!1,columnSorting:!0,columnDrag:!1,columnResize:!0,rowResize:!1,rowDrag:!0,editable:!0,allowInsertRow:!0,allowManualInsertRow:!0,allowInsertColumn:!0,allowManualInsertColumn:!0,allowDeleteRow:!0,allowDeletingAllRows:!1,allowDeleteColumn:!0,allowRenameColumn:!0,allowComments:!1,wordWrap:!1,imageOptions:null,csv:null,csvFileName:"jspreadsheet",csvHeaders:!0,csvDelimiter:",",parseTableFirstRowAsHeader:!1,parseTableAutoCellType:!1,selectionCopy:!0,mergeCells:{},toolbar:null,search:!1,pagination:!1,paginationOptions:null,fullscreen:!1,lazyLoading:!1,loadingSpin:!1,tableOverflow:!1,tableHeight:"300px",tableWidth:null,textOverflow:!1,meta:null,style:null,classes:null,parseFormulas:!0,autoIncrement:!0,autoCasting:!0,secureFormulas:!0,stripHTML:!0,stripHTMLOnCopy:!1,filters:!1,footers:null,onundo:null,onredo:null,onload:null,onchange:null,oncomments:null,onbeforechange:null,onafterchanges:null,onbeforeinsertrow:null,oninsertrow:null,onbeforeinsertcolumn:null,oninsertcolumn:null,onbeforedeleterow:null,ondeleterow:null,onbeforedeletecolumn:null,ondeletecolumn:null,onmoverow:null,onmovecolumn:null,onresizerow:null,onresizecolumn:null,onsort:null,onselection:null,oncopy:null,onpaste:null,onbeforepaste:null,onmerge:null,onfocus:null,onblur:null,onchangeheader:null,oncreateeditor:null,oneditionstart:null,oneditionend:null,onchangestyle:null,onchangemeta:null,onchangepage:null,onbeforesave:null,onsave:null,onevent:null,persistance:!1,updateTable:null,detachForUpdates:!1,freezeColumns:null,text:{noRecordsFound:"No records found",showingPage:"Showing page {0} of {1} entries",show:"Show ",search:"Search",entries:" entries",columnName:"Column name",insertANewColumnBefore:"Insert a new column before",insertANewColumnAfter:"Insert a new column after",deleteSelectedColumns:"Delete selected columns",renameThisColumn:"Rename this column",orderAscending:"Order ascending",orderDescending:"Order descending",insertANewRowBefore:"Insert a new row before",insertANewRowAfter:"Insert a new row after",deleteSelectedRows:"Delete selected rows",editComments:"Edit comments",addComments:"Add comments",comments:"Comments",clearComments:"Clear comments",copy:"Copy...",paste:"Paste...",saveAs:"Save as...",about:"About",areYouSureToDeleteTheSelectedRows:"Are you sure to delete the selected rows?",areYouSureToDeleteTheSelectedColumns:"Are you sure to delete the selected columns?",thisActionWillDestroyAnyExistingMergedCellsAreYouSure:"This action will destroy any existing merged cells. Are you sure?",thisActionWillClearYourSearchResultsAreYouSure:"This action will clear your search results. Are you sure?",thereIsAConflictWithAnotherMergedCell:"There is a conflict with another merged cell",invalidMergeProperties:"Invalid merged properties",cellAlreadyMerged:"Cell already merged",noCellsSelected:"No cells selected"},about:!0};for(var property in defaults)if(options&&options.hasOwnProperty(property))if("text"===property)for(var textKey in obj.options[property]=defaults[property],options[property])options[property].hasOwnProperty(textKey)&&(obj.options[property][textKey]=options[property][textKey]);else obj.options[property]=options[property];else obj.options[property]=defaults[property];obj.el=el,obj.corner=null,obj.contextMenu=null,obj.textarea=null,obj.ads=null,obj.content=null,obj.table=null,obj.thead=null,obj.tbody=null,obj.rows=[],obj.results=null,obj.searchInput=null,obj.toolbar=null,obj.pagination=null,obj.pageNumber=null,obj.headerContainer=null,obj.colgroupContainer=null,obj.headers=[],obj.records=[],obj.history=[],obj.formula=[],obj.colgroup=[],obj.selection=[],obj.highlighted=[],obj.selectedCell=null,obj.selectedContainer=null,obj.style=[],obj.data=null,obj.filter=null,obj.filters=[],obj.cursor=null,obj.historyIndex=-1,obj.ignoreEvents=!1,obj.ignoreHistory=!1,obj.edition=null,obj.hashString=null,obj.resizing=null,obj.dragging=null,1==obj.options.lazyLoading&&0==obj.options.tableOverflow&&0==obj.options.fullscreen&&(console.error("Jspreadsheet: The lazyloading only works when tableOverflow = yes or fullscreen = yes"),obj.options.lazyLoading=!1),obj.fullscreen=function(e){null==e&&(e=!obj.options.fullscreen),obj.options.fullscreen!=e&&(obj.options.fullscreen=e,1==e?el.classList.add("fullscreen"):el.classList.remove("fullscreen"))},obj.dispatch=function(e){if(!obj.ignoreEvents){if("function"==typeof obj.options.onevent)var t=obj.options.onevent.apply(this,arguments);"function"==typeof obj.options[e]&&(t=obj.options[e].apply(this,Array.prototype.slice.call(arguments,1)))}if("onafterchanges"==e&&obj.options.persistance){var n=1==obj.options.persistance?obj.options.url:obj.options.persistance,i=obj.prepareJson(arguments[2]);obj.save(n,i)}return t},obj.prepareTable=function(){var e=obj.options.columns.length;if(obj.options.data&&void 0!==obj.options.data[0]){var t=Object.keys(obj.options.data[0]);t.length>e&&(e=t.length)}obj.options.minDimensions[0]>e&&(e=obj.options.minDimensions[0]);for(var n=[],i=0;i<e;i++)obj.options.colHeaders[i]||(obj.options.colHeaders[i]=""),obj.options.colWidths[i]||(obj.options.colWidths[i]=obj.options.defaultColWidth),obj.options.colAlignments[i]||(obj.options.colAlignments[i]=obj.options.defaultColAlign),obj.options.columns[i]?obj.options.columns[i].type||(obj.options.columns[i].type="text"):obj.options.columns[i]={type:"text"},obj.options.columns[i].name||(obj.options.columns[i].name=t&&t[i]?t[i]:i),obj.options.columns[i].source||(obj.options.columns[i].source=[]),obj.options.columns[i].options||(obj.options.columns[i].options=[]),obj.options.columns[i].editor||(obj.options.columns[i].editor=null),obj.options.columns[i].allowEmpty||(obj.options.columns[i].allowEmpty=!1),obj.options.columns[i].title||(obj.options.columns[i].title=obj.options.colHeaders[i]?obj.options.colHeaders[i]:""),obj.options.columns[i].width||(obj.options.columns[i].width=obj.options.colWidths[i]?obj.options.colWidths[i]:obj.options.defaultColWidth),obj.options.columns[i].align||(obj.options.columns[i].align=obj.options.colAlignments[i]?obj.options.colAlignments[i]:"center"),"autocomplete"==obj.options.columns[i].type||"dropdown"==obj.options.columns[i].type?obj.options.columns[i].url&&n.push({url:obj.options.columns[i].url,index:i,method:"GET",dataType:"json",success:function(e){for(var t=0;t<e.length;t++)obj.options.columns[this.index].source.push(e[t])}}):"calendar"==obj.options.columns[i].type&&(obj.options.columns[i].options.format||(obj.options.columns[i].options.format="DD/MM/YYYY"));n.length?jSuites.ajax(n,(function(){obj.createTable()})):obj.createTable()},obj.createTable=function(){obj.table=document.createElement("table"),obj.thead=document.createElement("thead"),obj.tbody=document.createElement("tbody"),obj.headers=[],obj.colgroup=[],obj.content=document.createElement("div"),obj.content.classList.add("jexcel_content"),obj.content.onscroll=function(e){obj.scrollControls(e)},obj.content.onwheel=function(e){obj.wheelControls(e)},obj.toolbar=document.createElement("div"),obj.toolbar.classList.add("jexcel_toolbar");var e=document.createElement("div"),t=document.createTextNode(obj.options.text.search+": ");obj.searchInput=document.createElement("input"),obj.searchInput.classList.add("jexcel_search"),e.appendChild(t),e.appendChild(obj.searchInput),obj.searchInput.onfocus=function(){obj.resetSelection()};var n=document.createElement("div");if(obj.options.pagination>0&&obj.options.paginationOptions&&obj.options.paginationOptions.length>0){obj.paginationDropdown=document.createElement("select"),obj.paginationDropdown.classList.add("jexcel_pagination_dropdown"),obj.paginationDropdown.onchange=function(){obj.options.pagination=parseInt(this.value),obj.page(0)};for(var i=0;i<obj.options.paginationOptions.length;i++){var r=document.createElement("option");r.value=obj.options.paginationOptions[i],r.innerHTML=obj.options.paginationOptions[i],obj.paginationDropdown.appendChild(r)}obj.paginationDropdown.value=obj.options.pagination,n.appendChild(document.createTextNode(obj.options.text.show)),n.appendChild(obj.paginationDropdown),n.appendChild(document.createTextNode(obj.options.text.entries))}var s,a=document.createElement("div");if(a.classList.add("jexcel_filter"),a.appendChild(n),a.appendChild(e),obj.colgroupContainer=document.createElement("colgroup"),(s=document.createElement("col")).setAttribute("width","50"),obj.colgroupContainer.appendChild(s),obj.options.nestedHeaders&&obj.options.nestedHeaders.length>0)if(obj.options.nestedHeaders[0]&&obj.options.nestedHeaders[0][0])for(var o=0;o<obj.options.nestedHeaders.length;o++)obj.thead.appendChild(obj.createNestedHeader(obj.options.nestedHeaders[o]));else obj.thead.appendChild(obj.createNestedHeader(obj.options.nestedHeaders));for(obj.headerContainer=document.createElement("tr"),(s=document.createElement("td")).classList.add("jexcel_selectall"),obj.headerContainer.appendChild(s),i=0;i<obj.options.columns.length;i++)obj.createCellHeader(i),obj.headerContainer.appendChild(obj.headers[i]),obj.colgroupContainer.appendChild(obj.colgroup[i]);if(obj.thead.appendChild(obj.headerContainer),1==obj.options.filters){obj.filter=document.createElement("tr");var l=document.createElement("td");for(obj.filter.appendChild(l),i=0;i<obj.options.columns.length;i++)(l=document.createElement("td")).innerHTML="&nbsp;",l.setAttribute("data-x",i),l.className="jexcel_column_filter","hidden"==obj.options.columns[i].type&&(l.style.display="none"),obj.filter.appendChild(l);obj.thead.appendChild(obj.filter)}obj.table=document.createElement("table"),obj.table.classList.add("jexcel"),obj.table.setAttribute("cellpadding","0"),obj.table.setAttribute("cellspacing","0"),obj.table.setAttribute("unselectable","yes"),obj.table.appendChild(obj.colgroupContainer),obj.table.appendChild(obj.thead),obj.table.appendChild(obj.tbody),obj.options.textOverflow||obj.table.classList.add("jexcel_overflow"),obj.corner=document.createElement("div"),obj.corner.className="jexcel_corner",obj.corner.setAttribute("unselectable","on"),obj.corner.setAttribute("onselectstart","return false"),0==obj.options.selectionCopy&&(obj.corner.style.display="none"),obj.textarea=document.createElement("textarea"),obj.textarea.className="jexcel_textarea",obj.textarea.id="jexcel_textarea",obj.textarea.tabIndex="-1",obj.contextMenu=document.createElement("div"),obj.contextMenu.className="jexcel_contextmenu",jSuites.contextmenu(obj.contextMenu,{onclick:function(){obj.contextMenu.contextmenu.close(!1)}});var c=document.createElement("a");c.setAttribute("href","https://bossanova.uk/jspreadsheet/"),obj.ads=document.createElement("div"),obj.ads.className="jexcel_about";try{if("undefined"!=typeof sessionStorage&&!sessionStorage.getItem("jexcel")){sessionStorage.setItem("jexcel",!0);var h=document.createElement("img");h.src="//bossanova.uk/jspreadsheet/logo.png",c.appendChild(h)}}catch(e){}var d=document.createElement("span");d.innerHTML="Jspreadsheet CE",c.appendChild(d),obj.ads.appendChild(c),document.createElement("div").classList.add("jexcel_table"),obj.pagination=document.createElement("div"),obj.pagination.classList.add("jexcel_pagination");var p=document.createElement("div"),u=document.createElement("div");if(obj.pagination.appendChild(p),obj.pagination.appendChild(u),obj.options.pagination||(obj.pagination.style.display="none"),1==obj.options.search&&el.appendChild(a),obj.content.appendChild(obj.table),obj.content.appendChild(obj.corner),obj.content.appendChild(obj.textarea),el.appendChild(obj.toolbar),el.appendChild(obj.content),el.appendChild(obj.pagination),el.appendChild(obj.contextMenu),el.appendChild(obj.ads),el.classList.add("jexcel_container"),obj.options.toolbar&&obj.options.toolbar.length&&obj.createToolbar(),1==obj.options.fullscreen?el.classList.add("fullscreen"):1==obj.options.tableOverflow&&(obj.options.tableHeight&&(obj.content.style["overflow-y"]="auto",obj.content.style["box-shadow"]="rgb(221 221 221) 2px 2px 5px 0.1px",obj.content.style.maxHeight=obj.options.tableHeight),obj.options.tableWidth&&(obj.content.style["overflow-x"]="auto",obj.content.style.width=obj.options.tableWidth)),1!=obj.options.tableOverflow&&obj.options.toolbar&&el.classList.add("with-toolbar"),1==obj.options.columnDrag&&obj.thead.classList.add("draggable"),1==obj.options.columnResize&&obj.thead.classList.add("resizable"),1==obj.options.rowDrag&&obj.tbody.classList.add("draggable"),1==obj.options.rowResize&&obj.tbody.classList.add("resizable"),obj.setData(),obj.options.style&&obj.setStyle(obj.options.style,null,null,1,1),obj.options.classes){var m=Object.keys(obj.options.classes);for(i=0;i<m.length;i++){var f=jexcel.getIdFromColumnName(m[i],!0);obj.records[f[1]][f[0]].classList.add(obj.options.classes[m[i]])}}},obj.refresh=function(){obj.options.url?(1==obj.options.loadingSpin&&jSuites.loading.show(),jSuites.ajax({url:obj.options.url,method:obj.options.method,data:obj.options.requestVariables,dataType:"json",success:function(e){obj.options.data=e.data?e.data:e,obj.setData(),1==obj.options.loadingSpin&&jSuites.loading.hide()}})):obj.setData()},obj.setData=function(e){if(e&&("string"==typeof e&&(e=JSON.parse(e)),obj.options.data=e),obj.options.data||(obj.options.data=[]),obj.options.data&&obj.options.data[0]&&!Array.isArray(obj.options.data[0])){e=[];for(var t=0;t<obj.options.data.length;t++){for(var n=[],i=0;i<obj.options.columns.length;i++)n[i]=obj.options.data[t][obj.options.columns[i].name];e.push(n)}obj.options.data=e}t=0,i=0;var r=obj.options.columns.length,s=obj.options.data.length,a=obj.options.minDimensions[0],o=obj.options.minDimensions[1],l=a>r?a:r,c=o>s?o:s;for(t=0;t<c;t++)for(i=0;i<l;i++)null==obj.options.data[t]&&(obj.options.data[t]=[]),null==obj.options.data[t][i]&&(obj.options.data[t][i]="");if(obj.rows=[],obj.results=null,obj.records=[],obj.history=[],obj.historyIndex=-1,obj.tbody.innerHTML="",1==obj.options.lazyLoading){var h=0,d=obj.options.data.length<100?obj.options.data.length:100;obj.options.pagination&&(obj.options.pagination=!1,console.error("Jspreadsheet: Pagination will be disable due the lazyLoading"))}else obj.options.pagination?(obj.pageNumber||(obj.pageNumber=0),obj.options.pagination,h=obj.options.pagination*obj.pageNumber,d=obj.options.pagination*obj.pageNumber+obj.options.pagination,obj.options.data.length<d&&(d=obj.options.data.length)):(h=0,d=obj.options.data.length);for(t=0;t<obj.options.data.length;t++){var p=obj.createRow(t,obj.options.data[t]);t>=h&&t<d&&obj.tbody.appendChild(p)}if(1==obj.options.lazyLoading||obj.options.pagination&&obj.updatePagination(),obj.options.mergeCells){var u=Object.keys(obj.options.mergeCells);for(i=0;i<u.length;i++){var m=obj.options.mergeCells[u[i]];obj.setMerge(u[i],m[0],m[1],1)}}obj.updateTable(),obj.dispatch("onload",el,obj)},obj.getData=function(e,t){for(var n=[],i=0,r=0,s=1==t||0==obj.options.copyCompatibility,a=obj.options.columns.length,o=obj.options.data.length,l=0;l<o;l++){i=0;for(var c=0;c<a;c++)e&&!obj.records[l][c].classList.contains("highlight")||(n[r]||(n[r]=[]),n[r][i]=s?obj.options.data[l][c]:obj.records[l][c].innerHTML,i++);i>0&&r++}return n},obj.getJsonRow=function(e){for(var t=obj.options.data[e],n=obj.options.columns.length,i={},r=0;r<n;r++)obj.options.columns[r].name||(obj.options.columns[r].name=r),i[obj.options.columns[r].name]=t[r];return i},obj.getJson=function(e){for(var t=[],n=obj.options.columns.length,i=obj.options.data.length,r=0;r<i;r++){for(var s=null,a=0;a<n;a++)e&&!obj.records[r][a].classList.contains("highlight")||(null==s&&(s={}),obj.options.columns[a].name||(obj.options.columns[a].name=a),s[obj.options.columns[a].name]=obj.options.data[r][a]);null!=s&&t.push(s)}return t},obj.prepareJson=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].x,r=e[n].y,s=obj.options.columns[i].name?obj.options.columns[i].name:i;t[r]||(t[r]={row:r,data:{}}),t[r].data[s]=e[n].newValue}return t.filter((function(e){return null!=e}))},obj.save=function(e,t){var n=obj.dispatch("onbeforesave",el,obj,t);if(n)t=n;else if(!1===n)return!1;jSuites.ajax({url:e,method:"POST",dataType:"json",data:{data:JSON.stringify(t)},success:function(e){obj.dispatch("onsave",el,obj,t)}})},obj.getRowData=function(e){return obj.options.data[e]},obj.setRowData=function(e,t){for(var n=0;n<obj.headers.length;n++){var i=jexcel.getColumnNameFromId([n,e]);null!=t[n]&&obj.setValue(i,t[n])}},obj.getColumnData=function(e){for(var t=[],n=0;n<obj.options.data.length;n++)t.push(obj.options.data[n][e]);return t},obj.setColumnData=function(e,t){for(var n=0;n<obj.rows.length;n++){var i=jexcel.getColumnNameFromId([e,n]);null!=t[n]&&obj.setValue(i,t[n])}},obj.createRow=function(e,t){obj.records[e]||(obj.records[e]=[]),t||(t=obj.options.data[e]),obj.rows[e]=document.createElement("tr"),obj.rows[e].setAttribute("data-y",e);var n=null;obj.options.defaultRowHeight&&(obj.rows[e].style.height=obj.options.defaultRowHeight+"px"),obj.options.rows[e]&&(obj.options.rows[e].height&&(obj.rows[e].style.height=obj.options.rows[e].height),obj.options.rows[e].title&&(n=obj.options.rows[e].title)),n||(n=parseInt(e+1));var i=document.createElement("td");i.innerHTML=n,i.setAttribute("data-y",e),i.className="jexcel_row",obj.rows[e].appendChild(i);for(var r=0;r<obj.options.columns.length;r++)obj.records[e][r]=obj.createCell(r,e,t[r]),obj.rows[e].appendChild(obj.records[e][r]);return obj.rows[e]},obj.parseValue=function(e,t,n,i){"="==(""+n).substr(0,1)&&1==obj.options.parseFormulas&&(n=obj.executeFormula(n,e,t));var r=obj.options.columns[e];if(r&&!isFormula(n)){var s=null;if(s=getMask(r)){n&&n==Number(n)&&(n=Number(n));var a=jSuites.mask.render(n,s,!0);if(i&&s.mask){var o=s.mask.split(";");o[1]&&(o[1].match(new RegExp("\\[Red\\]","gi"))&&(n<0?i.classList.add("red"):i.classList.remove("red")),o[1].match(new RegExp("\\(","gi"))&&n<0&&(a="("+a+")"))}a&&(n=a)}}return n};var validDate=function(e){return"-"==(e=""+e).substr(4,1)&&"-"==e.substr(7,1)||4==(e=e.split("-"))[0].length&&e[0]==Number(e[0])&&2==e[1].length&&e[1]==Number(e[1])};obj.createCell=function(e,t,n){var i=document.createElement("td");if(i.setAttribute("data-x",e),i.setAttribute("data-y",t),"="==(""+n).substr(0,1)&&1==obj.options.secureFormulas){var r=secureFormula(n);r!=n&&(n=r)}if(obj.options.columns[e].editor)!1===obj.options.stripHTML||!1===obj.options.columns[e].stripHTML?i.innerHTML=n:i.innerText=n,"function"==typeof obj.options.columns[e].editor.createCell&&(i=obj.options.columns[e].editor.createCell(i));else if("hidden"==obj.options.columns[e].type)i.style.display="none",i.innerText=n;else if("checkbox"==obj.options.columns[e].type||"radio"==obj.options.columns[e].type){var s=document.createElement("input");s.type=obj.options.columns[e].type,s.name="c"+e,s.checked=1==n||1==n||"true"==n,s.onclick=function(){obj.setValue(i,this.checked)},1!=obj.options.columns[e].readOnly&&0!=obj.options.editable||s.setAttribute("disabled","disabled"),i.appendChild(s),obj.options.data[t][e]=s.checked}else if("calendar"==obj.options.columns[e].type){var a=null;if(!validDate(n)){var o=jSuites.calendar.extractDateFromString(n,obj.options.columns[e].options.format);o&&(a=o)}i.innerText=jSuites.calendar.getDateString(a||n,obj.options.columns[e].options.format)}else if("dropdown"==obj.options.columns[e].type||"autocomplete"==obj.options.columns[e].type)i.classList.add("jexcel_dropdown"),i.innerText=obj.getDropDownValue(e,n);else if("color"==obj.options.columns[e].type)if("square"==obj.options.columns[e].render){var l=document.createElement("div");l.className="color",l.style.backgroundColor=n,i.appendChild(l)}else i.style.color=n,i.innerText=n;else if("image"==obj.options.columns[e].type){if(n&&"data:image"==n.substr(0,10)){var c=document.createElement("img");c.src=n,i.appendChild(c)}}else"html"==obj.options.columns[e].type||!1===obj.options.stripHTML||!1===obj.options.columns[e].stripHTML?i.innerHTML=stripScript(obj.parseValue(e,t,n,i)):i.innerText=obj.parseValue(e,t,n,i);1==obj.options.columns[e].readOnly&&(i.className="readonly");var h=obj.options.columns[e].align?obj.options.columns[e].align:"center";return i.style.textAlign=h,0!=obj.options.columns[e].wordWrap&&(1==obj.options.wordWrap||1==obj.options.columns[e].wordWrap||i.innerHTML.length>200)&&(i.style.whiteSpace="pre-wrap"),e>0&&1==this.options.textOverflow&&(n||i.innerHTML?obj.records[t][e-1].style.overflow="hidden":e==obj.options.columns.length-1&&(i.style.overflow="hidden")),i},obj.createCellHeader=function(e){var t=obj.options.columns[e].width?obj.options.columns[e].width:obj.options.defaultColWidth,n=obj.options.columns[e].align?obj.options.columns[e].align:obj.options.defaultColAlign;obj.headers[e]=document.createElement("td"),obj.options.stripHTML?obj.headers[e].innerText=obj.options.columns[e].title?obj.options.columns[e].title:jexcel.getColumnName(e):obj.headers[e].innerHTML=obj.options.columns[e].title?obj.options.columns[e].title:jexcel.getColumnName(e),obj.headers[e].setAttribute("data-x",e),obj.headers[e].style.textAlign=n,obj.options.columns[e].title&&obj.headers[e].setAttribute("title",obj.options.columns[e].title),obj.options.columns[e].id&&obj.headers[e].setAttribute("id",obj.options.columns[e].id),obj.colgroup[e]=document.createElement("col"),obj.colgroup[e].setAttribute("width",t),"hidden"==obj.options.columns[e].type&&(obj.headers[e].style.display="none",obj.colgroup[e].style.display="none")},obj.updateNestedHeader=function(e,t,n){obj.options.nestedHeaders[t][e].title&&(obj.options.nestedHeaders[t][e].title=n,obj.options.nestedHeaders[t].element.children[e+1].innerText=n)},obj.createNestedHeader=function(e){var t=document.createElement("tr");t.classList.add("jexcel_nested");var n=document.createElement("td");t.appendChild(n),e.element=t;for(var i=0,r=0;r<e.length;r++){e[r].colspan||(e[r].colspan=1),e[r].align||(e[r].align="center"),e[r].title||(e[r].title="");for(var s=e[r].colspan,a=[],o=0;o<s;o++)obj.options.columns[i]&&"hidden"==obj.options.columns[i].type&&s++,a.push(i),i++;(n=document.createElement("td")).setAttribute("data-column",a.join(",")),n.setAttribute("colspan",e[r].colspan),n.setAttribute("align",e[r].align),n.innerText=e[r].title,t.appendChild(n)}return t},obj.createToolbar=function(e){e?obj.options.toolbar=e:e=obj.options.toolbar;for(var t=0;t<e.length;t++)if("i"==e[t].type)(r=document.createElement("i")).classList.add("jexcel_toolbar_item"),r.classList.add("material-icons"),r.setAttribute("data-k",e[t].k),r.setAttribute("data-v",e[t].v),r.setAttribute("id",e[t].id),e[t].tooltip&&r.setAttribute("title",e[t].tooltip),e[t].onclick&&(e[t].onclick,1)?r.onclick=function(t){var n=t;return function(){e[n].onclick(el,obj,this)}}(t):r.onclick=function(){var e=this.getAttribute("data-k"),t=this.getAttribute("data-v");obj.setStyle(obj.highlighted,e,t)},r.innerText=e[t].content,obj.toolbar.appendChild(r);else if("select"==e[t].type){(r=document.createElement("select")).classList.add("jexcel_toolbar_item"),r.setAttribute("data-k",e[t].k),e[t].tooltip&&r.setAttribute("title",e[t].tooltip),e[t].onchange&&(e[t].onchange,1)?r.onchange=e[t].onchange:r.onchange=function(){var e=this.getAttribute("data-k");obj.setStyle(obj.highlighted,e,this.value)};for(var n=0;n<e[t].v.length;n++){var i=document.createElement("option");i.value=e[t].v[n],i.innerText=e[t].v[n],r.appendChild(i)}obj.toolbar.appendChild(r)}else if("color"==e[t].type){var r;(r=document.createElement("i")).classList.add("jexcel_toolbar_item"),r.classList.add("material-icons"),r.setAttribute("data-k",e[t].k),r.setAttribute("data-v",""),e[t].tooltip&&r.setAttribute("title",e[t].tooltip),obj.toolbar.appendChild(r),r.innerText=e[t].content,jSuites.color(r,{onchange:function(e,t){var n=e.getAttribute("data-k");obj.setStyle(obj.highlighted,n,t)}})}},obj.setMerge=function(e,t,n,i){var r=!1;if(!e){if(!obj.highlighted.length)return alert(obj.options.text.noCellsSelected),null;var s=parseInt(obj.highlighted[0].getAttribute("data-x")),a=parseInt(obj.highlighted[0].getAttribute("data-y")),o=parseInt(obj.highlighted[obj.highlighted.length-1].getAttribute("data-x")),l=parseInt(obj.highlighted[obj.highlighted.length-1].getAttribute("data-y"));e=jexcel.getColumnNameFromId([s,a]),t=o-s+1,n=l-a+1}var c=jexcel.getIdFromColumnName(e,!0);if(obj.options.mergeCells[e])obj.records[c[1]][c[0]].getAttribute("data-merged")&&(r=obj.options.text.cellAlreadyMerged);else if((!t||t<2)&&(!n||n<2))r=obj.options.text.invalidMergeProperties;else for(var h=c[1];h<c[1]+n;h++)for(var d=c[0];d<c[0]+t;d++)jexcel.getColumnNameFromId([d,h]),obj.records[h][d].getAttribute("data-merged")&&(r=obj.options.text.thereIsAConflictWithAnotherMergedCell);if(r)alert(r);else{t>1?obj.records[c[1]][c[0]].setAttribute("colspan",t):t=1,n>1?obj.records[c[1]][c[0]].setAttribute("rowspan",n):n=1,obj.options.mergeCells[e]=[t,n,[]],obj.records[c[1]][c[0]].setAttribute("data-merged","true"),obj.records[c[1]][c[0]].style.overflow="hidden";for(var p=[],u=c[1];u<c[1]+n;u++)for(var m=c[0];m<c[0]+t;m++)c[0]==m&&c[1]==u||(p.push(obj.options.data[u][m]),obj.updateCell(m,u,"",!0),obj.options.mergeCells[e][2].push(obj.records[u][m]),obj.records[u][m].style.display="none",obj.records[u][m]=obj.records[c[1]][c[0]]);obj.updateSelection(obj.records[c[1]][c[0]]),i||(obj.setHistory({action:"setMerge",column:e,colspan:t,rowspan:n,data:p}),obj.dispatch("onmerge",el,e,t,n))}},obj.getMerge=function(e){var t={};if(e)t=obj.options.mergeCells[e]?[obj.options.mergeCells[e][0],obj.options.mergeCells[e][1]]:null;else if(obj.options.mergeCells){obj.options.mergeCells;for(var n=Object.keys(obj.options.mergeCells),i=0;i<n.length;i++)t[n[i]]=[obj.options.mergeCells[n[i]][0],obj.options.mergeCells[n[i]][1]]}return t},obj.removeMerge=function(e,t,n){if(obj.options.mergeCells[e]){var i=jexcel.getIdFromColumnName(e,!0);obj.records[i[1]][i[0]].removeAttribute("colspan"),obj.records[i[1]][i[0]].removeAttribute("rowspan"),obj.records[i[1]][i[0]].removeAttribute("data-merged");for(var r=obj.options.mergeCells[e],s=0,a=0;a<r[1];a++)for(var o=0;o<r[0];o++)(a>0||o>0)&&(obj.records[i[1]+a][i[0]+o]=r[2][s],obj.records[i[1]+a][i[0]+o].style.display="",t&&t[s]&&obj.updateCell(i[0]+o,i[1]+a,t[s]),s++);obj.updateSelection(obj.records[i[1]][i[0]],obj.records[i[1]+a-1][i[0]+o-1]),n||delete obj.options.mergeCells[e]}},obj.destroyMerged=function(e){if(obj.options.mergeCells){obj.options.mergeCells;for(var t=Object.keys(obj.options.mergeCells),n=0;n<t.length;n++)obj.removeMerge(t[n],null,e)}},obj.isColMerged=function(e,t){var n=[];if(obj.options.mergeCells)for(var i=Object.keys(obj.options.mergeCells),r=0;r<i.length;r++){var s=jexcel.getIdFromColumnName(i[r],!0),a=obj.options.mergeCells[i[r]][0],o=s[0],l=s[0]+(a>1?a-1:0);null==t?o<=e&&l>=e&&n.push(i[r]):t?o<e&&l>=e&&n.push(i[r]):o<=e&&l>e&&n.push(i[r])}return n},obj.isRowMerged=function(e,t){var n=[];if(obj.options.mergeCells)for(var i=Object.keys(obj.options.mergeCells),r=0;r<i.length;r++){var s=jexcel.getIdFromColumnName(i[r],!0),a=obj.options.mergeCells[i[r]][1],o=s[1],l=s[1]+(a>1?a-1:0);null==t?o<=e&&l>=e&&n.push(i[r]):t?o<e&&l>=e&&n.push(i[r]):o<=e&&l>e&&n.push(i[r])}return n},obj.openFilter=function(e){if(obj.options.filters){e=parseInt(e),obj.resetSelection();var t=[];if("checkbox"==obj.options.columns[e].type)t.push({id:"true",name:"True"}),t.push({id:"false",name:"False"});else{for(var n=[],i=!1,r=0;r<obj.options.data.length;r++){var s=obj.options.data[r][e],a=obj.records[r][e].innerHTML;s&&a?n[s]=a:i=!0}var o=Object.keys(n);for(t=[],r=0;r<o.length;r++)t.push({id:o[r],name:n[o[r]]});i&&t.push({value:"",id:"",name:"(Blanks)"})}var l=document.createElement("div");obj.filter.children[e+1].innerHTML="",obj.filter.children[e+1].appendChild(l),obj.filter.children[e+1].style.paddingLeft="0px",obj.filter.children[e+1].style.paddingRight="0px",obj.filter.children[e+1].style.overflow="initial";var c={data:t,multiple:!0,autocomplete:!0,opened:!0,value:void 0!==obj.filters[e]?obj.filters[e]:null,width:"100%",position:1==obj.options.tableOverflow||1==obj.options.fullscreen,onclose:function(t){obj.resetFilters(),obj.filters[e]=t.dropdown.getValue(!0),obj.filter.children[e+1].innerHTML=t.dropdown.getText(),obj.filter.children[e+1].style.paddingLeft="",obj.filter.children[e+1].style.paddingRight="",obj.filter.children[e+1].style.overflow="",obj.closeFilter(e),obj.refreshSelection()}};jSuites.dropdown(l,c)}else console.log("Jspreadsheet: filters not enabled.")},obj.resetFilters=function(){if(obj.options.filters)for(var e=0;e<obj.filter.children.length;e++)obj.filter.children[e].innerHTML="&nbsp;",obj.filters[e]=null;obj.results=null,obj.updateResult()},obj.closeFilter=function(e){if(!e)for(var t=0;t<obj.filter.children.length;t++)obj.filters[t]&&(e=t);var n=function(e,t,n){for(var i=0;i<e.length;i++){var r=""+obj.options.data[n][t],s=""+obj.records[n][t].innerHTML;if(e[i]==r||e[i]==s)return!0}return!1},i=obj.filters[e];obj.results=[];for(var r=0;r<obj.options.data.length;r++)n(i,e,r)&&obj.results.push(r);obj.results.length||(obj.results=null),obj.updateResult()},obj.openEditor=function(e,t,n){var i=e.getAttribute("data-y"),r=e.getAttribute("data-x");obj.dispatch("oneditionstart",el,e,r,i),r>0&&(obj.records[i][r-1].style.overflow="hidden");var s=function(t){var n=e.getBoundingClientRect(),s=document.createElement(t);return s.style.width=n.width+"px",s.style.height=n.height-2+"px",s.style.minHeight=n.height-2+"px",e.classList.add("editor"),e.innerHTML="",e.appendChild(s),obj.dispatch("oncreateeditor",el,e,r,i,s),s};if(1==e.classList.contains("readonly"));else if(obj.edition=[obj.records[i][r],obj.records[i][r].innerHTML,r,i],obj.options.columns[r].editor)obj.options.columns[r].editor.openEditor(e,el,t,n);else if("hidden"==obj.options.columns[r].type);else if("checkbox"==obj.options.columns[r].type||"radio"==obj.options.columns[r].type){var a=!e.children[0].checked;obj.setValue(e,a),obj.edition=null}else if("dropdown"==obj.options.columns[r].type||"autocomplete"==obj.options.columns[r].type){if(a=obj.options.data[i][r],obj.options.columns[r].multiple&&!Array.isArray(a)&&(a=a.split(";")),"function"==typeof obj.options.columns[r].filter)var o=obj.options.columns[r].filter(el,e,r,i,obj.options.columns[r].source);else o=obj.options.columns[r].source;for(var l=[],c=0;c<o.length;c++)l.push(o[c]);var h=s("div"),d={data:l,multiple:!!obj.options.columns[r].multiple,autocomplete:!(!obj.options.columns[r].autocomplete&&"autocomplete"!=obj.options.columns[r].type),opened:!0,value:a,width:"100%",height:h.style.minHeight,position:1==obj.options.tableOverflow||1==obj.options.fullscreen,onclose:function(){obj.closeEditor(e,!0)}};obj.options.columns[r].options&&obj.options.columns[r].options.type&&(d.type=obj.options.columns[r].options.type),jSuites.dropdown(h,d)}else if("calendar"==obj.options.columns[r].type||"color"==obj.options.columns[r].type)a=obj.options.data[i][r],(h=s("input")).value=a,1!=obj.options.tableOverflow&&1!=obj.options.fullscreen||(obj.options.columns[r].options.position=!0),obj.options.columns[r].options.value=obj.options.data[i][r],obj.options.columns[r].options.opened=!0,obj.options.columns[r].options.onclose=function(t,n){obj.closeEditor(e,!0)},"color"==obj.options.columns[r].type?jSuites.color(h,obj.options.columns[r].options):jSuites.calendar(h,obj.options.columns[r].options),h.focus();else if("html"==obj.options.columns[r].type){a=obj.options.data[i][r],(h=s("div")).style.position="relative",(m=document.createElement("div")).classList.add("jexcel_richtext"),h.appendChild(m),jSuites.editor(m,{focus:!0,value:a});var p=e.getBoundingClientRect(),u=m.getBoundingClientRect();window.innerHeight<p.bottom+u.height?m.style.top=p.top-(u.height+2)+"px":m.style.top=p.top+"px"}else if("image"==obj.options.columns[r].type){var m,f=e.children[0];(h=s("div")).style.position="relative",(m=document.createElement("div")).classList.add("jclose"),f&&f.src&&m.appendChild(f),h.appendChild(m),jSuites.image(m,obj.options.imageOptions),p=e.getBoundingClientRect(),u=m.getBoundingClientRect(),window.innerHeight<p.bottom+u.height?m.style.top=p.top-(u.height+2)+"px":m.style.top=p.top+"px"}else{if(a=1==t?"":obj.options.data[i][r],0==obj.options.columns[r].wordWrap||1!=obj.options.wordWrap&&1!=obj.options.columns[r].wordWrap)h=s("input");else var h=s("textarea");h.focus(),h.value=a,d=obj.options.columns[r];var g=null;if(!isFormula(a)&&(g=getMask(d))){if(!d.disabledMaskOnEdition)if(d.mask){var b=d.mask.split(";");h.setAttribute("data-mask",b[0])}else d.locale&&h.setAttribute("data-locale",d.locale);g.input=h,h.mask=g,jSuites.mask.render(a,g,!1)}h.onblur=function(){obj.closeEditor(e,!0)},h.scrollLeft=h.scrollWidth}},obj.closeEditor=function(e,t){var n=parseInt(e.getAttribute("data-x")),i=parseInt(e.getAttribute("data-y"));if(1==t){if(obj.options.columns[n].editor)var r=obj.options.columns[n].editor.closeEditor(e,t);else if("checkbox"==obj.options.columns[n].type||"radio"==obj.options.columns[n].type||"hidden"==obj.options.columns[n].type);else if("dropdown"==obj.options.columns[n].type||"autocomplete"==obj.options.columns[n].type)r=e.children[0].dropdown.close(!0);else if("calendar"==obj.options.columns[n].type)r=e.children[0].calendar.close(!0);else if("color"==obj.options.columns[n].type)r=e.children[0].color.close(!0);else if("html"==obj.options.columns[n].type)r=e.children[0].children[0].editor.getData();else if("image"==obj.options.columns[n].type){var s=e.children[0].children[0].children[0];r=s&&"IMG"==s.tagName?s.src:""}else if("numeric"==obj.options.columns[n].type)"="!=(""+(r=e.children[0].value)).substr(0,1)&&""==r&&(r=obj.options.columns[n].allowEmpty?"":0),e.children[0].onblur=null;else{r=e.children[0].value,e.children[0].onblur=null;var a,o=obj.options.columns[n];if((a=getMask(o))&&""!==r&&!isFormula(r)&&"number"!=typeof r){var l=jSuites.mask.extract(r,a,!0);l&&""!==l.value&&(r=l.value)}}obj.options.data[i][n]==r?e.innerHTML=obj.edition[1]:obj.setValue(e,r)}else obj.options.columns[n].editor?obj.options.columns[n].editor.closeEditor(e,t):"dropdown"==obj.options.columns[n].type||"autocomplete"==obj.options.columns[n].type?e.children[0].dropdown.close(!0):"calendar"==obj.options.columns[n].type?e.children[0].calendar.close(!0):"color"==obj.options.columns[n].type?e.children[0].color.close(!0):e.children[0].onblur=null,e.innerHTML=obj.edition&&obj.edition[1]?obj.edition[1]:"";obj.dispatch("oneditionend",el,e,n,i,r,t),e.classList.remove("editor"),obj.edition=null},obj.getCell=function(e){var t=(e=jexcel.getIdFromColumnName(e,!0))[0],n=e[1];return obj.records[n][t]},obj.getColumnOptions=function(e,t){var n=obj.options.columns[e];return n||(n={type:"text"}),n},obj.getCellFromCoords=function(e,t){return obj.records[t][e]},obj.getLabel=function(e){var t=(e=jexcel.getIdFromColumnName(e,!0))[0],n=e[1];return obj.records[n][t].innerHTML},obj.getLabelFromCoords=function(e,t){return obj.records[t][e].innerHTML},obj.getValue=function(e,t){if("object"==typeof e)var n=e.getAttribute("data-x"),i=e.getAttribute("data-y");else n=(e=jexcel.getIdFromColumnName(e,!0))[0],i=e[1];var r=null;return null!=n&&null!=i&&(obj.records[i]&&obj.records[i][n]&&(t||1==obj.options.copyCompatibility)?r=obj.records[i][n].innerHTML:obj.options.data[i]&&"undefined"!=obj.options.data[i][n]&&(r=obj.options.data[i][n])),r},obj.getValueFromCoords=function(e,t,n){var i=null;return null!=e&&null!=t&&(obj.records[t]&&obj.records[t][e]&&n||1==obj.options.copyCompatibility?i=obj.records[t][e].innerHTML:obj.options.data[t]&&"undefined"!=obj.options.data[t][e]&&(i=obj.options.data[t][e])),i},obj.setValue=function(e,t,n){var i=[];if("string"==typeof e){var r=(l=jexcel.getIdFromColumnName(e,!0))[0],s=l[1];i.push(obj.updateCell(r,s,t,n)),obj.updateFormulaChain(r,s,i)}else if(r=null,s=null,e&&e.getAttribute&&(r=e.getAttribute("data-x"),s=e.getAttribute("data-y")),null!=r&&null!=s)i.push(obj.updateCell(r,s,t,n)),obj.updateFormulaChain(r,s,i);else{var a=Object.keys(e);if(a.length>0)for(var o=0;o<a.length;o++){var l;if("string"==typeof e[o])r=(l=jexcel.getIdFromColumnName(e[o],!0))[0],s=l[1];else null!=e[o].x&&null!=e[o].y?(r=e[o].x,s=e[o].y,null!=e[o].newValue?t=e[o].newValue:null!=e[o].value&&(t=e[o].value)):(r=e[o].getAttribute("data-x"),s=e[o].getAttribute("data-y"));null!=r&&null!=s&&(i.push(obj.updateCell(r,s,t,n)),obj.updateFormulaChain(r,s,i))}}obj.setHistory({action:"setValue",records:i,selection:obj.selectedCell}),obj.updateTable(),obj.onafterchanges(el,i)},obj.setValueFromCoords=function(e,t,n,i){var r=[];r.push(obj.updateCell(e,t,n,i)),obj.updateFormulaChain(e,t,r),obj.setHistory({action:"setValue",records:r,selection:obj.selectedCell}),obj.updateTable(),obj.onafterchanges(el,r)},obj.setCheckRadioValue=function(){for(var e=[],t=Object.keys(obj.highlighted),n=0;n<t.length;n++){var i=obj.highlighted[n].getAttribute("data-x"),r=obj.highlighted[n].getAttribute("data-y");"checkbox"!=obj.options.columns[i].type&&"radio"!=obj.options.columns[i].type||e.push(obj.updateCell(i,r,!obj.options.data[r][i]))}e.length&&(obj.setHistory({action:"setValue",records:e,selection:obj.selectedCell}),obj.onafterchanges(el,e))};var stripScript=function(e){var t=new Option;t.innerHTML=e;var n=null;for(e=t.getElementsByTagName("script");n=e[0];)n.parentNode.removeChild(n);return t.innerHTML};obj.updateCell=function(e,t,n,i){if(1!=obj.records[t][e].classList.contains("readonly")||i){var r;if("="==(""+n).substr(0,1)&&1==obj.options.secureFormulas&&(r=secureFormula(n))!=n&&(n=r),null!=(r=obj.dispatch("onbeforechange",el,obj.records[t][e],e,t,n))&&(n=r),obj.options.columns[e].editor&&"function"==typeof obj.options.columns[e].editor.updateCell&&(n=obj.options.columns[e].editor.updateCell(obj.records[t][e],n,i)),h={x:e,y:t,col:e,row:t,newValue:n,oldValue:obj.options.data[t][e]},obj.options.columns[e].editor)obj.options.data[t][e]=n;else if("checkbox"==obj.options.columns[e].type||"radio"==obj.options.columns[e].type){if("radio"==obj.options.columns[e].type)for(var s=0;s<obj.options.data.length;s++)obj.options.data[s][e]=!1;obj.records[t][e].children[0].checked=1==n||1==n||"true"==n||"TRUE"==n,obj.options.data[t][e]=obj.records[t][e].children[0].checked}else if("dropdown"==obj.options.columns[e].type||"autocomplete"==obj.options.columns[e].type)obj.options.data[t][e]=n,obj.records[t][e].innerText=obj.getDropDownValue(e,n);else if("calendar"==obj.options.columns[e].type){var a=null;if(!validDate(n)){var o=jSuites.calendar.extractDateFromString(n,obj.options.columns[e].options.format);o&&(a=o)}obj.options.data[t][e]=n,obj.records[t][e].innerText=jSuites.calendar.getDateString(a||n,obj.options.columns[e].options.format)}else if("color"==obj.options.columns[e].type)if(obj.options.data[t][e]=n,"square"==obj.options.columns[e].render){var l=document.createElement("div");l.className="color",l.style.backgroundColor=n,obj.records[t][e].innerText="",obj.records[t][e].appendChild(l)}else obj.records[t][e].style.color=n,obj.records[t][e].innerText=n;else if("image"==obj.options.columns[e].type){if(n=""+n,obj.options.data[t][e]=n,obj.records[t][e].innerHTML="",n&&"data:image"==n.substr(0,10)){var c=document.createElement("img");c.src=n,obj.records[t][e].appendChild(c)}}else obj.options.data[t][e]=n,"html"==obj.options.columns[e].type?obj.records[t][e].innerHTML=stripScript(obj.parseValue(e,t,n)):!1===obj.options.stripHTML||!1===obj.options.columns[e].stripHTML?obj.records[t][e].innerHTML=stripScript(obj.parseValue(e,t,n,obj.records[t][e])):obj.records[t][e].innerText=obj.parseValue(e,t,n,obj.records[t][e]),0!=obj.options.columns[e].wordWrap&&(1==obj.options.wordWrap||1==obj.options.columns[e].wordWrap||obj.records[t][e].innerHTML.length>200)?obj.records[t][e].style.whiteSpace="pre-wrap":obj.records[t][e].style.whiteSpace="";e>0&&(obj.records[t][e-1].style.overflow=n?"hidden":""),obj.dispatch("onchange",el,obj.records[t]&&obj.records[t][e]?obj.records[t][e]:null,e,t,n,h.oldValue)}else var h={x:e,y:t,col:e,row:t};return h},obj.copyData=function(e,t){var n=obj.getData(!0,!0),i=obj.selectedContainer,r=parseInt(e.getAttribute("data-x")),s=parseInt(e.getAttribute("data-y")),a=parseInt(t.getAttribute("data-x")),o=parseInt(t.getAttribute("data-y")),l=[],c=!1;if(i[0]==r){if(s<i[1])var h=s-i[1];else h=1;var d=0}else d=r<i[0]?r-i[0]:1,h=0;for(var p=0,u=0,m=s;m<=o;m++)if(!obj.rows[m]||"none"!=obj.rows[m].style.display){null==n[u]&&(u=0),p=0,i[0]!=r&&(d=r<i[0]?r-i[0]:1);for(var f=r;f<=a;f++){if(obj.records[m][f]&&!obj.records[m][f].classList.contains("readonly")&&"none"!=obj.records[m][f].style.display&&0==c){if(!obj.selection.length&&""!=obj.options.data[m][f]){c=!0;continue}(null==n[u]||null==n[u][p])&&(p=0);var g=n[u][p];if(g&&!n[1]&&1==obj.options.autoIncrement)if("text"==obj.options.columns[f].type||"number"==obj.options.columns[f].type)if("="==(""+g).substr(0,1)){var b=g.match(/([A-Z]+[0-9]+)/g);if(b){for(var y=[],v=0;v<b.length;v++){var x=jexcel.getIdFromColumnName(b[v],1);x[0]+=d,x[1]+=h,x[1]<0&&(x[1]=0);var w=jexcel.getColumnNameFromId([x[0],x[1]]);w!=b[v]&&(y[b[v]]=w)}y&&(g=obj.updateFormula(g,y))}}else g==Number(g)&&(g=Number(g)+h);else if("calendar"==obj.options.columns[f].type){var O=new Date(g);O.setDate(O.getDate()+h),g=O.getFullYear()+"-"+jexcel.doubleDigitFormat(parseInt(O.getMonth()+1))+"-"+jexcel.doubleDigitFormat(O.getDate())+" 00:00:00"}l.push(obj.updateCell(f,m,g)),obj.updateFormulaChain(f,m,l)}p++,i[0]!=r&&d++}u++,h++}obj.setHistory({action:"setValue",records:l,selection:obj.selectedCell}),obj.updateTable(),obj.onafterchanges(el,l)},obj.refreshSelection=function(){obj.selectedCell&&obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3])},obj.conditionalSelectionUpdate=function(e,t,n){if(1==e){if(obj.selectedCell&&(t>=obj.selectedCell[1]&&t<=obj.selectedCell[3]||n>=obj.selectedCell[1]&&n<=obj.selectedCell[3]))return void obj.resetSelection()}else if(obj.selectedCell&&(t>=obj.selectedCell[0]&&t<=obj.selectedCell[2]||n>=obj.selectedCell[0]&&n<=obj.selectedCell[2]))return void obj.resetSelection()},obj.resetSelection=function(e){if(obj.highlighted.length){c=1;for(var t=0;t<obj.highlighted.length;t++){obj.highlighted[t].classList.remove("highlight"),obj.highlighted[t].classList.remove("highlight-left"),obj.highlighted[t].classList.remove("highlight-right"),obj.highlighted[t].classList.remove("highlight-top"),obj.highlighted[t].classList.remove("highlight-bottom"),obj.highlighted[t].classList.remove("highlight-selected");var n=parseInt(obj.highlighted[t].getAttribute("data-x")),i=parseInt(obj.highlighted[t].getAttribute("data-y"));if(obj.highlighted[t].getAttribute("data-merged"))var r=parseInt(obj.highlighted[t].getAttribute("colspan")),s=parseInt(obj.highlighted[t].getAttribute("rowspan")),a=r>0?n+(r-1):n,o=s>0?i+(s-1):i;else a=n,o=i;for(var l=n;l<=a;l++)obj.headers[l]&&obj.headers[l].classList.remove("selected");for(l=i;l<=o;l++)obj.rows[l]&&obj.rows[l].classList.remove("selected")}}else var c=0;return obj.highlighted=[],obj.selectedCell=null,obj.corner.style.top="-2000px",obj.corner.style.left="-2000px",1==e&&1==c&&obj.dispatch("onblur",el),c},obj.updateSelection=function(e,t,n){var i=e.getAttribute("data-x"),r=e.getAttribute("data-y");if(t)var s=t.getAttribute("data-x"),a=t.getAttribute("data-y");else s=i,a=r;obj.updateSelectionFromCoords(i,r,s,a,n)},obj.updateSelectionFromCoords=function(e,t,n,i,r){var s=obj.resetSelection();if(null==t&&(t=0,i=obj.rows.length-1),null==n&&(n=e),null==i&&(i=t),e>=obj.headers.length&&(e=obj.headers.length-1),t>=obj.rows.length&&(t=obj.rows.length-1),n>=obj.headers.length&&(n=obj.headers.length-1),i>=obj.rows.length&&(i=obj.rows.length-1),obj.selectedCell=[e,t,n,i],null!=e){if(obj.records[t][e]&&obj.records[t][e].classList.add("highlight-selected"),parseInt(e)<parseInt(n))var a=parseInt(e),o=parseInt(n);else a=parseInt(n),o=parseInt(e);if(parseInt(t)<parseInt(i))var l=parseInt(t),c=parseInt(i);else l=parseInt(i),c=parseInt(t);for(var h=a;h<=o;h++)for(var d=l;d<=c;d++)if(obj.records[d][h]&&obj.records[d][h].getAttribute("data-merged")){var p=parseInt(obj.records[d][h].getAttribute("data-x")),u=parseInt(obj.records[d][h].getAttribute("data-y")),m=parseInt(obj.records[d][h].getAttribute("colspan")),f=parseInt(obj.records[d][h].getAttribute("rowspan"));m>1&&(p<a&&(a=p),p+m>o&&(o=p+m-1)),f&&(u<l&&(l=u),u+f>c&&(c=u+f-1))}var g=null,b=null,y=null,v=null;for(d=l;d<=c;d++)"none"!=obj.rows[d].style.display&&(null==y&&(y=d),v=d);for(h=a;h<=o;h++){for(d=l;d<=c;d++)"none"!=obj.rows[d].style.display&&"none"!=obj.records[d][h].style.display&&(obj.records[d][h].classList.add("highlight"),obj.highlighted.push(obj.records[d][h]));"hidden"!=obj.options.columns[h].type&&(null==g&&(g=h),b=h)}for(g||(g=0),b||(b=0),h=g;h<=b;h++)"hidden"!=obj.options.columns[h].type&&(obj.records[y]&&obj.records[y][h]&&obj.records[y][h].classList.add("highlight-top"),obj.records[v]&&obj.records[v][h]&&obj.records[v][h].classList.add("highlight-bottom"),obj.headers[h].classList.add("selected"));for(d=y;d<=v;d++)obj.rows[d]&&"none"!=obj.rows[d].style.display&&(obj.records[d][g].classList.add("highlight-left"),obj.records[d][b].classList.add("highlight-right"),obj.rows[d].classList.add("selected"));obj.selectedContainer=[g,y,b,v]}0==s&&(obj.dispatch("onfocus",el),obj.removeCopyingSelection()),obj.dispatch("onselection",el,g,y,b,v,r),obj.updateCornerPosition()},obj.removeCopySelection=function(){for(var e=0;e<obj.selection.length;e++)obj.selection[e].classList.remove("selection"),obj.selection[e].classList.remove("selection-left"),obj.selection[e].classList.remove("selection-right"),obj.selection[e].classList.remove("selection-top"),obj.selection[e].classList.remove("selection-bottom");obj.selection=[]},obj.updateCopySelection=function(e,t){obj.removeCopySelection();var n=obj.selectedContainer[0],i=obj.selectedContainer[1],r=obj.selectedContainer[2],s=obj.selectedContainer[3];if(null!=e&&null!=t){if(e-r>0)var a=parseInt(r)+1,o=parseInt(e);else a=parseInt(e),o=parseInt(n)-1;if(t-s>0)var l=parseInt(s)+1,c=parseInt(t);else l=parseInt(t),c=parseInt(i)-1;o-a<=c-l?(a=parseInt(n),o=parseInt(r)):(l=parseInt(i),c=parseInt(s));for(var h=l;h<=c;h++)for(var d=a;d<=o;d++)obj.records[h][d]&&"none"!=obj.rows[h].style.display&&"none"!=obj.records[h][d].style.display&&(obj.records[h][d].classList.add("selection"),obj.records[l][d].classList.add("selection-top"),obj.records[c][d].classList.add("selection-bottom"),obj.records[h][a].classList.add("selection-left"),obj.records[h][o].classList.add("selection-right"),obj.selection.push(obj.records[h][d]))}},obj.updateCornerPosition=function(){if(obj.highlighted.length){var e=obj.highlighted[obj.highlighted.length-1],t=e.getAttribute("data-x"),n=obj.content.getBoundingClientRect(),i=n.left,r=n.top,s=e.getBoundingClientRect(),a=s.left,o=s.top,l=s.width,c=s.height,h=a-i+obj.content.scrollLeft+l-4,d=o-r+obj.content.scrollTop+c-4;if(obj.corner.style.top=d+"px",obj.corner.style.left=h+"px",obj.options.freezeColumns){var p=obj.getFreezeWidth();t>obj.options.freezeColumns-1&&a-i+l<p?obj.corner.style.display="none":1==obj.options.selectionCopy&&(obj.corner.style.display="")}else 1==obj.options.selectionCopy&&(obj.corner.style.display="")}else obj.corner.style.top="-2000px",obj.corner.style.left="-2000px"},obj.updateScroll=function(e){var t=obj.content.getBoundingClientRect(),n=t.left,i=t.top,r=t.width,s=t.height,a=obj.records[obj.selectedCell[3]][obj.selectedCell[2]].getBoundingClientRect(),o=a.left,l=a.top,c=a.width,h=a.height;if(0==e||1==e)var d=o-n+obj.content.scrollLeft,p=l-i+obj.content.scrollTop-2;else d=o-n+obj.content.scrollLeft+c,p=l-i+obj.content.scrollTop+h;p>obj.content.scrollTop+30&&p<obj.content.scrollTop+s||(p<obj.content.scrollTop+30?obj.content.scrollTop=p-h:obj.content.scrollTop=p-(s-2));var u=obj.getFreezeWidth();d>obj.content.scrollLeft+u&&d<obj.content.scrollLeft+r||(d<obj.content.scrollLeft+30?(obj.content.scrollLeft=d,obj.content.scrollLeft<50&&(obj.content.scrollLeft=0)):d<obj.content.scrollLeft+u?obj.content.scrollLeft=d-u-1:obj.content.scrollLeft=d-(r-20))},obj.getWidth=function(e){if(e)"object"==typeof e&&(e=$(e).getAttribute("data-x")),t=obj.colgroup[e].getAttribute("width");else for(var t=[],n=0;n<obj.headers.length;n++)t.push(obj.options.columns[n].width);return t},obj.setWidth=function(e,t,n){if(t){if(Array.isArray(e)){n||(n=[]);for(var i=0;i<e.length;i++){n[i]||(n[i]=obj.colgroup[e[i]].getAttribute("width"));var r=Array.isArray(t)&&t[i]?t[i]:t;obj.colgroup[e[i]].setAttribute("width",r),obj.options.columns[e[i]].width=r}}else n||(n=obj.colgroup[e].getAttribute("width")),obj.colgroup[e].setAttribute("width",t),obj.options.columns[e].width=t;obj.setHistory({action:"setWidth",column:e,oldValue:n,newValue:t}),obj.dispatch("onresizecolumn",el,e,t,n),obj.updateCornerPosition()}},obj.setHeight=function(e,t,n){t>0&&("object"==typeof e&&(e=e.getAttribute("data-y")),n||(n=obj.rows[e].getAttribute("height"))||(n=obj.rows[e].getBoundingClientRect().height),t=parseInt(t),obj.rows[e].style.height=t+"px",obj.options.rows[e]||(obj.options.rows[e]={}),obj.options.rows[e].height=t,obj.setHistory({action:"setHeight",row:e,oldValue:n,newValue:t}),obj.dispatch("onresizerow",el,e,t,n),obj.updateCornerPosition())},obj.getHeight=function(e){if(e)"object"==typeof e&&(e=$(e).getAttribute("data-y")),t=obj.rows[e].style.height;else for(var t=[],n=0;n<obj.rows.length;n++){var i=obj.rows[n].style.height;i&&(t[n]=i)}return t},obj.setFooter=function(e){if(e&&(obj.options.footers=e),obj.options.footers){obj.tfoot||(obj.tfoot=document.createElement("tfoot"),obj.table.appendChild(obj.tfoot));for(var t=0;t<obj.options.footers.length;t++){if(obj.tfoot.children[t])var n=obj.tfoot.children[t];else{n=document.createElement("tr");var i=document.createElement("td");n.appendChild(i),obj.tfoot.appendChild(n)}for(var r=0;r<obj.headers.length;r++){if(obj.options.footers[t][r]||(obj.options.footers[t][r]=""),obj.tfoot.children[t].children[r+1])i=obj.tfoot.children[t].children[r+1];else{i=document.createElement("td"),n.appendChild(i);var s=obj.options.columns[r].align?obj.options.columns[r].align:"center";i.style.textAlign=s}i.innerText=obj.parseValue(+obj.records.length+r,t,obj.options.footers[t][r])}}}},obj.getHeader=function(e){return obj.headers[e].innerText},obj.setHeader=function(e,t){if(obj.headers[e]){var n=obj.headers[e].innerText;t||(t=prompt(obj.options.text.columnName,n)),t&&(obj.headers[e].innerText=t,obj.headers[e].setAttribute("title",t),obj.options.columns[e].title=t),obj.setHistory({action:"setHeader",column:e,oldValue:n,newValue:t}),obj.dispatch("onchangeheader",el,e,n,t)}},obj.getHeaders=function(e){for(var t=[],n=0;n<obj.headers.length;n++)t.push(obj.getHeader(n));return e?t:t.join(obj.options.csvDelimiter)},obj.getMeta=function(e,t){return e?t?obj.options.meta[e]&&obj.options.meta[e][t]?obj.options.meta[e][t]:null:obj.options.meta[e]?obj.options.meta[e]:null:obj.options.meta},obj.setMeta=function(e,t,n){if(obj.options.meta||(obj.options.meta={}),t&&n)obj.options.meta[e]||(obj.options.meta[e]={}),obj.options.meta[e][t]=n;else for(var i=Object.keys(e),r=0;r<i.length;r++){obj.options.meta[i[r]]||(obj.options.meta[i[r]]={});for(var s=Object.keys(e[i[r]]),a=0;a<s.length;a++)obj.options.meta[i[r]][s[a]]=e[i[r]][s[a]]}obj.dispatch("onchangemeta",el,e,t,n)},obj.updateMeta=function(e){if(obj.options.meta){for(var t={},n=Object.keys(obj.options.meta),i=0;i<n.length;i++)e[n[i]]?t[e[n[i]]]=obj.options.meta[n[i]]:t[n[i]]=obj.options.meta[n[i]];obj.options.meta=t}},obj.getStyle=function(e,t){if(e)return e=jexcel.getIdFromColumnName(e,!0),t?obj.records[e[1]][e[0]].style[t]:obj.records[e[1]][e[0]].getAttribute("style");for(var n={},i=obj.options.data[0].length,r=obj.options.data.length,s=0;s<r;s++)for(var a=0;a<i;a++){var o=t?obj.records[s][a].style[t]:obj.records[s][a].getAttribute("style");o&&(n[jexcel.getColumnNameFromId([a,s])]=o)}return n},obj.resetStyle=function(e,t){for(var n=Object.keys(e),i=0;i<n.length;i++){var r=jexcel.getIdFromColumnName(n[i],!0);obj.records[r[1]]&&obj.records[r[1]][r[0]]&&obj.records[r[1]][r[0]].setAttribute("style","")}obj.setStyle(e,null,null,null,t)},obj.setStyle=function(e,t,n,i,r){var s={},a={},o=function(e,t,n){var r=jexcel.getIdFromColumnName(e,!0);if(obj.records[r[1]]&&obj.records[r[1]][r[0]]&&(0==obj.records[r[1]][r[0]].classList.contains("readonly")||i)){var o=obj.records[r[1]][r[0]].style[t];o!=n||i?obj.records[r[1]][r[0]].style[t]=n:(n="",obj.records[r[1]][r[0]].style[t]=""),a[e]||(a[e]=[]),s[e]||(s[e]=[]),a[e].push([t+":"+o]),s[e].push([t+":"+n])}};if(t&&n)if("string"==typeof e)o(e,t,n);else for(var l=[],c=0;c<e.length;c++){var h=e[c].getAttribute("data-x"),d=e[c].getAttribute("data-y"),p=jexcel.getColumnNameFromId([h,d]);l[p]||(o(p,t,n),l[p]=!0)}else{var u=Object.keys(e);for(c=0;c<u.length;c++){var m=e[u[c]];"string"==typeof m&&(m=m.split(";"));for(var f=0;f<m.length;f++)"string"==typeof m[f]&&(m[f]=m[f].split(":")),m[f][0].trim()&&o(u[c],m[f][0].trim(),m[f][1])}}for(u=Object.keys(a),c=0;c<u.length;c++)a[u[c]]=a[u[c]].join(";");for(u=Object.keys(s),c=0;c<u.length;c++)s[u[c]]=s[u[c]].join(";");r||obj.setHistory({action:"setStyle",oldValue:a,newValue:s}),obj.dispatch("onchangestyle",el,e,t,n)},obj.getComments=function(e,t){if(e)return"string"==typeof e&&(e=jexcel.getIdFromColumnName(e,!0)),t?[obj.records[e[1]][e[0]].getAttribute("title"),obj.records[e[1]][e[0]].getAttribute("author")]:obj.records[e[1]][e[0]].getAttribute("title")||"";for(var n={},i=0;i<obj.options.data.length;i++)for(var r=0;r<obj.options.columns.length;r++){var s=obj.records[i][r].getAttribute("title");s&&(n[e=jexcel.getColumnNameFromId([r,i])]=s)}return n},obj.setComments=function(e,t,n){if("string"==typeof e)var i=jexcel.getIdFromColumnName(e,!0);else i=e;var r=obj.records[i[1]][i[0]].getAttribute("title"),s=[r,n=obj.records[i[1]][i[0]].getAttribute("data-author")];obj.records[i[1]][i[0]].setAttribute("title",t||""),obj.records[i[1]][i[0]].setAttribute("data-author",n||""),t?obj.records[i[1]][i[0]].classList.add("jexcel_comments"):obj.records[i[1]][i[0]].classList.remove("jexcel_comments"),obj.setHistory({action:"setComments",column:e,newValue:[t,n],oldValue:s}),obj.dispatch("oncomments",el,t,r,i,i[0],i[1])},obj.getConfig=function(){var e=obj.options;return e.style=obj.getStyle(),e.mergeCells=obj.getMerge(),e.comments=obj.getComments(),e},obj.orderBy=function(e,t){if(e>=0){if(Object.keys(obj.options.mergeCells).length>0){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}t=null==t?obj.headers[e].classList.contains("arrow-down")?1:0:t?1:0;var n=[];if("number"==obj.options.columns[e].type||"percentage"==obj.options.columns[e].type||"autonumber"==obj.options.columns[e].type||"color"==obj.options.columns[e].type)for(var i=0;i<obj.options.data.length;i++)n[i]=[i,Number(obj.options.data[i][e])];else if("calendar"==obj.options.columns[e].type||"checkbox"==obj.options.columns[e].type||"radio"==obj.options.columns[e].type)for(i=0;i<obj.options.data.length;i++)n[i]=[i,obj.options.data[i][e]];else for(i=0;i<obj.options.data.length;i++)n[i]=[i,obj.records[i][e].innerText.toLowerCase()];"function"!=typeof obj.options.sorting&&(obj.options.sorting=function(e){return function(t,n){var i=t[1],r=n[1];return e?""===i&&""!==r?1:""!==i&&""===r||i>r?-1:i<r?1:0:""===i&&""!==r?1:""!==i&&""===r?-1:i>r?1:i<r?-1:0}}),n=n.sort(obj.options.sorting(t));var r=[];for(i=0;i<n.length;i++)r[i]=n[i][0];return obj.setHistory({action:"orderBy",rows:r,column:e,order:t}),obj.updateOrderArrow(e,t),obj.updateOrder(r),obj.dispatch("onsort",el,e,t),!0}},obj.updateOrderArrow=function(e,t){for(var n=0;n<obj.headers.length;n++)obj.headers[n].classList.remove("arrow-up"),obj.headers[n].classList.remove("arrow-down");t?obj.headers[e].classList.add("arrow-up"):obj.headers[e].classList.add("arrow-down")},obj.updateOrder=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=obj.options.data[e[n]];for(obj.options.data=t,t=[],n=0;n<e.length;n++)t[n]=obj.records[e[n]];for(obj.records=t,t=[],n=0;n<e.length;n++)t[n]=obj.rows[e[n]];if(obj.rows=t,obj.updateTableReferences(),obj.results&&obj.results.length)obj.searchInput.value?obj.search(obj.searchInput.value):obj.closeFilter();else if(obj.results=null,obj.pageNumber=0,obj.options.pagination>0)obj.page(0);else if(1==obj.options.lazyLoading)obj.loadPage(0);else for(n=0;n<obj.rows.length;n++)obj.tbody.appendChild(obj.rows[n])},obj.moveRow=function(e,t,n){if(Object.keys(obj.options.mergeCells).length>0){if(e>t)var i=1;else i=0;if(obj.isRowMerged(e).length||obj.isRowMerged(t,i).length){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}}if(1==obj.options.search){if(obj.results&&obj.results.length!=obj.rows.length){if(!confirm(obj.options.text.thisActionWillClearYourSearchResultsAreYouSure))return!1;obj.resetSearch()}obj.results=null}n||(Array.prototype.indexOf.call(obj.tbody.children,obj.rows[t])>=0?e>t?obj.tbody.insertBefore(obj.rows[e],obj.rows[t]):obj.tbody.insertBefore(obj.rows[e],obj.rows[t].nextSibling):obj.tbody.removeChild(obj.rows[e])),obj.rows.splice(t,0,obj.rows.splice(e,1)[0]),obj.records.splice(t,0,obj.records.splice(e,1)[0]),obj.options.data.splice(t,0,obj.options.data.splice(e,1)[0]),obj.options.pagination>0&&obj.tbody.children.length!=obj.options.pagination&&obj.page(obj.pageNumber),obj.setHistory({action:"moveRow",oldValue:e,newValue:t}),obj.updateTableReferences(),obj.dispatch("onmoverow",el,e,t)},obj.insertRow=function(e,t,n){if(1==obj.options.allowInsertRow){var i=[];if(e>0)var r=e;else r=1,e&&(i=e);n=!!n;var s=obj.options.data.length-1;if((null==t||t>=parseInt(s)||t<0)&&(t=s),!1===obj.dispatch("onbeforeinsertrow",el,t,r,n))return!1;if(Object.keys(obj.options.mergeCells).length>0&&obj.isRowMerged(t,n).length){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}if(1==obj.options.search){if(obj.results&&obj.results.length!=obj.rows.length){if(!confirm(obj.options.text.thisActionWillClearYourSearchResultsAreYouSure))return!1;obj.resetSearch()}obj.results=null}for(var a=n?t:t+1,o=obj.records.splice(a),l=obj.options.data.splice(a),c=obj.rows.splice(a),h=[],d=[],p=[],u=a;u<r+a;u++){obj.options.data[u]=[];for(var m=0;m<obj.options.columns.length;m++)obj.options.data[u][m]=i[m]?i[m]:"";var f=obj.createRow(u,obj.options.data[u]);c[0]?Array.prototype.indexOf.call(obj.tbody.children,c[0])>=0&&obj.tbody.insertBefore(f,c[0]):Array.prototype.indexOf.call(obj.tbody.children,obj.rows[t])>=0&&obj.tbody.appendChild(f),h.push(obj.records[u]),d.push(obj.options.data[u]),p.push(f)}Array.prototype.push.apply(obj.records,o),Array.prototype.push.apply(obj.options.data,l),Array.prototype.push.apply(obj.rows,c),obj.options.pagination>0&&obj.page(obj.pageNumber),obj.setHistory({action:"insertRow",rowNumber:t,numOfRows:r,insertBefore:n,rowRecords:h,rowData:d,rowNode:p}),obj.updateTableReferences(),obj.dispatch("oninsertrow",el,t,r,h,n)}},obj.deleteRow=function(e,t){if(1==obj.options.allowDeleteRow)if(1==obj.options.allowDeletingAllRows||obj.options.data.length>1){if(null==e){var n=obj.getSelectedRows();n[0]?(e=parseInt(n[0].getAttribute("data-y")),t=n.length):(e=obj.options.data.length-1,t=1)}var i=obj.options.data.length-1;if((null==e||e>i||e<0)&&(e=i),t||(t=1),e+t>=obj.options.data.length&&(t=obj.options.data.length-e),!1===obj.dispatch("onbeforedeleterow",el,e,t))return!1;if(parseInt(e)>-1){var r=!1;if(Object.keys(obj.options.mergeCells).length>0)for(var s=e;s<e+t;s++)obj.isRowMerged(s,!1).length&&(r=!0);if(r){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}if(1==obj.options.search){if(obj.results&&obj.results.length!=obj.rows.length){if(!confirm(obj.options.text.thisActionWillClearYourSearchResultsAreYouSure))return!1;obj.resetSearch()}obj.results=null}for(0==obj.options.allowDeletingAllRows&&i+1===t&&(t--,console.error("Jspreadsheet: It is not possible to delete the last row")),s=e;s<e+t;s++)Array.prototype.indexOf.call(obj.tbody.children,obj.rows[s])>=0&&(obj.rows[s].className="",obj.rows[s].parentNode.removeChild(obj.rows[s]));var a=obj.records.splice(e,t),o=obj.options.data.splice(e,t),l=obj.rows.splice(e,t);obj.options.pagination>0&&obj.tbody.children.length!=obj.options.pagination&&obj.page(obj.pageNumber),obj.conditionalSelectionUpdate(1,e,e+t-1),obj.setHistory({action:"deleteRow",rowNumber:e,numOfRows:t,insertBefore:1,rowRecords:a,rowData:o,rowNode:l}),obj.updateTableReferences(),obj.dispatch("ondeleterow",el,e,t,a)}}else console.error("Jspreadsheet: It is not possible to delete the last row")},obj.moveColumn=function(e,t){if(Object.keys(obj.options.mergeCells).length>0){if(e>t)var n=1;else n=0;if(obj.isColMerged(e).length||obj.isColMerged(t,n).length){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}}if((e=parseInt(e))>(t=parseInt(t))){obj.headerContainer.insertBefore(obj.headers[e],obj.headers[t]),obj.colgroupContainer.insertBefore(obj.colgroup[e],obj.colgroup[t]);for(var i=0;i<obj.rows.length;i++)obj.rows[i].insertBefore(obj.records[i][e],obj.records[i][t])}else for(obj.headerContainer.insertBefore(obj.headers[e],obj.headers[t].nextSibling),obj.colgroupContainer.insertBefore(obj.colgroup[e],obj.colgroup[t].nextSibling),i=0;i<obj.rows.length;i++)obj.rows[i].insertBefore(obj.records[i][e],obj.records[i][t].nextSibling);for(obj.options.columns.splice(t,0,obj.options.columns.splice(e,1)[0]),obj.headers.splice(t,0,obj.headers.splice(e,1)[0]),obj.colgroup.splice(t,0,obj.colgroup.splice(e,1)[0]),i=0;i<obj.rows.length;i++)obj.options.data[i].splice(t,0,obj.options.data[i].splice(e,1)[0]),obj.records[i].splice(t,0,obj.records[i].splice(e,1)[0]);if(obj.options.footers)for(i=0;i<obj.options.footers.length;i++)obj.options.footers[i].splice(t,0,obj.options.footers[i].splice(e,1)[0]);obj.setHistory({action:"moveColumn",oldValue:e,newValue:t}),obj.updateTableReferences(),obj.dispatch("onmovecolumn",el,e,t)},obj.insertColumn=function(e,t,n,i){if(1==obj.options.allowInsertColumn){var r=[];if(e>0)var s=e;else s=1,e&&(r=e);n=!!n;var a=obj.options.columns.length-1;if((null==t||t>=parseInt(a)||t<0)&&(t=a),!1===obj.dispatch("onbeforeinsertcolumn",el,t,s,n))return!1;if(Object.keys(obj.options.mergeCells).length>0&&obj.isColMerged(t,n).length){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}i||(i=[]);for(var o=0;o<s;o++)i[o]||(i[o]={type:"text",source:[],options:[],width:obj.options.defaultColWidth,align:obj.options.defaultColAlign});var l=n?t:t+1;obj.options.columns=jexcel.injectArray(obj.options.columns,l,i);for(var c=obj.headers.splice(l),h=obj.colgroup.splice(l),d=[],p=[],u=[],m=[],f=[],g=l;g<s+l;g++)obj.createCellHeader(g),obj.headerContainer.insertBefore(obj.headers[g],obj.headerContainer.children[g+1]),obj.colgroupContainer.insertBefore(obj.colgroup[g],obj.colgroupContainer.children[g+1]),d.push(obj.headers[g]),p.push(obj.colgroup[g]);if(obj.options.footers)for(var b=0;b<obj.options.footers.length;b++){for(f[b]=[],o=0;o<s;o++)f[b].push("");obj.options.footers[b].splice(l,0,f[b])}for(var y=0;y<obj.options.data.length;y++){var v=obj.options.data[y].splice(l),x=obj.records[y].splice(l);for(m[y]=[],u[y]=[],g=l;g<s+l;g++){var w=r[y]?r[y]:"";obj.options.data[y][g]=w;var O=obj.createCell(g,y,obj.options.data[y][g]);obj.records[y][g]=O,obj.rows[y]&&obj.rows[y].insertBefore(O,obj.rows[y].children[g+1]),m[y].push(w),u[y].push(O)}Array.prototype.push.apply(obj.options.data[y],v),Array.prototype.push.apply(obj.records[y],x)}if(Array.prototype.push.apply(obj.headers,c),Array.prototype.push.apply(obj.colgroup,h),obj.options.nestedHeaders&&obj.options.nestedHeaders.length>0)if(obj.options.nestedHeaders[0]&&obj.options.nestedHeaders[0][0])for(b=0;b<obj.options.nestedHeaders.length;b++){var S=parseInt(obj.options.nestedHeaders[b][obj.options.nestedHeaders[b].length-1].colspan)+s;obj.options.nestedHeaders[b][obj.options.nestedHeaders[b].length-1].colspan=S,obj.thead.children[b].children[obj.thead.children[b].children.length-1].setAttribute("colspan",S);var k=obj.thead.children[b].children[obj.thead.children[b].children.length-1].getAttribute("data-column");for(k=k.split(","),g=l;g<s+l;g++)k.push(g);obj.thead.children[b].children[obj.thead.children[b].children.length-1].setAttribute("data-column",k)}else S=parseInt(obj.options.nestedHeaders[0].colspan)+s,obj.options.nestedHeaders[0].colspan=S,obj.thead.children[0].children[obj.thead.children[0].children.length-1].setAttribute("colspan",S);obj.setHistory({action:"insertColumn",columnNumber:t,numOfColumns:s,insertBefore:n,columns:i,headers:d,colgroup:p,records:u,footers:f,data:m}),obj.updateTableReferences(),obj.dispatch("oninsertcolumn",el,t,s,u,n)}},obj.deleteColumn=function(e,t){if(1==obj.options.allowDeleteColumn)if(obj.headers.length>1){if(null==e){var n=obj.getSelectedColumns(!0);n.length?(e=parseInt(n[0]),t=parseInt(n.length)):(e=obj.headers.length-1,t=1)}var i=obj.options.data[0].length-1;if((null==e||e>i||e<0)&&(e=i),t||(t=1),t>obj.options.data[0].length-e&&(t=obj.options.data[0].length-e),!1===obj.dispatch("onbeforedeletecolumn",el,e,t))return!1;if(parseInt(e)>-1){var r=!1;if(Object.keys(obj.options.mergeCells).length>0)for(var s=e;s<e+t;s++)obj.isColMerged(s,!1).length&&(r=!0);if(r){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}var a=obj.options.columns.splice(e,t);for(s=e;s<e+t;s++)obj.colgroup[s].className="",obj.headers[s].className="",obj.colgroup[s].parentNode.removeChild(obj.colgroup[s]),obj.headers[s].parentNode.removeChild(obj.headers[s]);for(var o=obj.headers.splice(e,t),l=obj.colgroup.splice(e,t),c=[],h=[],d=[],p=0;p<obj.options.data.length;p++)for(s=e;s<e+t;s++)obj.records[p][s].className="",obj.records[p][s].parentNode.removeChild(obj.records[p][s]);for(p=0;p<obj.options.data.length;p++)h[p]=obj.options.data[p].splice(e,t),c[p]=obj.records[p].splice(e,t);if(obj.options.footers)for(p=0;p<obj.options.footers.length;p++)d[p]=obj.options.footers[p].splice(e,t);if(obj.conditionalSelectionUpdate(0,e,e+t-1),obj.options.nestedHeaders&&obj.options.nestedHeaders.length>0)if(obj.options.nestedHeaders[0]&&obj.options.nestedHeaders[0][0])for(var u=0;u<obj.options.nestedHeaders.length;u++){var m=parseInt(obj.options.nestedHeaders[u][obj.options.nestedHeaders[u].length-1].colspan)-t;obj.options.nestedHeaders[u][obj.options.nestedHeaders[u].length-1].colspan=m,obj.thead.children[u].children[obj.thead.children[u].children.length-1].setAttribute("colspan",m)}else m=parseInt(obj.options.nestedHeaders[0].colspan)-t,obj.options.nestedHeaders[0].colspan=m,obj.thead.children[0].children[obj.thead.children[0].children.length-1].setAttribute("colspan",m);obj.setHistory({action:"deleteColumn",columnNumber:e,numOfColumns:t,insertBefore:1,columns:a,headers:o,colgroup:l,records:c,footers:d,data:h}),obj.updateTableReferences(),obj.dispatch("ondeletecolumn",el,e,t,c)}}else console.error("Jspreadsheet: It is not possible to delete the last column")},obj.getSelectedRows=function(e){for(var t=[],n=0;n<obj.rows.length;n++)obj.rows[n].classList.contains("selected")&&(e?t.push(n):t.push(obj.rows[n]));return t},obj.getSelectedColumns=function(){for(var e=[],t=0;t<obj.headers.length;t++)obj.headers[t].classList.contains("selected")&&e.push(t);return e},obj.getHighlighted=function(){return obj.highlighted},obj.updateTableReferences=function(){for(var e=0;e<obj.headers.length;e++)(s=obj.headers[e].getAttribute("data-x"))!=e&&(obj.headers[e].setAttribute("data-x",e),obj.headers[e].getAttribute("title")||(obj.headers[e].innerHTML=jexcel.getColumnName(e)));for(var t=0;t<obj.rows.length;t++)obj.rows[t]&&(a=obj.rows[t].getAttribute("data-y"))!=t&&(obj.rows[t].setAttribute("data-y",t),obj.rows[t].children[0].setAttribute("data-y",t),obj.rows[t].children[0].innerHTML=t+1);var n=[],i=[],r=function(e,t,i,r){if(e!=i&&obj.records[r][i].setAttribute("data-x",i),t!=r&&obj.records[r][i].setAttribute("data-y",r),e!=i||t!=r){var s=jexcel.getColumnNameFromId([e,t]),a=jexcel.getColumnNameFromId([i,r]);n[s]=a}};for(t=0;t<obj.records.length;t++)for(e=0;e<obj.records[0].length;e++)if(obj.records[t][e]){var s=obj.records[t][e].getAttribute("data-x"),a=obj.records[t][e].getAttribute("data-y");if(obj.records[t][e].getAttribute("data-merged")){var o=jexcel.getColumnNameFromId([s,a]),l=jexcel.getColumnNameFromId([e,t]);if(null==i[o])if(o==l)i[o]=!1;else{var c=parseInt(e-s),h=parseInt(t-a);i[o]=[l,c,h]}}else r(s,a,e,t)}var d=Object.keys(i);if(d.length)for(e=0;e<d.length;e++)if(i[d[e]]){var p=jexcel.getIdFromColumnName(d[e],!0);for(r(s=p[0],a=p[1],s+i[d[e]][1],a+i[d[e]][2]),o=d[e],l=i[d[e]][0],t=0;t<obj.options.mergeCells[o][2].length;t++)s=parseInt(obj.options.mergeCells[o][2][t].getAttribute("data-x")),a=parseInt(obj.options.mergeCells[o][2][t].getAttribute("data-y")),obj.options.mergeCells[o][2][t].setAttribute("data-x",s+i[d[e]][1]),obj.options.mergeCells[o][2][t].setAttribute("data-y",a+i[d[e]][2]);obj.options.mergeCells[l]=obj.options.mergeCells[o],delete obj.options.mergeCells[o]}obj.updateFormulas(n),obj.updateMeta(n),obj.refreshSelection(),obj.updateTable()},obj.updateTable=function(){if(obj.options.minSpareRows>0){for(var e=0,t=obj.rows.length-1;t>=0;t--){for(var n=!1,i=0;i<obj.headers.length;i++)obj.options.data[t][i]&&(n=!0);if(n)break;e++}obj.options.minSpareRows-e>0&&obj.insertRow(obj.options.minSpareRows-e)}if(obj.options.minSpareCols>0){var r=0;for(i=obj.headers.length-1;i>=0;i--){for(n=!1,t=0;t<obj.rows.length;t++)obj.options.data[t][i]&&(n=!0);if(n)break;r++}obj.options.minSpareCols-r>0&&obj.insertColumn(obj.options.minSpareCols-r)}if("function"==typeof obj.options.updateTable){for(obj.options.detachForUpdates&&el.removeChild(obj.content),t=0;t<obj.rows.length;t++)for(i=0;i<obj.headers.length;i++)obj.options.updateTable(el,obj.records[t][i],i,t,obj.options.data[t][i],obj.records[t][i].innerText,jexcel.getColumnNameFromId([i,t]));obj.options.detachForUpdates&&el.insertBefore(obj.content,obj.pagination)}obj.options.footers&&obj.setFooter(),setTimeout((function(){obj.updateCornerPosition()}),0)},obj.isReadOnly=function(e){if(e=obj.getCell(e))return!!e.classList.contains("readonly")},obj.setReadOnly=function(e,t){(e=obj.getCell(e))&&(t?e.classList.add("readonly"):e.classList.remove("readonly"))},obj.showRow=function(e){obj.rows[e].style.display=""},obj.hideRow=function(e){obj.rows[e].style.display="none"},obj.showColumn=function(e){obj.headers[e].style.display="",obj.colgroup[e].style.display="",obj.filter&&obj.filter.children.length>e+1&&(obj.filter.children[e+1].style.display="");for(var t=0;t<obj.options.data.length;t++)obj.records[t][e].style.display="";obj.resetSelection()},obj.hideColumn=function(e){obj.headers[e].style.display="none",obj.colgroup[e].style.display="none",obj.filter&&obj.filter.children.length>e+1&&(obj.filter.children[e+1].style.display="none");for(var t=0;t<obj.options.data.length;t++)obj.records[t][e].style.display="none";obj.resetSelection()},obj.showIndex=function(){obj.table.classList.remove("jexcel_hidden_index")},obj.hideIndex=function(){obj.table.classList.add("jexcel_hidden_index")};var chainLoopProtection=[];obj.updateFormulaChain=function(e,t,n){var i=jexcel.getColumnNameFromId([e,t]);if(obj.formula[i]&&obj.formula[i].length>0)if(chainLoopProtection[i])obj.records[t][e].innerHTML="#ERROR",obj.formula[i]="";else{chainLoopProtection[i]=!0;for(var r=0;r<obj.formula[i].length;r++){var s=jexcel.getIdFromColumnName(obj.formula[i][r],!0),a=""+obj.options.data[s[1]][s[0]];"="==a.substr(0,1)?n.push(obj.updateCell(s[0],s[1],a,!0)):Object.keys(obj.formula)[r]=null,obj.updateFormulaChain(s[0],s[1],n)}}chainLoopProtection=[]},obj.updateFormulas=function(e){for(var t=0;t<obj.options.data.length;t++)for(var n=0;n<obj.options.data[0].length;n++)if("="==(o=""+obj.options.data[t][n]).substr(0,1)){var i=obj.updateFormula(o,e);i!=o&&(obj.options.data[t][n]=i)}var r=[],s=Object.keys(obj.formula);for(t=0;t<s.length;t++){var a=s[t],o=obj.formula[a];for(e[a]&&(a=e[a]),r[a]=[],n=0;n<o.length;n++){var l=o[n];e[l]&&(l=e[l]),r[a].push(l)}}obj.formula=r},obj.updateFormula=function(e,t){for(var n=/[A-Z]/,i=/[0-9]/,r="",s=null,a=null,o="",l=0;l<e.length;l++)n.exec(e[l])?(s=1,a=0,o+=e[l]):i.exec(e[l])?(a=s?1:0,o+=e[l]):(s&&a&&(o=t[o]?t[o]:o),r+=o,r+=e[l],s=0,a=0,o="");return o&&(s&&a&&(o=t[o]?t[o]:o),r+=o),r};var secureFormula=function(e){for(var t="",n=0,i=0;i<e.length;i++)'"'==e[i]&&(n=0==n?1:0),t+=1==n?e[i]:e[i].toUpperCase();return t};obj.executeFormula=function(expression,x,y){var formulaResults=[],formulaLoopProtection=[],execute=function(expression,x,y){var parentId=jexcel.getColumnNameFromId([x,y]);if(formulaLoopProtection[parentId])return console.error("Reference loop detected"),"#ERROR";formulaLoopProtection[parentId]=!0;var tokensUpdate=function(e){for(var t=0;t<e.length;t++){var n=[],i=e[t].split(":"),r=jexcel.getIdFromColumnName(i[0],!0),s=jexcel.getIdFromColumnName(i[1],!0);if(r[0]<=s[0])var a=r[0],o=s[0];else a=s[0],o=r[0];if(r[1]<=s[1])var l=r[1],c=s[1];else l=s[1],c=r[1];for(var h=l;h<=c;h++)for(var d=a;d<=o;d++)n.push(jexcel.getColumnNameFromId([d,h]));expression=expression.replace(e[t],n.join(","))}};expression=expression.replace(/\$?([A-Z]+)\$?([0-9]+)/g,"$1$2");var tokens=expression.match(/([A-Z]+[0-9]+)\:([A-Z]+[0-9]+)/g);tokens&&tokens.length&&tokensUpdate(tokens);var tokens=expression.match(/([A-Z]+[0-9]+)/g);if(tokens&&tokens.indexOf(parentId)>-1)return console.error("Self Reference detected"),"#ERROR";var formulaExpressions={};if(tokens)for(var i=0;i<tokens.length;i++)if(obj.formula[tokens[i]]||(obj.formula[tokens[i]]=[]),obj.formula[tokens[i]].indexOf(parentId)<0&&obj.formula[tokens[i]].push(parentId),eval("typeof("+tokens[i]+') == "undefined"')){var position=jexcel.getIdFromColumnName(tokens[i],1);if(void 0!==obj.options.data[position[1]]&&void 0!==obj.options.data[position[1]][position[0]])var value=obj.options.data[position[1]][position[0]];else var value="";if("="==(""+value).substr(0,1)&&(formulaResults[tokens[i]]?value=formulaResults[tokens[i]]:(value=execute(value,position[0],position[1]),formulaResults[tokens[i]]=value)),""==(""+value).trim())formulaExpressions[tokens[i]]=null;else if(value==Number(value)&&1==obj.options.autoCasting)formulaExpressions[tokens[i]]=Number(value);else{var number=obj.parseNumber(value,position[0]);1==obj.options.autoCasting&&number?formulaExpressions[tokens[i]]=number:formulaExpressions[tokens[i]]='"'+value+'"'}}try{var res=jexcel.formula(expression.substr(1),formulaExpressions,x,y,obj)}catch(e){var res="#ERROR";console.log(e)}return res};return execute(expression,x,y)},obj.parseNumber=function(e,t){var n=t&&obj.options.columns[t].decimal?obj.options.columns[t].decimal:".",i=""+e;if((i=i.split(n))[0]=i[0].match(/[+-]?[0-9]/g),i[0]&&(i[0]=i[0].join("")),i[1]&&(i[1]=i[1].match(/[0-9]*/g).join("")),i[0]&&Number(i[0])>=0)if(i[1])e=Number(i[0]+"."+i[1]);else var e=Number(i[0]+".00");else e=null;return e},obj.row=function(e){},obj.col=function(e){},obj.up=function(e,t){if(e?obj.selectedCell[3]>0&&obj.up.visible(1,t?0:1):(obj.selectedCell[1]>0&&obj.up.visible(0,t?0:1),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),1==obj.options.lazyLoading)if(0==obj.selectedCell[1]||0==obj.selectedCell[3])obj.loadPage(0),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]);else if(obj.loadValidation())obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]);else{var n=parseInt(obj.tbody.firstChild.getAttribute("data-y"));obj.selectedCell[1]-n<30&&(obj.loadUp(),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]))}else if(obj.options.pagination>0){var i=obj.whichPage(obj.selectedCell[3]);i!=obj.pageNumber&&obj.page(i)}obj.updateScroll(1)},obj.up.visible=function(e,t){if(0==e)var n=parseInt(obj.selectedCell[0]),i=parseInt(obj.selectedCell[1]);else n=parseInt(obj.selectedCell[2]),i=parseInt(obj.selectedCell[3]);if(0==t){for(var r=0;r<i;r++)if("none"!=obj.records[r][n].style.display&&"none"!=obj.rows[r].style.display){i=r;break}}else i=obj.up.get(n,i);0==e?(obj.selectedCell[0]=n,obj.selectedCell[1]=i):(obj.selectedCell[2]=n,obj.selectedCell[3]=i)},obj.up.get=function(e,t){e=parseInt(e);for(var n=(t=parseInt(t))-1;n>=0;n--)if("none"!=obj.records[n][e].style.display&&"none"!=obj.rows[n].style.display){if(obj.records[n][e].getAttribute("data-merged")&&obj.records[n][e]==obj.records[t][e])continue;t=n;break}return t},obj.down=function(e,t){if(e?obj.selectedCell[3]<obj.records.length-1&&obj.down.visible(1,t?0:1):(obj.selectedCell[1]<obj.records.length-1&&obj.down.visible(0,t?0:1),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),1==obj.options.lazyLoading)obj.selectedCell[1]==obj.records.length-1||obj.selectedCell[3]==obj.records.length-1?(obj.loadPage(-1),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3])):obj.loadValidation()?obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]):parseInt(obj.tbody.lastChild.getAttribute("data-y"))-obj.selectedCell[3]<30&&(obj.loadDown(),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]));else if(obj.options.pagination>0){var n=obj.whichPage(obj.selectedCell[3]);n!=obj.pageNumber&&obj.page(n)}obj.updateScroll(3)},obj.down.visible=function(e,t){if(0==e)var n=parseInt(obj.selectedCell[0]),i=parseInt(obj.selectedCell[1]);else n=parseInt(obj.selectedCell[2]),i=parseInt(obj.selectedCell[3]);if(0==t){for(var r=obj.rows.length-1;r>i;r--)if("none"!=obj.records[r][n].style.display&&"none"!=obj.rows[r].style.display){i=r;break}}else i=obj.down.get(n,i);0==e?(obj.selectedCell[0]=n,obj.selectedCell[1]=i):(obj.selectedCell[2]=n,obj.selectedCell[3]=i)},obj.down.get=function(e,t){e=parseInt(e);for(var n=(t=parseInt(t))+1;n<obj.rows.length;n++)if("none"!=obj.records[n][e].style.display&&"none"!=obj.rows[n].style.display){if(obj.records[n][e].getAttribute("data-merged")&&obj.records[n][e]==obj.records[t][e])continue;t=n;break}return t},obj.right=function(e,t){e?obj.selectedCell[2]<obj.headers.length-1&&obj.right.visible(1,t?0:1):(obj.selectedCell[0]<obj.headers.length-1&&obj.right.visible(0,t?0:1),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),obj.updateScroll(2)},obj.right.visible=function(e,t){if(0==e)var n=parseInt(obj.selectedCell[0]),i=parseInt(obj.selectedCell[1]);else n=parseInt(obj.selectedCell[2]),i=parseInt(obj.selectedCell[3]);if(0==t){for(var r=obj.headers.length-1;r>n;r--)if("none"!=obj.records[i][r].style.display){n=r;break}}else n=obj.right.get(n,i);0==e?(obj.selectedCell[0]=n,obj.selectedCell[1]=i):(obj.selectedCell[2]=n,obj.selectedCell[3]=i)},obj.right.get=function(e,t){e=parseInt(e),t=parseInt(t);for(var n=e+1;n<obj.headers.length;n++)if("none"!=obj.records[t][n].style.display){if(obj.records[t][n].getAttribute("data-merged")&&obj.records[t][n]==obj.records[t][e])continue;e=n;break}return e},obj.left=function(e,t){e?obj.selectedCell[2]>0&&obj.left.visible(1,t?0:1):(obj.selectedCell[0]>0&&obj.left.visible(0,t?0:1),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),obj.updateScroll(0)},obj.left.visible=function(e,t){if(0==e)var n=parseInt(obj.selectedCell[0]),i=parseInt(obj.selectedCell[1]);else n=parseInt(obj.selectedCell[2]),i=parseInt(obj.selectedCell[3]);if(0==t){for(var r=0;r<n;r++)if("none"!=obj.records[i][r].style.display){n=r;break}}else n=obj.left.get(n,i);0==e?(obj.selectedCell[0]=n,obj.selectedCell[1]=i):(obj.selectedCell[2]=n,obj.selectedCell[3]=i)},obj.left.get=function(e,t){e=parseInt(e),t=parseInt(t);for(var n=e-1;n>=0;n--)if("none"!=obj.records[t][n].style.display){if(obj.records[t][n].getAttribute("data-merged")&&obj.records[t][n]==obj.records[t][e])continue;e=n;break}return e},obj.first=function(e,t){if(e?t?obj.selectedCell[3]=0:obj.left.visible(1,0):(t?obj.selectedCell[1]=0:obj.left.visible(0,0),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),1!=obj.options.lazyLoading||0!=obj.selectedCell[1]&&0!=obj.selectedCell[3]){if(obj.options.pagination>0){var n=obj.whichPage(obj.selectedCell[3]);n!=obj.pageNumber&&obj.page(n)}}else obj.loadPage(0);obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),obj.updateScroll(1)},obj.last=function(e,t){if(e?t?obj.selectedCell[3]=obj.records.length-1:obj.right.visible(1,0):(t?obj.selectedCell[1]=obj.records.length-1:obj.right.visible(0,0),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),1!=obj.options.lazyLoading||obj.selectedCell[1]!=obj.records.length-1&&obj.selectedCell[3]!=obj.records.length-1){if(obj.options.pagination>0){var n=obj.whichPage(obj.selectedCell[3]);n!=obj.pageNumber&&obj.page(n)}}else obj.loadPage(-1);obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),obj.updateScroll(3)},obj.selectAll=function(){obj.selectedCell||(obj.selectedCell=[]),obj.selectedCell[0]=0,obj.selectedCell[1]=0,obj.selectedCell[2]=obj.headers.length-1,obj.selectedCell[3]=obj.records.length-1,obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3])},obj.loadPage=function(e){if(1==obj.options.search&&obj.results)var t=obj.results;else t=obj.rows;var n=100;null!=e&&-1!=e||(e=Math.ceil(t.length/n)-1);var i=e*n,r=e*n+n;r>t.length&&(r=t.length),(i=r-100)<0&&(i=0);for(var s=i;s<r;s++)1==obj.options.search&&obj.results?obj.tbody.appendChild(obj.rows[t[s]]):obj.tbody.appendChild(obj.rows[s]),obj.tbody.children.length>n&&obj.tbody.removeChild(obj.tbody.firstChild)},obj.loadUp=function(){if(1==obj.options.search&&obj.results)var e=obj.results;else e=obj.rows;var t=0;if(e.length>100){var n=parseInt(obj.tbody.firstChild.getAttribute("data-y"));if(1==obj.options.search&&obj.results&&(n=e.indexOf(n)),n>0)for(var i=0;i<30;i++)(n-=1)>-1&&(1==obj.options.search&&obj.results?obj.tbody.insertBefore(obj.rows[e[n]],obj.tbody.firstChild):obj.tbody.insertBefore(obj.rows[n],obj.tbody.firstChild),obj.tbody.children.length>100&&(obj.tbody.removeChild(obj.tbody.lastChild),t=1))}return t},obj.loadDown=function(){if(1==obj.options.search&&obj.results)var e=obj.results;else e=obj.rows;var t=0;if(e.length>100){var n=parseInt(obj.tbody.lastChild.getAttribute("data-y"));if(1==obj.options.search&&obj.results&&(n=e.indexOf(n)),n<obj.rows.length-1)for(var i=0;i<=30;i++)n<e.length&&(1==obj.options.search&&obj.results?obj.tbody.appendChild(obj.rows[e[n]]):obj.tbody.appendChild(obj.rows[n]),obj.tbody.children.length>100&&(obj.tbody.removeChild(obj.tbody.firstChild),t=1)),n+=1}return t},obj.loadValidation=function(){if(obj.selectedCell){var e=parseInt(obj.tbody.firstChild.getAttribute("data-y"))/100,t=parseInt(obj.selectedCell[3]/100),n=parseInt(obj.rows.length/100);if(e!=t&&t<=n&&!Array.prototype.indexOf.call(obj.tbody.children,obj.rows[obj.selectedCell[3]]))return obj.loadPage(t),!0}return!1},obj.resetSearch=function(){obj.searchInput.value="",obj.search(""),obj.results=null},obj.search=function(e){if(e&&(e=e.toLowerCase()),obj.options.filters&&obj.resetFilters(),obj.resetSelection(),obj.pageNumber=0,obj.results=[],e){var t=function(e){-1==obj.results.indexOf(e)&&obj.results.push(e)};obj.options.data.filter((function(n,i){if(function(e,t,n){for(var i=0;i<e.length;i++)if((""+e[i]).toLowerCase().search(t)>=0||(""+obj.records[n][i].innerHTML).toLowerCase().search(t)>=0)return!0;return!1}(n,e,i)){var r=obj.isRowMerged(i);if(r.length)for(var s=0;s<r.length;s++)for(var a=jexcel.getIdFromColumnName(r[s],!0),o=0;o<obj.options.mergeCells[r[s]][1];o++)t(a[1]+o);else t(i);return!0}return!1}))}else obj.results=null;return obj.updateResult()},obj.updateResult=function(){var e=0,t=0;for(e=1==obj.options.lazyLoading?100:obj.options.pagination>0?obj.options.pagination:obj.results?obj.results.length:obj.rows.length;obj.tbody.firstChild;)obj.tbody.removeChild(obj.tbody.firstChild);for(var n=0;n<obj.rows.length;n++)!obj.results||obj.results.indexOf(n)>-1?(t<e&&(obj.tbody.appendChild(obj.rows[n]),t++),obj.rows[n].style.display=""):obj.rows[n].style.display="none";return obj.options.pagination>0&&obj.updatePagination(),obj.updateCornerPosition(),e},obj.whichPage=function(e){return 1==obj.options.search&&obj.results&&(e=obj.results.indexOf(e)),Math.ceil((parseInt(e)+1)/parseInt(obj.options.pagination))-1},obj.page=function(e){var t=obj.pageNumber;if(1==obj.options.search&&obj.results)var n=obj.results;else n=obj.rows;var i=parseInt(obj.options.pagination);null!=e&&-1!=e||(e=Math.ceil(n.length/i)-1),obj.pageNumber=e;var r=e*i,s=e*i+i;for(s>n.length&&(s=n.length),r<0&&(r=0);obj.tbody.firstChild;)obj.tbody.removeChild(obj.tbody.firstChild);for(var a=r;a<s;a++)1==obj.options.search&&obj.results?obj.tbody.appendChild(obj.rows[n[a]]):obj.tbody.appendChild(obj.rows[a]);obj.options.pagination>0&&obj.updatePagination(),obj.updateCornerPosition(),obj.dispatch("onchangepage",el,e,t)},obj.updatePagination=function(){if(obj.pagination.children[0].innerHTML="",obj.pagination.children[1].innerHTML="",obj.options.pagination){if(1==obj.options.search&&obj.results)var e=obj.results.length;else e=obj.rows.length;if(e){var t=Math.ceil(e/obj.options.pagination);if(obj.pageNumber<6)var n=1,i=t<10?t:10;else t-obj.pageNumber<5?(i=t,(n=t-9)<1&&(n=1)):(n=obj.pageNumber-4,i=obj.pageNumber+5);n>1&&((s=document.createElement("div")).className="jexcel_page",s.innerHTML="<",s.title=1,obj.pagination.children[1].appendChild(s));for(var r=n;r<=i;r++){var s;(s=document.createElement("div")).className="jexcel_page",s.innerHTML=r,obj.pagination.children[1].appendChild(s),obj.pageNumber==r-1&&s.classList.add("jexcel_page_selected")}i<t&&((s=document.createElement("div")).className="jexcel_page",s.innerHTML=">",s.title=t,obj.pagination.children[1].appendChild(s)),obj.pagination.children[0].innerHTML=function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,(function(e,n){return void 0!==t[n]?t[n]:e}))}(obj.options.text.showingPage,obj.pageNumber+1,t)}else obj.pagination.children[0].innerHTML=obj.options.text.noRecordsFound}},obj.download=function(e){if(0==obj.options.allowExport)console.error("Export not allowed");else{var t="";t+=obj.copy(!1,obj.options.csvDelimiter,!0,e,!0);var n=new Blob(["\ufeff"+t],{type:"text/csv;charset=utf-8;"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,obj.options.csvFileName+".csv");else{var i=document.createElement("a"),r=URL.createObjectURL(n);i.href=r,i.setAttribute("download",obj.options.csvFileName+".csv"),document.body.appendChild(i),i.click(),i.parentNode.removeChild(i)}}},obj.setHistory=function(e){if(1!=obj.ignoreHistory){var t=++obj.historyIndex;obj.history=obj.history=obj.history.slice(0,t+1),obj.history[t]=e}},obj.copy=function(e,t,n,i,r){t||(t="\t");for(var s=new RegExp(t,"ig"),a=[],o=[],l=[],c=[],h=[],d=obj.options.data[0].length,p=obj.options.data.length,u="",m=!1,f="",g="",b=0,y=0,v=0,x=0,w=!0,O=0;O<p;O++)for(var S=0;S<d;S++)e&&!obj.records[O][S].classList.contains("highlight")||(v<=S&&(v=S),x<=O&&(x=O));if(d===v+1&&p===x+1&&(w=!1),r&&1==obj.options.includeHeadersOnDownload||!r&&1==obj.options.includeHeadersOnCopy&&!w||i){if(obj.options.nestedHeaders&&obj.options.nestedHeaders.length>0)for(u=obj.options.nestedHeaders[0]&&obj.options.nestedHeaders[0][0]?obj.options.nestedHeaders:[obj.options.nestedHeaders],O=0;O<u.length;O++){var k=[];for(S=0;S<u[O].length;S++){var _=parseInt(u[O][S].colspan);k.push(u[O][S].title);for(var A=0;A<_-1;A++)k.push("")}g+=k.join(t)+"\r\n"}m=!0}for(obj.style=[],O=0;O<p;O++){for(o=[],l=[],S=0;S<d;S++)if(!e||obj.records[O][S].classList.contains("highlight")){1==m&&a.push(obj.headers[S].innerText);var T=obj.options.data[O][S];if(T.match&&(T.match(s)||T.match(/,/g)||T.match(/\n/)||T.match(/\"/))&&(T='"'+(T=T.replace(new RegExp('"',"g"),'""'))+'"'),o.push(T),"checkbox"==obj.options.columns[S].type||"radio"==obj.options.columns[S].type)var C=T;else(C=1==obj.options.stripHTMLOnCopy?obj.records[O][S].innerText:obj.records[O][S].innerHTML).match&&(C.match(s)||C.match(/,/g)||C.match(/\n/)||C.match(/\"/))&&(C='"'+(C=C.replace(new RegExp('"',"g"),'""'))+'"');l.push(C),u=(u=obj.records[O][S].getAttribute("style")).replace("display: none;",""),obj.style.push(u||"")}o.length&&(m&&(b=o.length,c.push(a.join(t))),c.push(o.join(t))),l.length&&(y++,m&&(h.push(a.join(t)),m=!1),h.push(l.join(t)))}d==b&&p==y&&(f=g);var M=f+c.join("\r\n"),E=f+h.join("\r\n");if(n||(1==obj.options.copyCompatibility?obj.textarea.value=E:obj.textarea.value=M,obj.textarea.select(),document.execCommand("copy")),1==obj.options.copyCompatibility?obj.data=E:obj.data=M,obj.hashString=obj.hash(obj.data),!n){if(obj.removeCopyingSelection(),obj.highlighted)for(S=0;S<obj.highlighted.length;S++)obj.highlighted[S].classList.add("copying"),obj.highlighted[S].classList.contains("highlight-left")&&obj.highlighted[S].classList.add("copying-left"),obj.highlighted[S].classList.contains("highlight-right")&&obj.highlighted[S].classList.add("copying-right"),obj.highlighted[S].classList.contains("highlight-top")&&obj.highlighted[S].classList.add("copying-top"),obj.highlighted[S].classList.contains("highlight-bottom")&&obj.highlighted[S].classList.add("copying-bottom");obj.dispatch("oncopy",el,1==obj.options.copyCompatibility?h:c,obj.hashString)}return obj.data},obj.paste=function(e,t,n){var i=obj.dispatch("onbeforepaste",el,n,e,t);if(!1===i)return!1;i&&(n=i);var r=obj.hash(n),s=r==obj.hashString?obj.style:null;if(1==obj.options.copyCompatibility&&r==obj.hashString&&(n=obj.data),n=obj.parseCSV(n,"\t"),null!=e&&null!=t&&n){for(var a=0,o=0,l=[],c={},h={},d=0,p=parseInt(e),u=parseInt(t),m=null;m=n[o];){for(a=0,p=parseInt(e);null!=m[a];){var f=obj.updateCell(p,u,m[a]);if(l.push(f),obj.updateFormulaChain(p,u,l),s&&s[d]){var g=jexcel.getColumnNameFromId([p,u]);c[g]=s[d],h[g]=obj.getStyle(g),obj.records[u][p].setAttribute("style",s[d]),d++}if(null!=m[++a]){if(p>=obj.headers.length-1){if(1!=obj.options.allowInsertColumn)break;obj.insertColumn()}p=obj.right.get(p,u)}}if(n[++o]){if(u>=obj.rows.length-1){if(1!=obj.options.allowInsertRow)break;obj.insertRow()}u=obj.down.get(e,u)}}obj.updateSelectionFromCoords(e,t,p,u),obj.setHistory({action:"setValue",records:l,selection:obj.selectedCell,newStyle:c,oldStyle:h}),obj.updateTable(),obj.dispatch("onpaste",el,n),obj.onafterchanges(el,l)}obj.removeCopyingSelection()},obj.removeCopyingSelection=function(){for(var e=document.querySelectorAll(".jexcel .copying"),t=0;t<e.length;t++)e[t].classList.remove("copying"),e[t].classList.remove("copying-left"),e[t].classList.remove("copying-right"),e[t].classList.remove("copying-top"),e[t].classList.remove("copying-bottom")},obj.historyProcessRow=function(e,t){var n=t.insertBefore?+t.rowNumber:t.rowNumber+1;if(1==obj.options.search&&obj.results&&obj.results.length!=obj.rows.length&&obj.resetSearch(),1==e){for(var i=t.numOfRows,r=n;r<i+n;r++)obj.rows[r].parentNode.removeChild(obj.rows[r]);obj.records.splice(n,i),obj.options.data.splice(n,i),obj.rows.splice(n,i),obj.conditionalSelectionUpdate(1,n,i+n-1)}else{obj.records=jexcel.injectArray(obj.records,n,t.rowRecords),obj.options.data=jexcel.injectArray(obj.options.data,n,t.rowData),obj.rows=jexcel.injectArray(obj.rows,n,t.rowNode);var s=0;for(r=n;r<t.numOfRows+n;r++)obj.tbody.insertBefore(t.rowNode[s],obj.tbody.children[r]),s++}obj.options.pagination>0&&obj.page(obj.pageNumber),obj.updateTableReferences()},obj.historyProcessColumn=function(e,t){var n=t.insertBefore?t.columnNumber:t.columnNumber+1;if(1==e){var i=t.numOfColumns;obj.options.columns.splice(n,i);for(var r=n;r<i+n;r++)obj.headers[r].parentNode.removeChild(obj.headers[r]),obj.colgroup[r].parentNode.removeChild(obj.colgroup[r]);obj.headers.splice(n,i),obj.colgroup.splice(n,i);for(var s=0;s<t.data.length;s++){for(r=n;r<i+n;r++)obj.records[s][r].parentNode.removeChild(obj.records[s][r]);obj.records[s].splice(n,i),obj.options.data[s].splice(n,i)}if(obj.options.footers)for(s=0;s<obj.options.footers.length;s++)obj.options.footers[s].splice(n,i)}else{obj.options.columns=jexcel.injectArray(obj.options.columns,n,t.columns),obj.headers=jexcel.injectArray(obj.headers,n,t.headers),obj.colgroup=jexcel.injectArray(obj.colgroup,n,t.colgroup);var a=0;for(r=n;r<t.numOfColumns+n;r++)obj.headerContainer.insertBefore(t.headers[a],obj.headerContainer.children[r+1]),obj.colgroupContainer.insertBefore(t.colgroup[a],obj.colgroupContainer.children[r+1]),a++;for(s=0;s<t.data.length;s++)for(obj.options.data[s]=jexcel.injectArray(obj.options.data[s],n,t.data[s]),obj.records[s]=jexcel.injectArray(obj.records[s],n,t.records[s]),a=0,r=n;r<t.numOfColumns+n;r++)obj.rows[s].insertBefore(t.records[s][a],obj.rows[s].children[r+1]),a++;if(obj.options.footers)for(s=0;s<obj.options.footers.length;s++)obj.options.footers[s]=jexcel.injectArray(obj.options.footers[s],n,t.footers[s])}if(obj.options.nestedHeaders&&obj.options.nestedHeaders.length>0)if(obj.options.nestedHeaders[0]&&obj.options.nestedHeaders[0][0])for(s=0;s<obj.options.nestedHeaders.length;s++){if(1==e)var o=parseInt(obj.options.nestedHeaders[s][obj.options.nestedHeaders[s].length-1].colspan)-t.numOfColumns;else o=parseInt(obj.options.nestedHeaders[s][obj.options.nestedHeaders[s].length-1].colspan)+t.numOfColumns;obj.options.nestedHeaders[s][obj.options.nestedHeaders[s].length-1].colspan=o,obj.thead.children[s].children[obj.thead.children[s].children.length-1].setAttribute("colspan",o)}else o=1==e?parseInt(obj.options.nestedHeaders[0].colspan)-t.numOfColumns:parseInt(obj.options.nestedHeaders[0].colspan)+t.numOfColumns,obj.options.nestedHeaders[0].colspan=o,obj.thead.children[0].children[obj.thead.children[0].children.length-1].setAttribute("colspan",o);obj.updateTableReferences()},obj.undo=function(){var e=!!obj.ignoreEvents,t=!!obj.ignoreHistory;obj.ignoreEvents=!0,obj.ignoreHistory=!0;var n=[];if(obj.historyIndex>=0){var i=obj.history[obj.historyIndex--];if("insertRow"==i.action)obj.historyProcessRow(1,i);else if("deleteRow"==i.action)obj.historyProcessRow(0,i);else if("insertColumn"==i.action)obj.historyProcessColumn(1,i);else if("deleteColumn"==i.action)obj.historyProcessColumn(0,i);else if("moveRow"==i.action)obj.moveRow(i.newValue,i.oldValue);else if("moveColumn"==i.action)obj.moveColumn(i.newValue,i.oldValue);else if("setMerge"==i.action)obj.removeMerge(i.column,i.data);else if("setStyle"==i.action)obj.setStyle(i.oldValue,null,null,1);else if("setWidth"==i.action)obj.setWidth(i.column,i.oldValue);else if("setHeight"==i.action)obj.setHeight(i.row,i.oldValue);else if("setHeader"==i.action)obj.setHeader(i.column,i.oldValue);else if("setComments"==i.action)obj.setComments(i.column,i.oldValue[0],i.oldValue[1]);else if("orderBy"==i.action){for(var r=[],s=0;s<i.rows.length;s++)r[i.rows[s]]=s;obj.updateOrderArrow(i.column,i.order?0:1),obj.updateOrder(r)}else if("setValue"==i.action){for(var a=0;a<i.records.length;a++)n.push({x:i.records[a].x,y:i.records[a].y,newValue:i.records[a].oldValue}),i.oldStyle&&obj.resetStyle(i.oldStyle);obj.setValue(n),i.selection&&obj.updateSelectionFromCoords(i.selection[0],i.selection[1],i.selection[2],i.selection[3])}}obj.ignoreEvents=e,obj.ignoreHistory=t,obj.dispatch("onundo",el,i)},obj.redo=function(){var e=!!obj.ignoreEvents,t=!!obj.ignoreHistory;if(obj.ignoreEvents=!0,obj.ignoreHistory=!0,obj.historyIndex<obj.history.length-1){var n=obj.history[++obj.historyIndex];if("insertRow"==n.action)obj.historyProcessRow(0,n);else if("deleteRow"==n.action)obj.historyProcessRow(1,n);else if("insertColumn"==n.action)obj.historyProcessColumn(0,n);else if("deleteColumn"==n.action)obj.historyProcessColumn(1,n);else if("moveRow"==n.action)obj.moveRow(n.oldValue,n.newValue);else if("moveColumn"==n.action)obj.moveColumn(n.oldValue,n.newValue);else if("setMerge"==n.action)obj.setMerge(n.column,n.colspan,n.rowspan,1);else if("setStyle"==n.action)obj.setStyle(n.newValue,null,null,1);else if("setWidth"==n.action)obj.setWidth(n.column,n.newValue);else if("setHeight"==n.action)obj.setHeight(n.row,n.newValue);else if("setHeader"==n.action)obj.setHeader(n.column,n.newValue);else if("setComments"==n.action)obj.setComments(n.column,n.newValue[0],n.newValue[1]);else if("orderBy"==n.action)obj.updateOrderArrow(n.column,n.order),obj.updateOrder(n.rows);else if("setValue"==n.action){obj.setValue(n.records);for(var i=0;i<n.records.length;i++)n.oldStyle&&obj.resetStyle(n.newStyle);n.selection&&obj.updateSelectionFromCoords(n.selection[0],n.selection[1],n.selection[2],n.selection[3])}}obj.ignoreEvents=e,obj.ignoreHistory=t,obj.dispatch("onredo",el,n)},obj.getDropDownValue=function(e,t){var n=[];if(obj.options.columns[e]&&obj.options.columns[e].source){for(var i=[],r=obj.options.columns[e].source,s=0;s<r.length;s++)"object"==typeof r[s]?i[r[s].id]=r[s].name:i[r[s]]=r[s];var a=Array.isArray(t)?t:(""+t).split(";");for(s=0;s<a.length;s++)"object"==typeof a[s]?n.push(i[a[s].id]):i[a[s]]&&n.push(i[a[s]])}else console.error("Invalid column");return n.length>0?n.join("; "):""},obj.parseCSV=function(e,t){9==(e=e.replace(/\r?\n$|\r$|\n$/g,"")).charCodeAt(e.length-1)&&(e+="\0"),t=t||",";for(var n=[],i=!1,r=0,s=0,a=0;a<e.length;a++){var o=e[a],l=e[a+1];n[r]=n[r]||[],n[r][s]=n[r][s]||"",'"'==o&&i&&'"'==l?(n[r][s]+=o,++a):'"'!=o?o!=t||i?"\r"!=o||"\n"!=l||i?"\n"==o&&!i||"\r"==o&&!i?(++r,s=0):n[r][s]+=o:(++r,s=0,++a):++s:i=!i}return n},obj.hash=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},obj.onafterchanges=function(e,t){obj.dispatch("onafterchanges",e,t)},obj.destroy=function(){jexcel.destroy(el)},obj.init=function(){jexcel.current=obj,"function"==typeof jexcel.build&&(obj.options.root?jexcel.build(obj.options.root):(jexcel.build(document),jexcel.build=null)),el.setAttribute("tabindex",1),el.addEventListener("focus",(function(e){jexcel.current&&!obj.selectedCell&&(obj.updateSelectionFromCoords(0,0,0,0),obj.left())})),obj.options.csv?(1==obj.options.loadingSpin&&jSuites.loading.show(),jSuites.ajax({url:obj.options.csv,method:obj.options.method,data:obj.options.requestVariables,dataType:"text",success:function(e){var t=obj.parseCSV(e,obj.options.csvDelimiter);if(1==obj.options.csvHeaders&&t.length>0)for(var n=t.shift(),i=0;i<n.length;i++)obj.options.columns[i]||(obj.options.columns[i]={type:"text",align:obj.options.defaultColAlign,width:obj.options.defaultColWidth}),void 0===obj.options.columns[i].title&&(obj.options.columns[i].title=n[i]);obj.options.data=t,obj.prepareTable(),1==obj.options.loadingSpin&&jSuites.loading.hide()}})):obj.options.url?(1==obj.options.loadingSpin&&jSuites.loading.show(),jSuites.ajax({url:obj.options.url,method:obj.options.method,data:obj.options.requestVariables,dataType:"json",success:function(e){obj.options.data=e.data?e.data:e,obj.prepareTable(),1==obj.options.loadingSpin&&jSuites.loading.hide()}})):obj.prepareTable()},options&&null!=options.contextMenu?obj.options.contextMenu=options.contextMenu:obj.options.contextMenu=function(e,t,n,i){var r=[];if(null==n)1==obj.options.allowInsertColumn&&r.push({title:obj.options.text.insertANewColumnBefore,onclick:function(){obj.insertColumn(1,parseInt(t),1)}}),1==obj.options.allowInsertColumn&&r.push({title:obj.options.text.insertANewColumnAfter,onclick:function(){obj.insertColumn(1,parseInt(t),0)}}),1==obj.options.allowDeleteColumn&&r.push({title:obj.options.text.deleteSelectedColumns,onclick:function(){obj.deleteColumn(obj.getSelectedColumns().length?void 0:parseInt(t))}}),1==obj.options.allowRenameColumn&&r.push({title:obj.options.text.renameThisColumn,onclick:function(){obj.setHeader(t)}}),1==obj.options.columnSorting&&(r.push({type:"line"}),r.push({title:obj.options.text.orderAscending,onclick:function(){obj.orderBy(t,0)}}),r.push({title:obj.options.text.orderDescending,onclick:function(){obj.orderBy(t,1)}}));else if(1==obj.options.allowInsertRow&&(r.push({title:obj.options.text.insertANewRowBefore,onclick:function(){obj.insertRow(1,parseInt(n),1)}}),r.push({title:obj.options.text.insertANewRowAfter,onclick:function(){obj.insertRow(1,parseInt(n))}})),1==obj.options.allowDeleteRow&&r.push({title:obj.options.text.deleteSelectedRows,onclick:function(){obj.deleteRow(obj.getSelectedRows().length?void 0:parseInt(n))}}),t&&1==obj.options.allowComments){r.push({type:"line"});var s=obj.records[n][t].getAttribute("title")||"";r.push({title:s?obj.options.text.editComments:obj.options.text.addComments,onclick:function(){var e=prompt(obj.options.text.comments,s);e&&obj.setComments([t,n],e)}}),s&&r.push({title:obj.options.text.clearComments,onclick:function(){obj.setComments([t,n],"")}})}return r.push({type:"line"}),r.push({title:obj.options.text.copy,shortcut:"Ctrl + C",onclick:function(){obj.copy(!0)}}),navigator&&navigator.clipboard&&r.push({title:obj.options.text.paste,shortcut:"Ctrl + V",onclick:function(){obj.selectedCell&&navigator.clipboard.readText().then((function(e){e&&jexcel.current.paste(obj.selectedCell[0],obj.selectedCell[1],e)}))}}),obj.options.allowExport&&r.push({title:obj.options.text.saveAs,shortcut:"Ctrl + S",onclick:function(){obj.download()}}),obj.options.about&&r.push({title:obj.options.text.about,onclick:function(){!0===obj.options.about?alert(Version().print()):alert(obj.options.about)}}),r},obj.scrollControls=function(e){obj.wheelControls(),obj.options.freezeColumns>0&&obj.content.scrollLeft!=scrollLeft&&obj.updateFreezePosition(),1!=obj.options.lazyLoading&&1!=obj.options.tableOverflow||obj.edition&&"jdropdown"!=e.target.className.substr(0,9)&&obj.closeEditor(obj.edition[0],!0)},obj.wheelControls=function(e){1==obj.options.lazyLoading&&null==jexcel.timeControlLoading&&(jexcel.timeControlLoading=setTimeout((function(){obj.content.scrollTop+obj.content.clientHeight>=obj.content.scrollHeight-10?obj.loadDown()&&(obj.content.scrollTop+obj.content.clientHeight>obj.content.scrollHeight-10&&(obj.content.scrollTop=obj.content.scrollTop-obj.content.clientHeight),obj.updateCornerPosition()):obj.content.scrollTop<=obj.content.clientHeight&&obj.loadUp()&&(obj.content.scrollTop<10&&(obj.content.scrollTop=obj.content.scrollTop+obj.content.clientHeight),obj.updateCornerPosition()),jexcel.timeControlLoading=null}),100))},obj.getFreezeWidth=function(){var e=0;if(obj.options.freezeColumns>0)for(var t=0;t<obj.options.freezeColumns;t++)e+=parseInt(obj.options.columns[t].width);return e};var scrollLeft=0;return obj.updateFreezePosition=function(){var e=0;if((scrollLeft=obj.content.scrollLeft)>50)for(var t=0;t<obj.options.freezeColumns;t++){t>0&&"hidden"!==obj.options.columns[t-1].type&&(e+=parseInt(obj.options.columns[t-1].width)),obj.headers[t].classList.add("jexcel_freezed"),obj.headers[t].style.left=e+"px";for(var n=0;n<obj.rows.length;n++)if(obj.rows[n]&&obj.records[n][t]){var i=scrollLeft+(t>0?obj.records[n][t-1].style.width:0)-51+"px";obj.records[n][t].classList.add("jexcel_freezed"),obj.records[n][t].style.left=i}}else for(t=0;t<obj.options.freezeColumns;t++)for(obj.headers[t].classList.remove("jexcel_freezed"),obj.headers[t].style.left="",n=0;n<obj.rows.length;n++)obj.records[n][t]&&(obj.records[n][t].classList.remove("jexcel_freezed"),obj.records[n][t].style.left="");obj.updateCornerPosition()},el.addEventListener("DOMMouseScroll",obj.wheelControls),el.addEventListener("mousewheel",obj.wheelControls),el.jexcel=obj,el.jspreadsheet=obj,obj.init(),obj},component;return jexcel.setDictionary=function(e){jSuites.setDictionary(e)},jexcel.setExtensions=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)"function"==typeof e[t[n]]&&(jexcel[t[n]]=e[t[n]],jexcel.license&&"function"==typeof e[t[n]].license&&e[t[n]].license(jexcel.license))},void 0!==formula&&(jexcel.formula=formula),jexcel.version=Version,jexcel.current=null,jexcel.timeControl=null,jexcel.timeControlLoading=null,jexcel.destroy=function(e,t){if(e.jexcel){var n=e.jexcel.options.root?e.jexcel.options.root:document;e.removeEventListener("DOMMouseScroll",e.jexcel.scrollControls),e.removeEventListener("mousewheel",e.jexcel.scrollControls),e.jexcel=null,e.innerHTML="",t&&(n.removeEventListener("mouseup",jexcel.mouseUpControls),n.removeEventListener("mousedown",jexcel.mouseDownControls),n.removeEventListener("mousemove",jexcel.mouseMoveControls),n.removeEventListener("mouseover",jexcel.mouseOverControls),n.removeEventListener("dblclick",jexcel.doubleClickControls),n.removeEventListener("paste",jexcel.pasteControls),n.removeEventListener("contextmenu",jexcel.contextMenuControls),n.removeEventListener("touchstart",jexcel.touchStartControls),n.removeEventListener("touchend",jexcel.touchEndControls),n.removeEventListener("touchcancel",jexcel.touchEndControls),document.removeEventListener("keydown",jexcel.keyDownControls),jexcel=null)}},jexcel.build=function(e){e.addEventListener("mouseup",jexcel.mouseUpControls),e.addEventListener("mousedown",jexcel.mouseDownControls),e.addEventListener("mousemove",jexcel.mouseMoveControls),e.addEventListener("mouseover",jexcel.mouseOverControls),e.addEventListener("dblclick",jexcel.doubleClickControls),e.addEventListener("paste",jexcel.pasteControls),e.addEventListener("contextmenu",jexcel.contextMenuControls),e.addEventListener("touchstart",jexcel.touchStartControls),e.addEventListener("touchend",jexcel.touchEndControls),e.addEventListener("touchcancel",jexcel.touchEndControls),e.addEventListener("touchmove",jexcel.touchEndControls),document.addEventListener("keydown",jexcel.keyDownControls)},jexcel.keyDownControls=function(e){if(jexcel.current){if(jexcel.current.edition)if(27==e.which)jexcel.current.edition&&jexcel.current.closeEditor(jexcel.current.edition[0],!1),e.preventDefault();else if(13==e.which)if("calendar"==jexcel.current.options.columns[jexcel.current.edition[2]].type)jexcel.current.closeEditor(jexcel.current.edition[0],!0);else if("dropdown"==jexcel.current.options.columns[jexcel.current.edition[2]].type||"autocomplete"==jexcel.current.options.columns[jexcel.current.edition[2]].type);else if((1==jexcel.current.options.wordWrap||1==jexcel.current.options.columns[jexcel.current.edition[2]].wordWrap||jexcel.current.options.data[jexcel.current.edition[3]][jexcel.current.edition[2]].length>200)&&e.altKey){var t=jexcel.current.edition[0].children[0],n=jexcel.current.edition[0].children[0].value,i=t.selectionStart;n=n.slice(0,i)+"\n"+n.slice(i),t.value=n,t.focus(),t.selectionStart=i+1,t.selectionEnd=i+1}else jexcel.current.edition[0].children[0].blur();else 9==e.which&&("calendar"==jexcel.current.options.columns[jexcel.current.edition[2]].type?jexcel.current.closeEditor(jexcel.current.edition[0],!0):jexcel.current.edition[0].children[0].blur());if(!jexcel.current.edition&&jexcel.current.selectedCell)if(37==e.which)jexcel.current.left(e.shiftKey,e.ctrlKey),e.preventDefault();else if(39==e.which)jexcel.current.right(e.shiftKey,e.ctrlKey),e.preventDefault();else if(38==e.which)jexcel.current.up(e.shiftKey,e.ctrlKey),e.preventDefault();else if(40==e.which)jexcel.current.down(e.shiftKey,e.ctrlKey),e.preventDefault();else if(36==e.which)jexcel.current.first(e.shiftKey,e.ctrlKey),e.preventDefault();else if(35==e.which)jexcel.current.last(e.shiftKey,e.ctrlKey),e.preventDefault();else if(32==e.which)1==jexcel.current.options.editable&&jexcel.current.setCheckRadioValue(),e.preventDefault();else if(46==e.which)1==jexcel.current.options.editable&&(jexcel.current.selectedRow?1==jexcel.current.options.allowDeleteRow&&confirm(jexcel.current.options.text.areYouSureToDeleteTheSelectedRows)&&jexcel.current.deleteRow():jexcel.current.selectedHeader?1==jexcel.current.options.allowDeleteColumn&&confirm(jexcel.current.options.text.areYouSureToDeleteTheSelectedColumns)&&jexcel.current.deleteColumn():jexcel.current.setValue(jexcel.current.highlighted,""));else if(13==e.which)e.shiftKey?jexcel.current.up():(1==jexcel.current.options.allowInsertRow&&1==jexcel.current.options.allowManualInsertRow&&jexcel.current.selectedCell[1]==jexcel.current.options.data.length-1&&jexcel.current.insertRow(),jexcel.current.down()),e.preventDefault();else if(9==e.which)e.shiftKey?jexcel.current.left():(1==jexcel.current.options.allowInsertColumn&&1==jexcel.current.options.allowManualInsertColumn&&jexcel.current.selectedCell[0]==jexcel.current.options.data[0].length-1&&jexcel.current.insertColumn(),jexcel.current.right()),e.preventDefault();else if(!e.ctrlKey&&!e.metaKey||e.shiftKey){if(jexcel.current.selectedCell&&1==jexcel.current.options.editable){var r=jexcel.current.selectedCell[1],s=jexcel.current.selectedCell[0];"readonly"!=jexcel.current.options.columns[s].type&&(32==e.keyCode?"checkbox"==jexcel.current.options.columns[s].type||"radio"==jexcel.current.options.columns[s].type?e.preventDefault():jexcel.current.openEditor(jexcel.current.records[r][s],!0):113==e.keyCode?jexcel.current.openEditor(jexcel.current.records[r][s],!1):(8==e.keyCode||e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=111||e.keyCode>=187&&e.keyCode<=190||(String.fromCharCode(e.keyCode)==e.key||String.fromCharCode(e.keyCode).toLowerCase()==e.key.toLowerCase())&&jexcel.validLetter(String.fromCharCode(e.keyCode)))&&(jexcel.current.openEditor(jexcel.current.records[r][s],!0),"calendar"==jexcel.current.options.columns[s].type&&e.preventDefault()))}}else 65==e.which?(jexcel.current.selectAll(),e.preventDefault()):83==e.which?(jexcel.current.download(),e.preventDefault()):89==e.which?(jexcel.current.redo(),e.preventDefault()):90==e.which?(jexcel.current.undo(),e.preventDefault()):67==e.which?(jexcel.current.copy(!0),e.preventDefault()):88==e.which?(1==jexcel.current.options.editable?jexcel.cutControls():jexcel.copyControls(),e.preventDefault()):86==e.which&&jexcel.pasteControls();else e.target.classList.contains("jexcel_search")&&(jexcel.timeControl&&clearTimeout(jexcel.timeControl),jexcel.timeControl=setTimeout((function(){jexcel.current.search(e.target.value)}),200))}},jexcel.isMouseAction=!1,jexcel.mouseDownControls=function(e){if((e=e||window.event).buttons)var t=e.buttons;else t=e.button?e.button:e.which;var n=jexcel.getElement(e.target);if(n[0]?jexcel.current!=n[0].jexcel&&(jexcel.current&&(jexcel.current.edition&&jexcel.current.closeEditor(jexcel.current.edition[0],!0),jexcel.current.resetSelection()),jexcel.current=n[0].jexcel):jexcel.current&&(jexcel.current.edition&&jexcel.current.closeEditor(jexcel.current.edition[0],!0),jexcel.current.resetSelection(!0),jexcel.current=null),jexcel.current&&1==t){if(e.target.classList.contains("jexcel_selectall"))jexcel.current&&jexcel.current.selectAll();else if(e.target.classList.contains("jexcel_corner"))1==jexcel.current.options.editable&&(jexcel.current.selectedCorner=!0);else{if(1==n[1]){if(u=e.target.getAttribute("data-x")){var i=e.target.getBoundingClientRect();if(1==jexcel.current.options.columnResize&&i.width-e.offsetX<6){jexcel.current.resizing={mousePosition:e.pageX,column:u,width:i.width},jexcel.current.headers[u].classList.add("resizing");for(var r=0;r<jexcel.current.records.length;r++)jexcel.current.records[r][u]&&jexcel.current.records[r][u].classList.add("resizing")}else if(1==jexcel.current.options.columnDrag&&i.height-e.offsetY<6)if(jexcel.current.isColMerged(u).length)console.error("Jspreadsheet: This column is part of a merged cell.");else for(jexcel.current.resetSelection(),jexcel.current.dragging={element:e.target,column:u,destination:u},jexcel.current.headers[u].classList.add("dragging"),r=0;r<jexcel.current.records.length;r++)jexcel.current.records[r][u]&&jexcel.current.records[r][u].classList.add("dragging");else{if(jexcel.current.selectedHeader&&(e.shiftKey||e.ctrlKey))var s=jexcel.current.selectedHeader,a=u;else jexcel.current.selectedHeader==u&&1==jexcel.current.options.allowRenameColumn&&(jexcel.timeControl=setTimeout((function(){jexcel.current.setHeader(u)}),800)),jexcel.current.selectedHeader=u,s=u,a=u;jexcel.current.updateSelectionFromCoords(s,0,a,jexcel.current.options.data.length-1)}}else if(e.target.parentNode.classList.contains("jexcel_nested")){if(e.target.getAttribute("data-column"))var o=e.target.getAttribute("data-column").split(","),l=parseInt(o[0]),c=parseInt(o[o.length-1]);else l=0,c=jexcel.current.options.columns.length-1;jexcel.current.updateSelectionFromCoords(l,0,c,jexcel.current.options.data.length-1)}}else jexcel.current.selectedHeader=!1;if(2==n[1]){var h=e.target.getAttribute("data-y");if(e.target.classList.contains("jexcel_row"))i=e.target.getBoundingClientRect(),1==jexcel.current.options.rowResize&&i.height-e.offsetY<6?(jexcel.current.resizing={element:e.target.parentNode,mousePosition:e.pageY,row:h,height:i.height},e.target.parentNode.classList.add("resizing")):1==jexcel.current.options.rowDrag&&i.width-e.offsetX<6?jexcel.current.isRowMerged(h).length?console.error("Jspreadsheet: This row is part of a merged cell"):1==jexcel.current.options.search&&jexcel.current.results?console.error("Jspreadsheet: Please clear your search before perform this action"):(jexcel.current.resetSelection(),jexcel.current.dragging={element:e.target.parentNode,row:h,destination:h},e.target.parentNode.classList.add("dragging")):(jexcel.current.selectedRow&&(e.shiftKey||e.ctrlKey)?(s=jexcel.current.selectedRow,a=h):(jexcel.current.selectedRow=h,s=h,a=h),jexcel.current.updateSelectionFromCoords(0,s,jexcel.current.options.data[0].length-1,a));else if(e.target.classList.contains("jclose")&&e.target.clientWidth-e.offsetX<50&&e.offsetY<50)jexcel.current.closeEditor(jexcel.current.edition[0],!0);else{var d=function(e){var t=e.getAttribute("data-x"),n=e.getAttribute("data-y");return t&&n?[t,n]:e.parentNode?d(e.parentNode):void 0},p=d(e.target);if(p){var u=p[0];h=p[1],jexcel.current.edition&&(jexcel.current.edition[2]==u&&jexcel.current.edition[3]==h||jexcel.current.closeEditor(jexcel.current.edition[0],!0)),jexcel.current.edition||(e.shiftKey?jexcel.current.updateSelectionFromCoords(jexcel.current.selectedCell[0],jexcel.current.selectedCell[1],u,h):jexcel.current.updateSelectionFromCoords(u,h)),jexcel.current.selectedHeader=null,jexcel.current.selectedRow=null}}}else jexcel.current.selectedRow=!1;e.target.classList.contains("jexcel_page")&&("<"==e.target.innerText?jexcel.current.page(0):">"==e.target.innerText?jexcel.current.page(e.target.getAttribute("title")-1):jexcel.current.page(e.target.innerText-1))}jexcel.current.edition?jexcel.isMouseAction=!1:jexcel.isMouseAction=!0}else jexcel.isMouseAction=!1},jexcel.mouseUpControls=function(e){if(jexcel.current)if(jexcel.current.resizing){if(jexcel.current.resizing.column){var t=jexcel.current.colgroup[jexcel.current.resizing.column].getAttribute("width"),n=jexcel.current.getSelectedColumns();if(n.length>1){for(var i=[],r=0;r<n.length;r++)i.push(parseInt(jexcel.current.colgroup[n[r]].getAttribute("width")));i[n.indexOf(parseInt(jexcel.current.resizing.column))]=jexcel.current.resizing.width,jexcel.current.setWidth(n,t,i)}else jexcel.current.setWidth(jexcel.current.resizing.column,t,jexcel.current.resizing.width);jexcel.current.headers[jexcel.current.resizing.column].classList.remove("resizing");for(var s=0;s<jexcel.current.records.length;s++)jexcel.current.records[s][jexcel.current.resizing.column]&&jexcel.current.records[s][jexcel.current.resizing.column].classList.remove("resizing")}else{jexcel.current.rows[jexcel.current.resizing.row].children[0].classList.remove("resizing");var a=jexcel.current.rows[jexcel.current.resizing.row].getAttribute("height");jexcel.current.setHeight(jexcel.current.resizing.row,a,jexcel.current.resizing.height),jexcel.current.resizing.element.classList.remove("resizing")}jexcel.current.resizing=null}else if(jexcel.current.dragging){if(jexcel.current.dragging){if(jexcel.current.dragging.column){var o=e.target.getAttribute("data-x");for(jexcel.current.headers[jexcel.current.dragging.column].classList.remove("dragging"),s=0;s<jexcel.current.rows.length;s++)jexcel.current.records[s][jexcel.current.dragging.column]&&jexcel.current.records[s][jexcel.current.dragging.column].classList.remove("dragging");for(r=0;r<jexcel.current.headers.length;r++)jexcel.current.headers[r].classList.remove("dragging-left"),jexcel.current.headers[r].classList.remove("dragging-right");o&&jexcel.current.dragging.column!=jexcel.current.dragging.destination&&jexcel.current.moveColumn(jexcel.current.dragging.column,jexcel.current.dragging.destination)}else{if(jexcel.current.dragging.element.nextSibling){var l=parseInt(jexcel.current.dragging.element.nextSibling.getAttribute("data-y"));jexcel.current.dragging.row<l&&(l-=1)}else l=parseInt(jexcel.current.dragging.element.previousSibling.getAttribute("data-y"));jexcel.current.dragging.row!=jexcel.current.dragging.destination&&jexcel.current.moveRow(jexcel.current.dragging.row,l,!0),jexcel.current.dragging.element.classList.remove("dragging")}jexcel.current.dragging=null}}else jexcel.current.selectedCorner&&(jexcel.current.selectedCorner=!1,jexcel.current.selection.length>0&&(jexcel.current.copyData(jexcel.current.selection[0],jexcel.current.selection[jexcel.current.selection.length-1]),jexcel.current.removeCopySelection()));jexcel.timeControl&&(clearTimeout(jexcel.timeControl),jexcel.timeControl=null),jexcel.isMouseAction=!1},jexcel.mouseMoveControls=function(e){if((e=e||window.event).buttons)var t=e.buttons;else t=e.button?e.button:e.which;if(t||(jexcel.isMouseAction=!1),jexcel.current)if(1==jexcel.isMouseAction){if(jexcel.current.resizing)if(jexcel.current.resizing.column){var n=e.pageX-jexcel.current.resizing.mousePosition;if(jexcel.current.resizing.width+n>0){var i=jexcel.current.resizing.width+n;jexcel.current.colgroup[jexcel.current.resizing.column].setAttribute("width",i),jexcel.current.updateCornerPosition()}}else{var r=e.pageY-jexcel.current.resizing.mousePosition;if(jexcel.current.resizing.height+r>0){var s=jexcel.current.resizing.height+r;jexcel.current.rows[jexcel.current.resizing.row].setAttribute("height",s),jexcel.current.updateCornerPosition()}}else if(jexcel.current.dragging)if(jexcel.current.dragging.column){var a=e.target.getAttribute("data-x");if(a)if(jexcel.current.isColMerged(a).length)console.error("Jspreadsheet: This column is part of a merged cell.");else{for(var o=0;o<jexcel.current.headers.length;o++)jexcel.current.headers[o].classList.remove("dragging-left"),jexcel.current.headers[o].classList.remove("dragging-right");jexcel.current.dragging.column==a?jexcel.current.dragging.destination=parseInt(a):e.target.clientWidth/2>e.offsetX?(jexcel.current.dragging.column<a?jexcel.current.dragging.destination=parseInt(a)-1:jexcel.current.dragging.destination=parseInt(a),jexcel.current.headers[a].classList.add("dragging-left")):(jexcel.current.dragging.column<a?jexcel.current.dragging.destination=parseInt(a):jexcel.current.dragging.destination=parseInt(a)+1,jexcel.current.headers[a].classList.add("dragging-right"))}}else{var l=e.target.getAttribute("data-y");if(l)if(jexcel.current.isRowMerged(l).length)console.error("Jspreadsheet: This row is part of a merged cell.");else{var c=e.target.clientHeight/2>e.offsetY?e.target.parentNode.nextSibling:e.target.parentNode;jexcel.current.dragging.element!=c&&(e.target.parentNode.parentNode.insertBefore(jexcel.current.dragging.element,c),jexcel.current.dragging.destination=Array.prototype.indexOf.call(jexcel.current.dragging.element.parentNode.children,jexcel.current.dragging.element))}}}else{var h=e.target.getAttribute("data-x"),d=e.target.getAttribute("data-y"),p=e.target.getBoundingClientRect();jexcel.current.cursor&&(jexcel.current.cursor.style.cursor="",jexcel.current.cursor=null),e.target.parentNode.parentNode&&e.target.parentNode.parentNode.className&&(e.target.parentNode.parentNode.classList.contains("resizable")&&(e.target&&h&&!d&&p.width-(e.clientX-p.left)<6?(jexcel.current.cursor=e.target,jexcel.current.cursor.style.cursor="col-resize"):e.target&&!h&&d&&p.height-(e.clientY-p.top)<6&&(jexcel.current.cursor=e.target,jexcel.current.cursor.style.cursor="row-resize")),e.target.parentNode.parentNode.classList.contains("draggable")&&(e.target&&!h&&d&&p.width-(e.clientX-p.left)<6||e.target&&h&&!d&&p.height-(e.clientY-p.top)<6)&&(jexcel.current.cursor=e.target,jexcel.current.cursor.style.cursor="move"))}},jexcel.mouseOverControls=function(e){if((e=e||window.event).buttons)var t=e.buttons;else t=e.button?e.button:e.which;if(t||(jexcel.isMouseAction=!1),jexcel.current&&1==jexcel.isMouseAction){var n=jexcel.getElement(e.target);if(n[0]){if(jexcel.current!=n[0].jexcel&&jexcel.current)return!1;var i=e.target.getAttribute("data-x"),r=e.target.getAttribute("data-y");if(jexcel.current.resizing||jexcel.current.dragging);else{if(1==n[1]&&jexcel.current.selectedHeader){i=e.target.getAttribute("data-x");var s=jexcel.current.selectedHeader,a=i;jexcel.current.updateSelectionFromCoords(s,0,a,jexcel.current.options.data.length-1)}2==n[1]&&(e.target.classList.contains("jexcel_row")?jexcel.current.selectedRow&&(s=jexcel.current.selectedRow,a=r,jexcel.current.updateSelectionFromCoords(0,s,jexcel.current.options.data[0].length-1,a)):jexcel.current.edition||i&&r&&(jexcel.current.selectedCorner?jexcel.current.updateCopySelection(i,r):jexcel.current.selectedCell&&jexcel.current.updateSelectionFromCoords(jexcel.current.selectedCell[0],jexcel.current.selectedCell[1],i,r)))}}}jexcel.timeControl&&(clearTimeout(jexcel.timeControl),jexcel.timeControl=null)},jexcel.doubleClickControls=function(e){if(jexcel.current)if(e.target.classList.contains("jexcel_corner")){if(jexcel.current.highlighted.length>0){var t=jexcel.current.highlighted[0].getAttribute("data-x"),n=parseInt(jexcel.current.highlighted[jexcel.current.highlighted.length-1].getAttribute("data-y"))+1,i=jexcel.current.highlighted[jexcel.current.highlighted.length-1].getAttribute("data-x"),r=jexcel.current.records.length-1;jexcel.current.copyData(jexcel.current.records[n][t],jexcel.current.records[r][i])}}else if(e.target.classList.contains("jexcel_column_filter")){var s=e.target.getAttribute("data-x");jexcel.current.openFilter(s)}else{var a=jexcel.getElement(e.target);if(1==a[1]&&1==jexcel.current.options.columnSorting&&(s=e.target.getAttribute("data-x"))&&jexcel.current.orderBy(s),2==a[1]&&1==jexcel.current.options.editable&&!jexcel.current.edition){var o=function(e){if(e.parentNode){var t=e.getAttribute("data-x"),n=e.getAttribute("data-y");return t&&n?e:o(e.parentNode)}},l=o(e.target);l&&l.classList.contains("highlight")&&jexcel.current.openEditor(l)}}},jexcel.copyControls=function(e){jexcel.current&&jexcel.copyControls.enabled&&(jexcel.current.edition||jexcel.current.copy(!0))},jexcel.cutControls=function(e){jexcel.current&&(jexcel.current.edition||(jexcel.current.copy(!0),1==jexcel.current.options.editable&&jexcel.current.setValue(jexcel.current.highlighted,"")))},jexcel.pasteControls=function(e){jexcel.current&&jexcel.current.selectedCell&&(jexcel.current.edition||1==jexcel.current.options.editable&&(e&&e.clipboardData?(jexcel.current.paste(jexcel.current.selectedCell[0],jexcel.current.selectedCell[1],e.clipboardData.getData("text")),e.preventDefault()):window.clipboardData&&jexcel.current.paste(jexcel.current.selectedCell[0],jexcel.current.selectedCell[1],window.clipboardData.getData("text"))))},jexcel.contextMenuControls=function(e){if("buttons"in(e=e||window.event)?e.buttons:e.which||e.button,jexcel.current)if(jexcel.current.edition)e.preventDefault();else if(jexcel.current.options.contextMenu&&(jexcel.current.contextMenu.contextmenu.close(),jexcel.current)){var t=e.target.getAttribute("data-x"),n=e.target.getAttribute("data-y");if(t||n){(t<parseInt(jexcel.current.selectedCell[0])||t>parseInt(jexcel.current.selectedCell[2])||n<parseInt(jexcel.current.selectedCell[1])||n>parseInt(jexcel.current.selectedCell[3]))&&jexcel.current.updateSelectionFromCoords(t,n,t,n);var i=jexcel.current.options.contextMenu(jexcel.current,t,n,e);jexcel.current.contextMenu.contextmenu.open(e,i),e.preventDefault()}}},jexcel.touchStartControls=function(e){var t=jexcel.getElement(e.target);if(t[0]?jexcel.current!=t[0].jexcel&&(jexcel.current&&jexcel.current.resetSelection(),jexcel.current=t[0].jexcel):jexcel.current&&(jexcel.current.resetSelection(),jexcel.current=null),jexcel.current&&!jexcel.current.edition){var n=e.target.getAttribute("data-x"),i=e.target.getAttribute("data-y");n&&i&&(jexcel.current.updateSelectionFromCoords(n,i),jexcel.timeControl=setTimeout((function(){"color"==jexcel.current.options.columns[n].type?jexcel.tmpElement=null:jexcel.tmpElement=e.target,jexcel.current.openEditor(e.target,!1,e)}),500))}},jexcel.touchEndControls=function(e){jexcel.timeControl&&(clearTimeout(jexcel.timeControl),jexcel.timeControl=null,jexcel.tmpElement&&"INPUT"==jexcel.tmpElement.children[0].tagName&&jexcel.tmpElement.children[0].focus(),jexcel.tmpElement=null)},jexcel.tabs=function(e,t){var n=[];if(e.classList.contains("jexcel_tabs"))r=e.children[0],s=e.children[1];else{e.innerHTML="",e.classList.add("jexcel_tabs"),e.jexcel=[];var i=document.createElement("div"),r=e.appendChild(i),s=(i=document.createElement("div"),e.appendChild(i))}for(var a=[],o=[],l=0;l<t.length;l++){a[l]=document.createElement("div"),a[l].classList.add("jexcel_tab");var c=jexcel(a[l],t[l]);s.appendChild(a[l]),n[l]=e.jexcel.push(c),o[l]=document.createElement("div"),o[l].classList.add("jexcel_tab_link"),o[l].setAttribute("data-spreadsheet",e.jexcel.length-1),o[l].innerHTML=t[l].sheetName,o[l].onclick=function(){for(var e=0;e<r.children.length;e++)r.children[e].classList.remove("selected"),s.children[e].style.display="none";var t=this.getAttribute("data-spreadsheet");s.children[t].style.display="block",r.children[t].classList.add("selected")},r.appendChild(o[l])}for(var h=0;h<r.children.length;h++)r.children[h].classList.remove("selected"),s.children[h].style.display="none";return r.children[r.children.length-1].classList.add("selected"),s.children[r.children.length-1].style.display="block",n},jexcel.createTabs=jexcel.tabs,jexcel.fromSpreadsheet=function(e,t){var n,i=function(e){var t=[];return e.SheetNames.forEach((function(n){var i={rows:[],columns:[],data:[],style:{}};if(i.sheetName=n,(p=e.Sheets[n]["!cols"])&&p.length)for(var r=0;r<p.length;r++)i.columns[r]={},p[r]&&p[r].wpx&&(i.columns[r].width=p[r].wpx+"px");if((p=e.Sheets[n]["!rows"])&&p.length)for(r=0;r<p.length;r++)p[r]&&p[r].hpx&&(i.rows[r]={},i.rows[r].height=p[r].hpx+"px");if((p=e.Sheets[n]["!merges"])&&p.length>0)for(i.mergeCells=[],r=0;r<p.length;r++){var s=p[r].s.c,a=p[r].s.r,o=p[r].e.c,l=p[r].e.r,c=jexcel.getColumnNameFromId([s,a]);i.mergeCells[c]=[o-s+1,l-a+1]}var h=0,d=0,p=Object.keys(e.Sheets[n]);for(r=0;r<p.length;r++)if("!"!=p[r].substr(0,1)){var u=e.Sheets[n][p[r]],m=jexcel.getIdFromColumnName(p[r],!0);i.data[m[1]]||(i.data[m[1]]=[]),i.data[m[1]][m[0]]=u.f?"="+u.f:u.w,h<m[0]&&(h=m[0]),d<m[1]&&(d=m[1]),u.style&&Object.keys(u.style).length>0&&(i.style[p[r]]=u.style),u.s&&u.s.fgColor&&(i.style[p[r]]&&(i.style[p[r]]+=";"),i.style[p[r]]+="background-color:#"+u.s.fgColor.rgb)}for(var f=i.columns,g=0;g<=d;g++)for(r=0;r<=h;r++)i.data[g]||(i.data[g]=[]),i.data[g][r]||f<r&&(i.data[g][r]="");t.push(i)})),t};(n=new XMLHttpRequest).open("GET",e,!0),"undefined"!=typeof Uint8Array?(n.responseType="arraybuffer",n.onload=function(e){var r=n.response,s=new Uint8Array(r),a=XLSX.read(s,{type:"array",cellFormula:!0,cellStyles:!0});t(i(a))}):(n.setRequestHeader("Accept-Charset","x-user-defined"),n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var e=convertResponseBodyToText(n.responseBody),r=XLSX.read(e,{type:"binary",cellFormula:!0,cellStyles:!0});t(i(r))}}),n.send()},jexcel.validLetter=function(e){return e.match(/([\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC-\u0400-\u04FF']+)/g)?1:0},jexcel.injectArray=function(e,t,n){return e.slice(0,t).concat(n).concat(e.slice(t))},jexcel.getColumnName=function(e){var t="";return e>701?(t+=String.fromCharCode(64+parseInt(e/676)),t+=String.fromCharCode(64+parseInt(e%676/26))):e>25&&(t+=String.fromCharCode(64+parseInt(e/26))),t+=String.fromCharCode(65+e%26)},jexcel.getIdFromColumnName=function(e,t){var n=/^[a-zA-Z]+/.exec(e);if(n){for(var i=0,r=0;r<n[0].length;r++)i+=parseInt(n[0].charCodeAt(r)-64)*Math.pow(26,n[0].length-1-r);--i<0&&(i=0);var s=parseInt(/[0-9]+$/.exec(e));s>0&&s--,e=1==t?[i,s]:i+"-"+s}return e},jexcel.getColumnNameFromId=function(e){return Array.isArray(e)||(e=e.split("-")),jexcel.getColumnName(parseInt(e[0]))+(parseInt(e[1])+1)},jexcel.getElement=function(e){var t=0,n=0;return function e(i){i.className&&i.classList.contains("jexcel_container")&&(n=i),"THEAD"==i.tagName?t=1:"TBODY"==i.tagName&&(t=2),i.parentNode&&(n||e(i.parentNode))}(e),[n,t]},jexcel.doubleDigitFormat=function(e){return 1==(e=""+e).length&&(e="0"+e),e},jexcel.createFromTable=function(e,t){if("TABLE"==e.tagName){t||(t={}),t.columns=[],t.data=[];var n=e.querySelectorAll("colgroup > col");if(n.length)for(var i=0;i<n.length;i++){if(!(r=n[i].style.width))var r=n[i].getAttribute("width");r&&(t.columns[i]||(t.columns[i]={}),t.columns[i].width=r)}var s=function(e){var n=e.getBoundingClientRect(),r=n.width>50?n.width:50;t.columns[i]||(t.columns[i]={}),e.getAttribute("data-celltype")?t.columns[i].type=e.getAttribute("data-celltype"):t.columns[i].type="text",t.columns[i].width=r+"px",t.columns[i].title=e.innerHTML,t.columns[i].align=e.style.textAlign||"center",(n=e.getAttribute("name"))&&(t.columns[i].name=n),(n=e.getAttribute("id"))&&(t.columns[i].id=n)},a=[],o=e.querySelectorAll(":scope > thead > tr");if(o.length){for(var l=0;l<o.length-1;l++){var c=[];for(i=0;i<o[l].children.length;i++){var h={title:o[l].children[i].innerText,colspan:o[l].children[i].getAttribute("colspan")||1};c.push(h)}a.push(c)}for(o=o[o.length-1].children,i=0;i<o.length;i++)s(o[i])}var d=0,p={},u={},m={},f={},g=e.querySelectorAll(":scope > tr, :scope > tbody > tr");for(l=0;l<g.length;l++)if(t.data[d]=[],1!=t.parseTableFirstRowAsHeader||o.length||0!=l){for(i=0;i<g[l].children.length;i++){if(b=g[l].children[i].getAttribute("data-formula"))"="!=b.substr(0,1)&&(b="="+b);else var b=g[l].children[i].innerHTML;t.data[d].push(b);var y=jexcel.getColumnNameFromId([i,l]),v=g[l].children[i].getAttribute("class");v&&(f[y]=v);var x=parseInt(g[l].children[i].getAttribute("colspan"))||0,w=parseInt(g[l].children[i].getAttribute("rowspan"))||0;(x||w)&&(p[y]=[x||1,w||1]),g[l].children[i].style&&"none"==g[l].children[i].style.display&&(g[l].children[i].style.display="");var O=g[l].children[i].getAttribute("style");O&&(m[y]=O),g[l].children[i].classList.contains("styleBold")&&(m[y]?m[y]+="; font-weight:bold;":m[y]="font-weight:bold;")}g[l].style&&g[l].style.height&&(u[l]={height:g[l].style.height}),d++}else for(var i=0;i<g[l].children.length;i++)s(g[l].children[i]);if(Object.keys(a).length>0&&(t.nestedHeaders=a),Object.keys(m).length>0&&(t.style=m),Object.keys(p).length>0&&(t.mergeCells=p),Object.keys(u).length>0&&(t.rows=u),Object.keys(f).length>0&&(t.classes=f),(g=e.querySelectorAll("tfoot tr")).length){var S=[];for(l=0;l<g.length;l++){var k=[];for(i=0;i<g[l].children.length;i++)k.push(g[l].children[i].innerText);S.push(k)}Object.keys(S).length>0&&(t.footers=S)}if(1==t.parseTableAutoCellType){var _=[];for(i=0;i<t.columns.length;i++){var A=!0,T=!0;for(_[i]=[],l=0;l<t.data.length;l++)b=t.data[l][i],_[i][b]||(_[i][b]=0),_[i][b]++,b.length>25&&(A=!1),10==b.length&&"-"==b.substr(4,1)&&"-"==b.substr(7,1)||(T=!1);var C=Object.keys(_[i]).length;T?t.columns[i].type="calendar":1==A&&C>1&&C<=parseInt(.1*t.data.length)&&(t.columns[i].type="dropdown",t.columns[i].source=Object.keys(_[i]))}}return t}console.log("Element is not a table")},jexcel.helpers=(component={getCaretIndex:function(e){if(this.config.root)var t=this.config.root;else t=window;var n=0,i=t.getSelection();if(i&&0!==i.rangeCount){var r=i.getRangeAt(0),s=r.cloneRange();s.selectNodeContents(e),s.setEnd(r.endContainer,r.endOffset),n=s.toString().length}return n},invert:function(e){for(var t=[],n=Object.keys(e),i=0;i<n.length;i++)t[e[n[i]]]=n[i];return t},getColumnName:function(e){var t="";return e>701?(t+=String.fromCharCode(64+parseInt(e/676)),t+=String.fromCharCode(64+parseInt(e%676/26))):e>25&&(t+=String.fromCharCode(64+parseInt(e/26))),t+=String.fromCharCode(65+e%26)},getColumnNameFromCoords:function(e,t){return component.getColumnName(parseInt(e))+(parseInt(t)+1)},getCoordsFromColumnName:function(e){var t=/^[a-zA-Z]+/.exec(e);if(t){for(var n=0,i=0;i<t[0].length;i++)n+=parseInt(t[0].charCodeAt(i)-64)*Math.pow(26,t[0].length-1-i);--n<0&&(n=0);var r=parseInt(/[0-9]+$/.exec(e))||null;return r>0&&r--,[n,r]}},createFromTable:function(){},injectArray:function(e,t,n){return e.slice(0,t).concat(n).concat(e.slice(t))},parseCSV:function(e,t){t=t||",";for(var n=0,i=0,r=[[]],s=0,a=null,o=!1,l=!1,c=0;c<e.length;c++)if(r[i]||(r[i]=[]),r[i][n]||(r[i][n]=""),"\r"!=e[c])if("\n"!=e[c]&&e[c]!=t||0!=o&&1!=l&&a){if('"'==e[c]&&(o=!o),null===a){if(1==(a=o))continue}else if(!0===a&&!l&&'"'==e[c]){'"'==e[c+1]?(o=!0,r[i][n]+=e[c],c++):l=!0;continue}r[i][n]+=e[c]}else{if(a=null,o=!1,l=!1,'"'==r[i][n][0]){var h=r[i][n].trim();'"'==h[h.length-1]&&(r[i][n]=h.substr(1,h.length-2))}"\n"==e[c]?(n=0,i++):++n>s&&(s=n)}for(var d=0;d<r.length;d++)for(c=0;c<=s;c++)void 0===r[d][c]&&(r[d][c]="");return r}},component),"undefined"!=typeof jQuery&&function(e){e.fn.jspreadsheet=e.fn.jexcel=function(t){var n=e(this).get(0);return n.jexcel?Array.isArray(n.jexcel)?n.jexcel[t][arguments[1]].apply(this,Array.prototype.slice.call(arguments,2)):n.jexcel[t].apply(this,Array.prototype.slice.call(arguments,1)):jexcel(e(this).get(0),arguments[0])}}(jQuery),jexcel},module.exports=factory()}(dist);for(var jspreadsheet=dist.exports,current_ansi=1252,VALID_ANSI=[874,932,936,949,950,1e4],i$2=0
/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */;i$2<=8;++i$2)VALID_ANSI.push(1250+i$2);var CS2CP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},set_ansi=function(e){-1!=VALID_ANSI.indexOf(e)&&(current_ansi=CS2CP[0]=e)},set_cp=function(e){set_ansi(e)};function utf16leread(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function utf16beread(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var debom=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return 255==t&&254==n?utf16leread(e.slice(2)):254==t&&255==n?utf16beread(e.slice(2)):65279==t?e.slice(1):e},_getchar=function(e){return String.fromCharCode(e)},_getansi=function(e){return String.fromCharCode(e)},cptable,Base64=(map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",{encode:function(e){for(var t="",n=0,i=0,r=0,s=0,a=0,o=0,l=0,c=0;c<e.length;)s=(n=e.charCodeAt(c++))>>2,a=(3&n)<<4|(i=e.charCodeAt(c++))>>4,o=(15&i)<<2|(r=e.charCodeAt(c++))>>6,l=63&r,isNaN(i)?o=l=64:isNaN(r)&&(l=64),t+=map.charAt(s)+map.charAt(a)+map.charAt(o)+map.charAt(l);return t},decode:function(e){var t="",n=0,i=0,r=0,s=0,a=0,o=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)n=map.indexOf(e.charAt(l++))<<2|(s=map.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(n),i=(15&s)<<4|(a=map.indexOf(e.charAt(l++)))>>2,64!==a&&(t+=String.fromCharCode(i)),r=(3&a)<<6|(o=map.indexOf(e.charAt(l++))),64!==o&&(t+=String.fromCharCode(r));return t}}),map,has_buf="undefined"!=typeof Buffer&&"undefined"!=typeof process&&void 0!==process.versions&&!!process.versions.node,Buffer_from=function(){};if("undefined"!=typeof Buffer){var nbfs=!Buffer.from;if(!nbfs)try{Buffer.from("foo","utf8")}catch(e){nbfs=!0}Buffer_from=nbfs?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer),Buffer.alloc||(Buffer.alloc=function(e){return new Buffer(e)}),Buffer.allocUnsafe||(Buffer.allocUnsafe=function(e){return new Buffer(e)})}function new_raw_buf(e){return has_buf?Buffer.alloc(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function new_unsafe_buf(e){return has_buf?Buffer.allocUnsafe(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var s2a=function(e){return has_buf?Buffer_from(e,"binary"):e.split("").map((function(e){return 255&e.charCodeAt(0)}))};function a2s(e){if(Array.isArray(e))return e.map((function(e){return String.fromCharCode(e)})).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}var bconcat=function(e){if("undefined"!=typeof Uint8Array){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var i=new Uint8Array(n),r=0;for(t=0,n=0;t<e.length;n+=r,++t)if(r=e[t].length,e[t]instanceof Uint8Array)i.set(e[t],n);else{if("string"==typeof e[t])throw"wtf";i.set(new Uint8Array(e[t]),n)}return i}return[].concat.apply([],e.map((function(e){return Array.isArray(e)?e:[].slice.call(e)})))},chr0=/\u0000/g,chr1=/[\u0001-\u0006]/g,SSF={},make_ssf=function(e){function t(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function n(e,t){for(var n="";n.length<t;)n+=e;return n}function i(e,t){var i=""+e;return i.length>=t?i:n("0",t-i.length)+i}function r(e,t){var i=""+e;return i.length>=t?i:n(" ",t-i.length)+i}function s(e,t){var i=""+e;return i.length>=t?i:i+n(" ",t-i.length)}e.version="0.11.2";var a=Math.pow(2,32);function o(e,t){return e>a||e<-a?function(e,t){var i=""+Math.round(e);return i.length>=t?i:n("0",t-i.length)+i}(e,t):function(e,t){var i=""+e;return i.length>=t?i:n("0",t-i.length)+i}(Math.round(e),t)}function l(e,t){return t=t||0,e.length>=7+t&&103==(32|e.charCodeAt(t))&&101==(32|e.charCodeAt(t+1))&&110==(32|e.charCodeAt(t+2))&&101==(32|e.charCodeAt(t+3))&&114==(32|e.charCodeAt(t+4))&&97==(32|e.charCodeAt(t+5))&&108==(32|e.charCodeAt(t+6))}var c=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],h=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function d(e){e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "'}var p={};d(p);var u=[],m=0;for(m=5;m<=8;++m)u[m]=32+m;for(m=23;m<=26;++m)u[m]=0;for(m=27;m<=31;++m)u[m]=14;for(m=50;m<=58;++m)u[m]=14;for(m=59;m<=62;++m)u[m]=m-58;for(m=67;m<=68;++m)u[m]=m-58;for(m=72;m<=75;++m)u[m]=m-58;for(m=67;m<=68;++m)u[m]=m-57;for(m=76;m<=78;++m)u[m]=m-56;for(m=79;m<=81;++m)u[m]=m-34;var f=[];function g(e,t,n){for(var i=e<0?-1:1,r=e*i,s=0,a=1,o=0,l=1,c=0,h=0,d=Math.floor(r);c<t&&(o=(d=Math.floor(r))*a+s,h=d*c+l,!(r-d<5e-8));)r=1/(r-d),s=a,a=o,l=c,c=h;if(h>t&&(c>t?(h=l,o=s):(h=c,o=a)),!n)return[0,i*o,h];var p=Math.floor(i*o/h);return[p,i*o-p*h,h]}function b(e,t,n){if(e>2958465||e<0)return null;var i=0|e,r=Math.floor(86400*(e-i)),s=0,a=[],o={D:i,T:r,u:86400*(e-i)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(i+=1462),o.u>.9999&&(o.u=0,86400==++r&&(o.T=r=0,++i,++o.D)),60===i)a=n?[1317,10,29]:[1900,2,29],s=3;else if(0===i)a=n?[1317,8,29]:[1900,1,0],s=6;else{i>60&&--i;var l=new Date(1900,0,1);l.setDate(l.getDate()+i-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),i<60&&(s=(s+6)%7),n&&(s=function(e,t){t[0]-=581;var n=e.getDay();e<60&&(n=(n+6)%7);return n}(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=r%60,r=Math.floor(r/60),o.M=r%60,r=Math.floor(r/60),o.H=r,o.q=s,o}f[5]=f[63]='"$"#,##0_);\\("$"#,##0\\)',f[6]=f[64]='"$"#,##0_);[Red]\\("$"#,##0\\)',f[7]=f[65]='"$"#,##0.00_);\\("$"#,##0.00\\)',f[8]=f[66]='"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',f[41]='_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',f[42]='_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',f[43]='_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',f[44]='_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)',e.parse_date_code=b;var y=new Date(1899,11,31,0,0,0),v=y.getTime(),x=new Date(1900,2,1,0,0,0);function w(e,t){var n=e.getTime();return t?n-=1262304e5:e>=x&&(n+=864e5),(n-(v+6e4*(e.getTimezoneOffset()-y.getTimezoneOffset())))/864e5}e._general_int=function(e){return e.toString(10)};var O=function(){var e=/(?:\.0*|(\.\d*[1-9])0+)$/;function t(t){return-1==t.indexOf(".")?t:t.replace(e,"$1")}var n=/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,i=/(E[+-])(\d)$/;return function(e){var r,s=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return r=s>=-4&&s<=-1?e.toPrecision(10+s):Math.abs(s)<=9?function(e){var n=e<0?12:11,i=t(e.toFixed(12));return i.length<=n||(i=e.toPrecision(10)).length<=n?i:e.toExponential(5)}(e):10===s?e.toFixed(10).substr(0,12):function(e){var n=t(e.toFixed(11));return n.length>(e<0?12:11)||"0"===n||"-0"===n?e.toPrecision(6):n}(e),t(function(e){return-1==e.indexOf("E")?e:e.replace(n,"$1E").replace(i,"$10$2")}(r.toUpperCase()))}}();function S(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):O(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return L(14,w(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function k(e,t,n,r){var s,a="",o=0,l=0,d=n.y,p=0;switch(e){case 98:d=n.y+543;case 121:switch(t.length){case 1:case 2:s=d%100,p=2;break;default:s=d%1e4,p=4}break;case 109:switch(t.length){case 1:case 2:s=n.m,p=t.length;break;case 3:return h[n.m-1][1];case 5:return h[n.m-1][0];default:return h[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:s=n.d,p=t.length;break;case 3:return c[n.q][0];default:return c[n.q][1]}break;case 104:switch(t.length){case 1:case 2:s=1+(n.H+11)%12,p=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:s=n.H,p=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:s=n.M,p=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(l=r>=2?3===r?1e3:100:1===r?10:1,(o=Math.round(l*(n.S+n.u)))>=60*l&&(o=0),"s"===t?0===o?"0":""+o/l:(a=i(o,2+r),"ss"===t?a.substr(0,2):"."+a.substr(2,t.length-1))):i(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":s=24*n.D+n.H;break;case"[m]":case"[mm]":s=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":s=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}p=3===t.length?1:2;break;case 101:s=d,p=1}return p>0?i(s,p):""}function _(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}e._general_num=O,e._general=S;var A=function(){var e=/%/g;function a(e,t){var n,i=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+a(e,-t);var r=e.indexOf(".");-1===r&&(r=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%r;if(s<0&&(s+=r),-1===(n=(t/Math.pow(10,s)).toPrecision(i+1+(r+s)%r)).indexOf("e")){var o=Math.floor(Math.log(t)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,r)+"."+n.substr(2+r)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,i){return t+n+i.substr(0,(r+s)%r)+"."+i.substr(s)+"E"}))}else n=t.toExponential(i);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var l=/# (\?+)( ?)\/( ?)(\d+)/;var c=/^#*0*\.([0#]+)/,h=/\).*[0#]/,d=/\(###\) ###\\?-####/;function p(e){for(var t,n="",i=0;i!=e.length;++i)switch(t=e.charCodeAt(i)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function u(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function m(e,t){var n=e-Math.floor(e),i=Math.pow(10,t);return t<(""+Math.round(n*i)).length?0:Math.round(n*i)}function f(b,y,v){if(40===b.charCodeAt(0)&&!y.match(h)){var x=y.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return v>=0?f("n",x,v):"("+f("n",x,-v)+")"}if(44===y.charCodeAt(y.length-1))return function(e,t,n){for(var i=t.length-1;44===t.charCodeAt(i-1);)--i;return A(e,t.substr(0,i),n/Math.pow(10,3*(t.length-i)))}(b,y,v);if(-1!==y.indexOf("%"))return function(t,i,r){var s=i.replace(e,""),a=i.length-s.length;return A(t,s,r*Math.pow(10,2*a))+n("%",a)}(b,y,v);if(-1!==y.indexOf("E"))return a(y,v);if(36===y.charCodeAt(0))return"$"+f(b,y.substr(" "==y.charAt(1)?2:1),v);var w,O,S,k,T=Math.abs(v),C=v<0?"-":"";if(y.match(/^00+$/))return C+o(T,y.length);if(y.match(/^[#?]+$/))return"0"===(w=o(v,0))&&(w=""),w.length>y.length?w:p(y.substr(0,y.length-w.length))+w;if(O=y.match(l))return function(e,t,s){var a=parseInt(e[4],10),o=Math.round(t*a),l=Math.floor(o/a),c=o-l*a,h=a;return s+(0===l?"":""+l)+" "+(0===c?n(" ",e[1].length+1+e[4].length):r(c,e[1].length)+e[2]+"/"+e[3]+i(h,e[4].length))}(O,T,C);if(y.match(/^#+0+$/))return C+o(T,y.length-y.indexOf("0"));if(O=y.match(c))return w=u(v,O[1].length).replace(/^([^\.]+)$/,"$1."+p(O[1])).replace(/\.$/,"."+p(O[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+n("0",p(O[1]).length-t.length)})),-1!==y.indexOf("0.")?w:w.replace(/^0\./,".");if(y=y.replace(/^#+([0.])/,"$1"),O=y.match(/^(0*)\.(#*)$/))return C+u(T,O[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,O[1].length?"0.":".");if(O=y.match(/^#{1,3},##0(\.?)$/))return C+_(o(T,0));if(O=y.match(/^#,##0\.([#0]*0)$/))return v<0?"-"+f(b,y,-v):_(""+(Math.floor(v)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(v,O[1].length)))+"."+i(m(v,O[1].length),O[1].length);if(O=y.match(/^#,#*,#0/))return f(b,y.replace(/^#,#*,/,""),v);if(O=y.match(/^([0#]+)(\\?-([0#]+))+$/))return w=t(f(b,y.replace(/[\\-]/g,""),v)),S=0,t(t(y.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return S<w.length?w.charAt(S++):"0"===e?"0":""})));if(y.match(d))return"("+(w=f(b,"##########",v)).substr(0,3)+") "+w.substr(3,3)+"-"+w.substr(6);var M="";if(O=y.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return S=Math.min(O[4].length,7),k=g(T,Math.pow(10,S)-1,!1),w=""+C," "==(M=A("n",O[1],k[1])).charAt(M.length-1)&&(M=M.substr(0,M.length-1)+"0"),w+=M+O[2]+"/"+O[3],(M=s(k[2],S)).length<O[4].length&&(M=p(O[4].substr(O[4].length-M.length))+M),w+=M;if(O=y.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return S=Math.min(Math.max(O[1].length,O[4].length),7),C+((k=g(T,Math.pow(10,S)-1,!0))[0]||(k[1]?"":"0"))+" "+(k[1]?r(k[1],S)+O[2]+"/"+O[3]+s(k[2],S):n(" ",2*S+1+O[2].length+O[3].length));if(O=y.match(/^[#0?]+$/))return w=o(v,0),y.length<=w.length?w:p(y.substr(0,y.length-w.length))+w;if(O=y.match(/^([#0?]+)\.([#0]+)$/)){w=""+v.toFixed(Math.min(O[2].length,10)).replace(/([^0])0+$/,"$1"),S=w.indexOf(".");var E=y.indexOf(".")-S,j=y.length-w.length-E;return p(y.substr(0,E)+w+y.substr(y.length-j))}if(O=y.match(/^00,000\.([#0]*0)$/))return S=m(v,O[1].length),v<0?"-"+f(b,y,-v):_(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(v)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?i(0,3-e.length):"")+e}))+"."+i(S,O[1].length);switch(y){case"###,##0.00":return f(b,"#,##0.00",v);case"###,###":case"##,###":case"#,###":var R=_(o(T,0));return"0"!==R?C+R:"";case"###,###.00":return f(b,"###,##0.00",v).replace(/^0\./,".");case"#,###.00":return f(b,"#,##0.00",v).replace(/^0\./,".")}throw new Error("unsupported format |"+y+"|")}function b(e,t){var n,i=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+b(e,-t);var r=e.indexOf(".");-1===r&&(r=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%r;if(s<0&&(s+=r),!(n=(t/Math.pow(10,s)).toPrecision(i+1+(r+s)%r)).match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,i){return t+n+i.substr(0,(r+s)%r)+"."+i.substr(s)+"E"}))}else n=t.toExponential(i);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function y(a,o,u){if(40===a.charCodeAt(0)&&!o.match(h)){var m=o.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return u>=0?y("n",m,u):"("+y("n",m,-u)+")"}if(44===o.charCodeAt(o.length-1))return function(e,t,n){for(var i=t.length-1;44===t.charCodeAt(i-1);)--i;return A(e,t.substr(0,i),n/Math.pow(10,3*(t.length-i)))}(a,o,u);if(-1!==o.indexOf("%"))return function(t,i,r){var s=i.replace(e,""),a=i.length-s.length;return A(t,s,r*Math.pow(10,2*a))+n("%",a)}(a,o,u);if(-1!==o.indexOf("E"))return b(o,u);if(36===o.charCodeAt(0))return"$"+y(a,o.substr(" "==o.charAt(1)?2:1),u);var f,v,x,w,O=Math.abs(u),S=u<0?"-":"";if(o.match(/^00+$/))return S+i(O,o.length);if(o.match(/^[#?]+$/))return f=""+u,0===u&&(f=""),f.length>o.length?f:p(o.substr(0,o.length-f.length))+f;if(v=o.match(l))return function(e,t,i){return i+(0===t?"":""+t)+n(" ",e[1].length+2+e[4].length)}(v,O,S);if(o.match(/^#+0+$/))return S+i(O,o.length-o.indexOf("0"));if(v=o.match(c))return f=(f=(""+u).replace(/^([^\.]+)$/,"$1."+p(v[1])).replace(/\.$/,"."+p(v[1]))).replace(/\.(\d*)$/,(function(e,t){return"."+t+n("0",p(v[1]).length-t.length)})),-1!==o.indexOf("0.")?f:f.replace(/^0\./,".");if(o=o.replace(/^#+([0.])/,"$1"),v=o.match(/^(0*)\.(#*)$/))return S+(""+O).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,v[1].length?"0.":".");if(v=o.match(/^#{1,3},##0(\.?)$/))return S+_(""+O);if(v=o.match(/^#,##0\.([#0]*0)$/))return u<0?"-"+y(a,o,-u):_(""+u)+"."+n("0",v[1].length);if(v=o.match(/^#,#*,#0/))return y(a,o.replace(/^#,#*,/,""),u);if(v=o.match(/^([0#]+)(\\?-([0#]+))+$/))return f=t(y(a,o.replace(/[\\-]/g,""),u)),x=0,t(t(o.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return x<f.length?f.charAt(x++):"0"===e?"0":""})));if(o.match(d))return"("+(f=y(a,"##########",u)).substr(0,3)+") "+f.substr(3,3)+"-"+f.substr(6);var k="";if(v=o.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return x=Math.min(v[4].length,7),w=g(O,Math.pow(10,x)-1,!1),f=""+S," "==(k=A("n",v[1],w[1])).charAt(k.length-1)&&(k=k.substr(0,k.length-1)+"0"),f+=k+v[2]+"/"+v[3],(k=s(w[2],x)).length<v[4].length&&(k=p(v[4].substr(v[4].length-k.length))+k),f+=k;if(v=o.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return x=Math.min(Math.max(v[1].length,v[4].length),7),S+((w=g(O,Math.pow(10,x)-1,!0))[0]||(w[1]?"":"0"))+" "+(w[1]?r(w[1],x)+v[2]+"/"+v[3]+s(w[2],x):n(" ",2*x+1+v[2].length+v[3].length));if(v=o.match(/^[#0?]+$/))return f=""+u,o.length<=f.length?f:p(o.substr(0,o.length-f.length))+f;if(v=o.match(/^([#0]+)\.([#0]+)$/)){f=""+u.toFixed(Math.min(v[2].length,10)).replace(/([^0])0+$/,"$1"),x=f.indexOf(".");var T=o.indexOf(".")-x,C=o.length-f.length-T;return p(o.substr(0,T)+f+o.substr(o.length-C))}if(v=o.match(/^00,000\.([#0]*0)$/))return u<0?"-"+y(a,o,-u):_(""+u).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?i(0,3-e.length):"")+e}))+"."+i(0,v[1].length);switch(o){case"###,###":case"##,###":case"#,###":var M=_(""+O);return"0"!==M?S+M:"";default:if(o.match(/\.[0#?]*$/))return y(a,o.slice(0,o.lastIndexOf(".")),u)+p(o.slice(o.lastIndexOf(".")))}throw new Error("unsupported format |"+o+"|")}return function(e,t,n){return(0|n)===n?y(e,t,n):f(e,t,n)}}();function T(e){for(var t=[],n=!1,i=0,r=0;i<e.length;++i)switch(e.charCodeAt(i)){case 34:n=!n;break;case 95:case 42:case 92:++i;break;case 59:t[t.length]=e.substr(r,i-r),r=i+1}if(t[t.length]=e.substr(r),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}e._split=T;var C=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function M(e){for(var t=0,n="",i="";t<e.length;)switch(n=e.charAt(t)){case"G":l(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("/"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(i=n;"]"!==e.charAt(t++)&&t<e.length;)i+=e.charAt(t);if(i.match(C))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}function E(e,t,n,i){for(var r,s,a,o=[],c="",h=0,d="",p="t",u="H";h<e.length;)switch(d=e.charAt(h)){case"G":if(!l(e,h))throw new Error("unrecognized character "+d+" in "+e);o[o.length]={t:"G",v:"General"},h+=7;break;case'"':for(c="";34!==(a=e.charCodeAt(++h))&&h<e.length;)c+=String.fromCharCode(a);o[o.length]={t:"t",v:c},++h;break;case"\\":var m=e.charAt(++h),f="("===m||")"===m?m:"t";o[o.length]={t:f,v:m},++h;break;case"_":o[o.length]={t:"t",v:" "},h+=2;break;case"@":o[o.length]={t:"T",v:t},++h;break;case"B":case"b":if("1"===e.charAt(h+1)||"2"===e.charAt(h+1)){if(null==r&&null==(r=b(t,n,"2"===e.charAt(h+1))))return"";o[o.length]={t:"X",v:e.substr(h,2)},p=d,h+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==r&&null==(r=b(t,n)))return"";for(c=d;++h<e.length&&e.charAt(h).toLowerCase()===d;)c+=d;"m"===d&&"h"===p.toLowerCase()&&(d="M"),"h"===d&&(d=u),o[o.length]={t:d,v:c},p=d;break;case"A":case"a":case"":var g={t:d,v:d};if(null==r&&(r=b(t,n)),"A/P"===e.substr(h,3).toUpperCase()?(null!=r&&(g.v=r.H>=12?"P":"A"),g.t="T",u="h",h+=3):"AM/PM"===e.substr(h,5).toUpperCase()?(null!=r&&(g.v=r.H>=12?"PM":"AM"),g.t="T",h+=5,u="h"):"/"===e.substr(h,5).toUpperCase()?(null!=r&&(g.v=r.H>=12?"":""),g.t="T",h+=5,u="h"):(g.t="t",++h),null==r&&"T"===g.t)return"";o[o.length]=g,p=d;break;case"[":for(c=d;"]"!==e.charAt(h++)&&h<e.length;)c+=e.charAt(h);if("]"!==c.slice(-1))throw'unterminated "[" block: |'+c+"|";if(c.match(C)){if(null==r&&null==(r=b(t,n)))return"";o[o.length]={t:"Z",v:c.toLowerCase()},p=c.charAt(1)}else c.indexOf("$")>-1&&(c=(c.match(/\$([^-\[\]]*)/)||[])[1]||"$",M(e)||(o[o.length]={t:"t",v:c}));break;case".":if(null!=r){for(c=d;++h<e.length&&"0"===(d=e.charAt(h));)c+=d;o[o.length]={t:"s",v:c};break}case"0":case"#":for(c=d;++h<e.length&&"0#?.,E+-%".indexOf(d=e.charAt(h))>-1;)c+=d;o[o.length]={t:"n",v:c};break;case"?":for(c=d;e.charAt(++h)===d;)c+=d;o[o.length]={t:d,v:c},p=d;break;case"*":++h," "!=e.charAt(h)&&"*"!=e.charAt(h)||++h;break;case"(":case")":o[o.length]={t:1===i?"t":d,v:d},++h;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(c=d;h<e.length&&"0123456789".indexOf(e.charAt(++h))>-1;)c+=e.charAt(h);o[o.length]={t:"D",v:c};break;case" ":o[o.length]={t:d,v:d},++h;break;case"$":o[o.length]={t:"t",v:"$"},++h;break;default:if(-1===",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(d))throw new Error("unrecognized character "+d+" in "+e);o[o.length]={t:"t",v:d},++h}var y,v=0,x=0;for(h=o.length-1,p="t";h>=0;--h)switch(o[h].t){case"h":case"H":o[h].t=u,p="h",v<1&&(v=1);break;case"s":(y=o[h].v.match(/\.0+$/))&&(x=Math.max(x,y[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":p=o[h].t;break;case"m":"s"===p&&(o[h].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&o[h].v.match(/[Hh]/)&&(v=1),v<2&&o[h].v.match(/[Mm]/)&&(v=2),v<3&&o[h].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:r.u>=.5&&(r.u=0,++r.S),r.S>=60&&(r.S=0,++r.M),r.M>=60&&(r.M=0,++r.H);break;case 2:r.u>=.5&&(r.u=0,++r.S),r.S>=60&&(r.S=0,++r.M)}var w,O="";for(h=0;h<o.length;++h)switch(o[h].t){case"t":case"T":case" ":case"D":break;case"X":o[h].v="",o[h].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[h].v=k(o[h].t.charCodeAt(0),o[h].v,r,x),o[h].t="t";break;case"n":case"?":for(w=h+1;null!=o[w]&&("?"===(d=o[w].t)||"D"===d||(" "===d||"t"===d)&&null!=o[w+1]&&("?"===o[w+1].t||"t"===o[w+1].t&&"/"===o[w+1].v)||"("===o[h].t&&(" "===d||"n"===d||")"===d)||"t"===d&&("/"===o[w].v||" "===o[w].v&&null!=o[w+1]&&"?"==o[w+1].t));)o[h].v+=o[w].v,o[w]={v:"",t:";"},++w;O+=o[h].v,h=w-1;break;case"G":o[h].t="t",o[h].v=S(t,n)}var _,T,E="";if(O.length>0){40==O.charCodeAt(0)?(_=t<0&&45===O.charCodeAt(0)?-t:t,T=A("n",O,_)):(T=A("n",O,_=t<0&&i>1?-t:t),_<0&&o[0]&&"t"==o[0].t&&(T=T.substr(1),o[0].v="-"+o[0].v)),w=T.length-1;var j=o.length;for(h=0;h<o.length;++h)if(null!=o[h]&&"t"!=o[h].t&&o[h].v.indexOf(".")>-1){j=h;break}var R=o.length;if(j===o.length&&-1===T.indexOf("E")){for(h=o.length-1;h>=0;--h)null!=o[h]&&-1!=="n?".indexOf(o[h].t)&&(w>=o[h].v.length-1?(w-=o[h].v.length,o[h].v=T.substr(w+1,o[h].v.length)):w<0?o[h].v="":(o[h].v=T.substr(0,w+1),w=-1),o[h].t="t",R=h);w>=0&&R<o.length&&(o[R].v=T.substr(0,w+1)+o[R].v)}else if(j!==o.length&&-1===T.indexOf("E")){for(w=T.indexOf(".")-1,h=j;h>=0;--h)if(null!=o[h]&&-1!=="n?".indexOf(o[h].t)){for(s=o[h].v.indexOf(".")>-1&&h===j?o[h].v.indexOf(".")-1:o[h].v.length-1,E=o[h].v.substr(s+1);s>=0;--s)w>=0&&("0"===o[h].v.charAt(s)||"#"===o[h].v.charAt(s))&&(E=T.charAt(w--)+E);o[h].v=E,o[h].t="t",R=h}for(w>=0&&R<o.length&&(o[R].v=T.substr(0,w+1)+o[R].v),w=T.indexOf(".")+1,h=j;h<o.length;++h)if(null!=o[h]&&(-1!=="n?(".indexOf(o[h].t)||h===j)){for(s=o[h].v.indexOf(".")>-1&&h===j?o[h].v.indexOf(".")+1:0,E=o[h].v.substr(0,s);s<o[h].v.length;++s)w<T.length&&(E+=T.charAt(w++));o[h].v=E,o[h].t="t",R=h}}}for(h=0;h<o.length;++h)null!=o[h]&&"n?".indexOf(o[h].t)>-1&&(_=i>1&&t<0&&h>0&&"-"===o[h-1].v?-t:t,o[h].v=A(o[h].t,o[h].v,_),o[h].t="t");var P="";for(h=0;h!==o.length;++h)null!=o[h]&&(P+=o[h].v);return P}e.is_date=M,e._eval=E;var j=/\[[=<>]/,R=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function P(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function L(e,t,n){null==n&&(n={});var i="";switch(typeof e){case"string":i="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":null==(i=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:p)[e])&&(i=n.table&&n.table[u[e]]||p[u[e]]),null==i&&(i=f[e]||"General")}if(l(i,0))return S(t,n);t instanceof Date&&(t=w(t,n.date1904));var r=function(e,t){var n=T(e),i=n.length,r=n[i-1].indexOf("@");if(i<4&&r>-1&&--i,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!=typeof t)return[4,4===n.length||r>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=r>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=r>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=r>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var s=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[i,s];if(null!=n[0].match(j)||null!=n[1].match(j)){var a=n[0].match(R),o=n[1].match(R);return P(t,a)?[i,n[0]]:P(t,o)?[i,n[1]]:[i,n[null!=a&&null!=o?2:1]]}return[i,s]}(i,t);if(l(r[1]))return S(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return E(r[1],t,n,r[0])}function I(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(null!=p[n]){if(p[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return p[t]=e,t}e.load=I,e._table=p,e.get_table=function(){return p},e.load_table=function(e){for(var t=0;392!=t;++t)void 0!==e[t]&&I(e[t],t)},e.init_table=d,e.format=L};make_ssf(SSF),SSF._table[22],SSF._table[15],SSF._table[14],SSF._table[19],SSF._table[18],SSF._table[20],SSF._table[2],SSF._table[4],SSF._table[10],SSF._table[11];var SSFImplicit={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},DO_NOT_EXPORT_CFB=!0,CRC32;!function(e){function t(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}e.version="1.2.0";var n=t();function i(e){var t=0,n=0,i=0,r="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(i=0;256!=i;++i)r[i]=e[i];for(i=0;256!=i;++i)for(n=e[i],t=256+i;t<4096;t+=256)n=r[t]=n>>>8^e[255&n];var s=[];for(i=1;16!=i;++i)s[i-1]="undefined"!=typeof Int32Array?r.subarray(256*i,256*i+256):r.slice(256*i,256*i+256);return s}var r=i(n),s=r[0],a=r[1],o=r[2],l=r[3],c=r[4],h=r[5],d=r[6],p=r[7],u=r[8],m=r[9],f=r[10],g=r[11],b=r[12],y=r[13],v=r[14];function x(e,t){for(var i=-1^t,r=0,s=e.length;r<s;)i=i>>>8^n[255&(i^e.charCodeAt(r++))];return~i}function w(e,t){for(var i=-1^t,r=e.length-15,x=0;x<r;)i=v[e[x++]^255&i]^y[e[x++]^i>>8&255]^b[e[x++]^i>>16&255]^g[e[x++]^i>>>24]^f[e[x++]]^m[e[x++]]^u[e[x++]]^p[e[x++]]^d[e[x++]]^h[e[x++]]^c[e[x++]]^l[e[x++]]^o[e[x++]]^a[e[x++]]^s[e[x++]]^n[e[x++]];for(r+=15;x<r;)i=i>>>8^n[255&(i^e[x++])];return~i}function O(e,t){for(var i=-1^t,r=0,s=e.length,a=0,o=0;r<s;)(a=e.charCodeAt(r++))<128?i=i>>>8^n[255&(i^a)]:a<2048?i=(i=i>>>8^n[255&(i^(192|a>>6&31))])>>>8^n[255&(i^(128|63&a))]:a>=55296&&a<57344?(a=64+(1023&a),o=1023&e.charCodeAt(r++),i=(i=(i=(i=i>>>8^n[255&(i^(240|a>>8&7))])>>>8^n[255&(i^(128|a>>2&63))])>>>8^n[255&(i^(128|o>>6&15|(3&a)<<4))])>>>8^n[255&(i^(128|63&o))]):i=(i=(i=i>>>8^n[255&(i^(224|a>>12&15))])>>>8^n[255&(i^(128|a>>6&63))])>>>8^n[255&(i^(128|63&a))];return~i}e.table=n,e.bstr=x,e.buf=w,e.str=O}(CRC32={});var CFB=function(){var e,t={};function n(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function i(e){if("/"==e.charAt(e.length-1))return i(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function r(e,t){"string"==typeof t&&(t=new Date(t));var n=t.getHours();n=(n=n<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,n);var i=t.getFullYear()-1980;i=(i=i<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,i)}function s(e){prep_blob(e,0);for(var t={},n=0;e.l<=e.length-4;){var i=e.read_shift(2),r=e.read_shift(2),s=e.l+r,a={};if(21589===i)1&(n=e.read_shift(1))&&(a.mtime=e.read_shift(4)),r>5&&(2&n&&(a.atime=e.read_shift(4)),4&n&&(a.ctime=e.read_shift(4))),a.mtime&&(a.mt=new Date(1e3*a.mtime));e.l=s,t[i]=a}return t}function a(){return e||(e={})}function o(e,t){if(80==e[0]&&75==e[1])return ie(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=O(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var n=t&&t.root||"",i=(has_buf&&Buffer.isBuffer(e)?e.toString("binary"):O(e)).split("\r\n"),r=0,s="";for(r=0;r<i.length;++r)if(s=i[r],/^Content-Location:/i.test(s)&&(s=s.slice(s.indexOf("file")),n||(n=s.slice(0,s.lastIndexOf("/")+1)),s.slice(0,n.length)!=n))for(;n.length>0&&(n=(n=n.slice(0,n.length-1)).slice(0,n.lastIndexOf("/")+1),s.slice(0,n.length)!=n););var a=(i[1]||"").match(/boundary="(.*?)"/);if(!a)throw new Error("MAD cannot find boundary");var o="--"+(a[1]||""),l={FileIndex:[],FullPaths:[]};p(l);var c,h=0;for(r=0;r<i.length;++r){var d=i[r];d!==o&&d!==o+"--"||(h++&&ce(l,i.slice(c,r),n),c=r)}return l}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var n,i,r,s,a,o,u=512,m=[],f=e.slice(0,512);prep_blob(f,0);var g=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(y,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(f);switch(n=g[0]){case 3:u=512;break;case 4:u=4096;break;case 0:if(0==g[1])return ie(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+n)}512!==u&&prep_blob(f=e.slice(0,u),28);var v=e.slice(0,u);!function(e,t){var n=9;switch(e.l+=2,n=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+n);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+n);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+n)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(f,n);var x=f.read_shift(4,"i");if(3===n&&0!==x)throw new Error("# Directory Sectors: Expected 0 saw "+x);f.l+=4,s=f.read_shift(4,"i"),f.l+=4,f.chk("00100000","Mini Stream Cutoff Size: "),a=f.read_shift(4,"i"),i=f.read_shift(4,"i"),o=f.read_shift(4,"i"),r=f.read_shift(4,"i");for(var w=-1,S=0;S<109&&!((w=f.read_shift(4,"i"))<0);++S)m[S]=w;var k=function(e,t){for(var n=Math.ceil(e.length/t)-1,i=[],r=1;r<n;++r)i[r-1]=e.slice(r*t,(r+1)*t);return i[n-1]=e.slice(n*t),i}(e,u);c(o,r,k,u,m);var _=function(e,t,n,i){var r=e.length,s=[],a=[],o=[],l=[],c=i-1,h=0,d=0,p=0,u=0;for(h=0;h<r;++h)if(o=[],(p=h+t)>=r&&(p-=r),!a[p]){l=[];var m=[];for(d=p;d>=0;){m[d]=!0,a[d]=!0,o[o.length]=d,l.push(e[d]);var f=n[Math.floor(4*d/i)];if(i<4+(u=4*d&c))throw new Error("FAT boundary crossed: "+d+" 4 "+i);if(!e[f])break;if(m[d=__readInt32LE(e[f],u)])break}s[p]={nodes:o,data:__toBuffer([l])}}return s}(k,s,m,u);_[s].name="!Directory",i>0&&a!==b&&(_[a].name="!MiniFAT"),_[m[0]].name="!FAT",_.fat_addrs=m,_.ssz=u;var A=[],T=[],C=[];!function(e,t,n,i,r,s,a,o){for(var c,p=0,u=i.length?2:0,m=t[e].data,f=0,g=0;f<m.length;f+=128){var y=m.slice(f,f+128);prep_blob(y,64),g=y.read_shift(2),c=__utf16le(y,0,g-u),i.push(c);var v={name:c,type:y.read_shift(1),color:y.read_shift(1),L:y.read_shift(4,"i"),R:y.read_shift(4,"i"),C:y.read_shift(4,"i"),clsid:y.read_shift(16),state:y.read_shift(4,"i"),start:0,size:0};0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(v.ct=d(y,y.l-8)),0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(v.mt=d(y,y.l-8)),v.start=y.read_shift(4,"i"),v.size=y.read_shift(4,"i"),v.size<0&&v.start<0&&(v.size=v.type=0,v.start=b,v.name=""),5===v.type?(p=v.start,r>0&&p!==b&&(t[p].name="!StreamData")):v.size>=4096?(v.storage="fat",void 0===t[v.start]&&(t[v.start]=h(n,v.start,t.fat_addrs,t.ssz)),t[v.start].name=v.name,v.content=t[v.start].data.slice(0,v.size)):(v.storage="minifat",v.size<0?v.size=0:p!==b&&v.start!==b&&t[p]&&(v.content=l(v,t[p].data,(t[o]||{}).data))),v.content&&prep_blob(v.content,0),s[c]=v,a.push(v)}}(s,_,k,A,i,{},T,a),function(e,t,n){for(var i=0,r=0,s=0,a=0,o=0,l=n.length,c=[],h=[];i<l;++i)c[i]=h[i]=i,t[i]=n[i];for(;o<h.length;++o)r=e[i=h[o]].L,s=e[i].R,a=e[i].C,c[i]===i&&(-1!==r&&c[r]!==r&&(c[i]=c[r]),-1!==s&&c[s]!==s&&(c[i]=c[s])),-1!==a&&(c[a]=i),-1!==r&&i!=c[i]&&(c[r]=c[i],h.lastIndexOf(r)<o&&h.push(r)),-1!==s&&i!=c[i]&&(c[s]=c[i],h.lastIndexOf(s)<o&&h.push(s));for(i=1;i<l;++i)c[i]===i&&(-1!==s&&c[s]!==s?c[i]=c[s]:-1!==r&&c[r]!==r&&(c[i]=c[r]));for(i=1;i<l;++i)if(0!==e[i].type){if((o=i)!=c[o])do{o=c[o],t[i]=t[o]+"/"+t[i]}while(0!==o&&-1!==c[o]&&o!=c[o]);c[i]=-1}for(t[0]+="/",i=1;i<l;++i)2!==e[i].type&&(t[i]+="/")}(T,C,A),A.shift();var M={FileIndex:T,FullPaths:C};return t&&t.raw&&(M.raw={header:v,sectors:k}),M}function l(e,t,n){for(var i=e.start,r=e.size,s=[],a=i;n&&r>0&&a>=0;)s.push(t.slice(a*g,a*g+g)),r-=g,a=__readInt32LE(n,4*a);return 0===s.length?new_buf(0):bconcat(s).slice(0,e.size)}function c(e,t,n,i,r){var s=b;if(e===b){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var a=n[e],o=(i>>>2)-1;if(!a)return;for(var l=0;l<o&&(s=__readInt32LE(a,4*l))!==b;++l)r.push(s);c(__readInt32LE(a,i-4),t-1,n,i,r)}}function h(e,t,n,i,r){var s=[],a=[];r||(r=[]);var o=i-1,l=0,c=0;for(l=t;l>=0;){r[l]=!0,s[s.length]=l,a.push(e[l]);var h=n[Math.floor(4*l/i)];if(i<4+(c=4*l&o))throw new Error("FAT boundary crossed: "+l+" 4 "+i);if(!e[h])break;l=__readInt32LE(e[h],c)}return{nodes:s,data:__toBuffer([a])}}function d(e,t){return new Date(1e3*(__readUInt32LE(e,t+4)/1e7*Math.pow(2,32)+__readUInt32LE(e,t)/1e7-11644473600))}function p(e,t){var n=t||{},i=n.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=i+"/",e.FileIndex[0]={name:i,type:5}),n.CLSID&&(e.FileIndex[0].clsid=n.CLSID),function(e){var t="Sh33tJ5";if(CFB.find(e,"/"+t))return;var n=new_buf(4);n[0]=55,n[1]=n[3]=50,n[2]=54,e.FileIndex.push({name:t,type:2,content:n,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),u(e)}(e)}function u(e,t){p(e);for(var r=!1,s=!1,a=e.FullPaths.length-1;a>=0;--a){var o=e.FileIndex[a];switch(o.type){case 0:s?r=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:s=!0,isNaN(o.R*o.L*o.C)&&(r=!0),o.R>-1&&o.L>-1&&o.R==o.L&&(r=!0);break;default:r=!0}}if(r||t){var l=new Date(1987,1,19),c=0,h=Object.create?Object.create(null):{},d=[];for(a=0;a<e.FullPaths.length;++a)h[e.FullPaths[a]]=!0,0!==e.FileIndex[a].type&&d.push([e.FullPaths[a],e.FileIndex[a]]);for(a=0;a<d.length;++a){var u=n(d[a][0]);(s=h[u])||(d.push([u,{name:i(u).replace("/",""),type:1,clsid:x,ct:l,mt:l,content:null}]),h[u]=!0)}for(d.sort((function(e,t){return function(e,t){for(var n=e.split("/"),i=t.split("/"),r=0,s=0,a=Math.min(n.length,i.length);r<a;++r){if(s=n[r].length-i[r].length)return s;if(n[r]!=i[r])return n[r]<i[r]?-1:1}return n.length-i.length}(e[0],t[0])})),e.FullPaths=[],e.FileIndex=[],a=0;a<d.length;++a)e.FullPaths[a]=d[a][0],e.FileIndex[a]=d[a][1];for(a=0;a<d.length;++a){var m=e.FileIndex[a],f=e.FullPaths[a];if(m.name=i(f).replace("/",""),m.L=m.R=m.C=-(m.color=1),m.size=m.content?m.content.length:0,m.start=0,m.clsid=m.clsid||x,0===a)m.C=d.length>1?1:-1,m.size=0,m.type=5;else if("/"==f.slice(-1)){for(c=a+1;c<d.length&&n(e.FullPaths[c])!=f;++c);for(m.C=c>=d.length?-1:c,c=a+1;c<d.length&&n(e.FullPaths[c])!=n(f);++c);m.R=c>=d.length?-1:c,m.type=1}else n(e.FullPaths[a+1]||"")==n(f)&&(m.R=a+1),m.type=2}}}function m(e,t){var n=t||{};if("mad"==n.fileType)return function(e,t){for(var n=t||{},i=n.boundary||"SheetJS",r=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(i="------="+i).slice(2)+'"',"","",""],s=e.FullPaths[0],a=s,o=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(a=e.FullPaths[l].slice(s.length),(o=e.FileIndex[l]).size&&o.content&&"Sh33tJ5"!=a){a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,(function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"})).replace(/[\u0080-\uFFFF]/g,(function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"}));for(var c=o.content,h=has_buf&&Buffer.isBuffer(c)?c.toString("binary"):O(c),d=0,p=Math.min(1024,h.length),u=0,m=0;m<=p;++m)(u=h.charCodeAt(m))>=32&&u<128&&++d;var f=d>=4*p/5;r.push(i),r.push("Content-Location: "+(n.root||"file:///C:/SheetJS/")+a),r.push("Content-Transfer-Encoding: "+(f?"quoted-printable":"base64")),r.push("Content-Type: "+ae(o,a)),r.push(""),r.push(f?le(h):oe(h))}return r.push(i+"--\r\n"),r.join("\r\n")}(e,n);if(u(e),"zip"===n.fileType)return function(e,t){var n=t||{},i=[],s=[],a=new_buf(1),o=n.compression?8:0,l=0,c=0,h=0,d=0,p=0,u=e.FullPaths[0],m=u,f=e.FileIndex[0],g=[],b=0;for(c=1;c<e.FullPaths.length;++c)if(m=e.FullPaths[c].slice(u.length),(f=e.FileIndex[c]).size&&f.content&&"Sh33tJ5"!=m){var y=d,v=new_buf(m.length);for(h=0;h<m.length;++h)v.write_shift(1,127&m.charCodeAt(h));v=v.slice(0,v.l),g[p]=CRC32.buf(f.content,0);var x=f.content;8==o&&(x=S(x)),(a=new_buf(30)).write_shift(4,67324752),a.write_shift(2,20),a.write_shift(2,l),a.write_shift(2,o),f.mt?r(a,f.mt):a.write_shift(4,0),a.write_shift(-4,g[p]),a.write_shift(4,x.length),a.write_shift(4,f.content.length),a.write_shift(2,v.length),a.write_shift(2,0),d+=a.length,i.push(a),d+=v.length,i.push(v),d+=x.length,i.push(x),(a=new_buf(46)).write_shift(4,33639248),a.write_shift(2,0),a.write_shift(2,20),a.write_shift(2,l),a.write_shift(2,o),a.write_shift(4,0),a.write_shift(-4,g[p]),a.write_shift(4,x.length),a.write_shift(4,f.content.length),a.write_shift(2,v.length),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(4,0),a.write_shift(4,y),b+=a.l,s.push(a),b+=v.length,s.push(v),++p}return(a=new_buf(22)).write_shift(4,101010256),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,p),a.write_shift(2,p),a.write_shift(4,b),a.write_shift(4,d),a.write_shift(2,0),bconcat([bconcat(i),bconcat(s),a])}(e,n);var i=function(e){for(var t=0,n=0,i=0;i<e.FileIndex.length;++i){var r=e.FileIndex[i];if(r.content){var s=r.content.length;s>0&&(s<4096?t+=s+63>>6:n+=s+511>>9)}}for(var a=e.FullPaths.length+3>>2,o=t+127>>7,l=(t+7>>3)+n+a+o,c=l+127>>7,h=c<=109?0:Math.ceil((c-109)/127);l+c+h+127>>7>c;)h=++c<=109?0:Math.ceil((c-109)/127);var d=[1,h,c,o,a,n,t,0];return e.FileIndex[0].size=t<<6,d[7]=(e.FileIndex[0].start=d[0]+d[1]+d[2]+d[3]+d[4]+d[5])+(d[6]+7>>3),d}(e),s=new_buf(i[7]<<9),a=0,o=0;for(a=0;a<8;++a)s.write_shift(1,v[a]);for(a=0;a<8;++a)s.write_shift(2,0);for(s.write_shift(2,62),s.write_shift(2,3),s.write_shift(2,65534),s.write_shift(2,9),s.write_shift(2,6),a=0;a<3;++a)s.write_shift(2,0);for(s.write_shift(4,0),s.write_shift(4,i[2]),s.write_shift(4,i[0]+i[1]+i[2]+i[3]-1),s.write_shift(4,0),s.write_shift(4,4096),s.write_shift(4,i[3]?i[0]+i[1]+i[2]-1:b),s.write_shift(4,i[3]),s.write_shift(-4,i[1]?i[0]-1:b),s.write_shift(4,i[1]),a=0;a<109;++a)s.write_shift(-4,a<i[2]?i[1]+a:-1);if(i[1])for(o=0;o<i[1];++o){for(;a<236+127*o;++a)s.write_shift(-4,a<i[2]?i[1]+a:-1);s.write_shift(-4,o===i[1]-1?b:o+1)}var l=function(e){for(o+=e;a<o-1;++a)s.write_shift(-4,a+1);e&&(++a,s.write_shift(-4,b))};for(o=a=0,o+=i[1];a<o;++a)s.write_shift(-4,w.DIFSECT);for(o+=i[2];a<o;++a)s.write_shift(-4,w.FATSECT);l(i[3]),l(i[4]);for(var c=0,h=0,d=e.FileIndex[0];c<e.FileIndex.length;++c)(d=e.FileIndex[c]).content&&((h=d.content.length)<4096||(d.start=o,l(h+511>>9)));for(l(i[6]+7>>3);511&s.l;)s.write_shift(-4,w.ENDOFCHAIN);for(o=a=0,c=0;c<e.FileIndex.length;++c)(d=e.FileIndex[c]).content&&(!(h=d.content.length)||h>=4096||(d.start=o,l(h+63>>6)));for(;511&s.l;)s.write_shift(-4,w.ENDOFCHAIN);for(a=0;a<i[4]<<2;++a){var p=e.FullPaths[a];if(p&&0!==p.length){d=e.FileIndex[a],0===a&&(d.start=d.size?d.start-1:b);var m=0===a&&n.root||d.name;if(h=2*(m.length+1),s.write_shift(64,m,"utf16le"),s.write_shift(2,h),s.write_shift(1,d.type),s.write_shift(1,d.color),s.write_shift(-4,d.L),s.write_shift(-4,d.R),s.write_shift(-4,d.C),d.clsid)s.write_shift(16,d.clsid,"hex");else for(c=0;c<4;++c)s.write_shift(4,0);s.write_shift(4,d.state||0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,d.start),s.write_shift(4,d.size),s.write_shift(4,0)}else{for(c=0;c<17;++c)s.write_shift(4,0);for(c=0;c<3;++c)s.write_shift(4,-1);for(c=0;c<12;++c)s.write_shift(4,0)}}for(a=1;a<e.FileIndex.length;++a)if((d=e.FileIndex[a]).size>=4096)if(s.l=d.start+1<<9,has_buf&&Buffer.isBuffer(d.content))d.content.copy(s,s.l,0,d.size),s.l+=d.size+511&-512;else{for(c=0;c<d.size;++c)s.write_shift(1,d.content[c]);for(;511&c;++c)s.write_shift(1,0)}for(a=1;a<e.FileIndex.length;++a)if((d=e.FileIndex[a]).size>0&&d.size<4096)if(has_buf&&Buffer.isBuffer(d.content))d.content.copy(s,s.l,0,d.size),s.l+=d.size+63&-64;else{for(c=0;c<d.size;++c)s.write_shift(1,d.content[c]);for(;63&c;++c)s.write_shift(1,0)}if(has_buf)s.l=s.length;else for(;s.l<s.length;)s.write_shift(1,0);return s}t.version="1.2.1";var f,g=64,b=-2,y="d0cf11e0a1b11ae1",v=[208,207,17,224,161,177,26,225],x="00000000000000000000000000000000",w={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:b,FREESECT:-1,HEADER_SIGNATURE:y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:x,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function O(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function S(e){return f?f.deflateRawSync(e):G(e)}var k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],A=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function T(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var C="undefined"!=typeof Uint8Array,M=C?new Uint8Array(256):[],E=0;E<256;++E)M[E]=T(E);function j(e,t){var n=M[255&e];return t<=8?n>>>8-t:(n=n<<8|M[e>>8&255],t<=16?n>>>16-t:(n=n<<8|M[e>>16&255])>>>24-t)}function R(e,t){var n=7&t,i=t>>>3;return(e[i]|(n<=6?0:e[i+1]<<8))>>>n&3}function P(e,t){var n=7&t,i=t>>>3;return(e[i]|(n<=5?0:e[i+1]<<8))>>>n&7}function L(e,t){var n=7&t,i=t>>>3;return(e[i]|(n<=3?0:e[i+1]<<8))>>>n&31}function I(e,t){var n=7&t,i=t>>>3;return(e[i]|(n<=1?0:e[i+1]<<8))>>>n&127}function N(e,t,n){var i=7&t,r=t>>>3,s=(1<<n)-1,a=e[r]>>>i;return n<8-i?a&s:(a|=e[r+1]<<8-i,n<16-i?a&s:(a|=e[r+2]<<16-i,n<24-i?a&s:(a|=e[r+3]<<24-i)&s))}function D(e,t,n){var i=7&t,r=t>>>3;return i<=5?e[r]|=(7&n)<<i:(e[r]|=n<<i&255,e[r+1]=(7&n)>>8-i),t+3}function z(e,t,n){return n=(1&n)<<(7&t),e[t>>>3]|=n,t+1}function F(e,t,n){var i=t>>>3;return n<<=7&t,e[i]|=255&n,n>>>=8,e[i+1]=n,t+8}function $(e,t,n){var i=t>>>3;return n<<=7&t,e[i]|=255&n,n>>>=8,e[i+1]=255&n,e[i+2]=n>>>8,t+16}function B(e,t){var n=e.length,i=2*n>t?2*n:t+5,r=0;if(n>=t)return e;if(has_buf){var s=new_unsafe_buf(i);if(e.copy)e.copy(s);else for(;r<e.length;++r)s[r]=e[r];return s}if(C){var a=new Uint8Array(i);if(a.set)a.set(e);else for(;r<n;++r)a[r]=e[r];return a}return e.length=i,e}function Q(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function U(e,t,n){var i=1,r=0,s=0,a=0,o=0,l=e.length,c=C?new Uint16Array(32):Q(32);for(s=0;s<32;++s)c[s]=0;for(s=l;s<n;++s)e[s]=0;l=e.length;var h=C?new Uint16Array(l):Q(l);for(s=0;s<l;++s)c[r=e[s]]++,i<r&&(i=r),h[s]=0;for(c[0]=0,s=1;s<=i;++s)c[s+16]=o=o+c[s-1]<<1;for(s=0;s<l;++s)0!=(o=e[s])&&(h[s]=c[o+16]++);var d=0;for(s=0;s<l;++s)if(0!=(d=e[s]))for(o=j(h[s],i)>>i-d,a=(1<<i+4-d)-1;a>=0;--a)t[o|a<<d]=15&d|s<<4;return i}var H=C?new Uint16Array(512):Q(512),W=C?new Uint16Array(32):Q(32);if(!C){for(var V=0;V<512;++V)H[V]=0;for(V=0;V<32;++V)W[V]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);U(e,W,32);var n=[];for(t=0;t<=143;t++)n.push(8);for(;t<=255;t++)n.push(9);for(;t<=279;t++)n.push(7);for(;t<=287;t++)n.push(8);U(n,H,288)}();var X=function(){for(var e=C?new Uint8Array(32768):[],t=0,n=0;t<A.length-1;++t)for(;n<A[t+1];++n)e[n]=t;for(;n<32768;++n)e[n]=29;var i=C?new Uint8Array(259):[];for(t=0,n=0;t<_.length-1;++t)for(;n<_[t+1];++n)i[n]=t;return function(t,n){return t.length<8?function(e,t){for(var n=0;n<e.length;){var i=Math.min(65535,e.length-n),r=n+i==e.length;for(t.write_shift(1,+r),t.write_shift(2,i),t.write_shift(2,65535&~i);i-- >0;)t[t.l++]=e[n++]}return t.l}(t,n):function(t,n){for(var r=0,s=0,a=C?new Uint16Array(32768):[];s<t.length;){var o=Math.min(65535,t.length-s);if(o<10){for(7&(r=D(n,r,+!(s+o!=t.length)))&&(r+=8-(7&r)),n.l=r/8|0,n.write_shift(2,o),n.write_shift(2,65535&~o);o-- >0;)n[n.l++]=t[s++];r=8*n.l}else{r=D(n,r,+!(s+o!=t.length)+2);for(var l=0;o-- >0;){var c=t[s],h=-1,d=0;if((h=a[l=32767&(l<<5^c)])&&((h|=-32768&s)>s&&(h-=32768),h<s))for(;t[h+d]==t[s+d]&&d<250;)++d;if(d>2){(c=i[d])<=22?r=F(n,r,M[c+1]>>1)-1:(F(n,r,3),F(n,r+=5,M[c-23]>>5),r+=3);var p=c<8?0:c-4>>2;p>0&&($(n,r,d-_[c]),r+=p),c=e[s-h],r=F(n,r,M[c]>>3),r-=3;var u=c<4?0:c-2>>1;u>0&&($(n,r,s-h-A[c]),r+=u);for(var m=0;m<d;++m)a[l]=32767&s,l=32767&(l<<5^t[s]),++s;o-=d-1}else c<=143?c+=48:r=z(n,r,1),r=F(n,r,M[c]),a[l]=32767&s,++s}r=F(n,r,0)-1}}return n.l=(r+7)/8|0,n.l}(t,n)}}();function G(e){var t=new_buf(50+Math.floor(1.1*e.length)),n=X(e,t);return t.slice(0,n)}var q=C?new Uint16Array(32768):Q(32768),Y=C?new Uint16Array(32768):Q(32768),J=C?new Uint16Array(128):Q(128),Z=1,K=1;function ee(e,t){var n=L(e,t)+257,i=L(e,t+=5)+1,r=function(e,t){var n=7&t,i=t>>>3;return(e[i]|(n<=4?0:e[i+1]<<8))>>>n&15}(e,t+=5)+4;t+=4;for(var s=0,a=C?new Uint8Array(19):Q(19),o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=C?new Uint8Array(8):Q(8),h=C?new Uint8Array(8):Q(8),d=a.length,p=0;p<r;++p)a[k[p]]=s=P(e,t),l<s&&(l=s),c[s]++,t+=3;var u=0;for(c[0]=0,p=1;p<=l;++p)h[p]=u=u+c[p-1]<<1;for(p=0;p<d;++p)0!=(u=a[p])&&(o[p]=h[u]++);var m=0;for(p=0;p<d;++p)if(0!=(m=a[p])){u=M[o[p]]>>8-m;for(var f=(1<<7-m)-1;f>=0;--f)J[u|f<<m]=7&m|p<<3}var g=[];for(l=1;g.length<n+i;)switch(t+=7&(u=J[I(e,t)]),u>>>=3){case 16:for(s=3+R(e,t),t+=2,u=g[g.length-1];s-- >0;)g.push(u);break;case 17:for(s=3+P(e,t),t+=3;s-- >0;)g.push(0);break;case 18:for(s=11+I(e,t),t+=7;s-- >0;)g.push(0);break;default:g.push(u),l<u&&(l=u)}var b=g.slice(0,n),y=g.slice(n);for(p=n;p<286;++p)b[p]=0;for(p=i;p<30;++p)y[p]=0;return Z=U(b,q,286),K=U(y,Y,30),t}function te(e,t){var n=function(e,t){if(3==e[0]&&!(3&e[1]))return[new_raw_buf(t),2];for(var n=0,i=0,r=new_unsafe_buf(t||1<<18),s=0,a=r.length>>>0,o=0,l=0;0==(1&i);)if(i=P(e,n),n+=3,i>>>1!=0)for(i>>1==1?(o=9,l=5):(n=ee(e,n),o=Z,l=K);;){!t&&a<s+32767&&(a=(r=B(r,s+32767)).length);var c=N(e,n,o),h=i>>>1==1?H[c]:q[c];if(n+=15&h,0==((h>>>=4)>>>8&255))r[s++]=h;else{if(256==h)break;var d=(h-=257)<8?0:h-4>>2;d>5&&(d=0);var p=s+_[h];d>0&&(p+=N(e,n,d),n+=d),c=N(e,n,l),n+=15&(h=i>>>1==1?W[c]:Y[c]);var u=(h>>>=4)<4?0:h-2>>1,m=A[h];for(u>0&&(m+=N(e,n,u),n+=u),!t&&a<p&&(a=(r=B(r,p+100)).length);s<p;)r[s]=r[s-m],++s}}else{7&n&&(n+=8-(7&n));var f=e[n>>>3]|e[1+(n>>>3)]<<8;if(n+=32,f>0)for(!t&&a<s+f&&(a=(r=B(r,s+f)).length);f-- >0;)r[s++]=e[n>>>3],n+=8}return t?[r,n+7>>>3]:[r.slice(0,s),n+7>>>3]}(e.slice(e.l||0),t);return e.l+=n[1],n[0]}function ne(e,t){if(!e)throw new Error(t);"undefined"!=typeof console&&console.error(t)}function ie(e,t){var n=e;prep_blob(n,0);var i={FileIndex:[],FullPaths:[]};p(i,{root:t.root});for(var r=n.length-4;(80!=n[r]||75!=n[r+1]||5!=n[r+2]||6!=n[r+3])&&r>=0;)--r;n.l=r+4,n.l+=4;var a=n.read_shift(2);n.l+=6;var o=n.read_shift(4);for(n.l=o,r=0;r<a;++r){n.l+=20;var l=n.read_shift(4),c=n.read_shift(4),h=n.read_shift(2),d=n.read_shift(2),u=n.read_shift(2);n.l+=8;var m=n.read_shift(4),f=s(n.slice(n.l+h,n.l+h+d));n.l+=h+d+u;var g=n.l;n.l=m+4,re(n,l,c,i,f),n.l=g}return i}function re(e,t,n,i,r){e.l+=2;var a=e.read_shift(2),o=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),n=65535&e.read_shift(2),i=new Date,r=31&n,s=15&(n>>>=5);n>>>=4,i.setMilliseconds(0),i.setFullYear(n+1980),i.setMonth(s-1),i.setDate(r);var a=31&t,o=63&(t>>>=5);return t>>>=6,i.setHours(t),i.setMinutes(o),i.setSeconds(a<<1),i}(e);if(8257&a)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),h=e.read_shift(4),d=e.read_shift(2),p=e.read_shift(2),u="",m=0;m<d;++m)u+=String.fromCharCode(e[e.l++]);if(p){var g=s(e.slice(e.l,e.l+p));(g[21589]||{}).mt&&(l=g[21589].mt),((r||{})[21589]||{}).mt&&(l=r[21589].mt)}e.l+=p;var b=e.slice(e.l,e.l+c);switch(o){case 8:b=function(e,t){if(!f)return te(e,t);var n=new(0,f.InflateRaw),i=n._processChunk(e.slice(e.l),n._finishFlushFlag);return e.l+=n.bytesRead,i}(e,h);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+o)}var y=!1;8&a&&(134695760==e.read_shift(4)&&(e.read_shift(4),y=!0),c=e.read_shift(4),h=e.read_shift(4)),c!=t&&ne(y,"Bad compressed size: "+t+" != "+c),h!=n&&ne(y,"Bad uncompressed size: "+n+" != "+h),he(i,u,b,{unsafe:!0,mt:l})}var se={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ae(e,t){if(e.ctype)return e.ctype;var n=e.name||"",i=n.match(/\.([^\.]+)$/);return i&&se[i[1]]||t&&(i=(n=t).match(/[\.\\]([^\.\\])+$/))&&se[i[1]]?se[i[1]]:"application/octet-stream"}function oe(e){for(var t=Base64.encode(e),n=[],i=0;i<t.length;i+=76)n.push(t.slice(i,i+76));return n.join("\r\n")+"\r\n"}function le(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,(function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)}));"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var n=[],i=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),r=0;r<i.length;++r){var s=i[r];if(0!=s.length)for(var a=0;a<s.length;){var o=76,l=s.slice(a,a+o);"="==l.charAt(o-1)?o--:"="==l.charAt(o-2)?o-=2:"="==l.charAt(o-3)&&(o-=3),l=s.slice(a,a+o),(a+=o)<s.length&&(l+="="),n.push(l)}else n.push("")}return n.join("\r\n")}function ce(e,t,n){for(var i,r="",s="",a="",o=0;o<10;++o){var l=t[o];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":r=c[2].trim();break;case"content-type":a=c[2].trim();break;case"content-transfer-encoding":s=c[2].trim()}}switch(++o,s.toLowerCase()){case"base64":i=s2a(Base64.decode(t.slice(o).join("")));break;case"quoted-printable":i=function(e){for(var t=[],n=0;n<e.length;++n){for(var i=e[n];n<=e.length&&"="==i.charAt(i.length-1);)i=i.slice(0,i.length-1)+e[++n];t.push(i)}for(var r=0;r<t.length;++r)t[r]=t[r].replace(/[=][0-9A-Fa-f]{2}/g,(function(e){return String.fromCharCode(parseInt(e.slice(1),16))}));return s2a(t.join("\r\n"))}(t.slice(o));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+s)}var h=he(e,r.slice(n.length),i,{unsafe:!0});a&&(h.ctype=a)}function he(e,t,n,r){var s=r&&r.unsafe;s||p(e);var a=!s&&CFB.find(e,t);if(!a){var o=e.FullPaths[0];t.slice(0,o.length)==o?o=t:("/"!=o.slice(-1)&&(o+="/"),o=(o+t).replace("//","/")),a={name:i(t),type:2},e.FileIndex.push(a),e.FullPaths.push(o),s||CFB.utils.cfb_gc(e)}return a.content=n,a.size=n?n.length:0,r&&(r.CLSID&&(a.clsid=r.CLSID),r.mt&&(a.mt=r.mt),r.ct&&(a.ct=r.ct)),a}return t.find=function(e,t){var n=e.FullPaths.map((function(e){return e.toUpperCase()})),i=n.map((function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]})),r=!1;47===t.charCodeAt(0)?(r=!0,t=n[0].slice(0,-1)+t):r=-1!==t.indexOf("/");var s=t.toUpperCase(),a=!0===r?n.indexOf(s):i.indexOf(s);if(-1!==a)return e.FileIndex[a];var o=!s.match(chr1);for(s=s.replace(chr0,""),o&&(s=s.replace(chr1,"!")),a=0;a<n.length;++a){if((o?n[a].replace(chr1,"!"):n[a]).replace(chr0,"")==s)return e.FileIndex[a];if((o?i[a].replace(chr1,"!"):i[a]).replace(chr0,"")==s)return e.FileIndex[a]}return null},t.read=function(t,n){var i=n&&n.type;switch(i||has_buf&&Buffer.isBuffer(t)&&(i="buffer"),i||"base64"){case"file":return function(t,n){return a(),o(e.readFileSync(t),n)}(t,n);case"base64":return o(s2a(Base64.decode(t)),n);case"binary":return o(s2a(t),n)}return o(t,n)},t.parse=o,t.write=function(t,n){var i=m(t,n);switch(n&&n.type||"buffer"){case"file":return a(),e.writeFileSync(n.filename,i),i;case"binary":return"string"==typeof i?i:O(i);case"base64":return Base64.encode("string"==typeof i?i:O(i));case"buffer":if(has_buf)return Buffer.isBuffer(i)?i:Buffer_from(i);case"array":return"string"==typeof i?s2a(i):i}return i},t.writeFile=function(t,n,i){a();var r=m(t,i);e.writeFileSync(n,r)},t.utils={cfb_new:function(e){var t={};return p(t,e),t},cfb_add:he,cfb_del:function(e,t){p(e);var n=CFB.find(e,t);if(n)for(var i=0;i<e.FileIndex.length;++i)if(e.FileIndex[i]==n)return e.FileIndex.splice(i,1),e.FullPaths.splice(i,1),!0;return!1},cfb_mov:function(e,t,n){p(e);var r=CFB.find(e,t);if(r)for(var s=0;s<e.FileIndex.length;++s)if(e.FileIndex[s]==r)return e.FileIndex[s].name=i(n),e.FullPaths[s]=n,!0;return!1},cfb_gc:function(e){u(e,!0)},ReadShift,CheckField,prep_blob,bconcat,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");f=e}catch(e){console.error("cannot use native zlib: "+(e.message||e))}},_deflateRaw:G,_inflateRaw:te,consts:w},t}();function keys(e){for(var t=Object.keys(e),n=[],i=0;i<t.length;++i)Object.prototype.hasOwnProperty.call(e,t[i])&&n.push(t[i]);return n}function evert_key(e,t){for(var n=[],i=keys(e),r=0;r!==i.length;++r)null==n[e[i[r]][t]]&&(n[e[i[r]][t]]=i[r]);return n}function evert(e){for(var t=[],n=keys(e),i=0;i!==n.length;++i)t[e[n[i]]]=n[i];return t}function evert_num(e){for(var t=[],n=keys(e),i=0;i!==n.length;++i)t[e[n[i]]]=parseInt(n[i],10);return t}function evert_arr(e){for(var t=[],n=keys(e),i=0;i!==n.length;++i)null==t[e[n[i]]]&&(t[e[n[i]]]=[]),t[e[n[i]]].push(n[i]);return t}"undefined"!=typeof require&&"undefined"!=typeof module&&void 0===DO_NOT_EXPORT_CFB&&(module.exports=CFB);var basedate=new Date(1899,11,30,0,0,0);function datenum(e,t){var n=e.getTime();return t&&(n-=1263168e5),(n-(basedate.getTime()+6e4*(e.getTimezoneOffset()-basedate.getTimezoneOffset())))/864e5}var refdate=new Date,dnthresh=basedate.getTime()+6e4*(refdate.getTimezoneOffset()-basedate.getTimezoneOffset()),refoffset=refdate.getTimezoneOffset();function numdate(e){var t=new Date;return t.setTime(24*e*60*60*1e3+dnthresh),t.getTimezoneOffset()!==refoffset&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-refoffset)),t}var good_pd_date=new Date("2017-02-19T19:06:09.000Z");isNaN(good_pd_date.getFullYear())&&(good_pd_date=new Date("2/19/17"));var good_pd=2017==good_pd_date.getFullYear();function parseDate(e,t){var n=new Date(e);if(good_pd)return t>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):t<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(e instanceof Date)return e;if(1917==good_pd_date.getFullYear()&&!isNaN(n.getFullYear())){var i=n.getFullYear();return e.indexOf(""+i)>-1||n.setFullYear(n.getFullYear()+100),n}var r=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+r[0],+r[1]-1,+r[2],+r[3]||0,+r[4]||0,+r[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-60*s.getTimezoneOffset()*1e3)),s}function cc2str(e,t){if(has_buf&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return e.slice(2).toString("utf16le");if(254==e[1]&&255==e[2])return utf16beread(e.slice(2).toString("binary"))}return e.toString("binary")}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function dup(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=dup(e[n]));return t}function fuzzynum(e){var t=Number(e);if(isFinite(t))return t;if(!isNaN(t))return NaN;if(!/\d/.test(e))return t;var n=1,i=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return n*=100,""}));return isNaN(t=Number(i))?(i=i.replace(/[(](.*)[)]/,(function(e,t){return n=-n,t})),isNaN(t=Number(i))?t:t/n):t/n}var lower_months=["january","february","march","april","may","june","july","august","september","october","november","december"];function fuzzydate(e){var t=new Date(e),n=new Date(NaN),i=t.getYear(),r=t.getMonth(),s=t.getDate();if(isNaN(s))return n;var a=e.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==lower_months.indexOf(a))return n}else if(a.match(/[a-z]/))return n;return i<0||i>8099?n:(r>0||s>1)&&101!=i?t:e.match(/[^-0-9:,\/\\]/)?n:t}var safe_split_regex=5=="abacaba".split(/(:?b)/i).length;function split_regex(e,t,n){if(safe_split_regex||"string"==typeof t)return e.split(t);for(var i=e.split(t),r=[i[0]],s=1;s<i.length;++s)r.push(n),r.push(i[s]);return r}function getdatastr(e){return e?e.content&&e.type?cc2str(e.content,!0):e.data?debom(e.data):e.asNodeBuffer&&has_buf?debom(e.asNodeBuffer().toString("binary")):e.asBinary?debom(e.asBinary()):e._data&&e._data.getContent?debom(cc2str(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function safegetzipfile(e,t){for(var n=e.FullPaths||keys(e.files),i=t.toLowerCase().replace(/[\/]/g,"\\"),r=i.replace(/\\/g,"/"),s=0;s<n.length;++s){var a=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(i==a||r==a)return e.files?e.files[n[s]]:e.FileIndex[s]}return null}function getzipfile(e,t){var n=safegetzipfile(e,t);if(null==n)throw new Error("Cannot find file "+t+" in zip");return n}function getzipstr(e,t,n){if(!n)return getdatastr(getzipfile(e,t));if(!t)return null;try{return getzipstr(e,t)}catch(e){return null}}function zip_read(e,t){switch(t.type){case"base64":return CFB.read(e,{type:"base64"});case"binary":return CFB.read(e,{type:"binary"});case"buffer":case"array":return CFB.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}var XML_HEADER='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',attregexg=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,tagregex=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm;function parsexmltag(e,t,n){for(var i={},r=0,s=0;r!==e.length&&(32!==(s=e.charCodeAt(r))&&10!==s&&13!==s);++r);if(t||(i[0]=e.slice(0,r)),r===e.length)return i;var a=e.match(attregexg),o=0,l="",c=0,h="",d="",p=1;if(a)for(c=0;c!=a.length;++c){for(d=a[c],s=0;s!=d.length&&61!==d.charCodeAt(s);++s);for(h=d.slice(0,s).trim();32==d.charCodeAt(s+1);)++s;for(p=34==(r=d.charCodeAt(s+1))||39==r?1:0,l=d.slice(s+1+p,d.length-p),o=0;o!=h.length&&58!==h.charCodeAt(o);++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),i[h]=l,n||(i[h.toLowerCase()]=l);else{var u=(5===o&&"xmlns"===h.slice(0,5)?"xmlns":"")+h.slice(o+1);if(i[u]&&"ext"==h.slice(o-3,o))continue;i[u]=l,n||(i[u.toLowerCase()]=l)}}return i}XML_HEADER.match(tagregex)||(tagregex=/<[^>]*>/g);var encodings={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},rencoding=evert(encodings),unescapexml=(encregex=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,coderegex=/_x([\da-fA-F]{4})_/gi,function e(t){var n=t+"",i=n.indexOf("<![CDATA[");if(-1==i)return n.replace(encregex,(function(e,t){return encodings[e]||String.fromCharCode(parseInt(t,e.indexOf("x")>-1?16:10))||e})).replace(coderegex,(function(e,t){return String.fromCharCode(parseInt(t,16))}));var r=n.indexOf("]]>");return e(n.slice(0,i))+n.slice(i+9,r)+e(n.slice(r+3))}),encregex,coderegex,decregex=/[&<>'"]/g,htmlcharegex=/[\u0000-\u001f]/g;function escapehtml(e){return(e+"").replace(decregex,(function(e){return rencoding[e]})).replace(/\n/g,"<br/>").replace(htmlcharegex,(function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"}))}function parsexmlbool(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}var utf8read=function(e){for(var t="",n=0,i=0,r=0,s=0,a=0,o=0;n<e.length;)(i=e.charCodeAt(n++))<128?t+=String.fromCharCode(i):(r=e.charCodeAt(n++),i>191&&i<224?(a=(31&i)<<6,a|=63&r,t+=String.fromCharCode(a)):(s=e.charCodeAt(n++),i<240?t+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&s):(o=((7&i)<<18|(63&r)<<12|(63&s)<<6|63&(a=e.charCodeAt(n++)))-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(1023&o)))));return t};if(has_buf){var utf8readb=function(e){var t,n,i,r=Buffer.alloc(2*e.length),s=1,a=0,o=0;for(n=0;n<e.length;n+=s)s=1,(i=e.charCodeAt(n))<128?t=i:i<224?(t=64*(31&i)+(63&e.charCodeAt(n+1)),s=2):i<240?(t=4096*(15&i)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),s=3):(s=4,t=262144*(7&i)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(r[a++]=255&o,r[a++]=o>>>8,o=0),r[a++]=t%256,r[a++]=t>>>8;return r.slice(0,a).toString("ucs2")},corpus="foo bar baz";utf8read(corpus)==utf8readb(corpus)&&(utf8read=utf8readb);var utf8readc=function(e){return Buffer_from(e,"binary").toString("utf8")};utf8read(corpus)==utf8readc(corpus)&&(utf8read=utf8readc)}var matchtag=(mtcache={},function(e,t){var n=e+"|"+(t||"");return mtcache[n]?mtcache[n]:mtcache[n]=new RegExp("<(?:\\w+:)?"+e+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+e+">",t||"")}),mtcache,htmldecode=(entities=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]})),function(e){for(var t=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),n=0;n<entities.length;++n)t=t.replace(entities[n][0],entities[n][1]);return t}),entities,wtregex=/(^\s|\s$|\n)/;function wxt_helper(e){return keys(e).map((function(t){return" "+t+'="'+e[t]+'"'})).join("")}function writextag(e,t,n){return"<"+e+(null!=n?wxt_helper(n):"")+(null!=t?(t.match(wtregex)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}var XMLNS={dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"};function read_double_le(e,t){for(var n=1-2*(e[t+7]>>>7),i=((127&e[t+7])<<4)+(e[t+6]>>>4&15),r=15&e[t+6],s=5;s>=0;--s)r=256*r+e[t+s];return 2047==i?0==r?n*(1/0):NaN:(0==i?i=-1022:(i-=1023,r+=Math.pow(2,52)),n*Math.pow(2,i-52)*r)}function write_double_le(e,t,n){var i=(t<0||1/t==-1/0?1:0)<<7,r=0,s=0,a=i?-t:t;isFinite(a)?0==a?r=s=0:(r=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-r),r<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?r=-1022:(s-=Math.pow(2,52),r+=1023)):(r=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[n+o]=255&s;e[n+6]=(15&r)<<4|15&s,e[n+7]=r>>4|i}XMLNS.main=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];var __toBuffer=function(e){for(var t=[],n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,r=e[0][n].length;i<r;i+=10240)t.push.apply(t,e[0][n].slice(i,i+10240));return t},___toBuffer=__toBuffer,__utf16le=function(e,t,n){for(var i=[],r=t;r<n;r+=2)i.push(String.fromCharCode(__readUInt16LE(e,r)));return i.join("").replace(chr0,"")},___utf16le=__utf16le,__hexlify=function(e,t,n){for(var i=[],r=t;r<t+n;++r)i.push(("0"+e[r].toString(16)).slice(-2));return i.join("")},___hexlify=__hexlify,__utf8=function(e,t,n){for(var i=[],r=t;r<n;r++)i.push(String.fromCharCode(__readUInt8(e,r)));return i.join("")},___utf8=__utf8,__lpstr=function(e,t){var n=__readUInt32LE(e,t);return n>0?__utf8(e,t+4,t+4+n-1):""},___lpstr=__lpstr,__cpstr=function(e,t){var n=__readUInt32LE(e,t);return n>0?__utf8(e,t+4,t+4+n-1):""},___cpstr=__cpstr,__lpwstr=function(e,t){var n=2*__readUInt32LE(e,t);return n>0?__utf8(e,t+4,t+4+n-1):""},___lpwstr=__lpwstr,__lpp4,___lpp4;__lpp4=___lpp4=function(e,t){var n=__readUInt32LE(e,t);return n>0?__utf16le(e,t+4,t+4+n):""};var __8lpp4=function(e,t){var n=__readUInt32LE(e,t);return n>0?__utf8(e,t+4,t+4+n):""},___8lpp4=__8lpp4,__double,___double;__double=___double=function(e,t){return read_double_le(e,t)},has_buf&&(__utf16le=function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(chr0,""):___utf16le(e,t,n)},__hexlify=function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):___hexlify(e,t,n)},__lpstr=function(e,t){if(!Buffer.isBuffer(e))return ___lpstr(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},__cpstr=function(e,t){if(!Buffer.isBuffer(e))return ___cpstr(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},__lpwstr=function(e,t){if(!Buffer.isBuffer(e))return ___lpwstr(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},__lpp4=function(e,t){if(!Buffer.isBuffer(e))return ___lpp4(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},__8lpp4=function(e,t){if(!Buffer.isBuffer(e))return ___8lpp4(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},__utf8=function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):___utf8(e,t,n)},__toBuffer=function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map((function(e){return Buffer.isBuffer(e)?e:Buffer_from(e)}))):___toBuffer(e)},bconcat=function(e){return Buffer.concat(e.map((function(e){return Buffer.isBuffer(e)?e:Buffer_from(e)})))},__double=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):___double(e,t)});var __readUInt8=function(e,t){return e[t]},__readUInt16LE=function(e,t){return 256*e[t+1]+e[t]},__readInt16LE=function(e,t){var n=256*e[t+1]+e[t];return n<32768?n:-1*(65535-n+1)},__readUInt32LE=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},__readInt32LE=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},__readInt32BE=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function ReadShift(e,t){var n,i,r,s,a,o,l="",c=[];switch(t){case"dbcs":if(o=this.l,has_buf&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(a=0;a<e;++a)l+=String.fromCharCode(__readUInt16LE(this,o)),o+=2;e*=2;break;case"utf8":l=__utf8(this,this.l,this.l+e);break;case"utf16le":e*=2,l=__utf16le(this,this.l,this.l+e);break;case"wstr":return ReadShift.call(this,e,"dbcs");case"lpstr-ansi":l=__lpstr(this,this.l),e=4+__readUInt32LE(this,this.l);break;case"lpstr-cp":l=__cpstr(this,this.l),e=4+__readUInt32LE(this,this.l);break;case"lpwstr":l=__lpwstr(this,this.l),e=4+2*__readUInt32LE(this,this.l);break;case"lpp4":e=4+__readUInt32LE(this,this.l),l=__lpp4(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+__readUInt32LE(this,this.l),l=__8lpp4(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(r=__readUInt8(this,this.l+e++));)c.push(_getchar(r));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(r=__readUInt16LE(this,this.l+e));)c.push(_getchar(r)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",o=this.l,a=0;a<e;++a){if(this.lens&&-1!==this.lens.indexOf(o))return r=__readUInt8(this,o),this.l=o+1,s=ReadShift.call(this,e-a,r?"dbcs-cont":"sbcs-cont"),c.join("")+s;c.push(_getchar(__readUInt16LE(this,o))),o+=2}l=c.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(l="",o=this.l,a=0;a!=e;++a){if(this.lens&&-1!==this.lens.indexOf(o))return r=__readUInt8(this,o),this.l=o+1,s=ReadShift.call(this,e-a,r?"dbcs-cont":"sbcs-cont"),c.join("")+s;c.push(_getchar(__readUInt8(this,o))),o+=1}l=c.join("");break;default:switch(e){case 1:return n=__readUInt8(this,this.l),this.l++,n;case 2:return n=("i"===t?__readInt16LE:__readUInt16LE)(this,this.l),this.l+=2,n;case 4:case-4:return"i"===t||0==(128&this[this.l+3])?(n=(e>0?__readInt32LE:__readInt32BE)(this,this.l),this.l+=4,n):(i=__readUInt32LE(this,this.l),this.l+=4,i);case 8:case-8:if("f"===t)return i=8==e?__double(this,this.l):__double([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:l=__hexlify(this,this.l,e)}}return this.l+=e,l}var __writeUInt32LE=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},__writeInt32LE=function(e,t,n){e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},__writeUInt16LE=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255};function WriteShift(e,t,n){var i=0,r=0;if("dbcs"===n){for(r=0;r!=t.length;++r)__writeUInt16LE(this,t.charCodeAt(r),this.l+2*r);i=2*t.length}else if("sbcs"===n){for(t=t.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=t.length;++r)this[this.l+r]=255&t.charCodeAt(r);i=t.length}else{if("hex"===n){for(;r<e;++r)this[this.l++]=parseInt(t.slice(2*r,2*r+2),16)||0;return this}if("utf16le"===n){var s=Math.min(this.l+e,this.length);for(r=0;r<Math.min(t.length,e);++r){var a=t.charCodeAt(r);this[this.l++]=255&a,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}switch(e){case 1:i=1,this[this.l]=255&t;break;case 2:i=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:i=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:i=4,__writeUInt32LE(this,t,this.l);break;case 8:if(i=8,"f"===n){write_double_le(this,t,this.l);break}case 16:break;case-4:i=4,__writeInt32LE(this,t,this.l)}}return this.l+=i,this}function CheckField(e,t){var n=__hexlify(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function prep_blob(e,t){e.l=t,e.read_shift=ReadShift,e.chk=CheckField,e.write_shift=WriteShift}function parsenoop(e,t){e.l+=t}function new_buf(e){var t=new_raw_buf(e);return prep_blob(t,0),t}function buf_array(){var e=[],t=has_buf?256:2048,n=function(e){var t=new_buf(e);return prep_blob(t,0),t},i=n(t),r=function(){i&&(i.length>i.l&&((i=i.slice(0,i.l)).l=i.length),i.length>0&&e.push(i),i=null)},s=function(e){return i&&e<i.length-i.l?i:(r(),i=n(Math.max(e+1,t)))};return{next:s,push:function(e){r(),null==(i=e).l&&(i.l=i.length),s(t)},end:function(){return r(),bconcat(e)},_bufs:e}}function decode_row(e){return parseInt(unfix_row(e),10)-1}function encode_row(e){return""+(e+1)}function unfix_row(e){return e.replace(/\$(\d+)$/,"$1")}function decode_col(e){for(var t=unfix_col(e),n=0,i=0;i!==t.length;++i)n=26*n+t.charCodeAt(i)-64;return n-1}function encode_col(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function unfix_col(e){return e.replace(/^\$([A-Z])/,"$1")}function split_cell(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function decode_cell(e){for(var t=0,n=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);r>=48&&r<=57?t=10*t+(r-48):r>=65&&r<=90&&(n=26*n+(r-64))}return{c:n-1,r:t-1}}function encode_cell(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function decode_range(e){var t=e.indexOf(":");return-1==t?{s:decode_cell(e),e:decode_cell(e)}:{s:decode_cell(e.slice(0,t)),e:decode_cell(e.slice(t+1))}}function encode_range(e,t){return void 0===t||"number"==typeof t?encode_range(e.s,e.e):("string"!=typeof e&&(e=encode_cell(e)),"string"!=typeof t&&(t=encode_cell(t)),e==t?e:e+":"+t)}function safe_decode_range(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,i=0,r=0,s=e.length;for(n=0;i<s&&!((r=e.charCodeAt(i)-64)<1||r>26);++i)n=26*n+r;for(t.s.c=--n,n=0;i<s&&!((r=e.charCodeAt(i)-48)<0||r>9);++i)n=10*n+r;if(t.s.r=--n,i===s||10!=r)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++i,n=0;i!=s&&!((r=e.charCodeAt(i)-64)<1||r>26);++i)n=26*n+r;for(t.e.c=--n,n=0;i!=s&&!((r=e.charCodeAt(i)-48)<0||r>9);++i)n=10*n+r;return t.e.r=--n,t}function safe_format_cell(e,t){var n="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=SSF.format(e.z,n?datenum(t):t)}catch(e){}try{return e.w=SSF.format((e.XF||{}).numFmtId||(n?14:0),n?datenum(t):t)}catch(e){return""+t}}function format_cell(e,t,n){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),"e"==e.t?BErr[e.v]||e.v:safe_format_cell(e,t??e.v))}function sheet_to_workbook(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",i={};return i[n]=e,{SheetNames:[n],Sheets:i}}function sheet_add_aoa(e,t,n){var i=n||{},r=e?Array.isArray(e):i.dense,s=e||(r?[]:{}),a=0,o=0;if(s&&null!=i.origin){if("number"==typeof i.origin)a=i.origin;else{var l="string"==typeof i.origin?decode_cell(i.origin):i.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var h=safe_decode_range(s["!ref"]);c.s.c=h.s.c,c.s.r=h.s.r,c.e.c=Math.max(c.e.c,h.e.c),c.e.r=Math.max(c.e.r,h.e.r),-1==a&&(c.e.r=a=h.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[d].length;++p)if(void 0!==t[d][p]){var u={v:t[d][p]},m=a+d,f=o+p;if(c.s.r>m&&(c.s.r=m),c.s.c>f&&(c.s.c=f),c.e.r<m&&(c.e.r=m),c.e.c<f&&(c.e.c=f),!t[d][p]||"object"!=typeof t[d][p]||Array.isArray(t[d][p])||t[d][p]instanceof Date)if(Array.isArray(u.v)&&(u.f=t[d][p][1],u.v=u.v[0]),null===u.v)if(u.f)u.t="n";else if(i.nullError)u.t="e",u.v=0;else{if(!i.sheetStubs)continue;u.t="z"}else"number"==typeof u.v?u.t="n":"boolean"==typeof u.v?u.t="b":u.v instanceof Date?(u.z=i.dateNF||SSF._table[14],i.cellDates?(u.t="d",u.w=SSF.format(u.z,datenum(u.v))):(u.t="n",u.v=datenum(u.v),u.w=SSF.format(u.z,u.v))):u.t="s";else u=t[d][p];if(r)s[m]||(s[m]=[]),s[m][f]&&s[m][f].z&&(u.z=s[m][f].z),s[m][f]=u;else{var g=encode_cell({c:f,r:m});s[g]&&s[g].z&&(u.z=s[g].z),s[g]=u}}}return c.s.c<1e7&&(s["!ref"]=encode_range(c)),s}function aoa_to_sheet(e,t){return sheet_add_aoa(null,e,t)}function parse_RkNumber(e){var t=e.slice(e.l,e.l+4),n=1&t[0],i=2&t[0];e.l+=4;var r=0===i?__double([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):__readInt32LE(t,0)>>2;return n?r/100:r}function parse_RfX(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var parse_UncheckedRfX=parse_RfX;function parse_Xnum(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}var VT_I2=2,VT_I4=3,VT_BOOL=11,VT_VARIANT=12,VT_UI4=19,VT_LPSTR=30,VT_FILETIME=64,VT_BLOB=65,VT_CF=71,VT_VECTOR=4096,VT_STRING=80,DocSummaryPIDDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Category",t:VT_STRING},3:{n:"PresentationFormat",t:VT_STRING},4:{n:"ByteCount",t:VT_I4},5:{n:"LineCount",t:VT_I4},6:{n:"ParagraphCount",t:VT_I4},7:{n:"SlideCount",t:VT_I4},8:{n:"NoteCount",t:VT_I4},9:{n:"HiddenCount",t:VT_I4},10:{n:"MultimediaClipCount",t:VT_I4},11:{n:"ScaleCrop",t:VT_BOOL},12:{n:"HeadingPairs",t:VT_VECTOR|VT_VARIANT},13:{n:"TitlesOfParts",t:VT_VECTOR|VT_LPSTR},14:{n:"Manager",t:VT_STRING},15:{n:"Company",t:VT_STRING},16:{n:"LinksUpToDate",t:VT_BOOL},17:{n:"CharacterCount",t:VT_I4},19:{n:"SharedDoc",t:VT_BOOL},22:{n:"HyperlinksChanged",t:VT_BOOL},23:{n:"AppVersion",t:VT_I4,p:"version"},24:{n:"DigSig",t:VT_BLOB},26:{n:"ContentType",t:VT_STRING},27:{n:"ContentStatus",t:VT_STRING},28:{n:"Language",t:VT_STRING},29:{n:"Version",t:VT_STRING},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}},SummaryPIDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Title",t:VT_STRING},3:{n:"Subject",t:VT_STRING},4:{n:"Author",t:VT_STRING},5:{n:"Keywords",t:VT_STRING},6:{n:"Comments",t:VT_STRING},7:{n:"Template",t:VT_STRING},8:{n:"LastAuthor",t:VT_STRING},9:{n:"RevNumber",t:VT_STRING},10:{n:"EditTime",t:VT_FILETIME},11:{n:"LastPrinted",t:VT_FILETIME},12:{n:"CreatedDate",t:VT_FILETIME},13:{n:"ModifiedDate",t:VT_FILETIME},14:{n:"PageCount",t:VT_I4},15:{n:"WordCount",t:VT_I4},16:{n:"CharCount",t:VT_I4},17:{n:"Thumbnail",t:VT_CF},18:{n:"Application",t:VT_STRING},19:{n:"DocSecurity",t:VT_I4},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}};evert_key(DocSummaryPIDDSI,"n"),evert_key(SummaryPIDSI,"n");var CountryEnum={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},XLSFillPattern=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function rgbify(e){return e.map((function(e){return[e>>16&255,e>>8&255,255&e]}))}var _XLSIcv=rgbify([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);dup(_XLSIcv);var BErr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},RBErr=evert_num(BErr),ct2type={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.sheetMetadata":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"TODO","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};!function(){var e={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};keys(e).forEach((function(t){["xlsm","xlam"].forEach((function(n){e[t][n]||(e[t][n]=e[t].xlsx)}))})),keys(e).forEach((function(t){keys(e[t]).forEach((function(n){ct2type[e[t][n]]=t}))}))}();var type2ct=evert_arr(ct2type);XMLNS.CT="http://schemas.openxmlformats.org/package/2006/content-types",writextag("Types",null,{xmlns:XMLNS.CT,"xmlns:xsd":XMLNS.xsd,"xmlns:xsi":XMLNS.xsi}),[["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels",type2ct.rels[0]]].map((function(e){return writextag("Default",null,{Extension:e[0],ContentType:e[1]})})),XMLNS.RELS="http://schemas.openxmlformats.org/package/2006/relationships",writextag("Relationships",null,{xmlns:XMLNS.RELS});var CORE_PROPS=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];XMLNS.CORE_PROPS="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",function(){for(var e=new Array(CORE_PROPS.length),t=0;t<CORE_PROPS.length;++t){var n=CORE_PROPS[t],i="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+i+"[^>]*>([\\s\\S]*?)</"+i+">")}}(),writextag("cp:coreProperties",null,{"xmlns:cp":XMLNS.CORE_PROPS,"xmlns:dc":XMLNS.dc,"xmlns:dcterms":XMLNS.dcterms,"xmlns:dcmitype":XMLNS.dcmitype,"xmlns:xsi":XMLNS.xsi}),XMLNS.EXT_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",writextag("Properties",null,{xmlns:XMLNS.EXT_PROPS,"xmlns:vt":XMLNS.vt}),XMLNS.CUST_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",writextag("Properties",null,{xmlns:XMLNS.CUST_PROPS,"xmlns:vt":XMLNS.vt});var XLMLDocPropsMap={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function parse_FILETIME(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date(1e3*(n/1e7*Math.pow(2,32)+t/1e7-11644473600)).toISOString().replace(/\.000/,"")}function parsenoop2(e,t){return e.read_shift(t),null}function parslurp(e,t,n){for(var i=[],r=e.l+t;e.l<r;)i.push(n(e,r-e.l));if(r!==e.l)throw new Error("Slurp error");return i}function parsebool(e,t){return 1===e.read_shift(t)}function parseuint16(e){return e.read_shift(2,"u")}function parseuint16a(e,t){return parslurp(e,t,parseuint16)}function parse_Bes(e){var t=e.read_shift(1);return 1===e.read_shift(1)?t:1===t}function parse_ShortXLUnicodeString(e,t,n){var i=e.read_shift(n&&n.biff>=12?2:1),r="sbcs-cont";(n&&n.biff,n&&8!=n.biff)?12==n.biff&&(r="wstr"):e.read_shift(1)&&(r="dbcs-cont");return n.biff>=2&&n.biff<=5&&(r="cpstr"),i?e.read_shift(i,r):""}function parse_XLUnicodeRichExtendedString(e){var t,n=e.read_shift(2),i=e.read_shift(1),r=4&i,s=8&i,a=1+(1&i),o=0,l={};s&&(o=e.read_shift(2)),r&&(t=e.read_shift(4));var c=2==a?"dbcs-cont":"sbcs-cont",h=0===n?"":e.read_shift(n,c);return s&&(e.l+=4*o),r&&(e.l+=t),l.t=h,s||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function parse_XLUnicodeStringNoCch(e,t,n){if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function parse_XLUnicodeString(e,t,n){var i=e.read_shift(n&&2==n.biff?1:2);return 0===i?(e.l++,""):parse_XLUnicodeStringNoCch(e,i,n)}function parse_XLUnicodeString2(e,t,n){if(n.biff>5)return parse_XLUnicodeString(e,t,n);var i=e.read_shift(1);return 0===i?(e.l++,""):e.read_shift(i,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function parse_ControlInfo(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function parse_URLMoniker(e){var t=e.read_shift(4),n=e.l,i=!1;t>24&&(e.l+=t-24,"795881f43b1d7f48af2c825dc4852763"===e.read_shift(16)&&(i=!0),e.l=n);var r=e.read_shift((i?t-24:t)>>1,"utf16le").replace(chr0,"");return i&&(e.l+=24),r}function parse_FileMoniker(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var i=e.read_shift(0,"lpstr-ansi");if(e.l+=2,57005!=e.read_shift(2))throw new Error("Bad FileMoniker");if(0===e.read_shift(4))return n+i.replace(/\\/g,"/");var r=e.read_shift(4);if(3!=e.read_shift(2))throw new Error("Bad FileMoniker");return n+e.read_shift(r>>1,"utf16le").replace(chr0,"")}function parse_HyperlinkMoniker(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return parse_URLMoniker(e);case"0303000000000000c000000000000046":return parse_FileMoniker(e);default:throw new Error("Unsupported Moniker "+n)}}function parse_HyperlinkString(e){var t=e.read_shift(4);return t>0?e.read_shift(t,"utf16le").replace(chr0,""):""}function parse_Hyperlink(e,t){var n=e.l+t,i=e.read_shift(4);if(2!==i)throw new Error("Unrecognized streamVersion: "+i);var r=e.read_shift(2);e.l+=2;var s,a,o,l,c,h,d="";16&r&&(s=parse_HyperlinkString(e,n-e.l)),128&r&&(a=parse_HyperlinkString(e,n-e.l)),257==(257&r)&&(o=parse_HyperlinkString(e,n-e.l)),1==(257&r)&&(l=parse_HyperlinkMoniker(e,n-e.l)),8&r&&(d=parse_HyperlinkString(e,n-e.l)),32&r&&(c=e.read_shift(16)),64&r&&(h=parse_FILETIME(e)),e.l=n;var p=a||o||l||"";p&&d&&(p+="#"+d),p||(p="#"+d),2&r&&"/"==p.charAt(0)&&"/"!=p.charAt(1)&&(p="file://"+p);var u={Target:p};return c&&(u.guid=c),h&&(u.time=h),s&&(u.Tooltip=s),u}function parse_LongRGBA(e){return[e.read_shift(1),e.read_shift(1),e.read_shift(1),e.read_shift(1)]}function parse_LongRGB(e,t){var n=parse_LongRGBA(e);return n[3]=0,n}function parse_XLSCell(e){return{r:e.read_shift(2),c:e.read_shift(2),ixfe:e.read_shift(2)}}function parse_frtHeader(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function parse_OptXLUnicodeString(e,t,n){return 0===t?"":parse_XLUnicodeString2(e,t,n)}function parse_XTI(e,t,n){var i=n.biff>8?4:2;return[e.read_shift(i),e.read_shift(i,"i"),e.read_shift(i,"i")]}function parse_RkRec(e){return[e.read_shift(2),parse_RkNumber(e)]}function parse_AddinUdf(e,t,n){e.l+=4,t-=4;var i=e.l+t,r=parse_ShortXLUnicodeString(e,t,n),s=e.read_shift(2);if(s!==(i-=e.l))throw new Error("Malformed AddinUdf: padding = "+i+" != "+s);return e.l+=s,r}function parse_Ref8U(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:n}}}function parse_RefU(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(1),r:t},e:{c:e.read_shift(1),r:n}}}evert(XLMLDocPropsMap);var parse_Ref=parse_RefU;function parse_FtCmo(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return e.l+=12,[n,t,i]}function parse_FtNts(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function parse_FtCf(e){return e.l+=4,e.cf=e.read_shift(2),{}}function parse_FtSkip(e){e.l+=2,e.l+=e.read_shift(2)}var FtTab={0:parse_FtSkip,4:parse_FtSkip,5:parse_FtSkip,6:parse_FtSkip,7:parse_FtCf,8:parse_FtSkip,9:parse_FtSkip,10:parse_FtSkip,11:parse_FtSkip,12:parse_FtSkip,13:parse_FtNts,14:parse_FtSkip,15:parse_FtSkip,16:parse_FtSkip,17:parse_FtSkip,18:parse_FtSkip,19:parse_FtSkip,20:parse_FtSkip,21:parse_FtCmo};function parse_FtArray(e,t){for(var n=e.l+t,i=[];e.l<n;){var r=e.read_shift(2);e.l-=2;try{i.push(FtTab[r](e,n-e.l))}catch(t){return e.l=n,i}}return e.l!=n&&(e.l=n),i}function parse_BOF(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),(t-=2)>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function parse_InterfaceHdr(e,t){return 0===t||e.read_shift(2),1200}function parse_WriteAccess(e,t,n){if(n.enc)return e.l+=t,"";var i=e.l,r=parse_XLUnicodeString2(e,0,n);return e.read_shift(t+i-e.l),r}function parse_WsBool(e,t,n){var i=n&&8==n.biff||2==t?e.read_shift(2):(e.l+=t,0);return{fDialog:16&i,fBelow:64&i,fRight:128&i}}function parse_BoundSheet8(e,t,n){var i=e.read_shift(4),r=3&e.read_shift(1),s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule"}var a=parse_ShortXLUnicodeString(e,0,n);return 0===a.length&&(a="Sheet1"),{pos:i,hs:r,dt:s,name:a}}function parse_SST(e,t){for(var n=e.l+t,i=e.read_shift(4),r=e.read_shift(4),s=[],a=0;a!=r&&e.l<n;++a)s.push(parse_XLUnicodeRichExtendedString(e));return s.Count=i,s.Unique=r,s}function parse_ExtSST(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function parse_Row(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var i=e.read_shift(1);return e.l+=3,7&i&&(t.level=7&i),32&i&&(t.hidden=!0),64&i&&(t.hpt=n/20),t}function parse_ForceFullCalculation(e){var t=parse_frtHeader(e);if(2211!=t.type)throw new Error("Invalid Future Record "+t.type);return 0!==e.read_shift(4)}function parse_RecalcId(e){return e.read_shift(2),e.read_shift(4)}function parse_DefaultRowHeight(e,t,n){var i=0;n&&2==n.biff||(i=e.read_shift(2));var r=e.read_shift(2);return n&&2==n.biff&&(i=1-(r>>15),r&=32767),[{Unsynced:1&i,DyZero:(2&i)>>1,ExAsc:(4&i)>>2,ExDsc:(8&i)>>3},r]}function parse_Window1(e){return{Pos:[e.read_shift(2),e.read_shift(2)],Dim:[e.read_shift(2),e.read_shift(2)],Flags:e.read_shift(2),CurTab:e.read_shift(2),FirstTab:e.read_shift(2),Selected:e.read_shift(2),TabRatio:e.read_shift(2)}}function parse_Window2(e,t,n){return n&&n.biff>=2&&n.biff<5?{}:{RTL:64&e.read_shift(2)}}function parse_Pane(){}function parse_Font(e,t,n){var i={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10}return i.name=parse_ShortXLUnicodeString(e,0,n),i}function parse_LabelSst(e){var t=parse_XLSCell(e);return t.isst=e.read_shift(4),t}function parse_Label(e,t,n){n.biffguess&&2==n.biff&&(n.biff=5);var i=e.l+t,r=parse_XLSCell(e);2==n.biff&&e.l++;var s=parse_XLUnicodeString(e,i-e.l,n);return r.val=s,r}function parse_Format(e,t,n){return[e.read_shift(2),parse_XLUnicodeString2(e,0,n)]}var parse_BIFF2Format=parse_XLUnicodeString2;function parse_Dimensions(e,t,n){var i=e.l+t,r=8!=n.biff&&n.biff?2:4,s=e.read_shift(r),a=e.read_shift(r),o=e.read_shift(2),l=e.read_shift(2);return e.l=i,{s:{r:s,c:o},e:{r:a,c:l}}}function parse_RK(e){var t=e.read_shift(2),n=e.read_shift(2),i=parse_RkRec(e);return{r:t,c:n,ixfe:i[0],rknum:i[1]}}function parse_MulRk(e,t){for(var n=e.l+t-2,i=e.read_shift(2),r=e.read_shift(2),s=[];e.l<n;)s.push(parse_RkRec(e));if(e.l!==n)throw new Error("MulRK read error");var a=e.read_shift(2);if(s.length!=a-r+1)throw new Error("MulRK length mismatch");return{r:i,c:r,C:a,rkrec:s}}function parse_MulBlank(e,t){for(var n=e.l+t-2,i=e.read_shift(2),r=e.read_shift(2),s=[];e.l<n;)s.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var a=e.read_shift(2);if(s.length!=a-r+1)throw new Error("MulBlank length mismatch");return{r:i,c:r,C:a,ixfe:s}}function parse_CellStyleXF(e,t,n,i){var r={},s=e.read_shift(4),a=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return r.patternType=XLSFillPattern[o>>26],i.cellStyles?(r.alc=7&s,r.fWrap=s>>3&1,r.alcV=s>>4&7,r.fJustLast=s>>7&1,r.trot=s>>8&255,r.cIndent=s>>16&15,r.fShrinkToFit=s>>20&1,r.iReadOrder=s>>22&2,r.fAtrNum=s>>26&1,r.fAtrFnt=s>>27&1,r.fAtrAlc=s>>28&1,r.fAtrBdr=s>>29&1,r.fAtrPat=s>>30&1,r.fAtrProt=s>>31&1,r.dgLeft=15&a,r.dgRight=a>>4&15,r.dgTop=a>>8&15,r.dgBottom=a>>12&15,r.icvLeft=a>>16&127,r.icvRight=a>>23&127,r.grbitDiag=a>>30&3,r.icvTop=127&o,r.icvBottom=o>>7&127,r.icvDiag=o>>14&127,r.dgDiag=o>>21&15,r.icvFore=127&l,r.icvBack=l>>7&127,r.fsxButton=l>>14&1,r):r}function parse_XF(e,t,n){var i={};return i.ifnt=e.read_shift(2),i.numFmtId=e.read_shift(2),i.flags=e.read_shift(2),i.fStyle=i.flags>>2&1,t-=6,i.data=parse_CellStyleXF(e,t,i.fStyle,n),i}function parse_Guts(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(0!==t[0]&&t[0]--,0!==t[1]&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function parse_BoolErr(e,t,n){var i=parse_XLSCell(e);2!=n.biff&&9!=t||++e.l;var r=parse_Bes(e);return i.val=r,i.t=!0===r||!1===r?"b":"e",i}function parse_Number(e,t,n){n.biffguess&&2==n.biff&&(n.biff=5);var i=parse_XLSCell(e),r=parse_Xnum(e);return i.val=r,i}var parse_XLHeaderFooter=parse_OptXLUnicodeString;function parse_SupBook(e,t,n){var i=e.l+t,r=e.read_shift(2),s=e.read_shift(2);if(n.sbcch=s,1025==s||14849==s)return[s,r];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=parse_XLUnicodeStringNoCch(e,s),o=[];i>e.l;)o.push(parse_XLUnicodeString(e));return[s,r,a,o]}function parse_ExternName(e,t,n){var i,r=e.read_shift(2),s={fBuiltIn:1&r,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return 14849===n.sbcch&&(i=parse_AddinUdf(e,t-2,n)),s.body=i||e.read_shift(t-2),"string"==typeof i&&(s.Name=i),s}var XLSLblBuiltIn=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function parse_Lbl(e,t,n){var i=e.l+t,r=e.read_shift(2),s=e.read_shift(1),a=e.read_shift(1),o=e.read_shift(n&&2==n.biff?1:2),l=0;(!n||n.biff>=5)&&(5!=n.biff&&(e.l+=2),l=e.read_shift(2),5==n.biff&&(e.l+=2),e.l+=4);var c=parse_XLUnicodeStringNoCch(e,a,n);32&r&&(c=XLSLblBuiltIn[c.charCodeAt(0)]);var h=i-e.l;return n&&2==n.biff&&--h,{chKey:s,Name:c,itab:l,rgce:i!=e.l&&0!==o&&h>0?parse_NameParsedFormula(e,h,n,o):[]}}function parse_ExternSheet(e,t,n){if(n.biff<8)return parse_BIFF5ExternSheet(e,t,n);for(var i=[],r=e.l+t,s=e.read_shift(n.biff>8?4:2);0!=s--;)i.push(parse_XTI(e,n.biff>8?12:6,n));if(e.l!=r)throw new Error("Bad ExternSheet: "+e.l+" != "+r);return i}function parse_BIFF5ExternSheet(e,t,n){3==e[e.l+1]&&e[e.l]++;var i=parse_ShortXLUnicodeString(e,t,n);return 3==i.charCodeAt(0)?i.slice(1):i}function parse_NameCmt(e,t,n){if(!(n.biff<8)){var i=e.read_shift(2),r=e.read_shift(2);return[parse_XLUnicodeStringNoCch(e,i,n),parse_XLUnicodeStringNoCch(e,r,n)]}e.l+=t}function parse_ShrFmla(e,t,n){var i=parse_RefU(e);e.l++;var r=e.read_shift(1);return[parse_SharedParsedFormula(e,t-=8,n),r,i]}function parse_Array(e,t,n){var i=parse_Ref(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[i,parse_ArrayParsedFormula(e,t,n)]}function parse_MTRSettings(e){return[0!==e.read_shift(4),0!==e.read_shift(4),e.read_shift(4)]}function parse_NoteSh(e,t,n){if(!(n.biff<8)){var i=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),o=parse_XLUnicodeString2(e,0,n);return n.biff<8&&e.read_shift(1),[{r:i,c:r},o,a,s]}}function parse_Note(e,t,n){return parse_NoteSh(e,t,n)}function parse_MergeCells(e,t){for(var n=[],i=e.read_shift(2);i--;)n.push(parse_Ref8U(e));return n}function parse_Obj(e,t,n){if(n&&n.biff<8)return parse_BIFF5Obj(e,t,n);var i=parse_FtCmo(e);return{cmo:i,ft:parse_FtArray(e,t-22,i[1])}}var parse_BIFF5OT=[];function parse_BIFF5Obj(e,t,n){e.l+=4;var i=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var a=[];return a.push((parse_BIFF5OT[i]||parsenoop)(e,t,n)),{cmo:[r,i,s],ft:a}}function parse_TxO(e,t,n){var i=e.l,r="";try{e.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1];-1==[0,5,7,11,12,14].indexOf(s)?e.l+=6:parse_ControlInfo(e,6,n);var a=e.read_shift(2);e.read_shift(2),parseuint16(e,2);var o=e.read_shift(2);e.l+=o;for(var l=1;l<e.lens.length-1;++l){if(e.l-i!=e.lens[l])throw new Error("TxO: bad continue record");var c=e[e.l];if((r+=parse_XLUnicodeStringNoCch(e,e.lens[l+1]-e.lens[l]-1)).length>=(c?a:2*a))break}if(r.length!==a&&r.length!==2*a)throw new Error("cchText: "+a+" != "+r.length);return e.l=i+t,{t:r}}catch(n){return e.l=i+t,{t:r}}}function parse_HLink(e,t){var n=parse_Ref8U(e);return e.l+=16,[n,parse_Hyperlink(e,t-24)]}function parse_HLinkTooltip(e,t){e.read_shift(2);var n=parse_Ref8U(e),i=e.read_shift((t-10)/2,"dbcs-cont");return[n,i=i.replace(chr0,"")]}function parse_Country(e){var t,n=[0,0];return t=e.read_shift(2),n[0]=CountryEnum[t]||t,t=e.read_shift(2),n[1]=CountryEnum[t]||t,n}function parse_ClrtClient(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(parse_LongRGB(e));return n}function parse_Palette(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(parse_LongRGB(e));return n}function parse_XFCRC(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function parse_ColInfo(e,t,n){if(!n.cellStyles)return parsenoop(e,t);var i=n&&n.biff>=12?4:2,r=e.read_shift(i),s=e.read_shift(i),a=e.read_shift(i),o=e.read_shift(i),l=e.read_shift(2);2==i&&(e.l+=2);var c={s:r,e:s,w:a,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function parse_Setup(e,t){var n={};return t<32||(e.l+=16,n.header=parse_Xnum(e),n.footer=parse_Xnum(e),e.l+=2),n}function parse_ShtProps(e,t,n){var i={area:!1};if(5!=n.biff)return e.l+=t,i;var r=e.read_shift(1);return e.l+=3,16&r&&(i.area=!0),i}parse_BIFF5OT[8]=function(e,t){var n=e.l+t;e.l+=10;var i=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var r=e.read_shift(1);return e.l+=r,e.l=n,{fmt:i}};var parse_Blank=parse_XLSCell,parse_Scl=parseuint16a,parse_String=parse_XLUnicodeString;function parse_ImData(e){var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(4),r={fmt:t,env:n,len:i,data:e.slice(e.l,e.l+i)};return e.l+=i,r}function parse_BIFF2STR(e,t,n){n.biffguess&&5==n.biff&&(n.biff=2);var i=parse_XLSCell(e);++e.l;var r=parse_XLUnicodeString2(e,t-7,n);return i.t="str",i.val=r,i}function parse_BIFF2NUM(e){var t=parse_XLSCell(e);++e.l;var n=parse_Xnum(e);return t.t="n",t.val=n,t}function parse_BIFF2INT(e){var t=parse_XLSCell(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function parse_BIFF2STRING(e){var t=e.read_shift(1);return 0===t?(e.l++,""):e.read_shift(t,"sbcs-cont")}function parse_BIFF2FONTXTRA(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function parse_RString(e,t,n){var i=e.l+t,r=parse_XLSCell(e),s=e.read_shift(2),a=parse_XLUnicodeStringNoCch(e,s,n);return e.l=i,r.t="str",r.val=a,r}function parse_rpr(e){var t={},n=e.match(tagregex),i=0,r=!1;if(n)for(;i!=n.length;++i){var s=parsexmltag(n[i]);switch(s[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==s.val)break;t.cp=CS2CP[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting"}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if("0"==s.val)break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if("0"==s.val)break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":case"<scheme>":case"<scheme/>":case"</scheme>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(47!==s[0].charCodeAt(1)&&!r)throw new Error("Unrecognized rich format "+s[0])}}return t}!function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=evert({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(t,n){var i=n||{};return i.dateNF||(i.dateNF="yyyymmdd"),aoa_to_sheet(function(t,n){var i=[],r=new_raw_buf(1);switch(n.type){case"base64":r=s2a(Base64.decode(t));break;case"binary":r=s2a(t);break;case"buffer":case"array":r=t}prep_blob(r,0);var s=r.read_shift(1),a=!!(136&s),o=!1,l=!1;switch(s){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:o=!0,a=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+s.toString(16))}var c=0,h=521;2==s&&(c=r.read_shift(2)),r.l+=3,2!=s&&(c=r.read_shift(4)),c>1048576&&(c=1e6),2!=s&&(h=r.read_shift(2));var d=r.read_shift(2),p=n.codepage||1252;2!=s&&(r.l+=16,r.read_shift(1),0!==r[r.l]&&(p=e[r[r.l]]),r.l+=1,r.l+=2),l&&(r.l+=36);for(var u=[],m={},f=Math.min(r.length,2==s?521:h-10-(o?264:0)),g=l?32:11;r.l<f&&13!=r[r.l];)switch((m={}).name=cptable.utils.decode(p,r.slice(r.l,r.l+g)).replace(/[\u0000\r\n].*$/g,""),r.l+=g,m.type=String.fromCharCode(r.read_shift(1)),2==s||l||(m.offset=r.read_shift(4)),m.len=r.read_shift(1),2==s&&(m.offset=r.read_shift(2)),m.dec=r.read_shift(1),m.name.length&&u.push(m),2!=s&&(r.l+=l?13:14),m.type){case"B":o&&8==m.len||!n.WTF||console.log("Skipping "+m.name+":"+m.type);break;case"G":case"P":n.WTF&&console.log("Skipping "+m.name+":"+m.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+m.type)}if(13!==r[r.l]&&(r.l=h-1),13!==r.read_shift(1))throw new Error("DBF Terminator not found "+r.l+" "+r[r.l]);r.l=h;var b=0,y=0;for(i[0]=[],y=0;y!=u.length;++y)i[0][y]=u[y].name;for(;c-- >0;)if(42!==r[r.l])for(++r.l,i[++b]=[],y=0,y=0;y!=u.length;++y){var v=r.slice(r.l,r.l+u[y].len);r.l+=u[y].len,prep_blob(v,0);var x=cptable.utils.decode(p,v);switch(u[y].type){case"C":x.trim().length&&(i[b][y]=x.replace(/\s+$/,""));break;case"D":8===x.length?i[b][y]=new Date(+x.slice(0,4),+x.slice(4,6)-1,+x.slice(6,8)):i[b][y]=x;break;case"F":i[b][y]=parseFloat(x.trim());break;case"+":case"I":i[b][y]=l?2147483648^v.read_shift(-4,"i"):v.read_shift(4,"i");break;case"L":switch(x.trim().toUpperCase()){case"Y":case"T":i[b][y]=!0;break;case"N":case"F":i[b][y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+x+"|")}break;case"M":if(!a)throw new Error("DBF Unexpected MEMO for type "+s.toString(16));i[b][y]="##MEMO##"+(l?parseInt(x.trim(),10):v.read_shift(4));break;case"N":(x=x.replace(/\u0000/g,"").trim())&&"."!=x&&(i[b][y]=+x||0);break;case"@":i[b][y]=new Date(v.read_shift(-8,"f")-621356832e5);break;case"T":i[b][y]=new Date(864e5*(v.read_shift(4)-2440588)+v.read_shift(4));break;case"Y":i[b][y]=v.read_shift(4,"i")/1e4;break;case"O":i[b][y]=-v.read_shift(-8,"f");break;case"B":if(o&&8==u[y].len){i[b][y]=v.read_shift(8,"f");break}case"G":case"P":v.l+=u[y].len;break;case"0":if("_NullFlags"===u[y].name)break;default:throw new Error("DBF Unsupported data type "+u[y].type)}}else r.l+=d;if(2!=s&&r.l<r.length&&26!=r[r.l++])throw new Error("DBF EOF Marker missing "+(r.l-1)+" of "+r.length+" "+r[r.l-1].toString(16));return n&&n.sheetRows&&(i=i.slice(0,n.sheetRows)),i}(t,i),i)}var i={B:8,C:250,L:1,D:8,"?":0,"":0}}(),function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("N("+keys(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(t,n){var i=e[n];return"number"==typeof i?_getansi(i):i},i=function(e,t,n){var i=t.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return 59==i?e:_getansi(i)};function r(e,r){var s,a=e.split(/[\n\r]+/),o=-1,l=-1,c=0,h=0,d=[],p=[],u=null,m={},f=[],g=[],b=[],y=0;for(+r.codepage>=0&&set_cp(+r.codepage);c!==a.length;++c){y=0;var v,x=a[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,i).replace(t,n),w=x.replace(/;;/g,"\0").split(";").map((function(e){return e.replace(/\u0000/g,";")})),O=w[0];if(x.length>0)switch(O){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==w[1].charAt(0)&&p.push(x.slice(3).replace(/;;/g,";"));break;case"C":var S=!1,k=!1,_=!1,A=!1,T=-1,C=-1;for(h=1;h<w.length;++h)switch(w[h].charAt(0)){case"A":case"G":break;case"X":l=parseInt(w[h].slice(1))-1,k=!0;break;case"Y":for(o=parseInt(w[h].slice(1))-1,k||(l=0),s=d.length;s<=o;++s)d[s]=[];break;case"K":'"'===(v=w[h].slice(1)).charAt(0)?v=v.slice(1,v.length-1):"TRUE"===v?v=!0:"FALSE"===v?v=!1:isNaN(fuzzynum(v))?isNaN(fuzzydate(v).getDate())||(v=parseDate(v)):(v=fuzzynum(v),null!==u&&SSF.is_date(u)&&(v=numdate(v))),S=!0;break;case"E":A=!0;var M=rc_to_a1(w[h].slice(1),{r:o,c:l});d[o][l]=[d[o][l],M];break;case"S":_=!0,d[o][l]=[d[o][l],"S5S"];break;case"R":T=parseInt(w[h].slice(1))-1;break;case"C":C=parseInt(w[h].slice(1))-1;break;default:if(r&&r.WTF)throw new Error("SYLK bad record "+x)}if(S&&(d[o][l]&&2==d[o][l].length?d[o][l][0]=v:d[o][l]=v,u=null),_){if(A)throw new Error("SYLK shared formula cannot have own formula");var E=T>-1&&d[T][C];if(!E||!E[1])throw new Error("SYLK shared formula cannot find base");d[o][l][1]=shift_formula_str(E[1],{r:o-T,c:l-C})}break;case"F":var j=0;for(h=1;h<w.length;++h)switch(w[h].charAt(0)){case"X":l=parseInt(w[h].slice(1))-1,++j;break;case"Y":for(o=parseInt(w[h].slice(1))-1,s=d.length;s<=o;++s)d[s]=[];break;case"M":y=parseInt(w[h].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":u=p[parseInt(w[h].slice(1))];break;case"W":for(b=w[h].slice(1).split(" "),s=parseInt(b[0],10);s<=parseInt(b[1],10);++s)y=parseInt(b[2],10),g[s-1]=0===y?{hidden:!0}:{wch:y},process_col(g[s-1]);break;case"C":g[l=parseInt(w[h].slice(1))-1]||(g[l]={});break;case"R":f[o=parseInt(w[h].slice(1))-1]||(f[o]={}),y>0?(f[o].hpt=y,f[o].hpx=pt2px(y)):0===y&&(f[o].hidden=!0);break;default:if(r&&r.WTF)throw new Error("SYLK bad record "+x)}j<1&&(u=null);break;default:if(r&&r.WTF)throw new Error("SYLK bad record "+x)}}return f.length>0&&(m["!rows"]=f),g.length>0&&(m["!cols"]=g),r&&r.sheetRows&&(d=d.slice(0,r.sheetRows)),[d,m]}function s(e,t){var n=function(e,t){switch(t.type){case"base64":return r(Base64.decode(e),t);case"binary":return r(e,t);case"buffer":return r(has_buf&&Buffer.isBuffer(e)?e.toString("binary"):a2s(e),t);case"array":return r(cc2str(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),i=n[0],s=n[1],a=aoa_to_sheet(i,t);return keys(s).forEach((function(e){a[e]=s[e]})),a}function a(e,t,n,i){var r="C;Y"+(n+1)+";X"+(i+1)+";K";switch(e.t){case"n":r+=e.v||0,e.f&&!e.F&&(r+=";E"+a1_to_rc(e.f,{r:n,c:i}));break;case"b":r+=e.v?"TRUE":"FALSE";break;case"e":r+=e.w||e.v;break;case"d":r+='"'+(e.w||e.v)+'"';break;case"s":r+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return r}e["|"]=254}();var parse_rs=function(){var e=matchtag("t"),t=matchtag("rPr");function n(n){var i=n.match(e);if(!i)return{t:"s",v:""};var r={t:"s",v:unescapexml(i[1])},s=n.match(t);return s&&(r.s=parse_rpr(s[1])),r}var i=/<(?:\w+:)?r>/g,r=/<\/(?:\w+:)?r>/;return function(e){return e.replace(i,"").split(r).map(n).filter((function(e){return e.v}))}}(),rs_to_html=function(){var e=/(\r\n|\n)/g;function t(t){var n=[[],t.v,[]];return t.v?(t.s&&function(e,t,n){var i=[];e.u&&i.push("text-decoration: underline;"),e.uval&&i.push("text-underline-style:"+e.uval+";"),e.sz&&i.push("font-size:"+e.sz+"pt;"),e.outline&&i.push("text-effect: outline;"),e.shadow&&i.push("text-shadow: auto;"),t.push('<span style="'+i.join("")+'">'),e.b&&(t.push("<b>"),n.push("</b>")),e.i&&(t.push("<i>"),n.push("</i>")),e.strike&&(t.push("<s>"),n.push("</s>"));var r=e.valign||"";"superscript"==r||"super"==r?r="sup":"subscript"==r&&(r="sub"),""!=r&&(t.push("<"+r+">"),n.push("</"+r+">")),n.push("</span>")}(t.s,n[0],n[2]),n[0].join("")+n[1].replace(e,"<br/>")+n[2].join("")):""}return function(e){return e.map(t).join("")}}(),sitregex=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,sirregex=/<(?:\w+:)?r>/,sirphregex=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function parse_si(e,t){var n=!t||t.cellHTML,i={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(i.t=unescapexml(utf8read(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),i.r=utf8read(e),n&&(i.h=escapehtml(i.t))):e.match(sirregex)&&(i.r=utf8read(e),i.t=unescapexml(utf8read((e.replace(sirphregex,"").match(sitregex)||[]).join("").replace(tagregex,""))),n&&(i.h=rs_to_html(parse_rs(i.r)))),i):{t:""}}function _JS2ANSI(e){for(var t=[],n=e.split(""),i=0;i<n.length;++i)t[i]=n[i].charCodeAt(0);return t}function parse_CRYPTOVersion(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function parse_EncryptionHeader(e,t){var n=e.l+t,i={};i.Flags=63&e.read_shift(4),e.l+=4,i.AlgID=e.read_shift(4);var r=!1;switch(i.AlgID){case 26126:case 26127:case 26128:r=36==i.Flags;break;case 26625:r=4==i.Flags;break;case 0:r=16==i.Flags||4==i.Flags||36==i.Flags;break;default:throw"Unrecognized encryption algorithm: "+i.AlgID}if(!r)throw new Error("Encryption Flags/AlgID mismatch");return i.AlgIDHash=e.read_shift(4),i.KeySize=e.read_shift(4),i.ProviderType=e.read_shift(4),e.l+=8,i.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,i}function parse_EncryptionVerifier(e,t){var n={},i=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,i),e.l=i,n}function parse_RC4CryptoHeader(e,t){var n={},i=n.EncryptionVersionInfo=parse_CRYPTOVersion(e,4);if(t-=4,2!=i.Minor)throw new Error("unrecognized minor version code: "+i.Minor);if(i.Major>4||i.Major<2)throw new Error("unrecognized major version code: "+i.Major);n.Flags=e.read_shift(4),t-=4;var r=e.read_shift(4);return t-=4,n.EncryptionHeader=parse_EncryptionHeader(e,r),t-=r,n.EncryptionVerifier=parse_EncryptionVerifier(e,t),n}function parse_RC4Header(e){var t={},n=t.EncryptionVersionInfo=parse_CRYPTOVersion(e,4);if(1!=n.Major||1!=n.Minor)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function crypto_CreatePasswordVerifier_Method1(e){var t,n,i=0,r=_JS2ANSI(e),s=r.length+1;for((t=new_raw_buf(s))[0]=r.length,n=1;n!=s;++n)t[n]=r[n-1];for(n=s-1;n>=0;--n)i=((0==(16384&i)?0:1)|i<<1&32767)^t[n];return 52811^i}var crypto_CreateXorArray_Method1=(PadArray=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],InitialCode=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],XorMatrix=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],XorRor=function(e,t){return 255&((n=e^t)/2|128*n);var n},function(e){for(var t,n,i,r=_JS2ANSI(e),s=function(e){for(var t=InitialCode[e.length-1],n=104,i=e.length-1;i>=0;--i)for(var r=e[i],s=0;7!=s;++s)64&r&&(t^=XorMatrix[n]),r*=2,--n;return t}(r),a=r.length,o=new_raw_buf(16),l=0;16!=l;++l)o[l]=0;for(1==(1&a)&&(t=s>>8,o[a]=XorRor(PadArray[0],t),--a,t=255&s,n=r[r.length-1],o[a]=XorRor(n,t));a>0;)t=s>>8,o[--a]=XorRor(r[a],t),t=255&s,o[--a]=XorRor(r[a],t);for(a=15,i=15-r.length;i>0;)t=s>>8,o[a]=XorRor(PadArray[i],t),--i,t=255&s,o[--a]=XorRor(r[a],t),--a,--i;return o}),PadArray,InitialCode,XorMatrix,XorRor,crypto_DecryptData_Method1=function(e,t,n,i,r){var s,a;for(r||(r=t),i||(i=crypto_CreateXorArray_Method1(e)),s=0;s!=t.length;++s)a=t[s],a=255&((a^=i[n])>>5|a<<3),r[s]=a,++n;return[r,n,i]},crypto_MakeXorDecryptor=function(e){var t=0,n=crypto_CreateXorArray_Method1(e);return function(e){var i=crypto_DecryptData_Method1("",e,t,n);return t=i[1],i[0]}};function parse_XORObfuscation(e,t,n,i){var r={key:parseuint16(e),verificationBytes:parseuint16(e)};return n.password&&(r.verifier=crypto_CreatePasswordVerifier_Method1(n.password)),i.valid=r.verificationBytes===r.verifier,i.valid&&(i.insitu=crypto_MakeXorDecryptor(n.password)),r}function parse_FilePassHeader(e,t,n){var i=n||{};return i.Info=e.read_shift(2),e.l-=2,1===i.Info?i.Data=parse_RC4Header(e):i.Data=parse_RC4CryptoHeader(e,t),i}function parse_FilePass(e,t,n){var i={Type:n.biff>=8?e.read_shift(2):0};return i.Type?parse_FilePassHeader(e,t-2,i):parse_XORObfuscation(e,n.biff>=8?t:t-2,n,i),i}function hex2RGB(e){var t=e.slice("#"===e[0]?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function rgb2Hex(e){for(var t=0,n=1;3!=t;++t)n=256*n+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function rgb2HSL(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255,r=Math.max(t,n,i),s=Math.min(t,n,i),a=r-s;if(0===a)return[0,0,t];var o,l=0,c=r+s;switch(o=a/(c>1?2-c:c),r){case t:l=((n-i)/a+6)%6;break;case n:l=(i-t)/a+2;break;case i:l=(t-n)/a+4}return[l/6,o,c/2]}function hsl2RGB(e){var t,n=e[0],i=e[1],r=e[2],s=2*i*(r<.5?r:1-r),a=r-s/2,o=[a,a,a],l=6*n;if(0!==i)switch(0|l){case 0:case 6:t=s*l,o[0]+=s,o[1]+=t;break;case 1:t=s*(2-l),o[0]+=t,o[1]+=s;break;case 2:t=s*(l-2),o[1]+=s,o[2]+=t;break;case 3:t=s*(4-l),o[1]+=t,o[2]+=s;break;case 4:t=s*(l-4),o[2]+=s,o[0]+=t;break;case 5:t=s*(6-l),o[2]+=t,o[0]+=s}for(var c=0;3!=c;++c)o[c]=Math.round(255*o[c]);return o}function rgb_tint(e,t){if(0===t)return e;var n=rgb2HSL(hex2RGB(e));return n[2]=t<0?n[2]*(1+t):1-(1-n[2])*(1-t),rgb2Hex(hsl2RGB(n))}var DEF_MDW=6,MDW=DEF_MDW;function width2px(e){return Math.floor((e+Math.round(128/MDW)/256)*MDW)}function px2char(e){return Math.floor((e-5)/MDW*100+.5)/100}function char2width(e){return Math.round((e*MDW+5)/MDW*256)/256}function process_col(e){e.width?(e.wpx=width2px(e.width),e.wch=px2char(e.wpx),e.MDW=MDW):e.wpx?(e.wch=px2char(e.wpx),e.width=char2width(e.wch),e.MDW=MDW):"number"==typeof e.wch&&(e.width=char2width(e.wch),e.wpx=width2px(e.width),e.MDW=MDW),e.customWidth&&delete e.customWidth}var DEF_PPI=96,PPI=DEF_PPI;function px2pt(e){return 96*e/PPI}function pt2px(e){return e*PPI/96}writextag("styleSheet",null,{xmlns:XMLNS.main[0],"xmlns:vt":XMLNS.vt});var XLSBFillPTNames=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];evert(XLSBFillPTNames);var XLSXThemeClrScheme=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function parse_clrScheme(e,t,n){t.themeElements.clrScheme=[];var i={};(e[0].match(tagregex)||[]).forEach((function(e){var r=parsexmltag(e);switch(r[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":i.rgb=r.val;break;case"<a:sysClr":i.rgb=r.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===r[0].charAt(1)?(t.themeElements.clrScheme[XLSXThemeClrScheme.indexOf(r[0])]=i,i={}):i.name=r[0].slice(3,r[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+r[0]+" in clrScheme")}}))}function parse_fontScheme(){}function parse_fmtScheme(){}var clrsregex=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,fntsregex=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,fmtsregex=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function parse_themeElements(e,t,n){var i;t.themeElements={},[["clrScheme",clrsregex,parse_clrScheme],["fontScheme",fntsregex,parse_fontScheme],["fmtScheme",fmtsregex,parse_fmtScheme]].forEach((function(r){if(!(i=e.match(r[1])))throw new Error(r[0]+" not found in themeElements");r[2](i,t,n)}))}var themeltregex=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function parse_theme_xml(e,t){if(!e||0===e.length)return parse_theme_xml(write_theme());var n,i={};if(!(n=e.match(themeltregex)))throw new Error("themeElements not found in theme");return parse_themeElements(n[0],i,t),i.raw=e,i}function write_theme(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var n=[XML_HEADER];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function parse_Theme(e,t,n){var i=e.l+t;if(124226!==e.read_shift(4))if(n.cellStyles){var r,s=e.slice(e.l);e.l=i;try{r=zip_read(s,{type:"array"})}catch(e){return}var a=getzipstr(r,"theme/theme/theme1.xml",!0);if(a)return parse_theme_xml(a,n)}else e.l=i}function parse_ColorTheme(e){return e.read_shift(4)}function parse_FullColorExt(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:case 4:e.l+=4;break;case 1:t.xclrValue=parse_IcvXF(e,4);break;case 2:t.xclrValue=parse_LongRGBA(e);break;case 3:t.xclrValue=parse_ColorTheme(e)}return e.l+=8,t}function parse_IcvXF(e,t){return parsenoop(e,t)}function parse_XFExtGradient(e,t){return parsenoop(e,t)}function parse_ExtProp(e){var t=e.read_shift(2),n=e.read_shift(2)-4,i=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:i[1]=parse_FullColorExt(e);break;case 6:i[1]=parse_XFExtGradient(e,n);break;case 14:case 15:i[1]=e.read_shift(1===n?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return i}function parse_XFExt(e,t){var n=e.l+t;e.l+=2;var i=e.read_shift(2);e.l+=2;for(var r=e.read_shift(2),s=[];r-- >0;)s.push(parse_ExtProp(e,n-e.l));return{ixfe:i,ext:s}}writextag("comments",null,{xmlns:XMLNS.main[0]});var rc_to_a1=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(e,n,i,r){var s=!1,a=!1;0==i.length?a=!0:"["==i.charAt(0)&&(a=!0,i=i.slice(1,-1)),0==r.length?s=!0:"["==r.charAt(0)&&(s=!0,r=r.slice(1,-1));var o=i.length>0?0|parseInt(i,10):0,l=r.length>0?0|parseInt(r,10):0;return s?l+=t.c:--l,a?o+=t.r:--o,n+(s?"":"$")+encode_col(l)+(a?"":"$")+encode_row(o)}return function(i,r){return t=r,i.replace(e,n)}}(),crefregex=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,a1_to_rc=function(e,t){return e.replace(crefregex,(function(e,n,i,r,s,a){var o=decode_col(r)-(i?0:t.c),l=decode_row(a)-(s?0:t.r);return n+"R"+(0==l?"":s?l+1:"["+l+"]")+"C"+(0==o?"":i?o+1:"["+o+"]")}))};function shift_formula_str(e,t){return e.replace(crefregex,(function(e,n,i,r,s,a){return n+("$"==i?i+r:encode_col(decode_col(r)+t.c))+("$"==s?s+a:encode_row(decode_row(a)+t.r))}))}function shift_formula_xlsx(e,t,n){var i=decode_range(t).s,r=decode_cell(n);return shift_formula_str(e,{r:r.r-i.r,c:r.c-i.c})}function _xlfn(e){return e.replace(/_xlfn\./g,"")}function parseread1(e){e.l+=1}function parse_ColRelU(e,t){var n=e.read_shift(1==t?1:2);return[16383&n,n>>14&1,n>>15&1]}function parse_RgceArea(e,t,n){var i=2;if(n){if(n.biff>=2&&n.biff<=5)return parse_RgceArea_BIFF2(e);12==n.biff&&(i=4)}var r=e.read_shift(i),s=e.read_shift(i),a=parse_ColRelU(e,2),o=parse_ColRelU(e,2);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function parse_RgceArea_BIFF2(e){var t=parse_ColRelU(e,2),n=parse_ColRelU(e,2),i=e.read_shift(1),r=e.read_shift(1);return{s:{r:t[0],c:i,cRel:t[1],rRel:t[2]},e:{r:n[0],c:r,cRel:n[1],rRel:n[2]}}}function parse_RgceAreaRel(e,t,n){if(n.biff<8)return parse_RgceArea_BIFF2(e);var i=e.read_shift(12==n.biff?4:2),r=e.read_shift(12==n.biff?4:2),s=parse_ColRelU(e,2),a=parse_ColRelU(e,2);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r,c:a[0],cRel:a[1],rRel:a[2]}}}function parse_RgceLoc(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return parse_RgceLoc_BIFF2(e);var i=e.read_shift(n&&12==n.biff?4:2),r=parse_ColRelU(e,2);return{r:i,c:r[0],cRel:r[1],rRel:r[2]}}function parse_RgceLoc_BIFF2(e){var t=parse_ColRelU(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function parse_RgceElfLoc(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function parse_RgceLocRel(e,t,n){var i=n&&n.biff?n.biff:8;if(i>=2&&i<=5)return parse_RgceLocRel_BIFF2(e);var r=e.read_shift(i>=12?4:2),s=e.read_shift(2),a=(16384&s)>>14,o=(32768&s)>>15;if(s&=16383,1==o)for(;r>524287;)r-=1048576;if(1==a)for(;s>8191;)s-=16384;return{r,c:s,cRel:a,rRel:o}}function parse_RgceLocRel_BIFF2(e){var t=e.read_shift(2),n=e.read_shift(1),i=(32768&t)>>15,r=(16384&t)>>14;return t&=16383,1==i&&t>=8192&&(t-=16384),1==r&&n>=128&&(n-=256),{r:t,c:n,cRel:r,rRel:i}}function parse_PtgArea(e,t,n){return[(96&e[e.l++])>>5,parse_RgceArea(e,n.biff>=2&&n.biff<=5?6:8,n)]}function parse_PtgArea3d(e,t,n){var i=(96&e[e.l++])>>5,r=e.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12}return[i,r,parse_RgceArea(e,s,n)]}function parse_PtgAreaErr(e,t,n){var i=(96&e[e.l++])>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[i]}function parse_PtgAreaErr3d(e,t,n){var i=(96&e[e.l++])>>5,r=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12}return e.l+=s,[i,r]}function parse_PtgAreaN(e,t,n){return[(96&e[e.l++])>>5,parse_RgceAreaRel(e,t-1,n)]}function parse_PtgArray(e,t,n){var i=(96&e[e.l++])>>5;return e.l+=2==n.biff?6:12==n.biff?14:7,[i]}function parse_PtgAttrBaxcel(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function parse_PtgAttrChoose(e,t,n){e.l+=2;for(var i=e.read_shift(n&&2==n.biff?1:2),r=[],s=0;s<=i;++s)r.push(e.read_shift(n&&2==n.biff?1:2));return r}function parse_PtgAttrGoto(e,t,n){var i=255&e[e.l+1]?1:0;return e.l+=2,[i,e.read_shift(n&&2==n.biff?1:2)]}function parse_PtgAttrIf(e,t,n){var i=255&e[e.l+1]?1:0;return e.l+=2,[i,e.read_shift(n&&2==n.biff?1:2)]}function parse_PtgAttrIfError(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}function parse_PtgAttrSemi(e,t,n){var i=255&e[e.l+1]?1:0;return e.l+=n&&2==n.biff?3:4,[i]}function parse_PtgAttrSpaceType(e){return[e.read_shift(1),e.read_shift(1)]}function parse_PtgAttrSpace(e){return e.read_shift(2),parse_PtgAttrSpaceType(e)}function parse_PtgAttrSpaceSemi(e){return e.read_shift(2),parse_PtgAttrSpaceType(e)}function parse_PtgRef(e,t,n){var i=(96&e[e.l])>>5;return e.l+=1,[i,parse_RgceLoc(e,0,n)]}function parse_PtgRefN(e,t,n){var i=(96&e[e.l])>>5;return e.l+=1,[i,parse_RgceLocRel(e,0,n)]}function parse_PtgRef3d(e,t,n){var i=(96&e[e.l])>>5;e.l+=1;var r=e.read_shift(2);return n&&5==n.biff&&(e.l+=12),[i,r,parse_RgceLoc(e,0,n)]}function parse_PtgFunc(e,t,n){var i=(96&e[e.l])>>5;e.l+=1;var r=e.read_shift(n&&n.biff<=3?1:2);return[FtabArgc[r],Ftab[r],i]}function parse_PtgFuncVar(e,t,n){var i=e[e.l++],r=e.read_shift(1),s=n&&n.biff<=3?[88==i?-1:0,e.read_shift(1)]:parsetab(e);return[r,(0===s[0]?Ftab:Cetab)[s[1]]]}function parsetab(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}function parse_PtgAttrSum(e,t,n){e.l+=n&&2==n.biff?3:4}function parse_PtgExp(e,t,n){return e.l++,n&&12==n.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(n&&2==n.biff?1:2)]}function parse_PtgErr(e){return e.l++,BErr[e.read_shift(1)]}function parse_PtgInt(e){return e.l++,e.read_shift(2)}function parse_PtgBool(e){return e.l++,0!==e.read_shift(1)}function parse_PtgNum(e){return e.l++,parse_Xnum(e)}function parse_PtgStr(e,t,n){return e.l++,parse_ShortXLUnicodeString(e,t-1,n)}function parse_SerAr(e,t){var n=[e.read_shift(1)];if(12==t)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=parsebool(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:n[1]=BErr[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:n[1]=parse_Xnum(e);break;case 2:n[1]=parse_XLUnicodeString2(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function parse_PtgExtraMem(e,t,n){for(var i=e.read_shift(12==n.biff?4:2),r=[],s=0;s!=i;++s)r.push((12==n.biff?parse_UncheckedRfX:parse_Ref8U)(e));return r}function parse_PtgExtraArray(e,t,n){var i=0,r=0;12==n.biff?(i=e.read_shift(4),r=e.read_shift(4)):(r=1+e.read_shift(1),i=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--i,0==--r&&(r=256));for(var s=0,a=[];s!=i&&(a[s]=[]);++s)for(var o=0;o!=r;++o)a[s][o]=parse_SerAr(e,n.biff);return a}function parse_PtgName(e,t,n){var i=e.read_shift(1)>>>5&3,r=!n||n.biff>=8?4:2,s=e.read_shift(r);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[i,0,s]}function parse_PtgNameX(e,t,n){return 5==n.biff?parse_PtgNameX_BIFF5(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}function parse_PtgNameX_BIFF5(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var i=e.read_shift(2);return e.l+=12,[t,n,i]}function parse_PtgMemArea(e,t,n){var i=e.read_shift(1)>>>5&3;return e.l+=n&&2==n.biff?3:4,[i,e.read_shift(n&&2==n.biff?1:2)]}function parse_PtgMemFunc(e,t,n){return[e.read_shift(1)>>>5&3,e.read_shift(n&&2==n.biff?1:2)]}function parse_PtgRefErr(e,t,n){var i=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,12==n.biff&&(e.l+=2),[i]}function parse_PtgRefErr3d(e,t,n){var i=(96&e[e.l++])>>5,r=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6}return e.l+=s,[i,r]}var parse_PtgMemErr=parsenoop,parse_PtgMemNoMem=parsenoop,parse_PtgTbl=parsenoop;function parse_PtgElfLoc(e,t,n){return e.l+=2,[parse_RgceElfLoc(e)]}function parse_PtgElfNoop(e){return e.l+=6,[]}var parse_PtgElfCol=parse_PtgElfLoc,parse_PtgElfColS=parse_PtgElfNoop,parse_PtgElfColSV=parse_PtgElfNoop,parse_PtgElfColV=parse_PtgElfLoc;function parse_PtgElfLel(e){return e.l+=2,[parseuint16(e),1&e.read_shift(2)]}var parse_PtgElfRadical=parse_PtgElfLoc,parse_PtgElfRadicalLel=parse_PtgElfLel,parse_PtgElfRadicalS=parse_PtgElfNoop,parse_PtgElfRw=parse_PtgElfLoc,parse_PtgElfRwV=parse_PtgElfLoc,PtgListRT=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function parse_PtgList(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(4),r=e.read_shift(2),s=e.read_shift(2);return{ixti:t,coltype:3&n,rt:PtgListRT[n>>2&31],idx:i,c:r,C:s}}function parse_PtgSxName(e){return e.l+=2,[e.read_shift(4)]}function parse_PtgSheet(e,t,n){return e.l+=5,e.l+=2,e.l+=2==n.biff?1:4,["PTGSHEET"]}function parse_PtgEndSheet(e,t,n){return e.l+=2==n.biff?4:5,["PTGENDSHEET"]}function parse_PtgMemAreaN(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}function parse_PtgMemNoMemN(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}function parse_PtgAttrNoop(e){return e.l+=4,[0,0]}var PtgTypes={1:{n:"PtgExp",f:parse_PtgExp},2:{n:"PtgTbl",f:parse_PtgTbl},3:{n:"PtgAdd",f:parseread1},4:{n:"PtgSub",f:parseread1},5:{n:"PtgMul",f:parseread1},6:{n:"PtgDiv",f:parseread1},7:{n:"PtgPower",f:parseread1},8:{n:"PtgConcat",f:parseread1},9:{n:"PtgLt",f:parseread1},10:{n:"PtgLe",f:parseread1},11:{n:"PtgEq",f:parseread1},12:{n:"PtgGe",f:parseread1},13:{n:"PtgGt",f:parseread1},14:{n:"PtgNe",f:parseread1},15:{n:"PtgIsect",f:parseread1},16:{n:"PtgUnion",f:parseread1},17:{n:"PtgRange",f:parseread1},18:{n:"PtgUplus",f:parseread1},19:{n:"PtgUminus",f:parseread1},20:{n:"PtgPercent",f:parseread1},21:{n:"PtgParen",f:parseread1},22:{n:"PtgMissArg",f:parseread1},23:{n:"PtgStr",f:parse_PtgStr},26:{n:"PtgSheet",f:parse_PtgSheet},27:{n:"PtgEndSheet",f:parse_PtgEndSheet},28:{n:"PtgErr",f:parse_PtgErr},29:{n:"PtgBool",f:parse_PtgBool},30:{n:"PtgInt",f:parse_PtgInt},31:{n:"PtgNum",f:parse_PtgNum},32:{n:"PtgArray",f:parse_PtgArray},33:{n:"PtgFunc",f:parse_PtgFunc},34:{n:"PtgFuncVar",f:parse_PtgFuncVar},35:{n:"PtgName",f:parse_PtgName},36:{n:"PtgRef",f:parse_PtgRef},37:{n:"PtgArea",f:parse_PtgArea},38:{n:"PtgMemArea",f:parse_PtgMemArea},39:{n:"PtgMemErr",f:parse_PtgMemErr},40:{n:"PtgMemNoMem",f:parse_PtgMemNoMem},41:{n:"PtgMemFunc",f:parse_PtgMemFunc},42:{n:"PtgRefErr",f:parse_PtgRefErr},43:{n:"PtgAreaErr",f:parse_PtgAreaErr},44:{n:"PtgRefN",f:parse_PtgRefN},45:{n:"PtgAreaN",f:parse_PtgAreaN},46:{n:"PtgMemAreaN",f:parse_PtgMemAreaN},47:{n:"PtgMemNoMemN",f:parse_PtgMemNoMemN},57:{n:"PtgNameX",f:parse_PtgNameX},58:{n:"PtgRef3d",f:parse_PtgRef3d},59:{n:"PtgArea3d",f:parse_PtgArea3d},60:{n:"PtgRefErr3d",f:parse_PtgRefErr3d},61:{n:"PtgAreaErr3d",f:parse_PtgAreaErr3d},255:{}},PtgDupes={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61};!function(){for(var e in PtgDupes)PtgTypes[e]=PtgTypes[PtgDupes[e]]}();var Ptg18={1:{n:"PtgElfLel",f:parse_PtgElfLel},2:{n:"PtgElfRw",f:parse_PtgElfRw},3:{n:"PtgElfCol",f:parse_PtgElfCol},6:{n:"PtgElfRwV",f:parse_PtgElfRwV},7:{n:"PtgElfColV",f:parse_PtgElfColV},10:{n:"PtgElfRadical",f:parse_PtgElfRadical},11:{n:"PtgElfRadicalS",f:parse_PtgElfRadicalS},13:{n:"PtgElfColS",f:parse_PtgElfColS},15:{n:"PtgElfColSV",f:parse_PtgElfColSV},16:{n:"PtgElfRadicalLel",f:parse_PtgElfRadicalLel},25:{n:"PtgList",f:parse_PtgList},29:{n:"PtgSxName",f:parse_PtgSxName},255:{}},Ptg19={0:{n:"PtgAttrNoop",f:parse_PtgAttrNoop},1:{n:"PtgAttrSemi",f:parse_PtgAttrSemi},2:{n:"PtgAttrIf",f:parse_PtgAttrIf},4:{n:"PtgAttrChoose",f:parse_PtgAttrChoose},8:{n:"PtgAttrGoto",f:parse_PtgAttrGoto},16:{n:"PtgAttrSum",f:parse_PtgAttrSum},32:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},64:{n:"PtgAttrSpace",f:parse_PtgAttrSpace},65:{n:"PtgAttrSpaceSemi",f:parse_PtgAttrSpaceSemi},128:{n:"PtgAttrIfError",f:parse_PtgAttrIfError},255:{}};function parse_RgbExtra(e,t,n,i){if(i.biff<8)return parsenoop(e,t);for(var r=e.l+t,s=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=parse_PtgExtraArray(e,0,i),s.push(n[a][1]);break;case"PtgMemArea":n[a][2]=parse_PtgExtraMem(e,n[a][1],i),s.push(n[a][2]);break;case"PtgExp":i&&12==i.biff&&(n[a][1][1]=e.read_shift(4),s.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return 0!==(t=r-e.l)&&s.push(parsenoop(e,t)),s}function parse_Rgce(e,t,n){for(var i,r,s=e.l+t,a=[];s!=e.l;)t=s-e.l,r=e[e.l],i=PtgTypes[r],24!==r&&25!==r||(i=(24===r?Ptg18:Ptg19)[e[e.l+1]]),i&&i.f?a.push([i.n,i.f(e,t,n)]):parsenoop(e,t);return a}function parse_ArrayParsedFormula(e,t,n){var i,r=e.l+t,s=2==n.biff?1:2,a=e.read_shift(s);if(65535==a)return[[],parsenoop(e,t-2)];var o=parse_Rgce(e,a,n);return t!==a+s&&(i=parse_RgbExtra(e,t-a-s,o,n)),e.l=r,[o,i]}function parse_XLSCellParsedFormula(e,t,n){var i,r=e.l+t,s=2==n.biff?1:2,a=e.read_shift(s);if(65535==a)return[[],parsenoop(e,t-2)];var o=parse_Rgce(e,a,n);return t!==a+s&&(i=parse_RgbExtra(e,t-a-s,o,n)),e.l=r,[o,i]}function parse_NameParsedFormula(e,t,n,i){var r,s=e.l+t,a=parse_Rgce(e,i,n);return s!==e.l&&(r=parse_RgbExtra(e,s-e.l,a,n)),[a,r]}function parse_SharedParsedFormula(e,t,n){var i,r=e.l+t,s=e.read_shift(2),a=parse_Rgce(e,s,n);return 65535==s?[[],parsenoop(e,t-2)]:(t!==s+2&&(i=parse_RgbExtra(e,r-s-2,a,n)),[a,i])}function parse_FormulaValue(e){var t;if(65535!==__readUInt16LE(e,e.l+6))return[parse_Xnum(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=1===e[e.l+2],e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function parse_Formula(e,t,n){var i=e.l+t,r=parse_XLSCell(e);2==n.biff&&++e.l;var s=parse_FormulaValue(e),a=e.read_shift(1);2!=n.biff&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var o=parse_XLSCellParsedFormula(e,i-e.l,n);return{cell:r,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}Ptg19[33]=Ptg19[32];var Cetab={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Ftab={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},FtabArgc={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0},strs={},_ssfopts={},cellregex,rowregex,rregex,isregex,refregex,match_v,match_f;function safe_format(e,t,n,i,r,s){try{i.cellNF&&(e.z=SSF._table[t])}catch(e){if(i.WTF)throw e}if("z"!==e.t||i.cellStyles){if("d"===e.t&&"string"==typeof e.v&&(e.v=parseDate(e.v)),(!i||!1!==i.cellText)&&"z"!==e.t)try{if(null==SSF._table[t]&&SSF.load(SSFImplicit[t]||"General",t),"e"===e.t)e.w=e.w||BErr[e.v];else if(0===t)if("n"===e.t)(0|e.v)===e.v?e.w=SSF._general_int(e.v):e.w=SSF._general_num(e.v);else if("d"===e.t){var a=datenum(e.v);e.w=(0|a)===a?SSF._general_int(a):SSF._general_num(a)}else{if(void 0===e.v)return"";e.w=SSF._general(e.v,_ssfopts)}else"d"===e.t?e.w=SSF.format(t,datenum(e.v),_ssfopts):e.w=SSF.format(t,e.v,_ssfopts)}catch(e){if(i.WTF)throw e}if(i.cellStyles&&null!=n)try{e.s=s.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=rgb_tint(r.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),i.WTF&&(e.s.fgColor.raw_rgb=r.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=rgb_tint(r.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),i.WTF&&(e.s.bgColor.raw_rgb=r.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(e){if(i.WTF&&s.Fills)throw e}}}cellregex=/<(?:\w+:)?c[ \/>]/,rowregex=/<\/(?:\w+:)?row>/,rregex=/r=["']([^"']*)["']/,isregex=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,refregex=/ref=["']([^"']*)["']/,match_v=matchtag("v"),match_f=matchtag("f"),writextag("worksheet",null,{xmlns:XMLNS.main[0],"xmlns:r":XMLNS.r}),writextag("chartsheet",null,{xmlns:XMLNS.main[0],"xmlns:r":XMLNS.r});var badchars="][*?/\\".split("");function check_ws_name(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return badchars.forEach((function(i){if(-1!=e.indexOf(i)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}})),n}writextag("workbook",null,{xmlns:XMLNS.main[0],"xmlns:r":XMLNS.r});var XLSRecordEnum={6:{n:"Formula",f:parse_Formula},10:{n:"EOF",f:parsenoop2},12:{n:"CalcCount",f:parseuint16},13:{n:"CalcMode",f:parseuint16},14:{n:"CalcPrecision",f:parsebool},15:{n:"CalcRefMode",f:parsebool},16:{n:"CalcDelta",f:parse_Xnum},17:{n:"CalcIter",f:parsebool},18:{n:"Protect",f:parsebool},19:{n:"Password",f:parseuint16},20:{n:"Header",f:parse_XLHeaderFooter},21:{n:"Footer",f:parse_XLHeaderFooter},23:{n:"ExternSheet",f:parse_ExternSheet},24:{n:"Lbl",f:parse_Lbl},25:{n:"WinProtect",f:parsebool},26:{n:"VerticalPageBreaks"},27:{n:"HorizontalPageBreaks"},28:{n:"Note",f:parse_Note},29:{n:"Selection"},34:{n:"Date1904",f:parsebool},35:{n:"ExternName",f:parse_ExternName},38:{n:"LeftMargin",f:parse_Xnum},39:{n:"RightMargin",f:parse_Xnum},40:{n:"TopMargin",f:parse_Xnum},41:{n:"BottomMargin",f:parse_Xnum},42:{n:"PrintRowCol",f:parsebool},43:{n:"PrintGrid",f:parsebool},47:{n:"FilePass",f:parse_FilePass},49:{n:"Font",f:parse_Font},51:{n:"PrintSize",f:parseuint16},60:{n:"Continue"},61:{n:"Window1",f:parse_Window1},64:{n:"Backup",f:parsebool},65:{n:"Pane",f:parse_Pane},66:{n:"CodePage",f:parseuint16},77:{n:"Pls"},80:{n:"DCon"},81:{n:"DConRef"},82:{n:"DConName"},85:{n:"DefColWidth",f:parseuint16},89:{n:"XCT"},90:{n:"CRN"},91:{n:"FileSharing"},92:{n:"WriteAccess",f:parse_WriteAccess},93:{n:"Obj",f:parse_Obj},94:{n:"Uncalced"},95:{n:"CalcSaveRecalc",f:parsebool},96:{n:"Template"},97:{n:"Intl"},99:{n:"ObjProtect",f:parsebool},125:{n:"ColInfo",f:parse_ColInfo},128:{n:"Guts",f:parse_Guts},129:{n:"WsBool",f:parse_WsBool},130:{n:"GridSet",f:parseuint16},131:{n:"HCenter",f:parsebool},132:{n:"VCenter",f:parsebool},133:{n:"BoundSheet8",f:parse_BoundSheet8},134:{n:"WriteProtect"},140:{n:"Country",f:parse_Country},141:{n:"HideObj",f:parseuint16},144:{n:"Sort"},146:{n:"Palette",f:parse_Palette},151:{n:"Sync"},152:{n:"LPr"},153:{n:"DxGCol"},154:{n:"FnGroupName"},155:{n:"FilterMode"},156:{n:"BuiltInFnGroupCount",f:parseuint16},157:{n:"AutoFilterInfo"},158:{n:"AutoFilter"},160:{n:"Scl",f:parse_Scl},161:{n:"Setup",f:parse_Setup},174:{n:"ScenMan"},175:{n:"SCENARIO"},176:{n:"SxView"},177:{n:"Sxvd"},178:{n:"SXVI"},180:{n:"SxIvd"},181:{n:"SXLI"},182:{n:"SXPI"},184:{n:"DocRoute"},185:{n:"RecipName"},189:{n:"MulRk",f:parse_MulRk},190:{n:"MulBlank",f:parse_MulBlank},193:{n:"Mms",f:parsenoop2},197:{n:"SXDI"},198:{n:"SXDB"},199:{n:"SXFDB"},200:{n:"SXDBB"},201:{n:"SXNum"},202:{n:"SxBool",f:parsebool},203:{n:"SxErr"},204:{n:"SXInt"},205:{n:"SXString"},206:{n:"SXDtr"},207:{n:"SxNil"},208:{n:"SXTbl"},209:{n:"SXTBRGIITM"},210:{n:"SxTbpg"},211:{n:"ObProj"},213:{n:"SXStreamID"},215:{n:"DBCell"},216:{n:"SXRng"},217:{n:"SxIsxoper"},218:{n:"BookBool",f:parseuint16},220:{n:"DbOrParamQry"},221:{n:"ScenarioProtect",f:parsebool},222:{n:"OleObjectSize"},224:{n:"XF",f:parse_XF},225:{n:"InterfaceHdr",f:parse_InterfaceHdr},226:{n:"InterfaceEnd",f:parsenoop2},227:{n:"SXVS"},229:{n:"MergeCells",f:parse_MergeCells},233:{n:"BkHim"},235:{n:"MsoDrawingGroup"},236:{n:"MsoDrawing"},237:{n:"MsoDrawingSelection"},239:{n:"PhoneticInfo"},240:{n:"SxRule"},241:{n:"SXEx"},242:{n:"SxFilt"},244:{n:"SxDXF"},245:{n:"SxItm"},246:{n:"SxName"},247:{n:"SxSelect"},248:{n:"SXPair"},249:{n:"SxFmla"},251:{n:"SxFormat"},252:{n:"SST",f:parse_SST},253:{n:"LabelSst",f:parse_LabelSst},255:{n:"ExtSST",f:parse_ExtSST},256:{n:"SXVDEx"},259:{n:"SXFormula"},290:{n:"SXDBEx"},311:{n:"RRDInsDel"},312:{n:"RRDHead"},315:{n:"RRDChgCell"},317:{n:"RRTabId",f:parseuint16a},318:{n:"RRDRenSheet"},319:{n:"RRSort"},320:{n:"RRDMove"},330:{n:"RRFormat"},331:{n:"RRAutoFmt"},333:{n:"RRInsertSh"},334:{n:"RRDMoveBegin"},335:{n:"RRDMoveEnd"},336:{n:"RRDInsDelBegin"},337:{n:"RRDInsDelEnd"},338:{n:"RRDConflict"},339:{n:"RRDDefName"},340:{n:"RRDRstEtxp"},351:{n:"LRng"},352:{n:"UsesELFs",f:parsebool},353:{n:"DSF",f:parsenoop2},401:{n:"CUsr"},402:{n:"CbUsr"},403:{n:"UsrInfo"},404:{n:"UsrExcl"},405:{n:"FileLock"},406:{n:"RRDInfo"},407:{n:"BCUsrs"},408:{n:"UsrChk"},425:{n:"UserBView"},426:{n:"UserSViewBegin"},427:{n:"UserSViewEnd"},428:{n:"RRDUserView"},429:{n:"Qsi"},430:{n:"SupBook",f:parse_SupBook},431:{n:"Prot4Rev",f:parsebool},432:{n:"CondFmt"},433:{n:"CF"},434:{n:"DVal"},437:{n:"DConBin"},438:{n:"TxO",f:parse_TxO},439:{n:"RefreshAll",f:parsebool},440:{n:"HLink",f:parse_HLink},441:{n:"Lel"},442:{n:"CodeName",f:parse_XLUnicodeString},443:{n:"SXFDBType"},444:{n:"Prot4RevPass",f:parseuint16},445:{n:"ObNoMacros"},446:{n:"Dv"},448:{n:"Excel9File",f:parsenoop2},449:{n:"RecalcId",f:parse_RecalcId,r:2},450:{n:"EntExU2",f:parsenoop2},512:{n:"Dimensions",f:parse_Dimensions},513:{n:"Blank",f:parse_Blank},515:{n:"Number",f:parse_Number},516:{n:"Label",f:parse_Label},517:{n:"BoolErr",f:parse_BoolErr},519:{n:"String",f:parse_String},520:{n:"Row",f:parse_Row},523:{n:"Index"},545:{n:"Array",f:parse_Array},549:{n:"DefaultRowHeight",f:parse_DefaultRowHeight},566:{n:"Table"},574:{n:"Window2",f:parse_Window2},638:{n:"RK",f:parse_RK},659:{n:"Style"},1048:{n:"BigName"},1054:{n:"Format",f:parse_Format},1084:{n:"ContinueBigName"},1212:{n:"ShrFmla",f:parse_ShrFmla},2048:{n:"HLinkTooltip",f:parse_HLinkTooltip},2049:{n:"WebPub"},2050:{n:"QsiSXTag"},2051:{n:"DBQueryExt"},2052:{n:"ExtString"},2053:{n:"TxtQry"},2054:{n:"Qsir"},2055:{n:"Qsif"},2056:{n:"RRDTQSIF"},2057:{n:"BOF",f:parse_BOF},2058:{n:"OleDbConn"},2059:{n:"WOpt"},2060:{n:"SXViewEx"},2061:{n:"SXTH"},2062:{n:"SXPIEx"},2063:{n:"SXVDTEx"},2064:{n:"SXViewEx9"},2066:{n:"ContinueFrt"},2067:{n:"RealTimeData"},2128:{n:"ChartFrtInfo"},2129:{n:"FrtWrapper"},2130:{n:"StartBlock"},2131:{n:"EndBlock"},2132:{n:"StartObject"},2133:{n:"EndObject"},2134:{n:"CatLab"},2135:{n:"YMult"},2136:{n:"SXViewLink"},2137:{n:"PivotChartBits"},2138:{n:"FrtFontList"},2146:{n:"SheetExt"},2147:{n:"BookExt",r:12},2148:{n:"SXAddl"},2149:{n:"CrErr"},2150:{n:"HFPicture"},2151:{n:"FeatHdr",f:parsenoop2},2152:{n:"Feat"},2154:{n:"DataLabExt"},2155:{n:"DataLabExtContents"},2156:{n:"CellWatch"},2161:{n:"FeatHdr11"},2162:{n:"Feature11"},2164:{n:"DropDownObjIds"},2165:{n:"ContinueFrt11"},2166:{n:"DConn"},2167:{n:"List12"},2168:{n:"Feature12"},2169:{n:"CondFmt12"},2170:{n:"CF12"},2171:{n:"CFEx"},2172:{n:"XFCRC",f:parse_XFCRC,r:12},2173:{n:"XFExt",f:parse_XFExt,r:12},2174:{n:"AutoFilter12"},2175:{n:"ContinueFrt12"},2180:{n:"MDTInfo"},2181:{n:"MDXStr"},2182:{n:"MDXTuple"},2183:{n:"MDXSet"},2184:{n:"MDXProp"},2185:{n:"MDXKPI"},2186:{n:"MDB"},2187:{n:"PLV"},2188:{n:"Compat12",f:parsebool,r:12},2189:{n:"DXF"},2190:{n:"TableStyles",r:12},2191:{n:"TableStyle"},2192:{n:"TableStyleElement"},2194:{n:"StyleExt"},2195:{n:"NamePublish"},2196:{n:"NameCmt",f:parse_NameCmt,r:12},2197:{n:"SortData"},2198:{n:"Theme",f:parse_Theme,r:12},2199:{n:"GUIDTypeLib"},2200:{n:"FnGrp12"},2201:{n:"NameFnGrp12"},2202:{n:"MTRSettings",f:parse_MTRSettings,r:12},2203:{n:"CompressPictures",f:parsenoop2},2204:{n:"HeaderFooter"},2205:{n:"CrtLayout12"},2206:{n:"CrtMlFrt"},2207:{n:"CrtMlFrtContinue"},2211:{n:"ForceFullCalculation",f:parse_ForceFullCalculation},2212:{n:"ShapePropsStream"},2213:{n:"TextPropsStream"},2214:{n:"RichTextStream"},2215:{n:"CrtLayout12A"},4097:{n:"Units"},4098:{n:"Chart"},4099:{n:"Series"},4102:{n:"DataFormat"},4103:{n:"LineFormat"},4105:{n:"MarkerFormat"},4106:{n:"AreaFormat"},4107:{n:"PieFormat"},4108:{n:"AttachedLabel"},4109:{n:"SeriesText"},4116:{n:"ChartFormat"},4117:{n:"Legend"},4118:{n:"SeriesList"},4119:{n:"Bar"},4120:{n:"Line"},4121:{n:"Pie"},4122:{n:"Area"},4123:{n:"Scatter"},4124:{n:"CrtLine"},4125:{n:"Axis"},4126:{n:"Tick"},4127:{n:"ValueRange"},4128:{n:"CatSerRange"},4129:{n:"AxisLine"},4130:{n:"CrtLink"},4132:{n:"DefaultText"},4133:{n:"Text"},4134:{n:"FontX",f:parseuint16},4135:{n:"ObjectLink"},4146:{n:"Frame"},4147:{n:"Begin"},4148:{n:"End"},4149:{n:"PlotArea"},4154:{n:"Chart3d"},4156:{n:"PicF"},4157:{n:"DropBar"},4158:{n:"Radar"},4159:{n:"Surf"},4160:{n:"RadarArea"},4161:{n:"AxisParent"},4163:{n:"LegendException"},4164:{n:"ShtProps",f:parse_ShtProps},4165:{n:"SerToCrt"},4166:{n:"AxesUsed"},4168:{n:"SBaseRef"},4170:{n:"SerParent"},4171:{n:"SerAuxTrend"},4174:{n:"IFmtRecord"},4175:{n:"Pos"},4176:{n:"AlRuns"},4177:{n:"BRAI"},4187:{n:"SerAuxErrBar"},4188:{n:"ClrtClient",f:parse_ClrtClient},4189:{n:"SerFmt"},4191:{n:"Chart3DBarShape"},4192:{n:"Fbi"},4193:{n:"BopPop"},4194:{n:"AxcExt"},4195:{n:"Dat"},4196:{n:"PlotGrowth"},4197:{n:"SIIndex"},4198:{n:"GelFrame"},4199:{n:"BopPopCustom"},4200:{n:"Fbi2"},0:{n:"Dimensions",f:parse_Dimensions},1:{n:"BIFF2BLANK"},2:{n:"BIFF2INT",f:parse_BIFF2INT},3:{n:"BIFF2NUM",f:parse_BIFF2NUM},4:{n:"BIFF2STR",f:parse_BIFF2STR},5:{n:"BoolErr",f:parse_BoolErr},7:{n:"String",f:parse_BIFF2STRING},8:{n:"BIFF2ROW"},9:{n:"BOF",f:parse_BOF},11:{n:"Index"},22:{n:"ExternCount",f:parseuint16},30:{n:"BIFF2FORMAT",f:parse_BIFF2Format},31:{n:"BIFF2FMTCNT"},32:{n:"BIFF2COLINFO"},33:{n:"Array",f:parse_Array},36:{n:"COLWIDTH"},37:{n:"DefaultRowHeight",f:parse_DefaultRowHeight},50:{n:"BIFF2FONTXTRA",f:parse_BIFF2FONTXTRA},62:{n:"BIFF2WINDOW2"},52:{n:"DDEObjName"},67:{n:"BIFF2XF"},68:{n:"BIFF2XFINDEX",f:parseuint16},69:{n:"BIFF2FONTCLR"},86:{n:"BIFF4FMTCNT"},126:{n:"RK"},127:{n:"ImData",f:parse_ImData},135:{n:"Addin"},136:{n:"Edg"},137:{n:"Pub"},145:{n:"Sub"},148:{n:"LHRecord"},149:{n:"LHNGraph"},150:{n:"Sound"},169:{n:"CoordList"},171:{n:"GCW"},188:{n:"ShrFmla"},191:{n:"ToolbarHdr"},192:{n:"ToolbarEnd"},194:{n:"AddMenu"},195:{n:"DelMenu"},214:{n:"RString",f:parse_RString},223:{n:"UDDesc"},234:{n:"TabIdConf"},354:{n:"XL5Modify"},421:{n:"FileSharing2"},518:{n:"Formula",f:parse_Formula},521:{n:"BOF",f:parse_BOF},536:{n:"Lbl",f:parse_Lbl},547:{n:"ExternName",f:parse_ExternName},561:{n:"Font"},579:{n:"BIFF3XF"},1030:{n:"Formula",f:parse_Formula},1033:{n:"BOF",f:parse_BOF},1091:{n:"BIFF4XF"},2157:{n:"FeatInfo"},2163:{n:"FeatInfo11"},2177:{n:"SXAddl12"},2240:{n:"AutoWebPub"},2241:{n:"ListObj"},2242:{n:"ListField"},2243:{n:"ListDV"},2244:{n:"ListCondFmt"},2245:{n:"ListCF"},2246:{n:"FMQry"},2247:{n:"FMSQry"},2248:{n:"PLV"},2249:{n:"LnExt"},2250:{n:"MkrExt"},2251:{n:"CrtCoopt"},2262:{n:"FRTArchId$",r:12},29282:{}};evert_key(XLSRecordEnum,"n");var HTML_=function(){function e(e,t){var n=t||{},i=n.dense?[]:{},r=(e=e.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!r)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),a=r.index,o=s&&s.index||e.length,l=split_regex(e.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,h=0,d=0,p=0,u={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(a=0;a<l.length;++a){var f=l[a].trim(),g=f.slice(0,3).toLowerCase();if("<tr"!=g){if("<td"==g||"<th"==g){var b=f.split(/<\/t[dh]>/i);for(o=0;o<b.length;++o){var y=b[o].trim();if(y.match(/<t[dh]/i)){for(var v=y,x=0;"<"==v.charAt(0)&&(x=v.indexOf(">"))>-1;)v=v.slice(x+1);for(var w=0;w<m.length;++w){var O=m[w];O.s.c==h&&O.s.r<c&&c<=O.e.r&&(h=O.e.c+1,w=-1)}var S=parsexmltag(y.slice(0,y.indexOf(">")));p=S.colspan?+S.colspan:1,((d=+S.rowspan)>1||p>1)&&m.push({s:{r:c,c:h},e:{r:c+(d||1)-1,c:h+p-1}});var k=S.t||S["data-t"]||"";if(v.length){if(v=htmldecode(v),u.s.r>c&&(u.s.r=c),u.e.r<c&&(u.e.r=c),u.s.c>h&&(u.s.c=h),u.e.c<h&&(u.e.c=h),v.length){var _={t:"s",v};n.raw||!v.trim().length||"s"==k||("TRUE"===v?_={t:"b",v:!0}:"FALSE"===v?_={t:"b",v:!1}:isNaN(fuzzynum(v))?isNaN(fuzzydate(v).getDate())||(_={t:"d",v:parseDate(v)},n.cellDates||(_={t:"n",v:datenum(_.v)}),_.z=n.dateNF||SSF._table[14]):_={t:"n",v:fuzzynum(v)}),n.dense?(i[c]||(i[c]=[]),i[c][h]=_):i[encode_cell({r:c,c:h})]=_,h+=p}}else h+=p}}}}else{if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}h=0}}return i["!ref"]=encode_range(u),m.length&&(i["!merges"]=m),i}function t(e,t,n,i){for(var r=e["!merges"]||[],s=[],a=t.s.c;a<=t.e.c;++a){for(var o=0,l=0,c=0;c<r.length;++c)if(!(r[c].s.r>n||r[c].s.c>a||r[c].e.r<n||r[c].e.c<a)){if(r[c].s.r<n||r[c].s.c<a){o=-1;break}o=r[c].e.r-r[c].s.r+1,l=r[c].e.c-r[c].s.c+1;break}if(!(o<0)){var h=encode_cell({r:n,c:a}),d=i.dense?(e[n]||[])[a]:e[h],p=d&&null!=d.v&&(d.h||escapehtml(d.w||(format_cell(d),d.w)||""))||"",u={};o>1&&(u.rowspan=o),l>1&&(u.colspan=l),i.editable?p='<span contenteditable="true">'+p+"</span>":d&&(u["data-t"]=d&&d.t||"z",null!=d.v&&(u["data-v"]=d.v),null!=d.z&&(u["data-z"]=d.z),d.l&&"#"!=(d.l.Target||"#").charAt(0)&&(p='<a href="'+d.l.Target+'">'+p+"</a>")),u.id=(i.id||"sjs")+"-"+h,s.push(writextag("td",p,u))}}return"<tr>"+s.join("")+"</tr>"}function n(e,t,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}var i='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',r="</body></html>";return{to_workbook:function(t,n){var i=t.match(/<table.*?>[\s\S]*?<\/table>/gi);if(!i||0==i.length)throw new Error("Invalid HTML: could not find <table>");if(1==i.length)return sheet_to_workbook(e(i[0],n),n);var r=utils$1.book_new();return i.forEach((function(t,i){utils$1.book_append_sheet(r,e(t,n),"Sheet"+(i+1))})),r},to_sheet:e,_row:t,BEGIN:i,END:r,_preamble:n,from_sheet:function(e,s){var a=s||{},o=null!=a.header?a.header:i,l=null!=a.footer?a.footer:r,c=[o],h=decode_range(e["!ref"]);a.dense=Array.isArray(e),c.push(n(0,0,a));for(var d=h.s.r;d<=h.e.r;++d)c.push(t(e,h,d,a));return c.push("</table>"+l),c.join("")}}}(),master_styles,payload;function sheet_add_dom(e,t,n){var i=n||{},r=0,s=0;if(null!=i.origin)if("number"==typeof i.origin)r=i.origin;else{var a="string"==typeof i.origin?decode_cell(i.origin):i.origin;r=a.r,s=a.c}var o=t.getElementsByTagName("tr"),l=Math.min(i.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r,c:s}};if(e["!ref"]){var h=decode_range(e["!ref"]);c.s.r=Math.min(c.s.r,h.s.r),c.s.c=Math.min(c.s.c,h.s.c),c.e.r=Math.max(c.e.r,h.e.r),c.e.c=Math.max(c.e.c,h.e.c),-1==r&&(c.e.r=r=h.e.r+1)}var d=[],p=0,u=e["!rows"]||(e["!rows"]=[]),m=0,f=0,g=0,b=0,y=0,v=0;for(e["!cols"]||(e["!cols"]=[]);m<o.length&&f<l;++m){var x=o[m];if(is_dom_element_hidden(x)){if(i.display)continue;u[f]={hidden:!0}}var w=x.children;for(g=b=0;g<w.length;++g){var O=w[g];if(!i.display||!is_dom_element_hidden(O)){var S=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):htmldecode(O.innerHTML),k=O.getAttribute("data-z")||O.getAttribute("z");for(p=0;p<d.length;++p){var _=d[p];_.s.c==b+s&&_.s.r<f+r&&f+r<=_.e.r&&(b=_.e.c+1-s,p=-1)}v=+O.getAttribute("colspan")||1,((y=+O.getAttribute("rowspan")||1)>1||v>1)&&d.push({s:{r:f+r,c:b+s},e:{r:f+r+(y||1)-1,c:b+s+(v||1)-1}});var A={t:"s",v:S},T=O.getAttribute("data-t")||O.getAttribute("t")||"";null!=S&&(0==S.length?A.t=T||"z":i.raw||0==S.trim().length||"s"==T||("TRUE"===S?A={t:"b",v:!0}:"FALSE"===S?A={t:"b",v:!1}:isNaN(fuzzynum(S))?isNaN(fuzzydate(S).getDate())||(A={t:"d",v:parseDate(S)},i.cellDates||(A={t:"n",v:datenum(A.v)}),A.z=i.dateNF||SSF._table[14]):A={t:"n",v:fuzzynum(S)})),void 0===A.z&&null!=k&&(A.z=k);var C="",M=O.getElementsByTagName("A");if(M&&M.length)for(var E=0;E<M.length&&(!M[E].hasAttribute("href")||"#"==(C=M[E].getAttribute("href")).charAt(0));++E);C&&"#"!=C.charAt(0)&&(A.l={Target:C}),i.dense?(e[f+r]||(e[f+r]=[]),e[f+r][b+s]=A):e[encode_cell({c:b+s,r:f+r})]=A,c.e.c<b+s&&(c.e.c=b+s),b+=v}}++f}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,f-1+r),e["!ref"]=encode_range(c),f>=l&&(e["!fullref"]=encode_range((c.e.r=o.length-m+f-1+r,c))),e}function parse_dom_table(e,t){return sheet_add_dom((t||{}).dense?[]:{},e,t)}function table_to_book(e,t){return sheet_to_workbook(parse_dom_table(e,t),t)}function is_dom_element_hidden(e){var t="",n=get_get_computed_style_function(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}function get_get_computed_style_function(e){return e.ownerDocument.defaultView&&"function"==typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}function make_json_row(e,t,n,i,r,s,a,o){var l=encode_row(n),c=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,p=1===r?[]:{};if(1!==r)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch(e){p.__rowNum__=n}else p.__rowNum__=n;if(!a||e[n])for(var u=t.s.c;u<=t.e.c;++u){var m=a?e[n][u]:e[i[u]+l];if(void 0!==m&&void 0!==m.t){var f=m.v;switch(m.t){case"z":if(null==f)break;continue;case"e":f=0==f?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(null!=s[u]){if(null==f)if("e"==m.t&&null===f)p[s[u]]=null;else if(void 0!==c)p[s[u]]=c;else{if(!h||null!==f)continue;p[s[u]]=null}else p[s[u]]=h||o.rawNumbers&&"n"==m.t?f:format_cell(m,f,o);null!=f&&(d=!1)}}else{if(void 0===c)continue;null!=s[u]&&(p[s[u]]=c)}}return{row:p,isempty:d}}function sheet_to_json(e,t){if(null==e||null==e["!ref"])return[];var n={t:"n",v:0},i=0,r=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},h=null!=c.range?c.range:e["!ref"];switch(1===c.header?i=1:"A"===c.header?i=2:Array.isArray(c.header)?i=3:null==c.header&&(i=0),typeof h){case"string":l=safe_decode_range(h);break;case"number":(l=safe_decode_range(e["!ref"])).s.r=h;break;default:l=h}i>0&&(r=0);var d=encode_row(l.s.r),p=[],u=[],m=0,f=0,g=Array.isArray(e),b=l.s.r,y=0,v=0;for(g&&!e[b]&&(e[b]=[]),y=l.s.c;y<=l.e.c;++y)switch(p[y]=encode_col(y),n=g?e[b][y]:e[p[y]+d],i){case 1:s[y]=y-l.s.c;break;case 2:s[y]=p[y];break;case 3:s[y]=c.header[y-l.s.c];break;default:for(null==n&&(n={w:"__EMPTY",t:"s"}),o=a=format_cell(n,null,c),f=0,v=0;v<s.length;++v)s[v]==o&&(o=a+"_"+ ++f);s[y]=o}for(b=l.s.r+r;b<=l.e.r;++b){var x=make_json_row(e,l,b,p,i,s,g,c);(!1===x.isempty||(1===i?!1!==c.blankrows:c.blankrows))&&(u[m++]=x.row)}return u.length=m,u}master_styles=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),payload="<office:document-styles "+wxt_helper({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+master_styles+"</office:document-styles>",Object.defineProperty&&function(){var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,r=function(r){return function(s,a){return r&&r.get(s)||(a=function(r,s,a,o){if(s&&"object"==typeof s||"function"==typeof s)for(var l,c=n(s),h=0,d=c.length;h<d;h++)l=c[h],i.call(r,l)||!a&&"default"===l||e(r,l,{get:function(e){return s[e]}.bind(null,l),enumerable:!(o=t(s,l))||o.enumerable});return r}(e({},"__esModule",{value:!0}),s,1),r&&r.set(s,a),a)}}("undefined"!=typeof WeakMap?new WeakMap:0),s={};!function(t,n){for(var i in n)e(t,i,{get:n[i],enumerable:!0})}(s,{parse_numbers:function(){return y}});var a=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},o=function(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):utf8read(a2s(e))},l=function(e){var t=e.reduce((function(e,t){return e+t.length}),0),n=new Uint8Array(t),i=0;return e.forEach((function(e){n.set(e,i),i+=e.length})),n},c=function(e){return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>>24};function h(e,t){var n=t?t[0]:0,i=127&e[n];e:if(e[n++]>=128){if(i|=(127&e[n])<<7,e[n++]<128)break e;if(i|=(127&e[n])<<14,e[n++]<128)break e;if(i|=(127&e[n])<<21,e[n++]<128)break e;if(i+=(127&e[n])*Math.pow(2,28),++n,e[n++]<128)break e;if(i+=(127&e[n])*Math.pow(2,35),++n,e[n++]<128)break e;if(i+=(127&e[n])*Math.pow(2,42),++n,e[n++]<128)break e}return t&&(t[0]=n),i}function d(e){var t=0,n=127&e[t];e:if(e[t++]>=128){if(n|=(127&e[t])<<7,e[t++]<128)break e;if(n|=(127&e[t])<<14,e[t++]<128)break e;if(n|=(127&e[t])<<21,e[t++]<128)break e;n|=(127&e[t])<<28}return n}function p(e){for(var t=[],n=[0];n[0]<e.length;){var i,r=n[0],s=h(e,n),a=7&s,o=0;if(0==(s=Math.floor(s/8)))break;switch(a){case 0:for(var l=n[0];e[n[0]++]>=128;);i=e.slice(l,n[0]);break;case 5:o=4,i=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,i=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=h(e,n),i=e.slice(n[0],n[0]+o),n[0]+=o;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(r))}var c={offset:r,data:i,type:a};null==t[s]?t[s]=[c]:t[s].push(c)}return t}function u(e,t){return e?e.map((function(e){var n;try{return t(e.data)}catch(t){var i=null==(n=t.message)?void 0:n.match(/at offset (\d+)/);throw i&&(t.message=t.message.replace(/at offset (\d+)/,"at offset "+(+i[1]+e.offset))),t}})):[]}function m(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],i=h(t,n),r=[];n[0]<t.length;){var s=3&t[n[0]];if(0!=s){var a=0,o=0;if(1==s?(o=4+(t[n[0]]>>2&7),a=(224&t[n[0]++])<<3,a|=t[n[0]++]):(o=1+(t[n[0]++]>>2),2==s?(a=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(a=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),r=[l(r)],0==a)throw new Error("Invalid offset 0");if(a>r[0].length)throw new Error("Invalid offset beyond length");if(o>=a)for(r.push(r[0].slice(-a)),o-=a;o>=r[r.length-1].length;)r.push(r[r.length-1]),o-=r[r.length-1].length;r.push(r[0].slice(-a,-a+o))}else{var c=t[n[0]++]>>2;if(c<60)++c;else{var d=c-59;c=t[n[0]],d>1&&(c|=t[n[0]+1]<<8),d>2&&(c|=t[n[0]+2]<<16),d>3&&(c|=t[n[0]+3]<<24),c>>>=0,c++,n[0]+=d}r.push(t.slice(n[0],n[0]+c)),n[0]+=c}}var p=l(r);if(p.length!=i)throw new Error("Unexpected length: ".concat(p.length," != ").concat(i));return p}function f(e,t,n){var i,r=a(e),s=e[1],o=r.getUint32(8,!0),l=12,c=-1,h=-1,d=NaN,p=NaN,u=new Date(2001,0,1);switch(1&o&&(d=function(e,t){for(var n=(127&e[t+15])<<7|e[t+14]>>1,i=1&e[t+14],r=t+13;r>=t;--r)i=256*i+e[r];return(128&e[t+15]?-i:i)*Math.pow(10,n-6176)}(e,l),l+=16),2&o&&(p=r.getFloat64(l,!0),l+=8),4&o&&(u.setTime(u.getTime()+1e3*r.getFloat64(l,!0)),l+=8),8&o&&(h=r.getUint32(l,!0),l+=4),16&o&&(c=r.getUint32(l,!0),l+=4),s){case 0:break;case 2:case 10:i={t:"n",v:d};break;case 3:i={t:"s",v:t[h]};break;case 5:i={t:"d",v:u};break;case 6:i={t:"b",v:p>0};break;case 7:i={t:"n",v:p};break;case 8:i={t:"e",v:0};break;case 9:if(!(c>-1))throw new Error("Unsupported cell type ".concat(s," : ").concat(31&o," : ").concat(e.slice(0,4)));i={t:"s",v:n[c]};break;default:throw new Error("Unsupported cell type ".concat(s," : ").concat(31&o," : ").concat(e.slice(0,4)))}return i}function g(e,t,n){switch(e[0]){case 3:case 4:return function(e,t,n){var i,r=a(e),s=e[4==e[0]?1:2],o=r.getUint32(4,!0),l=12+4*c(3470&o),h=-1,d=-1,p=NaN,u=new Date(2001,0,1);switch(512&o&&(h=r.getUint32(l,!0),l+=4),l+=4*c(12288&o),16&o&&(d=r.getUint32(l,!0),l+=4),32&o&&(p=r.getFloat64(l,!0),l+=8),64&o&&(u.setTime(u.getTime()+1e3*r.getFloat64(l,!0)),l+=8),s){case 0:break;case 2:case 7:i={t:"n",v:p};break;case 3:i={t:"s",v:t[d]};break;case 5:i={t:"d",v:u};break;case 6:i={t:"b",v:p>0};break;case 8:i={t:"e",v:0};break;case 9:if(h>-1)i={t:"s",v:n[h]};else if(d>-1)i={t:"s",v:t[d]};else{if(isNaN(p))throw new Error("Unsupported cell type ".concat(e.slice(0,4)));i={t:"n",v:p}}break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return i}(e,t,n);case 5:return f(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}var b=function(e){return"".concat(function(e){var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}(e.c)).concat(e.r+1)};var y=function(e){var t,n=[];if(e.FullPaths.forEach((function(e){if(e.match(/\.iwpv2/))throw new Error("Unsupported password protection")})),e.FileIndex.forEach((function(e){if(e.name.match(/\.iwa$/)){var t,i;try{t=function(e){for(var t=[],n=0;n<e.length;){var i=e[n++],r=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(m(i,e.slice(n,n+r))),n+=r}if(n!==e.length)throw new Error("data is not a valid framed stream!");return l(t)}(e.content)}catch(t){return console.log("?? "+e.content.length+" "+(t.message||t))}try{i=function(e){for(var t=[],n=[0];n[0]<e.length;){var i=h(e,n),r=p(e.slice(n[0],n[0]+i));n[0]+=i;var s={id:d(r[1][0].data),messages:[]};r[2].forEach((function(t){var i=p(t.data),r=d(i[3][0].data);s.messages.push({meta:i,data:e.slice(n[0],n[0]+r)}),n[0]+=r})),t.push(s)}return t}(t)}catch(e){return console.log("## "+(e.message||e))}i.forEach((function(e){n[+e.id]=e.messages}))}})),!n.length)throw new Error("File has no messages");if(n.forEach((function(e){e.forEach((function(e){if(1==d(e.meta[1][0].data)>>>0){if(t)throw new Error("Document has multiple roots");t=e}}))})),!t)throw new Error("Cannot find Document root");return function(e,t){var n={Sheets:{},SheetNames:[]};if(u(p(t.data)[1],v).forEach((function(t){e[t].forEach((function(t){if(2==d(t.meta[1][0].data)){var i=function(e,t){var n,i=p(t.data),r={name:(null==(n=i[1])?void 0:n[0])?o(i[1][0].data):"",sheets:[]};return u(i[2],v).forEach((function(t){e[t].forEach((function(t){6e3==d(t.meta[1][0].data)&&r.sheets.push(function(e,t){var n=p(t.data),i={"!ref":"A1"},r=e[v(n[2][0].data)],s=d(r[0].meta[1][0].data);if(6001!=s)throw new Error("6000 unexpected reference to ".concat(s));return function(e,t,n){var i,r=p(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(d(r[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(r[6][0].data));if(s.e.c=(d(r[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(r[7][0].data));n["!ref"]=function(e){return b(e.s)+":"+b(e.e)}(s);var a=p(r[4][0].data),o=x(e,e[v(a[4][0].data)][0]),l=(null==(i=a[17])?void 0:i[0])?x(e,e[v(a[17][0].data)][0]):[],c=p(a[3][0].data),h=[];c[1].forEach((function(t){var n=p(t.data),i=e[v(n[2][0].data)][0],r=d(i.meta[1][0].data);if(6002!=r)throw new Error("6001 unexpected reference to ".concat(r));h.push({id:d(n[1][0].data),ref:O(e,i)})})),h.forEach((function(e){e.ref.forEach((function(e,t){e.forEach((function(e,i){var r=b({r:t,c:i}),s=g(e,o,l);s&&(n[r]=s)}))}))}))}(e,r[0],i),i}(e,t))}))})),r}(e,t);i.sheets.forEach((function(e){!function(e,t,n){if(n){if(e.SheetNames.indexOf(n)>-1)for(i=1;i<9999;++i)if(-1==e.SheetNames.indexOf("".concat(n,"_").concat(i))){n="".concat(n,"_").concat(i);break}}else for(var i=1;i<9999&&-1!=e.SheetNames.indexOf(n="Sheet ".concat(i));++i);e.SheetNames.push(n),e.Sheets[n]=t}(n,e,i.name)}))}}))})),0==n.SheetNames.length)throw new Error("Empty NUMBERS file");return n}(n,t)};function v(e){return h(p(e)[1][0].data)}function x(e,t){var n=p(t.data),i=d(n[1][0].data),r=n[3],s=[];return(r||[]).forEach((function(t){var n=p(t.data),r=d(n[1][0].data)>>>0;switch(i){case 1:s[r]=o(n[3][0].data);break;case 8:var a=p(e[v(n[9][0].data)][0].data),l=e[v(a[1][0].data)][0],c=d(l.meta[1][0].data);if(2001!=c)throw new Error("2000 unexpected reference to ".concat(c));var h=p(l.data);s[r]=h[3].map((function(e){return o(e.data)})).join("")}})),s}function w(e){for(var t,n,i,r,s,o,l,c,h,u,m=p(e),f=d(m[1][0].data)>>>0,g=null==(n=null==(t=m[3])?void 0:t[0])?void 0:n.data,b=(null==(r=null==(i=m[4])?void 0:i[0])?void 0:r.data)&&a(m[4][0].data),y=null==(o=null==(s=m[6])?void 0:s[0])?void 0:o.data,v=(null==(c=null==(l=m[7])?void 0:l[0])?void 0:c.data)&&a(m[7][0].data),x=(null==(u=null==(h=m[8])?void 0:h[0])?void 0:u.data)&&d(m[8][0].data)>0||!1?4:1,w=[],O=0,S=0;S<b.byteLength/2;++S)y&&v&&(O=v.getUint16(2*S,!0)*x)<y.length?w[S]=y.subarray(O,v.getUint16(2*S+2,!0)*x):g&&b&&(O=b.getUint16(2*S,!0)*x)<g.length&&(w[S]=g.subarray(O,b.getUint16(2*S+2,!0)*x));return{R:f,cells:w}}function O(e,t){return u(p(t.data)[5],w).reduce((function(e,t){return e[t.R]||(e[t.R]=[]),t.cells.forEach((function(n,i){if(e[t.R][i])throw new Error("Duplicate cell r=".concat(t.R," c=").concat(i));e[t.R][i]=n})),e}),[])}r(s)}();var qreg=/"/g;function make_csv_row(e,t,n,i,r,s,a,o){for(var l=!0,c=[],h="",d=encode_row(n),p=t.s.c;p<=t.e.c;++p)if(i[p]){var u=o.dense?(e[n]||[])[p]:e[i[p]+d];if(null==u)h="";else if(null!=u.v){l=!1,h=""+(o.rawNumbers&&"n"==u.t?u.v:format_cell(u,null,o));for(var m=0,f=0;m!==h.length;++m)if((f=h.charCodeAt(m))===r||f===s||34===f||o.forceQuotes){h='"'+h.replace(qreg,'""')+'"';break}"ID"==h&&(h='"ID"')}else null==u.f||u.F?h="":(l=!1,(h="="+u.f).indexOf(",")>=0&&(h='"'+h.replace(qreg,'""')+'"'));c.push(h)}return!1===o.blankrows&&l?null:c.join(a)}function sheet_to_csv(e,t){var n=[],i=t??{};if(null==e||null==e["!ref"])return"";var r=safe_decode_range(e["!ref"]),s=void 0!==i.FS?i.FS:",",a=s.charCodeAt(0),o=void 0!==i.RS?i.RS:"\n",l=o.charCodeAt(0),c=new RegExp(("|"==s?"\\|":s)+"+$"),h="",d=[];i.dense=Array.isArray(e);for(var p=i.skipHidden&&e["!cols"]||[],u=i.skipHidden&&e["!rows"]||[],m=r.s.c;m<=r.e.c;++m)(p[m]||{}).hidden||(d[m]=encode_col(m));for(var f=r.s.r;f<=r.e.r;++f)(u[f]||{}).hidden||null!=(h=make_csv_row(e,r,f,d,a,l,s,i))&&(i.strip&&(h=h.replace(c,"")),n.push(h+o));return delete i.dense,n.join("")}function sheet_to_txt(e,t){return t||(t={}),t.FS="\t",t.RS="\n",sheet_to_csv(e,t)}function sheet_to_formulae(e){var t,n="",i="";if(null==e||null==e["!ref"])return[];var r,s=safe_decode_range(e["!ref"]),a="",o=[],l=[],c=Array.isArray(e);for(r=s.s.c;r<=s.e.c;++r)o[r]=encode_col(r);for(var h=s.s.r;h<=s.e.r;++h)for(a=encode_row(h),r=s.s.c;r<=s.e.c;++r)if(n=o[r]+a,i="",void 0!==(t=c?(e[h]||[])[r]:e[n])){if(null!=t.F){if(n=t.F,!t.f)continue;i=t.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=t.f)i=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)i=""+t.v;else if("b"==t.t)i=t.v?"TRUE":"FALSE";else if(void 0!==t.w)i="'"+t.w;else{if(void 0===t.v)continue;i="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=n+"="+i}return l}function sheet_add_json(e,t,n){var i,r=n||{},s=+!r.skipHeader,a=e||{},o=0,l=0;if(a&&null!=r.origin)if("number"==typeof r.origin)o=r.origin;else{var c="string"==typeof r.origin?decode_cell(r.origin):r.origin;o=c.r,l=c.c}var h={s:{c:0,r:0},e:{c:l,r:o+t.length-1+s}};if(a["!ref"]){var d=safe_decode_range(a["!ref"]);h.e.c=Math.max(h.e.c,d.e.c),h.e.r=Math.max(h.e.r,d.e.r),-1==o&&(o=d.e.r+1,h.e.r=o+t.length-1+s)}else-1==o&&(o=0,h.e.r=t.length-1+s);var p=r.header||[],u=0;t.forEach((function(e,t){keys(e).forEach((function(n){-1==(u=p.indexOf(n))&&(p[u=p.length]=n);var c=e[n],h="z",d="",m=encode_cell({c:l+u,r:o+t+s});i=utils$1.sheet_get_cell(a,m),!c||"object"!=typeof c||c instanceof Date?("number"==typeof c?h="n":"boolean"==typeof c?h="b":"string"==typeof c?h="s":c instanceof Date?(h="d",r.cellDates||(h="n",c=datenum(c)),d=r.dateNF||SSF._table[14]):null===c&&r.nullError&&(h="e",c=0),i?(i.t=h,i.v=c,delete i.w,delete i.R,d&&(i.z=d)):a[m]=i={t:h,v:c},d&&(i.z=d)):a[m]=c}))})),h.e.c=Math.max(h.e.c,l+p.length-1);var m=encode_row(o);if(s)for(u=0;u<p.length;++u)a[encode_col(u+l)+m]={t:"s",v:p[u]};return a["!ref"]=encode_range(h),a}function json_to_sheet(e,t){return sheet_add_json(null,e,t)}var utils$1={encode_col,encode_row,encode_cell,encode_range,decode_col,decode_row,split_cell,decode_cell,decode_range,format_cell,sheet_add_aoa,sheet_add_json,sheet_add_dom,aoa_to_sheet,json_to_sheet,table_to_sheet:parse_dom_table,table_to_book,sheet_to_csv,sheet_to_txt,sheet_to_json,sheet_to_html:HTML_.from_sheet,sheet_to_formulae,sheet_to_row_object_array:sheet_to_json};!function(e){function t(e,t,n){return null!=e[t]?e[t]:e[t]=n}function n(e,t,i){if("string"==typeof t){if(Array.isArray(e)){var r=decode_cell(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return n(e,encode_cell("number"!=typeof t?t:{r:t,c:i||0}))}e.consts=e.consts||{},e.sheet_get_cell=n,e.book_new=function(){return{SheetNames:[],Sheets:{}}},e.book_append_sheet=function(e,t,n){if(!n)for(var i=1;i<=65535&&-1!=e.SheetNames.indexOf(n="Sheet"+i);++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(check_ws_name(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");e.SheetNames.push(n),e.Sheets[n]=t},e.book_set_sheet_visibility=function(e,n,i){t(e,"Workbook",{}),t(e.Workbook,"Sheets",[]);var r=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,n);switch(t(e.Workbook.Sheets,r,{}),i){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+i)}e.Workbook.Sheets[r].Hidden=i},[["SHEET_VISIBLE",0],["SHEET_HIDDEN",1],["SHEET_VERY_HIDDEN",2]].forEach((function(t){e.consts[t[0]]=t[1]})),e.cell_set_number_format=function(e,t){return e.z=t,e},e.cell_set_hyperlink=function(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e},e.cell_set_internal_link=function(t,n,i){return e.cell_set_hyperlink(t,"#"+n,i)},e.cell_add_comment=function(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})},e.sheet_set_array_formula=function(e,t,i){for(var r="string"!=typeof t?t:safe_decode_range(t),s="string"==typeof t?t:encode_range(t),a=r.s.r;a<=r.e.r;++a)for(var o=r.s.c;o<=r.e.c;++o){var l=n(e,a,o);l.t="n",l.F=s,delete l.v,a==r.s.r&&o==r.s.c&&(l.f=i)}return e}}(utils$1);class InputExcel extends InputLong{constructor(){super(),this.instruction="Fill out the sheet"}static styles=[r$2`
    .jexcel_container {
        display:block;
        padding-right:2px;
        box-sizing: border-box;
        overscroll-behavior: contain;
        outline: none;
    }
    .jexcel_container.fullscreen {
        position:fixed;
        top:0px;
        left:0px;
        width:100%;
        height:100%;
        z-index:21;
    }
    
    .jexcel_container.fullscreen .jexcel_content {
        overflow:auto;
        width:100%;
        height:100%;
        background-color:#ffffff;
    }
    
    .jexcel_container.with-toolbar .jexcel > thead > tr > td {
        top: 0;
    }
    
    .jexcel_container.fullscreen.with-toolbar {
        height: calc(100% - 46px);
    }
    
    .jexcel_content {
        display:inline-block;
        box-sizing: border-box;
        padding-right:3px;
        padding-bottom:3px;
        position:relative;
        scrollbar-width: thin;
        scrollbar-color: #666 transparent;
    }
    
    .jexcel_content::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }
    
    .jexcel_content::-webkit-scrollbar-track {
        background: #eee;
    }
     
    .jexcel_content::-webkit-scrollbar-thumb {
      background: #666; 
    }
    
    .jexcel {
        border-collapse: separate;
        table-layout: fixed;
        white-space:  nowrap;
        empty-cells: show;
        border: 0px;
        background-color: #fff;
        width: 0;
    
        border-top: 1px solid transparent;
        border-left: 1px solid transparent;
        border-right: 1px solid #ccc;
        border-bottom: 1px solid #ccc;
    }
    
    .jexcel > thead > tr > td
    {
        border-top: 1px solid #ccc;
        border-left: 1px solid #ccc;
        border-right: 1px solid transparent;
        border-bottom: 1px solid transparent;
        background-color: #f3f3f3;
        padding: 2px;
        cursor: pointer;
        box-sizing: border-box;
        overflow: hidden;
        position: -webkit-sticky;
        position: sticky;
        top: 0;
        z-index:2;
    }
    
    .jexcel_container.with-toolbar .jexcel > thead > tr > td
    {
        top:42px;
    }
    
    .jexcel > thead > tr > td.dragging
    {
        background-color:#fff;
        opacity:0.5;
    }
    
    .jexcel > thead > tr > td.selected
    {
        background-color:#dcdcdc;
    }
    .jexcel > thead > tr > td.arrow-up
    {
        background-repeat:no-repeat;
        background-position:center right 5px;
        background-image: url("data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath d='M7 14l5-5 5 5H7z' fill='gray'/%3E%3C/svg%3E");
        text-decoration:underline;
    }
    
    .jexcel > thead > tr > td.arrow-down
    {
        background-repeat:no-repeat;
        background-position:center right 5px;
        background-image: url("data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath d='M7 10l5 5 5-5H7z' fill='gray'/%3E%3C/svg%3E");
        text-decoration:underline;
    }
    
    .jexcel > tbody > tr > td:first-child
    {
        position:relative;
        background-color:#f3f3f3;
        text-align:center;
    }
    .jexcel > tbody.resizable > tr > td:first-child::before
{
    content:'\\00a0';
    width:100%;
    height:3px;
    position:absolute;
    bottom:0px;
    left:0px;
    cursor:row-resize;
}

.jexcel > tbody.draggable > tr > td:first-child::after
{
    content:'\\00a0';
    width:3px;
    height:100%;
    position:absolute;
    top:0px;
    right:0px;
    cursor:move;
}

.jexcel > tbody > tr.dragging > td
{
    background-color:#eee;
    opacity:0.5;
}

.jexcel > tbody > tr > td
{
    border-top:1px solid #ccc;
    border-left:1px solid #ccc;
    border-right:1px solid transparent;
    border-bottom:1px solid transparent;
    padding:4px;
    white-space: nowrap;
    box-sizing: border-box;
    line-height:1em;
}

.jexcel_overflow > tbody > tr > td {
    overflow: hidden;
}

.jexcel > tbody > tr > td:last-child
{
    overflow: hidden;
}

.jexcel > tbody > tr > td > img
{
    display:inline-block;
    max-width:100px;
}

.jexcel > tbody > tr > td.readonly
{
    color:rgba(0,0,0,0.3)
}
.jexcel > tbody > tr.selected > td:first-child
{
    background-color:#dcdcdc;
}
.jexcel > tbody > tr > td > select,
.jexcel > tbody > tr > td > input,
.jexcel > tbody > tr > td > textarea
{
    border:0px;
    border-radius:0px;
    outline:0px;
    width:100%;
    margin:0px;
    padding:0px;
    padding-right:2px;
    background-color:transparent;
    box-sizing: border-box;
}

.jexcel > tbody > tr > td > textarea
{
    resize: none;
    padding-top:6px !important;
}

.jexcel > tbody > tr > td > input[type=checkbox]
{
    width:12px;
    margin-top:2px;
}
.jexcel > tbody > tr > td > input[type=radio]
{
    width:12px;
    margin-top:2px;
}

.jexcel > tbody > tr > td > select
{
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-repeat: no-repeat;
    background-position-x: 100%;
    background-position-y: 40%;
    background-image: url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSdibGFjaycgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDI0IDI0JyB3aWR0aD0nMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTTcgMTBsNSA1IDUtNXonLz48cGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8+PC9zdmc+);
}

.jexcel > tbody > tr > td.jexcel_dropdown
{
    background-repeat: no-repeat;
    background-position:top 50% right 5px;
    background-image: url("data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath d='M7 10l5 5 5-5H7z' fill='lightgray'/%3E%3C/svg%3E");
    text-overflow: ellipsis;
    overflow-x:hidden;
}
    
.jexcel > tbody > tr > td > .color
{
    width:90%;
    height:10px;
    margin:auto;
}

.jexcel > tbody > tr > td > a {
    text-decoration: underline;
}

.jexcel > tbody > tr > td.highlight > a {
    color: blue;
    cursor: pointer;
}

.jexcel > tfoot > tr > td
{
    border-top: 1px solid #ccc;
    border-left: 1px solid #ccc;
    border-right: 1px solid transparent;
    border-bottom: 1px solid transparent;
    background-color: #f3f3f3;
    padding: 2px;
    cursor: pointer;
    box-sizing: border-box;
    overflow: hidden;
}

.jexcel .highlight {
    background-color:rgba(0,0,0,0.05);
}

.jexcel .highlight-top {
    border-top:1px solid #000; /* var(--jexcel-border-color);*/
    box-shadow: 0px -1px #ccc;
}

.jexcel .highlight-left {
    border-left:1px solid #000; /* var(--jexcel-border-color);*/
    box-shadow: -1px 0px #ccc;
}

.jexcel .highlight-right {
    border-right:1px solid #000; /* var(--jexcel-border-color);*/
}

.jexcel .highlight-bottom {
    border-bottom:1px solid #000; /* var(--jexcel-border-color);*/
}

.jexcel .highlight-top.highlight-left {
    box-shadow: -1px -1px #ccc;
    -webkit-box-shadow: -1px -1px #ccc;
    -moz-box-shadow: -1px -1px #ccc;
}

.jexcel .highlight-selected
{
    background-color:rgba(0,0,0,0.0);
}
.jexcel .selection
{
    background-color:rgba(0,0,0,0.05);
}
.jexcel .selection-left
{
    border-left:1px dotted #000;
}
.jexcel .selection-right
{
    border-right:1px dotted #000;
}
.jexcel .selection-top
{
    border-top:1px dotted #000;
}
.jexcel .selection-bottom
{
    border-bottom:1px dotted #000;
}
.jexcel_corner
{
    position:absolute;
    background-color: rgb(0, 0, 0);
    height: 1px;
    width: 1px;
    border: 1px solid rgb(255, 255, 255);
    top:-2000px;
    left:-2000px;
    cursor:crosshair;
    box-sizing: initial;
    z-index:20;
    padding: 2px;
}

.jexcel .editor
{
    outline:0px solid transparent;
    overflow:visible;
    white-space: nowrap;
    text-align:left;
    padding:0px;
    box-sizing: border-box;
    overflow:visible !important;
}

.jexcel .editor > input
{
    padding-left:4px;
}

.jexcel .editor .jupload
{
    position:fixed;
    top:100%;
    z-index:40;
    user-select:none;
    -webkit-font-smoothing: antialiased;
    font-size: .875rem;
    letter-spacing: .2px;
    -webkit-border-radius: 4px;
    border-radius: 4px;
    -webkit-box-shadow: 0 8px 10px 1px rgba(0,0,0,0.14), 0 3px 14px 2px rgba(0,0,0,0.12), 0 5px 5px -3px rgba(0,0,0,0.2);
    box-shadow: 0 8px 10px 1px rgba(0,0,0,0.14), 0 3px 14px 2px rgba(0,0,0,0.12), 0 5px 5px -3px rgba(0,0,0,0.2);
    padding:10px;
    background-color:#fff;
    width:300px;
    min-height:225px;
    margin-top:2px;
}

.jexcel .editor .jupload img
{
    width:100%;
    height:auto;
}

.jexcel .editor .jexcel_richtext
{
    position:fixed;
    top:100%;
    z-index:40;
    user-select:none;
    -webkit-font-smoothing: antialiased;
    font-size: .875rem;
    letter-spacing: .2px;
    -webkit-box-shadow: 0 8px 10px 1px rgba(0,0,0,0.14), 0 3px 14px 2px rgba(0,0,0,0.12), 0 5px 5px -3px rgba(0,0,0,0.2);
    box-shadow: 0 8px 10px 1px rgba(0,0,0,0.14), 0 3px 14px 2px rgba(0,0,0,0.12), 0 5px 5px -3px rgba(0,0,0,0.2);
    padding:10px;
    background-color:#fff;
    min-width:280px;
    max-width:310px;
    margin-top:2px;
    text-align:left;
}

.jexcel .editor .jclose:after
{
    position:absolute;
    top:0;
    right:0;
    margin:10px;
    content:'close';
    font-family:'Material icons';
    font-size:24px;
    width:24px;
    height:24px;
    line-height:24px;
    cursor:pointer;
    text-shadow: 0px 0px 5px #fff;
}

.jexcel, .jexcel td, .jexcel_corner
{
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-user-drag: none;
  -khtml-user-drag: none;
  -moz-user-drag: none;
  -o-user-drag: none;
  user-drag: none;
}

.jexcel_textarea
{
    position:absolute;
    top:-999px;
    left:-999px;
    width:1px;
    height:1px;
}
.jexcel .dragline
{
    position:absolute;
}
.jexcel .dragline div
{
    position:relative;
    top:-6px;
    height:5px;
    width:22px;
}
.jexcel .dragline div:hover
{
    cursor:move;
}

.jexcel .onDrag
{
    background-color:rgba(0,0,0,0.6);
}

.jexcel .error
{
    border:1px solid red;
}

.jexcel thead td.resizing
{
    border-right-style:dotted !important;
    border-right-color:red !important;
}

.jexcel tbody tr.resizing > td
{
    border-bottom-style:dotted !important;
    border-bottom-color:red !important;
}

.jexcel tbody td.resizing
{
    border-right-style:dotted !important;
    border-right-color:red !important;
}

.jexcel .jdropdown-header
{
    border:0px !important;
    outline:none !important;
    width:100% !important;
    height:100% !important;
    padding:0px !important;
    padding-left:8px !important;
}

.jexcel .jdropdown-container
{
    margin-top:1px;
}

.jexcel .jdropdown-container-header {
    padding: 0px;
    margin: 0px;
    height: inherit;
}

.jexcel .jdropdown-picker
{
    border:0px !important;
    padding:0px !important;
    width:inherit;
    height:inherit;
}

.jexcel .jexcel_comments
{
    background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFuGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTAxLTMxVDE4OjU1OjA4WiIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wMS0zMVQxODo1NTowOFoiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTAxLTMxVDE4OjU1OjA4WiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDphMTlhZDJmOC1kMDI2LTI1NDItODhjOS1iZTRkYjkyMmQ0MmQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkOGI5NDUyMS00ZjEwLWQ5NDktYjUwNC0wZmU1N2I3Nzk1MDEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplMzdjYmE1ZS1hYTMwLWNkNDUtYTAyNS1lOWYxZjk2MzUzOGUiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDplMzdjYmE1ZS1hYTMwLWNkNDUtYTAyNS1lOWYxZjk2MzUzOGUiIHN0RXZ0OndoZW49IjIwMTktMDEtMzFUMTg6NTU6MDhaIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmExOWFkMmY4LWQwMjYtMjU0Mi04OGM5LWJlNGRiOTIyZDQyZCIgc3RFdnQ6d2hlbj0iMjAxOS0wMS0zMVQxODo1NTowOFoiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4En6MDAAAAX0lEQVQYlX3KOw6AIBBAwS32RpJADXfx0pTET+ERZJ8F8RODFtONsG0QAoh0CSDM82dqodaBdQXnfoLZQM7gPai+wjNNE8R4pTuAYNZSKZASqL7CMy0LxNgJp30fKYUDi3+vIqb/+rUAAAAASUVORK5CYII=');
    background-repeat: no-repeat;
    background-position: top right;
}

.jexcel .sp-replacer
{
    margin: 2px;
    border:0px;
}

.jexcel > thead > tr.jexcel_filter > td > input
{
    border:0px;
    width:100%;
    outline:none;
}

.jexcel_about {
    float: right;
    font-size: 0.7em;
    padding: 2px;
    text-transform: uppercase;
    letter-spacing: 1px;
    display: none;
}
.jexcel_about a {
    color: #ccc;
    text-decoration: none;
}

.jexcel_about img {
    display: none;
}

.jexcel_filter
{
    display:flex;
    justify-content:space-between;
    margin-bottom:4px;
}

.jexcel_filter > div
{
    padding:8px;
    align-items:center;
}

.jexcel_pagination
{
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.jexcel_pagination > div
{
    display:flex;
    padding:10px;
}

.jexcel_pagination > div:last-child
{
    padding-right:10px;
    padding-top:10px;
}

.jexcel_pagination > div > div
{
    text-align:center;
    width:36px;
    height:36px;
    line-height:34px;
    border:1px solid #ccc;
    box-sizing: border-box;
    margin-left:2px;
    cursor:pointer;
}

.jexcel_page
{
    font-size:0.8em;
}

.jexcel_page_selected
{
    font-weight:bold;
    background-color:#f3f3f3;
}

.jexcel_toolbar
{
    display:flex;
    background-color:#f3f3f3;
    border:1px solid #ccc;
    padding:4px;
    margin:0px 2px 4px 1px;
    position:sticky;
    top:0px;
    z-index:21;
}

.jexcel_toolbar:empty
{
    display:none;
}

.jexcel_toolbar i.jexcel_toolbar_item 
{
    width:24px;
    height:24px;
    padding:4px;
    cursor:pointer;
    display:inline-block;
}

.jexcel_toolbar i.jexcel_toolbar_item:hover 
{
    background-color:#ddd;
}

.jexcel_toolbar select.jexcel_toolbar_item 
{
    margin-left:2px;
    margin-right:2px;
    display:inline-block;
    border:0px;
    background-color:transparent;
    padding-right:10px;
}

.jexcel .dragging-left
{
    background-repeat: no-repeat;
    background-position:top 50% left 0px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M14 7l-5 5 5 5V7z'/%3E%3Cpath fill='none' d='M24 0v24H0V0h24z'/%3E%3C/svg%3E");
}

.jexcel .dragging-right
{
    background-repeat: no-repeat;
    background-position:top 50% right 0px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M10 17l5-5-5-5v10z'/%3E%3Cpath fill='none' d='M0 24V0h24v24H0z'/%3E%3C/svg%3E");
}

.jexcel_tabs .jexcel_tab
{
    display:none;
}

.jexcel_tabs .jexcel_tab_link
{
    display:inline-block;
    padding:10px;
    padding-left:20px;
    padding-right:20px;
    margin-right:5px;
    margin-bottom:5px;
    background-color:#f3f3f3;
    cursor:pointer;
}

.jexcel_tabs .jexcel_tab_link.selected
{
    background-color:#ddd;
}

.jexcel_hidden_index > tbody > tr > td:first-child,
.jexcel_hidden_index > thead > tr > td:first-child,
.jexcel_hidden_index > tfoot > tr > td:first-child,
.jexcel_hidden_index > colgroup > col:first-child
{
    display:none;
}



.jexcel .jrating {
    display: inline-flex;
}
.jexcel .jrating > div {
    zoom: 0.55;
}

.jexcel .copying-top {
    border-top:1px dashed #000;
}

.jexcel .copying-left {
    border-left:1px dashed #000;
}

.jexcel .copying-right {
    border-right:1px dashed #000;
}

.jexcel .copying-bottom {
    border-bottom:1px dashed #000;
}

.jexcel .jexcel_column_filter {
    background-repeat: no-repeat;
    background-position: top 50% right 5px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='gray' width='18px' height='18px'%3E%3Cpath d='M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E");
    text-overflow: ellipsis;
    overflow: hidden;
    padding: 0px;
    padding-left: 6px;
    padding-right: 20px;
}

.jexcel thead .jexcel_freezed, .jexcel tfoot .jexcel_freezed {
    left: 0px;
    z-index: 3 !important;
    box-shadow: 2px 0px 2px 0.2px #ccc !important;
    -webkit-box-shadow: 2px 0px 2px 0.2px #ccc !important;
    -moz-box-shadow: 2px 0px 2px 0.2px #ccc !important;
}

.jexcel tbody .jexcel_freezed {
    position: relative;
    background-color: #fff;
    box-shadow: 1px 1px 1px 1px #ccc !important;
    -webkit-box-shadow: 2px 4px 4px 0.1px #ccc !important;
    -moz-box-shadow: 2px 4px 4px 0.1px #ccc !important;
}

.red {
    color: red;
}

  
    `,...InputLong.styles];_getInput(){return $$1`<div id='sheet'></div><input type='submit' @click='${this._submit}' value='${this.actionLabel}'/>`}static get title(){return"Spreadsheet"}static get is(){return"input-spreadsheet"}firstUpdated(e){const t=this.shadowRoot.getElementById("sheet");this.sheet=jspreadsheet(t,{root:this.shadowRoot,minDimensions:[10,10]})}_submit(e){e.preventDefault(),e.stopPropagation(),this.pushAttempt(JSON.stringify(this.sheet.getJson()))}}customElements.define(InputExcel.is,InputExcel),r$2`




`;class InputShort extends BorreyInput{constructor(){super(),this.answerType="text"}_getInput(){return $$1`<input type='${this.answerType}' name='attempt'/>
        <br/>
        <input type='submit' @click='${this._submit}' value='${this.actionLabel}'/>`}static get is(){return"input-short"}static get title(){return"Text"}static get properties(){return{answerType:{type:String}}}static styles=[BorreyInput.styles,r$2`
        input[name="attempt"]{
            width : 100%;

        }
    `];static getEditForm(e,t){return $$1`<input type='text' name='attempt'/>
        <br/>
        <input type='submit' @click='${e}' value='${t}'/>`}}customElements.define(InputShort.is,InputShort),
/*! 

  \file pallet.js
  
  \author borrey
  
  Date Created: 2014-12-23T12:23:38-0700\n
  Date Modified:
  
  Copyright  All Rights Reserved  

*/
function(e,t){var n={alpha:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.62em; "><span style="position: absolute; clip: rect(1.831em 1000em 2.594em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#945;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.673em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\alpha",smartType:"alpha"},origlabel:'<script type="math/tex">\\alpha<\/script>'},beta:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.568em; "><span style="position: absolute; clip: rect(1.568em 1000em 2.777em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#946;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.007em; "></span></span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.213em; vertical-align: -0.297em; "></span></span></nobr></span>',insert:{latex:"\\beta",smartType:"beta"},origlabel:'<script type="math/tex">\\beta<\/script>'},gamma:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.641em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.517em; "><span style="position: absolute; clip: rect(1.832em 1000em 2.799em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#947;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.025em; "></span></span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.92em; vertical-align: -0.324em; "></span></span></nobr></span>',insert:{latex:"\\gamma",smartType:"gamma"},origlabel:'<script type="math/tex">\\gamma<\/script>'},delta:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.516em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.413em; "><span style="position: absolute; clip: rect(1.556em 1000em 2.593em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#948;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.007em; "></span></span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.005em; vertical-align: -0.075em; "></span></span></nobr></span>',insert:{latex:"\\delta",smartType:"delta"},origlabel:'<script type="math/tex">\\delta<\/script>'},epsilon:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.516em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.413em; "><span style="position: absolute; clip: rect(1.842em 1000em 2.594em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#1013;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.66em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\epsilon",smartType:"epsilon"},origlabel:'<script type="math/tex">\\epsilon<\/script>'},zeta:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.516em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.413em; "><span style="position: absolute; clip: rect(1.569em 1000em 2.787em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#950;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.033em; "></span></span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.224em; vertical-align: -0.309em; "></span></span></nobr></span>',insert:{latex:"\\zeta",smartType:"zeta"},origlabel:'<script type="math/tex">\\zeta<\/script>'},eta:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.465em; "><span style="position: absolute; clip: rect(1.831em 1000em 2.799em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#951;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.006em; "></span></span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.921em; vertical-align: -0.324em; "></span></span></nobr></span>',insert:{latex:"\\eta",smartType:"eta"},origlabel:'<script type="math/tex">\\eta<\/script>'},theta:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.465em; "><span style="position: absolute; clip: rect(1.568em 1000em 2.593em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#952;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.99em; vertical-align: -0.075em; "></span></span></nobr></span>',insert:{latex:"\\theta",smartType:"theta"},origlabel:'<script type="math/tex">\\theta<\/script>'},iota:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.453em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.362em; "><span style="position: absolute; clip: rect(1.831em 1000em 2.593em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#953;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.672em; vertical-align: -0.075em; "></span></span></nobr></span>',insert:{latex:"\\iota",smartType:"iota"},origlabel:'<script type="math/tex">\\iota<\/script>'},kappa:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.568em; "><span style="position: absolute; clip: rect(1.831em 1000em 2.594em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#954;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.673em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\kappa",smartType:"kappa"},origlabel:'<script type="math/tex">\\kappa<\/script>'},lambda:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.568em; "><span style="position: absolute; clip: rect(1.579em 1000em 2.595em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#955;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.979em; vertical-align: -0.077em; "></span></span></nobr></span>',insert:{latex:"\\lambda",smartType:"lambda"},origlabel:'<script type="math/tex">\\lambda<\/script>'},mu:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.568em; "><span style="position: absolute; clip: rect(1.831em 1000em 2.799em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#956;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.921em; vertical-align: -0.324em; "></span></span></nobr></span>',insert:{latex:"\\mu",smartType:"mu"},origlabel:'<script type="math/tex">\\mu<\/script>'},nu:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.465em; "><span style="position: absolute; clip: rect(1.831em 1000em 2.585em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#957;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.036em; "></span></span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.662em; vertical-align: -0.065em; "></span></span></nobr></span>',insert:{latex:"\\nu",smartType:"nu"},origlabel:'<script type="math/tex">\\nu<\/script>'},xi:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.516em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.413em; "><span style="position: absolute; clip: rect(1.569em 1000em 2.788em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#958;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.005em; "></span></span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.225em; vertical-align: -0.311em; "></span></span></nobr></span>',insert:{latex:"\\xi",smartType:"xi"},origlabel:'<script type="math/tex">\\xi<\/script>'},omicron:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.465em; "><span style="position: absolute; clip: rect(1.832em 1000em 2.594em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#959;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.672em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\omicron",smartType:"omicron"},origlabel:'<script type="math/tex">\\omicron<\/script>'},pi:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.568em; "><span style="position: absolute; clip: rect(1.842em 1000em 2.594em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#960;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.003em; "></span></span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.66em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\pi",smartType:"pi"},origlabel:'<script type="math/tex">\\pi<\/script>'},rho:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.641em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.517em; "><span style="position: absolute; clip: rect(1.831em 1000em 2.799em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#961;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.921em; vertical-align: -0.324em; "></span></span></nobr></span>',insert:{latex:"\\rho",smartType:"rhi"},origlabel:'<script type="math/tex">\\rho<\/script>'},sigma:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.568em; "><span style="position: absolute; clip: rect(1.842em 1000em 2.594em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#963;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.001em; "></span></span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.66em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\sigma",smartType:"sigma"},origlabel:'<script type="math/tex">\\sigma<\/script>'},tau:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.465em; "><span style="position: absolute; clip: rect(1.842em 1000em 2.596em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#964;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.08em; "></span></span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.662em; vertical-align: -0.078em; "></span></span></nobr></span>',insert:{latex:"\\tau",smartType:"tau"},origlabel:'<script type="math/tex">\\tau<\/script>'},upsilon:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.641em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.517em; "><span style="position: absolute; clip: rect(1.83em 1000em 2.593em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#965;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.673em; vertical-align: -0.075em; "></span></span></nobr></span>',insert:{latex:"\\upsilon",smartType:"upsilon"},origlabel:'<script type="math/tex">\\upsilon<\/script>'},phi:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.568em; "><span style="position: absolute; clip: rect(1.579em 1000em 2.788em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#981;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.213em; vertical-align: -0.311em; "></span></span></nobr></span>',insert:{latex:"\\phi",smartType:"phi"},origlabel:'<script type="math/tex">\\phi<\/script>'},chi:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.62em; "><span style="position: absolute; clip: rect(1.831em 1000em 2.787em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#967;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.907em; vertical-align: -0.309em; "></span></span></nobr></span>',insert:{latex:"\\chi",smartType:"chi"},origlabel:'<script type="math/tex">\\chi<\/script>'},psi:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.62em; "><span style="position: absolute; clip: rect(1.579em 1000em 2.788em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#968;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.213em; vertical-align: -0.311em; "></span></span></nobr></span>',insert:{latex:"\\psi",smartType:"psi"},origlabel:'<script type="math/tex">\\psi<\/script>'},omega:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.62em; "><span style="position: absolute; clip: rect(1.83em 1000em 2.594em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#969;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.674em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\omega",smartType:"omega"},origlabel:'<script type="math/tex">\\omega<\/script>'},varepsilon:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.465em; "><span style="position: absolute; clip: rect(1.821em 1000em 2.605em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#949;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.699em; vertical-align: -0.089em; "></span></span></nobr></span>',insert:{latex:"\\varepsilon",smartType:"varepsilon"},origlabel:'<script type="math/tex">\\varepsilon<\/script>'},vartheta:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.568em; "><span style="position: absolute; clip: rect(1.568em 1000em 2.594em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#977;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.991em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\vartheta",smartType:"vartheta"},origlabel:'<script type="math/tex">\\vartheta<\/script>'},varkappa:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.891em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.723em; "><span style="position: absolute; clip: rect(2.355em 1000em 3.105em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_AMS; ">&#1008;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.067em; "></span></span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.657em; vertical-align: -0.07em; "></span></span></nobr></span>',insert:{latex:"\\varkappa",smartType:"varkappa"},origlabel:'<script type="math/tex">\\varkappa<\/script>'},varpi:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.016em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.826em; "><span style="position: absolute; clip: rect(1.842em 1000em 2.593em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#982;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.659em; vertical-align: -0.075em; "></span></span></nobr></span>',insert:{latex:"\\varpi",smartType:"varpi"},origlabel:'<script type="math/tex">\\varpi<\/script>'},varsigma:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.453em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.362em; "><span style="position: absolute; clip: rect(1.831em 1000em 2.69em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#962;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.042em; "></span></span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.789em; vertical-align: -0.192em; "></span></span></nobr></span>',insert:{latex:"\\varsigma",smartType:"varsigma"},origlabel:'<script type="math/tex">\\varsigma<\/script>'},varphi:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.62em; "><span style="position: absolute; clip: rect(1.831em 1000em 2.801em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#966;</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.924em; vertical-align: -0.326em; "></span></span></nobr></span>',insert:{latex:"\\varphi",smartType:"varphi"},origlabel:'<script type="math/tex">\\varphi<\/script>'},Gamma:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.62em; "><span style="position: absolute; clip: rect(1.851em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#915;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.948em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\Gamma",smartType:"Gamma"},origlabel:'<script type="math/tex">\\Gamma<\/script>'},Delta:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.016em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.826em; "><span style="position: absolute; clip: rect(1.815em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#916;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.991em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\Delta",smartType:"Delta"},origlabel:'<script type="math/tex">\\Delta<\/script>'},Theta:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.826em 1000em 2.863em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#920;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.005em; vertical-align: -0.089em; "></span></span></nobr></span>',insert:{latex:"\\Theta",smartType:"Theta"},origlabel:'<script type="math/tex">\\Theta<\/script>'},Lambda:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.671em; "><span style="position: absolute; clip: rect(1.815em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#923;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.991em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\Lambda",smartType:"Lambda"},origlabel:'<script type="math/tex">\\Lambda<\/script>'},Xi:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.671em; "><span style="position: absolute; clip: rect(1.854em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#926;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.944em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\Xi",smartType:"Xi"},origlabel:'<script type="math/tex">\\Xi<\/script>'},Pi:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.891em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.723em; "><span style="position: absolute; clip: rect(1.851em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#928;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.948em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\Pi",smartType:"Pi"},origlabel:'<script type="math/tex">\\Pi<\/script>'},Sigma:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.891em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.723em; "><span style="position: absolute; clip: rect(1.848em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#931;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.951em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\Sigma",smartType:"Sigma"},origlabel:'<script type="math/tex">\\Sigma<\/script>'},Upsilon:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.826em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#933;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.978em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\Upsilon",smartType:"Upsilon"},origlabel:'<script type="math/tex">\\Upsilon<\/script>'},Phi:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.891em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.723em; "><span style="position: absolute; clip: rect(1.848em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#934;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.951em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\Phi",smartType:"Phi"},origlabel:'<script type="math/tex">\\Phi<\/script>'},Psi:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.848em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#936;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.951em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\Psi",smartType:"Psi"},origlabel:'<script type="math/tex">\\Psi<\/script>'},Omega:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.891em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.723em; "><span style="position: absolute; clip: rect(1.827em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#937;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.977em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\Omega",smartType:"Omega"},origlabel:'<script type="math/tex">\\Omega<\/script>'},eth:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.568em; "><span style="position: absolute; clip: rect(2.04em 1000em 3.12em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_AMS; ">&#240;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.057em; vertical-align: -0.088em; "></span></span></nobr></span>',insert:{latex:"\\eth"},origlabel:'<script type="math/tex">\\eth<\/script>'},hbar:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.641em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.517em; "><span style="position: absolute; clip: rect(1.836em 1000em 2.854em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#8463;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.022em; "></span></span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.982em; vertical-align: -0.078em; "></span></span></nobr></span>',insert:{latex:"\\hbar"},origlabel:'<script type="math/tex">\\hbar<\/script>'},dotlessi:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.391em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.31em; "><span style="position: absolute; clip: rect(1.935em 1000em 2.696em -1000em); top: -2.531em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; font-style: italic; ">&#305;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.033em; "></span></span></span><span style="display: inline-block; width: 0px; height: 2.531em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.671em; vertical-align: -0.075em; "></span></span></nobr></span>',insert:{latex:"\\imath"},origlabel:'<script type="math/tex">\\imath<\/script>'},dotlessj:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.391em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.31em; "><span style="position: absolute; clip: rect(1.934em 1000em 2.89em -1000em); top: -2.531em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; font-style: italic; ">&#567;</span></span><span style="display: inline-block; width: 0px; height: 2.531em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.907em; vertical-align: -0.309em; "></span></span></nobr></span>',insert:{latex:"\\jmath"},origlabel:'<script type="math/tex">\\jmath<\/script>'},ell:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.516em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.413em; "><span style="position: absolute; clip: rect(1.826em 1000em 2.861em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#8467;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.002em; vertical-align: -0.087em; "></span></span></nobr></span>',insert:{latex:"\\ell"},origlabel:'<script type="math/tex">\\ell<\/script>'},mathcal_real:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.016em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.826em; "><span style="position: absolute; clip: rect(1.638em 1000em 2.66em -1000em); top: -2.479em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Fraktur; ">R</span></span><span style="display: inline-block; width: 0px; height: 2.479em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.987em; vertical-align: -0.094em; "></span></span></nobr></span>',insert:{latex:"\\Re"},origlabel:'<script type="math/tex">\\Re<\/script>'},imaginary:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.568em; "><span style="position: absolute; clip: rect(1.638em 1000em 2.66em -1000em); top: -2.479em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Fraktur; ">I</span></span><span style="display: inline-block; width: 0px; height: 2.479em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.987em; vertical-align: -0.094em; "></span></span></nobr></span>',insert:{latex:"\\Im"},origlabel:'<script type="math/tex">\\Im<\/script>'},powerset:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.62em; "><span style="position: absolute; clip: rect(2.078em 1000em 3.057em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#8472;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.934em; vertical-align: -0.324em; "></span></span></nobr></span>',insert:{latex:"\\wp"},origlabel:'<script type="math/tex">\\wp<\/script>'},aleph:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.62em; "><span style="position: absolute; clip: rect(1.837em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#8501;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.965em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\aleph"},origlabel:'<script type="math/tex">\\aleph<\/script>'},beth:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.671em; "><span style="position: absolute; clip: rect(2.026em 1000em 3.12em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_AMS; ">&#8502;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.02em; "></span></span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.074em; vertical-align: -0.088em; "></span></span></nobr></span>',insert:{latex:"\\beth"},origlabel:'<script type="math/tex">\\beth<\/script>'},gimel:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.516em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.413em; "><span style="position: absolute; clip: rect(2.025em 1000em 3.142em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_AMS; ">&#8503;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.101em; vertical-align: -0.115em; "></span></span></nobr></span>',insert:{latex:"\\gimel"},origlabel:'<script type="math/tex">\\gimel<\/script>'},real:{name:"real",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.891em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.723em; "><span style="position: absolute; clip: rect(2.106em 1000em 3.1em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="mi" style="font-family: MathJax_AMS; ">R</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.953em; vertical-align: -0.064em; "></span></span></nobr></span>',insert:{latex:"\\mathbb{R}",smartType:"RR"},origlabel:'<script type="math/tex">\\mathbb{R}<\/script>'},rational:{name:"rational",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.088em 1000em 3.28em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="mi" style="font-family: MathJax_AMS; ">Q</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.192em; vertical-align: -0.282em; "></span></span></nobr></span>',insert:{latex:"\\mathbb{Q}",smartType:"QQ"},origlabel:'<script type="math/tex">\\mathbb{Q}<\/script>'},integers:{name:"integers",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.671em; "><span style="position: absolute; clip: rect(2.106em 1000em 3.1em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="mi" style="font-family: MathJax_AMS; ">Z</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.953em; vertical-align: -0.064em; "></span></span></nobr></span>',insert:{latex:"\\mathbb{Z}",smartType:"ZZ"},origlabel:'<script type="math/tex">\\mathbb{Z}<\/script>'},pos_integers:{name:"positive integers",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.291em; "><span style="position: absolute; clip: rect(0.004em 1000em 1.137em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 1.292em; "><span style="position: absolute; clip: rect(3.139em 1000em 4.133em -1000em); top: -3.977em; left: 0em; "><span class="texatom"><span class="mrow"><span class="mi" style="font-family: MathJax_AMS; ">Z</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -4.387em; left: 0.667em; "><span class="mo" style="font-size: 70.7%; font-family: MathJax_Main; ">+</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.121em; vertical-align: -0.064em; "></span></span></nobr></span>',insert:{latex:"\\mathbb{Z}^+",smartType:"Z+"},origlabel:'<script type="math/tex">\\mathbb{Z}^+<\/script>'},neg_integers:{name:"negative integers",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.291em; "><span style="position: absolute; clip: rect(0.143em 1000em 1.137em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 1.292em; "><span style="position: absolute; clip: rect(3.139em 1000em 4.133em -1000em); top: -3.977em; left: 0em; "><span class="texatom"><span class="mrow"><span class="mi" style="font-family: MathJax_AMS; ">Z</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -4.387em; left: 0.667em; "><span class="mo" style="font-size: 70.7%; font-family: MathJax_Main; ">&#8722;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.953em; vertical-align: -0.064em; "></span></span></nobr></span>',insert:{latex:"\\mathbb{Z}^-",smartType:"Z-"},origlabel:'<script type="math/tex">\\mathbb{Z}^-<\/script>'},natural:{name:"natural numbers",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.891em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.723em; "><span style="position: absolute; clip: rect(2.106em 1000em 3.119em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="mi" style="font-family: MathJax_AMS; ">N</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.976em; vertical-align: -0.087em; "></span></span></nobr></span>',insert:{latex:"\\mathbb{N}",smartType:"NN"},origlabel:'<script type="math/tex">\\mathbb{N}<\/script>'},complex:{name:"complex numbers",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.891em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.723em; "><span style="position: absolute; clip: rect(2.087em 1000em 3.118em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="mi" style="font-family: MathJax_AMS; ">C</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.997em; vertical-align: -0.085em; "></span></span></nobr></span>',insert:{latex:"\\mathbb{C}",smartType:"CC"},origlabel:'<script type="math/tex">\\mathbb{C}<\/script>'},leftarrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(2.02em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8592;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.757em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\leftarrow",smartType:"<-"},origlabel:'<script type="math/tex">\\leftarrow<\/script>'},rightarrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(2.02em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8594;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.757em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\rightarrow",smartType:"->"},origlabel:'<script type="math/tex">\\rightarrow<\/script>'},uparrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.641em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.517em; "><span style="position: absolute; clip: rect(1.837em 1000em 3.034em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8593;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.198em; vertical-align: -0.296em; "></span></span></nobr></span>',insert:{latex:"\\uparrow"},origlabel:'<script type="math/tex">\\uparrow<\/script>'},downarrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.641em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.517em; "><span style="position: absolute; clip: rect(1.837em 1000em 3.035em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8595;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.199em; vertical-align: -0.297em; "></span></span></nobr></span>',insert:{latex:"\\downarrow"},origlabel:'<script type="math/tex">\\downarrow<\/script>'},nleftarrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(2.352em 1000em 3.039em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_AMS; ">&#8602;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.581em; vertical-align: 0.01em; "></span></span></nobr></span>',insert:{latex:"\\nleftarrow"},origlabel:'<script type="math/tex">\\nleftarrow<\/script>'},nrightarrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(2.352em 1000em 3.039em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_AMS; ">&#8603;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.581em; vertical-align: 0.01em; "></span></span></nobr></span>',insert:{latex:"\\nrightarrow"},origlabel:'<script type="math/tex">\\nrightarrow<\/script>'},longleftarrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.601em; "><span style="position: absolute; clip: rect(2.02em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#10229;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.757em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\longleftarrow"},origlabel:'<script type="math/tex">\\longleftarrow<\/script>'},longrightarrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.601em; "><span style="position: absolute; clip: rect(2.02em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#10230;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.757em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\longrightarrow"},origlabel:'<script type="math/tex">\\longrightarrow<\/script>'},Leftarrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(2.006em 1000em 2.865em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8656;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.789em; vertical-align: -0.092em; "></span></span></nobr></span>',insert:{latex:"\\Leftarrow"},origlabel:'<script type="math/tex">\\Leftarrow<\/script>'},Rightarrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(2.006em 1000em 2.865em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8658;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.789em; vertical-align: -0.092em; "></span></span></nobr></span>',insert:{latex:"\\Rightarrow"},origlabel:'<script type="math/tex">\\Rightarrow<\/script>'},Uparrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.62em; "><span style="position: absolute; clip: rect(1.837em 1000em 3.035em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8657;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.199em; vertical-align: -0.297em; "></span></span></nobr></span>',insert:{latex:"\\Uparrow"},origlabel:'<script type="math/tex">\\Uparrow<\/script>'},Downarrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.62em; "><span style="position: absolute; clip: rect(1.837em 1000em 3.035em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8659;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.199em; vertical-align: -0.297em; "></span></span></nobr></span>',insert:{latex:"\\Downarrow"},origlabel:'<script type="math/tex">\\Downarrow<\/script>'},leftrightarrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(2.02em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8596;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.757em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\leftrightarrow"},origlabel:'<script type="math/tex">\\leftrightarrow<\/script>'},Leftrightarrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(2.005em 1000em 2.866em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8660;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.792em; vertical-align: -0.093em; "></span></span></nobr></span>',insert:{latex:"\\Leftrightarrow"},origlabel:'<script type="math/tex">\\Leftrightarrow<\/script>'},uprightarrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.641em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.517em; "><span style="position: absolute; clip: rect(1.759em 1000em 3.113em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8597;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.388em; vertical-align: -0.392em; "></span></span></nobr></span>',insert:{latex:"\\updownarrow"},origlabel:'<script type="math/tex">\\updownarrow<\/script>'},Uprightarrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.62em; "><span style="position: absolute; clip: rect(1.759em 1000em 3.113em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8661;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.388em; vertical-align: -0.392em; "></span></span></nobr></span>',insert:{latex:"\\Updownarrow"},origlabel:'<script type="math/tex">\\Updownarrow<\/script>'},nearrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(1.811em 1000em 3.036em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8599;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.232em; vertical-align: -0.298em; "></span></span></nobr></span>',insert:{latex:"\\nearrow"},origlabel:'<script type="math/tex">\\nearrow<\/script>'},searrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(1.836em 1000em 3.061em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8600;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.232em; vertical-align: -0.329em; "></span></span></nobr></span>',insert:{latex:"\\searrow"},origlabel:'<script type="math/tex">\\searrow<\/script>'},swarrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(1.836em 1000em 3.061em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8601;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.232em; vertical-align: -0.329em; "></span></span></nobr></span>',insert:{latex:"\\swarrow"},origlabel:'<script type="math/tex">\\swarrow<\/script>'},nwarrow:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(1.811em 1000em 3.036em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8598;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.232em; vertical-align: -0.298em; "></span></span></nobr></span>',insert:{latex:"\\nwarrow"},origlabel:'<script type="math/tex">\\nwarrow<\/script>'},leftrightarrows:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(2.122em 1000em 3.099em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_AMS; ">&#8646;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.932em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\leftrightarrows"},origlabel:'<script type="math/tex">\\leftrightarrows<\/script>'},parens:{name:"()",class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.498em; "><span style="position: absolute; clip: rect(2.039em 1000em 3.349em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">(</span><span class="mi" style="font-family: MathJax_AMS; ">&#9633;</span><span class="mo" style="font-family: MathJax_Main; ">)</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.335em; vertical-align: -0.365em; "></span></span></nobr></span>',insert:{latex:["\\left(","\\right)"],smartType:["(",")"]},origlabel:'<script type="math/tex">(\\Box)<\/script>'},sq_brackets:{name:"[]",class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.291em; "><span style="position: absolute; clip: rect(2.039em 1000em 3.349em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">[</span><span class="mi" style="font-family: MathJax_AMS; ">&#9633;</span><span class="mo" style="font-family: MathJax_Main; ">]</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.335em; vertical-align: -0.365em; "></span></span></nobr></span>',insert:{latex:["\\left[","\\right]"],smartType:["[","]"]},origlabel:'<script type="math/tex">[\\Box]<\/script>'},braces:{name:"{}",class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.808em; "><span style="position: absolute; clip: rect(2.039em 1000em 3.349em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">{</span><span class="mi" style="font-family: MathJax_AMS; ">&#9633;</span><span class="mo" style="font-family: MathJax_Main; ">}</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.335em; vertical-align: -0.365em; "></span></span></nobr></span>',insert:{latex:["\\left\\{","\\right\\}"],smartType:["{","}"]},origlabel:'<script type="math/tex">\\{\\Box\\}<\/script>'},ang_brackets:{name:"angle brackets",class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.498em; "><span style="position: absolute; clip: rect(2.039em 1000em 3.349em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#10216;</span><span class="mi" style="font-family: MathJax_AMS; ">&#9633;</span><span class="mo" style="font-family: MathJax_Main; ">&#10217;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.335em; vertical-align: -0.365em; "></span></span></nobr></span>',insert:{latex:["\\left\\langle","\\right\\rangle"]},origlabel:'<script type="math/tex">\\langle\\Box\\rangle<\/script>'},floor:{name:"floor",class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.601em; "><span style="position: absolute; clip: rect(2.039em 1000em 3.349em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8970;</span><span class="mi" style="font-family: MathJax_AMS; ">&#9633;</span><span class="mo" style="font-family: MathJax_Main; ">&#8971;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.335em; vertical-align: -0.365em; "></span></span></nobr></span>',insert:{latex:["\\left\\lfloor","\\right\\rfloor"],smartType:["floor(",")"]},origlabel:'<script type="math/tex">\\lfloor\\Box\\rfloor<\/script>'},ceil:{name:"ceil",class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.601em; "><span style="position: absolute; clip: rect(2.039em 1000em 3.349em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8968;</span><span class="mi" style="font-family: MathJax_AMS; ">&#9633;</span><span class="mo" style="font-family: MathJax_Main; ">&#8969;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.335em; vertical-align: -0.365em; "></span></span></nobr></span>',insert:{latex:["\\left\\lceil","\\right\\rceil"],smartType:["ceil(",")"]},origlabel:'<script type="math/tex">\\lceil\\Box\\rceil<\/script>'},abs:{name:"||",class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.291em; "><span style="position: absolute; clip: rect(2.039em 1000em 3.348em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">|</span></span></span><span class="mi" style="font-family: MathJax_AMS; ">&#9633;</span><span class="texatom"><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.334em; vertical-align: -0.364em; "></span></span></nobr></span>',insert:{latex:["\\left|","\\right|"],smartType:["abs(",")"]},origlabel:'<script type="math/tex">|\\Box|<\/script>'},dbl_pipe:{name:"\\|\\|",class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.808em; "><span style="position: absolute; clip: rect(2.039em 1000em 3.349em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8741;</span><span class="mi" style="font-family: MathJax_AMS; ">&#9633;</span><span class="mo" style="font-family: MathJax_Main; ">&#8741;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.335em; vertical-align: -0.365em; "></span></span></nobr></span>',insert:{latex:["\\left\\|","\\right\\|"]},origlabel:'<script type="math/tex">\\|\\Box\\|<\/script>'},dots:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.391em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.136em; "><span style="position: absolute; clip: rect(2.411em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8230;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.27em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\dots"},origlabel:'<script type="math/tex">\\dots<\/script>'},cdots:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.391em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.136em; "><span style="position: absolute; clip: rect(2.221em 1000em 2.651em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8943;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.27em; vertical-align: 0.167em; "></span></span></nobr></span>',insert:{latex:"\\cdots"},origlabel:'<script type="math/tex">\\cdots<\/script>'},ldots:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.391em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.136em; "><span style="position: absolute; clip: rect(2.411em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8230;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.27em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\ldots"},origlabel:'<script type="math/tex">\\ldots<\/script>'},vdots:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.328em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.258em; "><span style="position: absolute; clip: rect(1.231em 1000em 2.871em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8942;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.734em; vertical-align: -0.099em; "></span></span></nobr></span>',insert:{latex:"\\vdots"},origlabel:'<script type="math/tex">\\vdots<\/script>'},ddots:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.516em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.24em; "><span style="position: absolute; clip: rect(1.011em 1000em 2.741em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8945;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.843em; vertical-align: 0.059em; "></span></span></nobr></span>',insert:{latex:"\\ddots"},origlabel:'<script type="math/tex">\\ddots<\/script>'},bullet:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.641em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.517em; "><span style="position: absolute; clip: rect(2.087em 1000em 2.786em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8729;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.596em; vertical-align: 0.004em; "></span></span></nobr></span>',insert:{latex:"\\bullet"},origlabel:'<script type="math/tex">\\bullet<\/script>'},odot:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.948em 1000em 2.924em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8857;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.931em; vertical-align: -0.163em; "></span></span></nobr></span>',insert:{latex:"\\odot"},origlabel:'<script type="math/tex">\\odot<\/script>'},bigcirc:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(1.816em 1000em 3.056em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#9711;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.25em; vertical-align: -0.323em; "></span></span></nobr></span>',insert:{latex:"\\bigcirc"},origlabel:'<script type="math/tex">\\bigcirc<\/script>'},plus:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.948em 1000em 2.923em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">+</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.93em; vertical-align: -0.162em; "></span></span></nobr></span>',insert:"+",origlabel:'<script type="math/tex">+<\/script>'},minus:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.261em 1000em 2.611em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8722;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.173em; vertical-align: 0.216em; "></span></span></nobr></span>',insert:"-",origlabel:'<script type="math/tex">-<\/script>'},times:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.04em 1000em 2.832em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#215;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.708em; vertical-align: -0.052em; "></span></span></nobr></span>',insert:{latex:"\\times",smartType:"*"},origlabel:'<script type="math/tex">\\times<\/script>'},cdot:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.328em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.258em; "><span style="position: absolute; clip: rect(2.221em 1000em 2.651em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8901;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.27em; vertical-align: 0.167em; "></span></span></nobr></span>',insert:{latex:"\\cdot",smartType:"*"},origlabel:'<script type="math/tex">\\cdot<\/script>'},div:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.994em 1000em 2.877em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#247;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.818em; vertical-align: -0.106em; "></span></span></nobr></span>',insert:{latex:"\\div"},origlabel:'<script type="math/tex">\\div<\/script>'},slash:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.641em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.517em; "><span style="position: absolute; clip: rect(1.781em 1000em 3.091em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">/</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.335em; vertical-align: -0.365em; "></span></span></nobr></span>',insert:{latex:"/"},origlabel:'<script type="math/tex">/<\/script>'},pm:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.865em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#177;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.931em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\pm",smartType:"+/-"},origlabel:'<script type="math/tex">\\pm<\/script>'},mp:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.031em 1000em 3.007em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8723;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.931em; vertical-align: -0.263em; "></span></span></nobr></span>',insert:{latex:"\\mp"},origlabel:'<script type="math/tex">\\mp<\/script>'},fraction:{name:"fraction",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.016em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.826em; "><span style="position: absolute; clip: rect(-0.068em 1000em 1.53em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="mfrac"><span style="display: inline-block; position: relative; height: 0px; width: 0.67em; margin-right: 0.12em; margin-left: 0.12em; "><span style="position: absolute; clip: rect(3.335em 1000em 4.132em -1000em); top: -4.384em; left: 50%; margin-left: -0.275em; "><span class="mi" style="font-size: 70.7%; font-family: MathJax_AMS; ">&#9633;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.335em 1000em 4.132em -1000em); top: -3.583em; left: 50%; margin-left: -0.275em; "><span class="mi" style="font-size: 70.7%; font-family: MathJax_AMS; ">&#9633;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(0.865em 1000em 1.24em -1000em); top: -1.305em; left: 0em; "><span style="border-left-width: 0.67em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.25px; vertical-align: 0em; "></span><span style="display: inline-block; width: 0px; height: 1.085em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.684em; vertical-align: -0.539em; "></span></span></nobr></span>',insert:{latex:["\\frac{","}{}"],smartType:["(","/)"]},origlabel:'<script type="math/tex">\\frac{\\Box}{\\Box}<\/script>'},sqrt:{name:"\\sqrt",class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.601em; "><span style="position: absolute; clip: rect(-0.039em 1000em 1.28em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msqrt"><span style="display: inline-block; position: relative; height: 0px; width: 1.611em; "><span style="position: absolute; clip: rect(3.133em 1000em 4.132em -1000em); top: -3.977em; left: 0.833em; "><span class="mrow"><span class="mi" style="font-family: MathJax_AMS; ">&#9633;</span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.552em 1000em 3.902em -1000em); top: -4.573em; left: 0.833em; "><span style="font-family: MathJax_Main; ">&#8722;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.022em 1000em 4.332em -1000em); top: -4.033em; left: 0em; "><span style="font-family: MathJax_Main; ">&#8730;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.346em; vertical-align: -0.237em; "></span></span></nobr></span>',insert:{latex:["\\sqrt{","}"],smartType:["sqrt(",")"]},origlabel:'<script type="math/tex">\\sqrt{\\Box}<\/script>'},nth_root:{name:"nth root",class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.601em; "><span style="position: absolute; clip: rect(-0.039em 1000em 1.28em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="mroot"><span style="display: inline-block; position: relative; height: 0px; width: 1.611em; "><span style="position: absolute; clip: rect(3.133em 1000em 4.132em -1000em); top: -3.977em; left: 0.833em; "><span class="mi" style="font-family: MathJax_AMS; ">&#9633;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.552em 1000em 3.902em -1000em); top: -4.573em; left: 0.833em; "><span style="font-family: MathJax_Main; ">&#8722;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.022em 1000em 4.332em -1000em); top: -4.033em; left: 0em; "><span style="font-family: MathJax_Main; ">&#8730;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.601em 1000em 4.138em -1000em); top: -4.478em; left: 0.251em; "><span class="mi" style="font-size: 50%; font-family: MathJax_Math; font-style: italic; ">n</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.346em; vertical-align: -0.237em; "></span></span></nobr></span>',insert:{latex:["\\sqrt[","n","]{}"],smartType:["(","n",")root()"]},origlabel:'<script type="math/tex">\\sqrt[n]{\\Box}<\/script>'},subscript:{name:"_",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(0.384em 1000em 1.293em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 1.021em; "><span style="position: absolute; clip: rect(3.38em 1000em 4.143em -1000em); top: -3.977em; left: 0em; "><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">x</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.827em; left: 0.572em; "><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">a</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.85em; vertical-align: -0.253em; "></span></span></nobr></span>',insert:{latex:["_{","}"],smartType:["_(",")"]},origlabel:'<script type="math/tex">x_a<\/script>'},superscript:{name:"^",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.141em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.93em; "><span style="position: absolute; clip: rect(-0.027em 1000em 1.147em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 0.95em; "><span style="position: absolute; clip: rect(3.38em 1000em 4.143em -1000em); top: -3.977em; left: 0em; "><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">x</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -4.34em; left: 0.572em; "><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">b</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.171em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:["^{","}"],smartType:["^(",")"]},origlabel:'<script type="math/tex">x^b<\/script>'},sub_superscript:{name:"sub and superscript",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(-0.017em 1000em 1.291em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 1.021em; "><span style="position: absolute; clip: rect(3.38em 1000em 4.143em -1000em); top: -3.977em; left: 0em; "><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">x</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.332em 1000em 4.14em -1000em); top: -4.329em; left: 0.572em; "><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">b</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.51em 1000em 4.139em -1000em); top: -3.83em; left: 0.572em; "><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">a</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.332em; vertical-align: -0.249em; "></span></span></nobr></span>',insert:{latex:["_{","}^{}"],smartType:["_(",")^()"]},origlabel:'<script type="math/tex">x_a^b<\/script>'},circ:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.641em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.517em; "><span style="position: absolute; clip: rect(2.087em 1000em 2.786em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8728;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.596em; vertical-align: 0.004em; "></span></span></nobr></span>',insert:{latex:"\\circ"},origlabel:'<script type="math/tex">\\circ<\/script>'},sum:{name:"\\sum",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.391em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.136em; "><span style="position: absolute; clip: rect(-0.714em 1000em 2.128em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 1.168em; "><span style="position: absolute; clip: rect(3.072em 1000em 4.382em -1000em); top: -3.977em; left: 0.056em; "><span class="mo" style="font-family: MathJax_Size1; vertical-align: 0em; ">&#8721;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.355em 1000em 4.24em -1000em); top: -3.093em; left: 0em; "><span class="texatom"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">i</span><span class="mo" style="font-size: 70.7%; font-family: MathJax_Main; ">=</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">a</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.232em 1000em 4.14em -1000em); top: -4.927em; left: 0.432em; "><span class="texatom"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">b</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 3.189em; vertical-align: -1.263em; "></span></span></nobr></span>',insert:{latex:["\\sum_{","}^{}"],smartType:["sum_(",")^()"]},origlabel:'<script type="math/tex">\\sum\\limits_{i=a}^{b}<\/script>'},sideset_sum:{name:"sideset sum",class:"ml-math-panel-2x",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.391em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 130%; width: 1.827em; "><span style="position: absolute; clip: rect(1.112em 1000em 2.657em -1000em); top: -2.212em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 0.429em; "><span style="position: absolute; clip: rect(3.096em 1000em 4.385em -1000em); top: -3.99em; left: 0em; "><span class="texatom"><span class="mrow"><span class="texatom"><span class="mrow"><span class="mpadded"><span style="display: inline-block; position: relative; height: 0px; width: 0em; "><span style="position: absolute; clip: rect(3.096em 1000em 4.385em -1000em); top: -3.99em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="mphantom"><span class="mrow" style="visibility: hidden; "><span class="mo" style="font-family: MathJax_Size1; vertical-align: 0em; ">&#8721;</span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.99em; "></span></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.99em; "></span></span><span style="position: absolute; clip: rect(3.375em 1000em 4.135em -1000em); top: -4.467em; left: 0em; "><span class="mn" style="font-size: 70.7%; font-family: MathJax_Main; ">2</span><span style="display: inline-block; width: 0px; height: 3.99em; "></span></span><span style="position: absolute; clip: rect(3.375em 1000em 4.135em -1000em); top: -3.705em; left: 0em; "><span class="mn" style="font-size: 70.7%; font-family: MathJax_Main; ">1</span><span style="display: inline-block; width: 0px; height: 3.99em; "></span></span></span></span><span class="mspace" style="height: 0em; vertical-align: 0em; margin-left: -0.167em; "></span><span class="msubsup" style="padding-left: 0.167em; "><span style="display: inline-block; position: relative; height: 0px; width: 1.485em; "><span style="position: absolute; clip: rect(3.096em 1000em 4.385em -1000em); top: -3.99em; left: 0em; "><span class="texatom"><span class="mrow"><span class="mo" style="font-family: MathJax_Size1; vertical-align: 0em; ">&#8721;</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em; "></span></span><span style="position: absolute; clip: rect(3.367em 1000em 4.135em -1000em); top: -4.467em; left: 1.056em; "><span class="mn" style="font-size: 70.7%; font-family: MathJax_Main; ">4</span><span style="display: inline-block; width: 0px; height: 3.99em; "></span></span><span style="position: absolute; clip: rect(3.376em 1000em 4.15em -1000em); top: -3.705em; left: 1.056em; "><span class="mn" style="font-size: 70.7%; font-family: MathJax_Main; ">3</span><span style="display: inline-block; width: 0px; height: 3.99em; "></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.212em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.759em; vertical-align: -0.454em; "></span></span></nobr></span>',insert:{latex:"\\sideset{_1^2}{_3^4}\\sum"},origlabel:'<script type="math/tex">\\sideset{_1^2}{_3^4}\\sum<\/script>'},prod:{name:"\\prod",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.391em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.136em; "><span style="position: absolute; clip: rect(-0.714em 1000em 2.128em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 1.168em; "><span style="position: absolute; clip: rect(3.072em 1000em 4.382em -1000em); top: -3.977em; left: 0.112em; "><span class="mo" style="font-family: MathJax_Size1; vertical-align: 0em; ">&#8719;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.355em 1000em 4.24em -1000em); top: -3.093em; left: 0em; "><span class="texatom"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">i</span><span class="mo" style="font-size: 70.7%; font-family: MathJax_Main; ">=</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">a</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.232em 1000em 4.14em -1000em); top: -4.927em; left: 0.432em; "><span class="texatom"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">b</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 3.189em; vertical-align: -1.263em; "></span></span></nobr></span>',insert:{latex:["\\prod_{","}^{}"],smartType:["prod_(",")^()"]},origlabel:'<script type="math/tex">\\prod\\limits_{i=a}^{b}<\/script>'},lt:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.991em 1000em 2.881em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&lt;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.827em; vertical-align: -0.111em; "></span></span></nobr></span>',insert:"<",origlabel:'<script type="math/tex"><<\/script>'},gt:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.991em 1000em 2.881em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&gt;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.827em; vertical-align: -0.111em; "></span></span></nobr></span>',insert:">",origlabel:'<script type="math/tex">><\/script>'},eq:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.164em 1000em 2.708em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">=</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.408em; vertical-align: 0.098em; "></span></span></nobr></span>',insert:"=",origlabel:'<script type="math/tex">=<\/script>'},approx:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.048em 1000em 2.786em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8776;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.643em; vertical-align: 0.004em; "></span></span></nobr></span>',insert:{latex:"\\approx",smartType:"approx"},origlabel:'<script type="math/tex">\\approx<\/script>'},leq:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.895em 1000em 2.979em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8804;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.062em; vertical-align: -0.229em; "></span></span></nobr></span>',insert:{latex:"\\leq",smartType:"<="},origlabel:'<script type="math/tex">\\leq<\/script>'},geq:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.895em 1000em 2.979em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8805;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.062em; vertical-align: -0.229em; "></span></span></nobr></span>',insert:{latex:"\\geq",smartType:">="},origlabel:'<script type="math/tex">\\geq<\/script>'},ll:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(1.963em 1000em 2.908em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8810;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.893em; vertical-align: -0.144em; "></span></span></nobr></span>',insert:{latex:"\\ll"},origlabel:'<script type="math/tex">\\ll<\/script>'},gg:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(1.964em 1000em 2.908em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8811;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.892em; vertical-align: -0.144em; "></span></span></nobr></span>',insert:{latex:"\\gg"},origlabel:'<script type="math/tex">\\gg<\/script>'},notlt:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.081em 1000em 3.308em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_AMS; ">&#8814;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.235em; vertical-align: -0.315em; "></span></span></nobr></span>',insert:{latex:"\\not<"},origlabel:'<script type="math/tex">\\not<<\/script>'},notgt:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.081em 1000em 3.308em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_AMS; ">&#8815;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.235em; vertical-align: -0.315em; "></span></span></nobr></span>',insert:{latex:"\\not>"},origlabel:'<script type="math/tex">\\not><\/script>'},neq:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.815em 1000em 3.056em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8800;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.252em; vertical-align: -0.323em; "></span></span></nobr></span>',insert:{latex:"\\neq",smartType:"/="},origlabel:'<script type="math/tex">\\neq<\/script>'},notapprox:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.815em 1000em 3.056em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8776;&#824;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.252em; vertical-align: -0.323em; "></span></span></nobr></span>',insert:{latex:"\\not\\approx"},origlabel:'<script type="math/tex">\\not\\approx<\/script>'},notleq:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.988em 1000em 3.402em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_AMS; ">&#8816;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.461em; vertical-align: -0.429em; "></span></span></nobr></span>',insert:{latex:"\\not\\leq"},origlabel:'<script type="math/tex">\\not\\leq<\/script>'},notgeq:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.988em 1000em 3.402em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_AMS; ">&#8817;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.461em; vertical-align: -0.429em; "></span></span></nobr></span>',insert:{latex:"\\not\\geq"},origlabel:'<script type="math/tex">\\not\\geq<\/script>'},propto:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.089em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8733;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.673em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\propto"},origlabel:'<script type="math/tex">\\propto<\/script>'},equiv:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.067em 1000em 2.805em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8801;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.643em; vertical-align: -0.019em; "></span></span></nobr></span>',insert:{latex:"\\equiv"},origlabel:'<script type="math/tex">\\equiv<\/script>'},sim:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.164em 1000em 2.708em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8764;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.408em; vertical-align: 0.098em; "></span></span></nobr></span>',insert:{latex:"\\sim"},origlabel:'<script type="math/tex">\\sim<\/script>'},simeq:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.067em 1000em 2.805em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8771;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.643em; vertical-align: -0.019em; "></span></span></nobr></span>',insert:{latex:"\\simeq"},origlabel:'<script type="math/tex">\\simeq<\/script>'},circeq:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.068em 1000em 2.966em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_AMS; ">&#8791;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.836em; vertical-align: 0.098em; "></span></span></nobr></span>',insert:{latex:"\\circeq"},origlabel:'<script type="math/tex">\\circeq<\/script>'},asymp:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.047em 1000em 2.825em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8781;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.691em; vertical-align: -0.043em; "></span></span></nobr></span>',insert:{latex:"\\asymp"},origlabel:'<script type="math/tex">\\asymp<\/script>'},eq_lhospital:{name:"equal l'Hospital",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(-0.324em 1000em 1.003em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 0.778em; "><span style="position: absolute; clip: rect(3.455em 1000em 3.999em -1000em); top: -3.977em; left: 0em; "><span class="texatom"><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">=</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.239em 1000em 4.132em -1000em); top: -4.544em; left: 0.124em; "><span class="texatom"><span class="mrow"><span class="mtext" style="font-size: 70.7%; font-family: MathJax_Main; ">H</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.356em; vertical-align: 0.098em; "></span></span></nobr></span>',insert:{latex:"\\stackrel{\\text{H}}{=}"},origlabel:'<script type="math/tex">\\stackrel{\\text{H}}{=}<\/script>'},log:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.291em; "><span style="position: absolute; clip: rect(1.837em 1000em 3.047em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">log</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.214em; vertical-align: -0.312em; "></span></span></nobr></span>',insert:{latex:"\\log",smartType:"log"},origlabel:'<script type="math/tex">\\log<\/script>'},ln:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.016em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.826em; "><span style="position: absolute; clip: rect(1.837em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">ln</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.965em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\ln",smartType:"ln"},origlabel:'<script type="math/tex">\\ln<\/script>'},log_10:{class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.453em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.014em; "><span style="position: absolute; clip: rect(0.132em 1000em 1.393em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 2.06em; "><span style="position: absolute; clip: rect(3.128em 1000em 4.338em -1000em); top: -3.977em; left: 0em; "><span class="mi" style="font-family: MathJax_Main; ">log</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.736em; left: 1.278em; "><span class="texatom"><span class="mrow"><span class="mn" style="font-size: 70.7%; font-family: MathJax_Main; ">10</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.276em; vertical-align: -0.373em; "></span></span></nobr></span>',insert:{latex:"\\log_{10}",smartType:"log_10"},origlabel:'<script type="math/tex">\\log_{10}<\/script>'},exp:{class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.498em; "><span style="position: absolute; clip: rect(2.083em 1000em 3.035em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">exp</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.902em; vertical-align: -0.297em; "></span></span></nobr></span>',insert:{latex:"\\exp",smartType:"exp"},origlabel:'<script type="math/tex">\\exp<\/script>'},min:{class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.016em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.653em; "><span style="position: absolute; clip: rect(1.862em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">min</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.934em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\min"},origlabel:'<script type="math/tex">\\min<\/script>'},max:{class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.266em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.86em; "><span style="position: absolute; clip: rect(2.083em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">max</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.68em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\max"},origlabel:'<script type="math/tex">\\max<\/script>'},infty:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(2.089em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#8734;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.673em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\infty",smartType:"inf"},origlabel:'<script type="math/tex">\\infty<\/script>'},e:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.465em; "><span style="position: absolute; clip: rect(1.831em 1000em 2.594em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">e</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.673em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:"e",origlabel:'<script type="math/tex">e<\/script>'},i:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.453em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.362em; "><span style="position: absolute; clip: rect(1.612em 1000em 2.594em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">i</span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.938em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:"i",origlabel:'<script type="math/tex">i<\/script>'},undef:{name:"undefined",class:"ml-math-panel-4x",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 5.141em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 4.236em; "><span style="position: absolute; clip: rect(1.826em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="mtext" style="font-family: MathJax_Main; ">undefined</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.991em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\textrm{undefined}",smartType:"undefined"},origlabel:'<script type="math/tex">\\textrm{undefined}<\/script>'},dne:{name:"does not exist",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 6.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 5.733em; "><span style="position: absolute; clip: rect(1.837em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="mtext" style="font-family: MathJax_Main; ">does not exist</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.978em; vertical-align: -0.076em; "></span></span></nobr></span>',class:"ml-math-panel-4x",insert:{latex:"\\textrm{does not exist}",smartType:"dne"},origlabel:'<script type="math/tex">\\textrm{does not exist}<\/script>'},square:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.1em 1000em 3.099em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_AMS; ">&#9633;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.959em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\square"},origlabel:'<script type="math/tex">\\square<\/script>'},bar:{name:"\\bar",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.568em; "><span style="position: absolute; clip: rect(0.209em 1000em 1.147em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 0.572em; "><span style="position: absolute; clip: rect(3.38em 1000em 4.143em -1000em); top: -3.977em; left: 0em; "><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">x</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.232em 1000em 3.588em -1000em); top: -4.004em; left: 0.064em; "><span class="mo" style="font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.885em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:["\\bar{","x","}"]},origlabel:'<script type="math/tex">\\bar{x}<\/script>'},hat:{name:"\\hat",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.568em; "><span style="position: absolute; clip: rect(0.092em 1000em 1.147em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 0.572em; "><span style="position: absolute; clip: rect(3.38em 1000em 4.143em -1000em); top: -3.977em; left: 0em; "><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">x</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.128em 1000em 3.601em -1000em); top: -4.017em; left: 0.064em; "><span class="mo" style="font-family: MathJax_Main; ">^</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.027em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:["\\hat{","x","}"]},origlabel:'<script type="math/tex">\\hat{x}<\/script>'},tilde:{name:"\\tilde",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.568em; "><span style="position: absolute; clip: rect(0.152em 1000em 1.147em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 0.572em; "><span style="position: absolute; clip: rect(3.38em 1000em 4.143em -1000em); top: -3.977em; left: 0em; "><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">x</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.504em 1000em 3.917em -1000em); top: -4.333em; left: 0.064em; "><span class="mo" style="font-family: MathJax_Main; ">~</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.954em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:["\\tilde{","x","}"]},origlabel:'<script type="math/tex">\\tilde{x}<\/script>'},overline:{name:"\\overline",class:"ml-math-panel-3x",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.324em; "><span style="position: absolute; clip: rect(-0.089em 1000em 1.341em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 2.344em; "><span style="position: absolute; clip: rect(3.239em 1000em 4.337em -1000em); top: -3.977em; left: 0.013em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">x</span><span class="mo" style="font-family: MathJax_Main; padding-left: 0.222em; ">+</span><span class="mi" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em; ">y<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.006em; "></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.405em 1000em 3.748em -1000em); top: -4.376em; left: 0.029em; "><span class="mo" style=""><span style="display: inline-block; position: relative; height: 0px; width: 2.315em; "><span style="position: absolute; top: -3.977em; left: -0.049em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 2.011em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.135em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.343em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.552em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.76em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.969em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 1.177em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 1.386em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 1.594em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 1.802em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.481em; vertical-align: -0.311em; "></span></span></nobr></span>',insert:{latex:["\\overline{","x+y","}"]},origlabel:'<script type="math/tex">\\overline{x+y}<\/script>'},underline:{name:"\\underline",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.273em; "><span style="position: absolute; clip: rect(0.243em 1000em 1.561em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 2.303em; "><span style="position: absolute; clip: rect(3.239em 1000em 4.337em -1000em); top: -3.977em; left: 0.012em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">x</span><span class="mo" style="font-family: MathJax_Main; padding-left: 0.222em; ">+</span><span class="mi" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em; ">y<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.006em; "></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.552em 1000em 3.902em -1000em); top: -3.322em; left: -0.029em; "><span class="mo" style=""><span style="display: inline-block; position: relative; height: 0px; width: 2.315em; "><span style="position: absolute; font-family: MathJax_Main; top: -3.977em; left: -0.084em; ">&#8722;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; font-family: MathJax_Main; top: -3.977em; left: 1.621em; ">&#8722;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="font-family: MathJax_Main; position: absolute; top: -3.977em; left: 0.323em; ">&#8722;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="font-family: MathJax_Main; position: absolute; top: -3.977em; left: 0.756em; ">&#8722;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="font-family: MathJax_Main; position: absolute; top: -3.977em; left: 1.188em; ">&#8722;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.345em; vertical-align: -0.577em; "></span></span></nobr></span>',class:"ml-math-panel-3x",insert:{latex:["\\underline{","x+y","}"]},origlabel:'<script type="math/tex">\\underline{x+y}<\/script>'},overbrace:{name:"\\overbrace",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.324em; "><span style="position: absolute; clip: rect(-0.947em 1000em 1.341em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 2.344em; "><span style="position: absolute; clip: rect(2.661em 1000em 4.337em -1000em); top: -3.977em; left: 0em; "><span class="texatom"><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 2.344em; "><span style="position: absolute; clip: rect(3.239em 1000em 4.337em -1000em); top: -3.977em; left: 0.012em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">x</span><span class="mo" style="font-family: MathJax_Main; padding-left: 0.222em; ">+</span><span class="mi" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em; ">y<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.006em; "></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(0.591em 1000em 1.287em -1000em); top: -1.817em; left: 0.029em; "><span class="mo" style=""><span style="display: inline-block; position: relative; height: 0px; width: 2.315em; "><span style="position: absolute; top: -3.977em; left: 0.017em; "><span style="font-size: 70.7%; font-family: MathJax_Size4; ">&#57680;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 1.98em; "><span style="font-size: 70.7%; font-family: MathJax_Size4; ">&#57681;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.834em; "><span style="font-size: 70.7%; font-family: MathJax_Size4; ">&#57683;&#57682;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.229em; "><span style="font-size: 70.7%; font-family: MathJax_Size4; ">&#57684;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.431em; "><span style="font-size: 70.7%; font-family: MathJax_Size4; ">&#57684;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.632em; "><span style="font-size: 70.7%; font-family: MathJax_Size4; ">&#57684;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 1.375em; "><span style="font-size: 70.7%; font-family: MathJax_Size4; ">&#57684;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 1.577em; "><span style="font-size: 70.7%; font-family: MathJax_Size4; ">&#57684;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 1.778em; "><span style="font-size: 70.7%; font-family: MathJax_Size4; ">&#57684;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.41em 1000em 4.139em -1000em); top: -5.339em; left: 0.985em; "><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">a</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 2.519em; vertical-align: -0.311em; "></span></span></nobr></span>',class:"ml-math-panel-3x",insert:{latex:["\\overbrace{","x+y","}^a"]},origlabel:'<script type="math/tex">\\overbrace{x+y}^a<\/script>'},underbrace:{name:"\\underbrace",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.273em; "><span style="position: absolute; clip: rect(0.243em 1000em 2.748em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 2.302em; "><span style="position: absolute; clip: rect(3.239em 1000em 5.05em -1000em); top: -3.977em; left: 0em; "><span class="texatom"><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 2.302em; "><span style="position: absolute; clip: rect(3.239em 1000em 4.337em -1000em); top: -3.977em; left: 0.012em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">x</span><span class="mo" style="font-family: MathJax_Main; padding-left: 0.222em; ">+</span><span class="mi" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em; ">y<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.006em; "></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(0.493em 1000em 1.349em -1000em); top: -0.276em; left: -0.029em; "><span class="mo" style=""><span style="display: inline-block; position: relative; height: 0px; width: 2.315em; "><span style="position: absolute; font-family: MathJax_Size4; top: -3.977em; left: 0.024em; ">&#57682;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -3.977em; left: 1.841em; ">&#57683;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -3.977em; left: 0.705em; ">&#57681;&#57680;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -3.977em; left: 0.377em; ">&#57684;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -3.977em; left: 1.513em; ">&#57684;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.51em 1000em 4.239em -1000em); top: -2.472em; left: 0.964em; "><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">a</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 2.781em; vertical-align: -2.013em; "></span></span></nobr></span>',class:"ml-math-panel-3x",insert:{latex:["\\underbrace{","x+y","}_a"]},origlabel:'<script type="math/tex">\\underbrace{x+y}_a<\/script>'},overrightarrow:{name:"\\overrightarrow",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.324em; "><span style="position: absolute; clip: rect(-0.255em 1000em 1.341em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 2.324em; "><span style="position: absolute; clip: rect(3.239em 1000em 4.337em -1000em); top: -3.977em; left: 0.003em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">x</span><span class="mo" style="font-family: MathJax_Main; padding-left: 0.222em; ">+</span><span class="mi" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em; ">y<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.006em; "></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.461em 1000em 4.14em -1000em); top: -4.698em; left: 0.029em; "><span class="mo" style=""><span style="display: inline-block; position: relative; height: 0px; width: 2.295em; "><span style="position: absolute; top: -3.977em; left: -0.059em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#8722;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 1.628em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#8594;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.258em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#8722;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.6em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#8722;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.943em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#8722;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 1.285em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#8722;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.597em; vertical-align: -0.311em; "></span></span></nobr></span>',class:"ml-math-panel-3x",insert:{latex:["\\overrightarrow{","x+y","}"]},origlabel:'<script type="math/tex">\\overrightarrow{x+y}<\/script>'},overleftarrow:{name:"\\overleftarrow",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.324em; "><span style="position: absolute; clip: rect(-0.255em 1000em 1.341em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 2.344em; "><span style="position: absolute; clip: rect(3.239em 1000em 4.337em -1000em); top: -3.977em; left: 0.013em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">x</span><span class="mo" style="font-family: MathJax_Main; padding-left: 0.222em; ">+</span><span class="mi" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em; ">y<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.006em; "></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.461em 1000em 4.14em -1000em); top: -4.698em; left: 0.029em; "><span class="mo" style=""><span style="display: inline-block; position: relative; height: 0px; width: 2.315em; "><span style="position: absolute; top: -3.977em; left: -0.039em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#8592;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 1.824em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#8722;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.455em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#8722;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.797em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#8722;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 1.14em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#8722;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 1.482em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#8722;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.597em; vertical-align: -0.311em; "></span></span></nobr></span>',class:"ml-math-panel-3x",insert:{latex:["\\overleftarrow{","x+y","}"]},origlabel:'<script type="math/tex">\\overleftarrow{x+y}<\/script>'},widehat:{name:"\\widehat",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.273em; "><span style="position: absolute; clip: rect(-0.17em 1000em 1.341em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 2.29em; "><span style="position: absolute; clip: rect(3.239em 1000em 4.337em -1000em); top: -3.977em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">x</span><span class="mo" style="font-family: MathJax_Main; padding-left: 0.222em; ">+</span><span class="mi" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em; ">y<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.006em; "></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(2.977em 1000em 3.571em -1000em); top: -4.128em; left: 0.229em; "><span class="mo" style=""><span style="font-family: MathJax_Size4; ">&#710;</span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.578em; vertical-align: -0.311em; "></span></span></nobr></span>',class:"ml-math-panel-3x",insert:{latex:["\\widehat{","x+y","}"]},origlabel:'<script type="math/tex">\\widehat{x+y}<\/script>'},widetilde:{name:"\\widetilde",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.273em; "><span style="position: absolute; clip: rect(-0.126em 1000em 1.341em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 2.29em; "><span style="position: absolute; clip: rect(3.239em 1000em 4.337em -1000em); top: -3.977em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">x</span><span class="mo" style="font-family: MathJax_Main; padding-left: 0.222em; ">+</span><span class="mi" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em; ">y<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.006em; "></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(2.999em 1000em 3.549em -1000em); top: -4.106em; left: 0.229em; "><span class="mo" style=""><span style="font-family: MathJax_Size4; ">&#732;</span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.525em; vertical-align: -0.311em; "></span></span></nobr></span>',class:"ml-math-panel-3x",insert:{latex:["\\widetilde{","x+y","}"]},origlabel:'<script type="math/tex">\\widetilde{x+y}<\/script>'},xleftarrow:{name:"\\xleftarrow",class:"ml-math-panel-3x",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.324em; "><span style="position: absolute; clip: rect(-0.107em 1000em 1.912em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 2.339em; "><span style="position: absolute; clip: rect(3.311em 1000em 4.143em -1000em); top: -3.977em; left: 0em; "><span class="mo" style=""><span style="display: inline-block; position: relative; height: 0px; width: 2.339em; "><span style="position: absolute; font-family: MathJax_Main; top: -3.977em; left: -0.055em; ">&#8592;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; font-family: MathJax_Main; top: -3.977em; left: 1.645em; ">&#8722;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="font-family: MathJax_Main; position: absolute; top: -3.977em; left: 0.662em; ">&#8722;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="font-family: MathJax_Main; position: absolute; top: -3.977em; left: 1.153em; ">&#8722;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.332em 1000em 4.38em -1000em); top: -3.45em; left: 0.013em; "><span class="mpadded"><span style="display: inline-block; position: relative; height: 0px; width: 2.314em; "><span style="position: absolute; clip: rect(3.332em 1000em 4.14em -1000em); top: -3.737em; left: 0.327em; "><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">u</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">n</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">d<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.002em; "></span></span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">e</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">r</span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.359em 1000em 4.14em -1000em); top: -4.447em; left: 0.269em; "><span class="mpadded"><span style="display: inline-block; position: relative; height: 0px; width: 1.801em; "><span style="position: absolute; clip: rect(3.509em 1000em 4.14em -1000em); top: -4.127em; left: 0.327em; "><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">o</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">v</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">e</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">r</span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.962em; vertical-align: -0.831em; "></span></span></nobr></span>',insert:{latex:["\\xleftarrow[","under","]{over}"]},origlabel:'<script type="math/tex">\\xleftarrow[under]{over}<\/script>'},xrightarrow:{name:"\\xrightarrow",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.324em; "><span style="position: absolute; clip: rect(-0.107em 1000em 1.912em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 2.361em; "><span style="position: absolute; clip: rect(3.311em 1000em 4.143em -1000em); top: -3.977em; left: 0.001em; "><span class="mo" style=""><span style="display: inline-block; position: relative; height: 0px; width: 2.358em; "><span style="position: absolute; font-family: MathJax_Main; top: -3.977em; left: -0.084em; ">&#8722;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; font-family: MathJax_Main; top: -3.977em; left: 1.414em; ">&#8594;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="font-family: MathJax_Main; position: absolute; top: -3.977em; left: 0.399em; ">&#8722;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="font-family: MathJax_Main; position: absolute; top: -3.977em; left: 0.906em; ">&#8722;<span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.332em 1000em 4.38em -1000em); top: -3.45em; left: 0em; "><span class="mpadded"><span style="display: inline-block; position: relative; height: 0px; width: 2.361em; "><span style="position: absolute; clip: rect(3.332em 1000em 4.14em -1000em); top: -3.737em; left: 0.234em; "><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">u</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">n</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">d<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.002em; "></span></span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">e</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">r</span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.359em 1000em 4.14em -1000em); top: -4.447em; left: 0.256em; "><span class="mpadded"><span style="display: inline-block; position: relative; height: 0px; width: 1.848em; "><span style="position: absolute; clip: rect(3.509em 1000em 4.14em -1000em); top: -4.127em; left: 0.234em; "><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">o</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">v</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">e</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">r</span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.962em; vertical-align: -0.831em; "></span></span></nobr></span>',class:"ml-math-panel-3x",insert:{latex:["\\xrightarrow[","under","]{over}"]},origlabel:'<script type="math/tex">\\xrightarrow[under]{over}<\/script>'},cap:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.671em; "><span style="position: absolute; clip: rect(1.933em 1000em 2.863em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8745;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.875em; vertical-align: -0.089em; "></span></span></nobr></span>',insert:{latex:"\\cap",smartType:"cap"},origlabel:'<script type="math/tex">\\cap<\/script>'},cup:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.671em; "><span style="position: absolute; clip: rect(1.933em 1000em 2.863em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8746;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.875em; vertical-align: -0.089em; "></span></span></nobr></span>',insert:{latex:"\\cup",smartType:"U"},origlabel:'<script type="math/tex">\\cup<\/script>'},setminus:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.641em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.517em; "><span style="position: absolute; clip: rect(1.781em 1000em 3.091em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8726;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.335em; vertical-align: -0.365em; "></span></span></nobr></span>',insert:{latex:"\\setminus"},origlabel:'<script type="math/tex">\\setminus<\/script>'},bigtriangleup:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.078em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.878em; "><span style="position: absolute; clip: rect(1.815em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#9651;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.991em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\bigtriangleup"},origlabel:'<script type="math/tex">\\bigtriangleup<\/script>'},prime:{name:"\\prime",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.328em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.258em; "><span style="position: absolute; clip: rect(0.068em 1000em 1.136em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 0.269em; "><span style="position: absolute; clip: rect(3.822em 1000em 4.132em -1000em); top: -3.977em; left: 0em; "><span class="mi"></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -4.34em; left: 0em; "><span class="mi" style="font-size: 70.7%; font-family: MathJax_Main; ">&#8242;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.043em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"^\\prime",smartType:"'"},origlabel:'<script type="math/tex">^\\prime<\/script>'},inf:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.391em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.136em; "><span style="position: absolute; clip: rect(1.826em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">inf</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.978em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\inf"},origlabel:'<script type="math/tex">\\inf<\/script>'},sup:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.498em; "><span style="position: absolute; clip: rect(2.083em 1000em 3.035em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">sup</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.902em; vertical-align: -0.297em; "></span></span></nobr></span>',insert:{latex:"\\sup"},origlabel:'<script type="math/tex">\\sup<\/script>'},coprod:{name:"\\coprod",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.141em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.93em; "><span style="position: absolute; clip: rect(1.781em 1000em 3.091em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Size1; vertical-align: 0em; ">&#8720;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.335em; vertical-align: -0.365em; "></span></span></nobr></span>',insert:{latex:["\\coprod_{","}^{}"]},origlabel:'<script type="math/tex">\\coprod<\/script>'},oplus:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.948em 1000em 2.924em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8853;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.931em; vertical-align: -0.163em; "></span></span></nobr></span>',insert:{latex:"\\oplus"},origlabel:'<script type="math/tex">\\oplus<\/script>'},subset:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.991em 1000em 2.881em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8834;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.827em; vertical-align: -0.111em; "></span></span></nobr></span>',insert:{latex:"\\subset",smartType:"sub"},origlabel:'<script type="math/tex">\\subset<\/script>'},supset:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.991em 1000em 2.881em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8835;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.827em; vertical-align: -0.111em; "></span></span></nobr></span>',insert:{latex:"\\supset",smartType:"sup"},origlabel:'<script type="math/tex">\\supset<\/script>'},subseteq:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.895em 1000em 2.979em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8838;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.062em; vertical-align: -0.229em; "></span></span></nobr></span>',insert:{latex:"\\subseteq",smartType:"sube"},origlabel:'<script type="math/tex">\\subseteq<\/script>'},supseteq:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.895em 1000em 2.979em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8839;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.062em; vertical-align: -0.229em; "></span></span></nobr></span>',insert:{latex:"\\supseteq",smartType:"supe"},origlabel:'<script type="math/tex">\\supseteq<\/script>'},subsetneq:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.154em 1000em 3.34em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_AMS; ">&#8842;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.185em; vertical-align: -0.354em; "></span></span></nobr></span>',insert:{latex:"\\subsetneq"},origlabel:'<script type="math/tex">\\subsetneq<\/script>'},supsetneq:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.154em 1000em 3.34em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_AMS; ">&#8843;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.185em; vertical-align: -0.354em; "></span></span></nobr></span>',insert:{latex:"\\supsetneq"},origlabel:'<script type="math/tex">\\supsetneq<\/script>'},_in:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.671em; "><span style="position: absolute; clip: rect(1.991em 1000em 2.881em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8712;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.827em; vertical-align: -0.111em; "></span></span></nobr></span>',insert:{latex:"\\in",smartType:"in"},origlabel:'<script type="math/tex">\\in<\/script>'},notin:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.671em; "><span style="position: absolute; clip: rect(1.815em 1000em 3.056em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8713;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.252em; vertical-align: -0.323em; "></span></span></nobr></span>',insert:{latex:"\\notin"},origlabel:'<script type="math/tex">\\notin<\/script>'},ni:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.671em; "><span style="position: absolute; clip: rect(1.991em 1000em 2.881em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8715;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.827em; vertical-align: -0.111em; "></span></span></nobr></span>',insert:{latex:"\\ni"},origlabel:'<script type="math/tex">\\ni<\/script>'},prec:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.992em 1000em 2.882em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8826;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.827em; vertical-align: -0.112em; "></span></span></nobr></span>',insert:{latex:"\\prec"},origlabel:'<script type="math/tex">\\prec<\/script>'},succ:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.992em 1000em 2.882em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8827;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.827em; vertical-align: -0.112em; "></span></span></nobr></span>',insert:{latex:"\\succ"},origlabel:'<script type="math/tex">\\succ<\/script>'},preceq:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.895em 1000em 2.979em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#10927;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.062em; vertical-align: -0.229em; "></span></span></nobr></span>',insert:{latex:"\\preceq"},origlabel:'<script type="math/tex">\\preceq<\/script>'},succeq:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.895em 1000em 2.979em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#10928;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.062em; vertical-align: -0.229em; "></span></span></nobr></span>',insert:{latex:"\\succeq"},origlabel:'<script type="math/tex">\\succeq<\/script>'},emptyset:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.641em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.517em; "><span style="position: absolute; clip: rect(1.759em 1000em 2.919em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#8709;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.153em; vertical-align: -0.157em; "></span></span></nobr></span>',insert:{latex:"\\emptyset",smartType:"{}"},origlabel:'<script type="math/tex">\\emptyset<\/script>'},varnothing:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(2.202em 1000em 3.102em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_AMS; ">&#8709;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.839em; vertical-align: -0.066em; "></span></span></nobr></span>',insert:{latex:"\\varnothing"},origlabel:'<script type="math/tex">\\varnothing<\/script>'},lor:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.671em; "><span style="position: absolute; clip: rect(1.933em 1000em 2.863em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8744;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.875em; vertical-align: -0.089em; "></span></span></nobr></span>',insert:{latex:"\\lor"},origlabel:'<script type="math/tex">\\lor<\/script>'},land:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.671em; "><span style="position: absolute; clip: rect(1.933em 1000em 2.863em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8743;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.875em; vertical-align: -0.089em; "></span></span></nobr></span>',insert:{latex:"\\land"},origlabel:'<script type="math/tex">\\land<\/script>'},neg:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.671em; "><span style="position: absolute; clip: rect(2.175em 1000em 2.752em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#172;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.448em; vertical-align: 0.045em; "></span></span></nobr></span>',insert:{latex:"\\neg"},origlabel:'<script type="math/tex">\\neg<\/script>'},implies:{name:"implies",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(2.006em 1000em 2.865em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8658;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.789em; vertical-align: -0.092em; "></span></span></nobr></span>',insert:{latex:"\\Rightarrow"},origlabel:'<script type="math/tex">\\Rightarrow<\/script>'},iff:{name:"if and only if",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.981em; "><span style="position: absolute; clip: rect(2.006em 1000em 2.865em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8656;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.789em; vertical-align: -0.092em; "></span></span></nobr></span>',insert:{latex:"\\Leftrightarrow"},origlabel:'<script type="math/tex">\\Leftarrow<\/script>'},therefore:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.671em; "><span style="position: absolute; clip: rect(2.318em 1000em 3.181em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_AMS; ">&#8756;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.794em; vertical-align: -0.162em; "></span></span></nobr></span>',insert:{latex:"\\therefore"},origlabel:'<script type="math/tex">\\therefore<\/script>'},because:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.671em; "><span style="position: absolute; clip: rect(2.318em 1000em 3.181em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_AMS; ">&#8757;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.794em; vertical-align: -0.162em; "></span></span></nobr></span>',insert:{latex:"\\because"},origlabel:'<script type="math/tex">\\because<\/script>'},forall:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.568em; "><span style="position: absolute; clip: rect(1.837em 1000em 2.863em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#8704;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.991em; vertical-align: -0.089em; "></span></span></nobr></span>',insert:{latex:"\\forall"},origlabel:'<script type="math/tex">\\forall<\/script>'},exists:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.568em; "><span style="position: absolute; clip: rect(1.837em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#8707;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.965em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\exists"},origlabel:'<script type="math/tex">\\exists<\/script>'},nexists:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.568em; "><span style="position: absolute; clip: rect(1.815em 1000em 3.056em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#8707;&#824;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.252em; vertical-align: -0.323em; "></span></span></nobr></span>',insert:{latex:"\\nexists"},origlabel:'<script type="math/tex">\\nexists<\/script>'},parallel:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.641em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.517em; "><span style="position: absolute; clip: rect(1.781em 1000em 3.091em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8741;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.335em; vertical-align: -0.365em; "></span></span></nobr></span>',insert:{latex:"\\parallel"},origlabel:'<script type="math/tex">\\parallel<\/script>'},nparallel:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.641em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.517em; "><span style="position: absolute; clip: rect(2.039em 1000em 3.349em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_AMS; ">&#8742;</span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.335em; vertical-align: -0.365em; "></span></span></nobr></span>',insert:{latex:"\\nparallel"},origlabel:'<script type="math/tex">\\nparallel<\/script>'},perp:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(1.863em 1000em 2.841em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8869;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.933em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"\\perp"},origlabel:'<script type="math/tex">\\perp<\/script>'},sin:{class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.453em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.188em; "><span style="position: absolute; clip: rect(1.862em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">sin</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.948em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\sin",smartType:"sin"},origlabel:'<script type="math/tex">\\sin<\/script>'},cos:{class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.291em; "><span style="position: absolute; clip: rect(2.083em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">cos</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.68em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\cos",smartType:"cos"},origlabel:'<script type="math/tex">\\cos<\/script>'},tan:{class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.446em; "><span style="position: absolute; clip: rect(1.916em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">tan</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.882em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\tan",smartType:"tan"},origlabel:'<script type="math/tex">\\tan<\/script>'},invsin:{class:"ml-math-panel-2-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.641em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.169em; "><span style="position: absolute; clip: rect(-0.04em 1000em 1.147em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 2.207em; "><span style="position: absolute; clip: rect(3.153em 1000em 4.143em -1000em); top: -3.977em; left: 0em; "><span class="mi" style="font-family: MathJax_Main; ">sin</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -4.373em; left: 1.228em; "><span class="texatom"><span class="mrow"><span class="mo" style="font-size: 70.7%; font-family: MathJax_Main; ">&#8722;</span><span class="mn" style="font-size: 70.7%; font-family: MathJax_Main; ">1</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.187em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\sin^{-1}",smartType:"sin^(-1)"},origlabel:'<script type="math/tex">\\sin^{-1}<\/script>'},invcos:{class:"ml-math-panel-2-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.273em; "><span style="position: absolute; clip: rect(-0.007em 1000em 1.147em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 2.317em; "><span style="position: absolute; clip: rect(3.374em 1000em 4.143em -1000em); top: -3.977em; left: 0em; "><span class="mi" style="font-family: MathJax_Main; ">cos</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -4.34em; left: 1.338em; "><span class="texatom"><span class="mrow"><span class="mo" style="font-size: 70.7%; font-family: MathJax_Main; ">&#8722;</span><span class="mn" style="font-size: 70.7%; font-family: MathJax_Main; ">1</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.147em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\cos^{-1}",smartType:"cos^(-1)"},origlabel:'<script type="math/tex">\\cos^{-1}<\/script>'},invtan:{class:"ml-math-panel-2-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.891em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.376em; "><span style="position: absolute; clip: rect(-0.007em 1000em 1.147em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 2.424em; "><span style="position: absolute; clip: rect(3.207em 1000em 4.143em -1000em); top: -3.977em; left: 0em; "><span class="mi" style="font-family: MathJax_Main; ">tan</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -4.34em; left: 1.445em; "><span class="texatom"><span class="mrow"><span class="mo" style="font-size: 70.7%; font-family: MathJax_Main; ">&#8722;</span><span class="mn" style="font-size: 70.7%; font-family: MathJax_Main; ">1</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.147em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\tan^{-1}",smartType:"tan^(-1)"},origlabel:'<script type="math/tex">\\tan^{-1}<\/script>'},arcsin:{class:"ml-math-panel-2-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 3.016em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.479em; "><span style="position: absolute; clip: rect(1.862em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">arcsin</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.948em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\arcsin",smartType:"arcsin"},origlabel:'<script type="math/tex">\\arcsin<\/script>'},arccos:{class:"ml-math-panel-2-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 3.141em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.583em; "><span style="position: absolute; clip: rect(2.083em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">arccos</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.68em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\arccos",smartType:"arccos"},origlabel:'<script type="math/tex">\\arccos<\/script>'},arctan:{class:"ml-math-panel-2-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 3.328em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.738em; "><span style="position: absolute; clip: rect(1.916em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">arctan</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.882em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\arctan",smartType:"arctan"},origlabel:'<script type="math/tex">\\arctan<\/script>'},sec:{class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.453em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.188em; "><span style="position: absolute; clip: rect(2.083em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">sec</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.68em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\sec",smartType:"sec"},origlabel:'<script type="math/tex">\\sec<\/script>'},csc:{class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.453em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.188em; "><span style="position: absolute; clip: rect(2.083em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">csc</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.68em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\csc",smartType:"csc"},origlabel:'<script type="math/tex">\\csc<\/script>'},cot:{class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.291em; "><span style="position: absolute; clip: rect(1.916em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">cot</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.882em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\cot",smartType:"cot"},origlabel:'<script type="math/tex">\\cot<\/script>'},sinh:{class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.141em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.756em; "><span style="position: absolute; clip: rect(1.837em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">sinh</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.978em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\sinh",smartType:"sinh"},origlabel:'<script type="math/tex">\\sinh<\/script>'},cosh:{class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.266em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.86em; "><span style="position: absolute; clip: rect(1.837em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">cosh</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.978em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\cosh",smartType:"cosh"},origlabel:'<script type="math/tex">\\cosh<\/script>'},tanh:{class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.453em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.014em; "><span style="position: absolute; clip: rect(1.837em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">tanh</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.978em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\tanh",smartType:"tanh"},origlabel:'<script type="math/tex">\\tanh<\/script>'},coth:{class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.266em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.86em; "><span style="position: absolute; clip: rect(1.837em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">coth</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.978em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\coth",smartType:"coth"},origlabel:'<script type="math/tex">\\coth<\/script>'},ddx:{name:"d/dx",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.328em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.085em; "><span style="position: absolute; clip: rect(-0.079em 1000em 1.542em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="mfrac"><span style="display: inline-block; position: relative; height: 0px; width: 0.887em; margin-right: 0.12em; margin-left: 0.12em; "><span style="position: absolute; clip: rect(3.332em 1000em 4.14em -1000em); top: -4.392em; left: 50%; margin-left: -0.197em; "><span class="texatom"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Main; ">d</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.332em 1000em 4.14em -1000em); top: -3.58em; left: 50%; margin-left: -0.383em; "><span class="texatom"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Main; ">d</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Main; ">x</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(0.865em 1000em 1.24em -1000em); top: -1.305em; left: 0em; "><span style="border-left-width: 0.887em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.25px; vertical-align: 0em; "></span><span style="display: inline-block; width: 0px; height: 1.085em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.711em; vertical-align: -0.553em; "></span></span></nobr></span>',insert:{latex:["\\frac{\\mathrm{d}}{\\mathrm{d}","x","}"],smartType:["(d/d","x",")"]},origlabel:'<script type="math/tex">\\frac{\\mathrm{d}}{\\mathrm{dx}}<\/script>'},partial:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.641em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.517em; "><span style="position: absolute; clip: rect(1.816em 1000em 2.863em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#8706;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.035em; "></span></span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.017em; vertical-align: -0.089em; "></span></span></nobr></span>',insert:{latex:"\\partial"},origlabel:'<script type="math/tex">\\partial<\/script>'},nabla:{label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.016em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.826em; "><span style="position: absolute; clip: rect(1.848em 1000em 2.874em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#8711;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.991em; vertical-align: -0.102em; "></span></span></nobr></span>',insert:{latex:"\\nabla"},origlabel:'<script type="math/tex">\\nabla<\/script>'},_int:{name:"\\int",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.266em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.033em; "><span style="position: absolute; clip: rect(-0.197em 1000em 1.484em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 1.08em; "><span style="position: absolute; clip: rect(3.017em 1000em 4.438em -1000em); top: -3.977em; left: 0em; "><span class="mo" style="font-family: MathJax_Size1; vertical-align: 0em; ">&#8747;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.138em; "></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.332em 1000em 4.14em -1000em); top: -4.51em; left: 0.701em; "><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">b</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.51em 1000em 4.139em -1000em); top: -3.636em; left: 0.472em; "><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">a</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.784em; vertical-align: -0.483em; "></span></span></nobr></span>',insert:{latex:["\\int_{","}^{}"],smartType:["int","_a^b"]},origlabel:'<script type="math/tex">\\int_a^b<\/script>'},iint:{name:"\\iint",class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.766em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.446em; "><span style="position: absolute; clip: rect(0.021em 1000em 1.477em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 1.479em; "><span style="position: absolute; clip: rect(3.017em 1000em 4.438em -1000em); top: -3.977em; left: 0em; "><span class="mo" style="font-family: MathJax_Size1; vertical-align: 0em; ">&#8748;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.138em; "></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.636em; left: 0.819em; "><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">D</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.512em; vertical-align: -0.475em; "></span></span></nobr></span>',insert:{latex:["\\iint_{","}"]},origlabel:'<script type="math/tex">\\iint_D<\/script>'},iiint:{name:"\\iiint",class:"ml-math-panel-1-half",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.808em; "><span style="position: absolute; clip: rect(0.021em 1000em 1.477em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 1.826em; "><span style="position: absolute; clip: rect(3.017em 1000em 4.438em -1000em); top: -3.977em; left: 0em; "><span class="mo" style="font-family: MathJax_Size1; vertical-align: 0em; ">&#8749;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.138em; "></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.636em; left: 1.166em; "><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">D</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.512em; vertical-align: -0.475em; "></span></span></nobr></span>',insert:{latex:["\\iiint_{","}"]},origlabel:'<script type="math/tex">\\iiint_D<\/script>'},oint:{name:"\\oint",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.266em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.033em; "><span style="position: absolute; clip: rect(-0.197em 1000em 1.484em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 1.08em; "><span style="position: absolute; clip: rect(3.017em 1000em 4.438em -1000em); top: -3.977em; left: 0em; "><span class="mo" style="font-family: MathJax_Size1; vertical-align: 0em; ">&#8750;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.138em; "></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.332em 1000em 4.14em -1000em); top: -4.51em; left: 0.701em; "><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">b</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.51em 1000em 4.139em -1000em); top: -3.636em; left: 0.472em; "><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">a</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.784em; vertical-align: -0.483em; "></span></span></nobr></span>',insert:{latex:["\\oint_{","}^{}"]},origlabel:'<script type="math/tex">\\oint_a^b<\/script>'},lim:{name:"\\lim",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.808em; "><span style="position: absolute; clip: rect(0.132em 1000em 1.844em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 1.819em; "><span style="position: absolute; clip: rect(3.128em 1000em 4.132em -1000em); top: -3.977em; left: 0.215em; "><span class="mo" style="font-family: MathJax_Main; ">lim</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.461em 1000em 4.24em -1000em); top: -3.377em; left: 0em; "><span class="texatom"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">x</span><span class="mo" style="font-size: 70.7%; font-family: MathJax_Main; ">&#8594;</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Main; ">&#8734;</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.821em; vertical-align: -0.919em; "></span></span></nobr></span>',class:"ml-math-panel-2x",insert:{latex:["\\lim_{","x\\rightarrow\\infty","}"],smartType:["lim_(","x->inf",")"]},origlabel:'<script type="math/tex">\\lim\\limits_{x\\rightarrow\\infty}<\/script>'},liminf:{name:"\\liminf",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 3.266em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.686em; "><span style="position: absolute; clip: rect(0.121em 1000em 1.844em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 2.696em; "><span style="position: absolute; clip: rect(3.117em 1000em 4.132em -1000em); top: -3.977em; left: 0em; "><span class="mo" style="font-family: MathJax_Main; ">lim&#8198;inf</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.461em 1000em 4.24em -1000em); top: -3.377em; left: 0.439em; "><span class="texatom"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">x</span><span class="mo" style="font-size: 70.7%; font-family: MathJax_Main; ">&#8594;</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Main; ">&#8734;</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.834em; vertical-align: -0.919em; "></span></span></nobr></span>',class:"ml-math-panel-3x",insert:{latex:["\\liminf_{","x\\rightarrow\\infty","}"]},origlabel:'<script type="math/tex">\\liminf\\limits_{x\\rightarrow\\infty}<\/script>'},limsup:{name:"\\limsup",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 3.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 3.048em; "><span style="position: absolute; clip: rect(0.132em 1000em 2.038em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 3.062em; "><span style="position: absolute; clip: rect(3.128em 1000em 4.326em -1000em); top: -3.977em; left: 0em; "><span class="mo" style="font-family: MathJax_Main; ">lim&#8198;sup</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.461em 1000em 4.24em -1000em); top: -3.183em; left: 0.622em; "><span class="texatom"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">x</span><span class="mo" style="font-size: 70.7%; font-family: MathJax_Main; ">&#8594;</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Main; ">&#8734;</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 2.056em; vertical-align: -1.154em; "></span></span></nobr></span>',class:"ml-math-panel-3x",insert:{latex:["\\limsup_{","x\\rightarrow\\infty","}"]},origlabel:'<script type="math/tex">\\limsup\\limits_{x\\rightarrow\\infty}<\/script>'},matrix1x2:{name:"1x2 matrix",class:"ml-math-panel-2x",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.203em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.808em; "><span style="position: absolute; clip: rect(1.847em 1000em 2.757em -1000em); top: -2.428em; left: 0em; "><span class="mrow"><span class="mstyle"><span class="mrow"><span class="mrow"><span class="mo" style="vertical-align: 0em; "><span><span style="font-size: 50%; font-family: MathJax_Size1; ">(</span></span></span><span class="mtable" style="padding-right: 0.167em; padding-left: 0.167em; "><span style="display: inline-block; position: relative; height: 0px; width: 1.01em; "><span style="position: absolute; clip: rect(3.575em 1000em 4.204em -1000em); top: -3.977em; left: 0em; "><span style="display: inline-block; position: relative; height: 0px; width: 0.374em; "><span style="position: absolute; clip: rect(3.51em 1000em 4.139em -1000em); top: -3.913em; left: 50%; margin-left: -0.187em; "><span class="mtd"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">a</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.396em 1000em 4.205em -1000em); top: -3.977em; left: 0.707em; "><span style="display: inline-block; position: relative; height: 0px; width: 0.303em; "><span style="position: absolute; clip: rect(3.332em 1000em 4.14em -1000em); top: -3.913em; left: 50%; margin-left: -0.152em; "><span class="mtd"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">b</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span class="mo" style="vertical-align: 0em; "><span><span style="font-size: 50%; font-family: MathJax_Size1; ">)</span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.428em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.852em; vertical-align: -0.274em; "></span></span></nobr></span>',insert:{latex:["\\left(\\begin{matrix} ","a"," & b \\end{matrix}\\right)"],smartType:["( ","a"," & b )"]},origlabel:'<script type="math/tex">\\scriptscriptstyle \\left(\\begin{smallmatrix}a&b\\end{smallmatrix}\\right)<\/script>'},matrix2x1:{name:"2x1 matrix",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.395em; "><span style="position: absolute; clip: rect(1.858em 1000em 3.367em -1000em); top: -2.738em; left: 0em; "><span class="mrow"><span class="mstyle"><span class="mrow"><span class="mrow"><span class="mo" style="vertical-align: 0em; "><span><span style="font-size: 50%; font-family: MathJax_Size3; ">(</span></span></span><span class="mtable" style="padding-right: 0.167em; padding-left: 0.167em; "><span style="display: inline-block; position: relative; height: 0px; width: 0.374em; "><span style="position: absolute; clip: rect(3.137em 1000em 4.464em -1000em); top: -3.977em; left: 0em; "><span style="display: inline-block; position: relative; height: 0px; width: 0.374em; "><span style="position: absolute; clip: rect(3.51em 1000em 4.139em -1000em); top: -4.351em; left: 50%; margin-left: -0.187em; "><span class="mtd"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">a</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.332em 1000em 4.14em -1000em); top: -3.653em; left: 50%; margin-left: -0.152em; "><span class="mtd"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">b</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span class="mo" style="vertical-align: 0em; "><span><span style="font-size: 50%; font-family: MathJax_Size3; ">)</span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.738em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.576em; vertical-align: -0.637em; "></span></span></nobr></span>',insert:{latex:["\\left(\\begin{matrix} ","a"," \\\\ b \\end{matrix}\\right)"],smartType:["( ","a"," \\ b )"]},origlabel:'<script type="math/tex">\\scriptscriptstyle \\left(\\begin{smallmatrix}a\\\\b\\end{smallmatrix}\\right)<\/script>'},matrix2x2:{name:"2x2 matrix",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.516em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.066em; "><span style="position: absolute; clip: rect(1.807em 1000em 3.367em -1000em); top: -2.738em; left: 0em; "><span class="mrow"><span class="mstyle"><span class="mrow"><span class="mrow"><span class="mo" style="vertical-align: 0em; "><span><span style="font-size: 50%; font-family: MathJax_Size3; ">(</span></span></span><span class="mtable" style="padding-right: 0.167em; padding-left: 0.167em; "><span style="display: inline-block; position: relative; height: 0px; width: 1.077em; "><span style="position: absolute; clip: rect(3.226em 1000em 4.554em -1000em); top: -3.977em; left: 0em; "><span style="display: inline-block; position: relative; height: 0px; width: 0.374em; "><span style="position: absolute; clip: rect(3.51em 1000em 4.139em -1000em); top: -4.262em; left: 50%; margin-left: -0.187em; "><span class="mtd"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">a</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.51em 1000em 4.14em -1000em); top: -3.563em; left: 50%; margin-left: -0.153em; "><span class="mtd"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">c</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.047em 1000em 4.553em -1000em); top: -3.977em; left: 0.707em; "><span style="display: inline-block; position: relative; height: 0px; width: 0.37em; "><span style="position: absolute; clip: rect(3.332em 1000em 4.14em -1000em); top: -4.262em; left: 50%; margin-left: -0.152em; "><span class="mtd"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">b</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.332em 1000em 4.139em -1000em); top: -3.563em; left: 50%; margin-left: -0.185em; "><span class="mtd"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">d<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.002em; "></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span class="mo" style="vertical-align: 0em; "><span><span style="font-size: 50%; font-family: MathJax_Size3; ">)</span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.738em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.638em; vertical-align: -0.637em; "></span></span></nobr></span>',class:"ml-math-panel-2x",insert:{latex:["\\left(\\begin{matrix} ","a"," & b \\\\ c & d \\end{matrix}\\right)"],smartType:["( ","a"," & b \\ c & d )"]},origlabel:'<script type="math/tex">\\scriptscriptstyle \\left(\\begin{smallmatrix}a&b\\\\c&d\\end{smallmatrix}\\right)<\/script>'},vec:{name:"\\vec",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.465em; "><span style="position: absolute; clip: rect(0.056em 1000em 1.147em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 0.491em; "><span style="position: absolute; clip: rect(3.379em 1000em 4.143em -1000em); top: -3.977em; left: 0em; "><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">v</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -4.033em; left: 0.049em; "><span style="height: 0em; vertical-align: 0em; width: 0.471em; display: inline-block; overflow-x: hidden; overflow-y: hidden; "></span><span class="mo" style="font-family: MathJax_Main; ">&#8407;&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.258em; "></span></span><span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0em; "></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.07em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:["\\vec{","v","}"]},origlabel:'<script type="math/tex">\\vec{v}<\/script>'},vhat:{name:"\\hat",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.641em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.517em; "><span style="position: absolute; clip: rect(0.091em 1000em 1.147em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="texatom"><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 0.528em; "><span style="position: absolute; clip: rect(3.379em 1000em 4.143em -1000em); top: -3.977em; left: 0.008em; "><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">v</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.128em 1000em 3.601em -1000em); top: -4.018em; left: 0.028em; "><span class="mo" style="font-family: MathJax_Main; ">^</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.028em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:["\\hat{","v","}"]},origlabel:'<script type="math/tex">\\hat{v}<\/script>'},vunderline:{name:"\\underline",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.953em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.775em; "><span style="position: absolute; clip: rect(0.383em 1000em 1.367em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 0.778em; "><span style="position: absolute; clip: rect(3.379em 1000em 4.143em -1000em); top: -3.977em; left: 0.147em; "><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">v</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.552em 1000em 3.902em -1000em); top: -3.516em; left: 0em; "><span class="mo" style=""><span style="font-family: MathJax_Main; ">&#8722;</span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.941em; vertical-align: -0.342em; "></span></span></nobr></span>',insert:{latex:["\\underline{","v","}"]},origlabel:'<script type="math/tex">\\underline{v}<\/script>'},voverline:{name:"\\overline",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 0.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 0.465em; "><span style="position: absolute; clip: rect(0.051em 1000em 1.147em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 0.51em; "><span style="position: absolute; clip: rect(3.379em 1000em 4.143em -1000em); top: -3.977em; left: 0.013em; "><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">v</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.405em 1000em 3.748em -1000em); top: -4.236em; left: 0em; "><span class="mo" style=""><span style="display: inline-block; position: relative; height: 0px; width: 0.51em; "><span style="position: absolute; top: -3.977em; left: -0.049em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.206em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.066em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.077em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:["\\overline{","v","}"]},origlabel:'<script type="math/tex">\\overline{v}<\/script>'},Msubscript:{name:"subscripting",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.328em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.911em; "><span style="position: absolute; clip: rect(0.076em 1000em 1.566em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 1.916em; "><span style="position: absolute; clip: rect(3.072em 1000em 4.382em -1000em); top: -3.977em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">[</span><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">A</span><span class="mo" style="font-family: MathJax_Main; ">]</span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.692em; left: 1.306em; "><span class="texatom"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">i</span><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">j</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.552em; vertical-align: -0.582em; "></span></span></nobr></span>',insert:{latex:"\\left[A\\right]_{ij}",smartType:"[A]_(ij)"},origlabel:'<script type="math/tex">\\left[A\\right]_{ij}<\/script>'},transpose:{name:"transpose",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.291em; "><span style="position: absolute; clip: rect(-0.015em 1000em 1.136em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 1.323em; "><span style="position: absolute; clip: rect(3.106em 1000em 4.132em -1000em); top: -3.977em; left: 0em; "><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">A</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -4.34em; left: 0.75em; "><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">T<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.085em; "></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.143em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:"A^T",origlabel:'<script type="math/tex">A^T<\/script>'},ker:{name:"\\ker",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.578em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.291em; "><span style="position: absolute; clip: rect(1.837em 1000em 2.852em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">ker</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.978em; vertical-align: -0.076em; "></span></span></nobr></span>',insert:{latex:"\\ker"},origlabel:'<script type="math/tex">\\ker<\/script>'},dagger:{name:"\\dagger",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 1.391em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.136em; "><span style="position: absolute; clip: rect(-0.035em 1000em 1.136em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="msubsup"><span style="display: inline-block; position: relative; height: 0px; width: 1.139em; "><span style="position: absolute; clip: rect(3.106em 1000em 4.132em -1000em); top: -3.977em; left: 0em; "><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">A</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -4.34em; left: 0.75em; "><span class="texatom"><span class="mrow"><span class="mo" style="font-size: 70.7%; font-family: MathJax_Main; ">&#8224;</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.167em; vertical-align: -0.063em; "></span></span></nobr></span>',insert:{latex:"A^{\\dagger}"},origlabel:'<script type="math/tex">A^{\\dagger}<\/script>'}},i={lc_greek:[n.alpha,n.beta,n.gamma,n.delta,n.epsilon,n.zeta,n.eta,n.theta,n.iota,n.kappa,n.lambda,n.mu,n.nu,n.xi,n.omicron,n.pi,n.rho,n.sigma,n.tau,n.upsilon,n.phi,n.chi,n.psi,n.omega],var_greek:[n.varepsilon,n.vartheta,n.varkappa,n.varpi,n.varsigma,n.varphi],uc_greek:[n.Gamma,n.Delta,n.Theta,n.Lambda,n.Xi,n.Pi,n.Sigma,n.Upsilon,n.Phi,n.Psi,n.Omega],misc_letters:[n.eth,n.hbar,n.dotlessi,n.dotlessj,n.ell,n.mathcal_real,n.imaginary,n.powerset,n.aleph,n.beth,n.gimel,n.real,n.rational,n.integers,n.pos_integers,n.neg_integers,n.natural,n.complex],arrows:[n.leftarrow,n.rightarrow,n.uparrow,n.downarrow,n.nleftarrow,n.nrightarrow,n.longleftarrow,n.longrightarrow,n.Leftarrow,n.Rightarrow,n.Uparrow,n.Downarrow,n.leftrightarrow,n.Leftrightarrow,n.uprightarrow,n.Uprightarrow,n.nearrow,n.searrow,n.swarrow,n.nwarrow,n.leftrightarrows],brackets:[n.parens,n.sq_brackets,n.braces,n.ang_brackets,n.floor,n.ceil,n.abs,n.dbl_pipe],dots:[n.dots,n.cdots,n.ldots,n.vdots,n.ddots,n.bullet,n.odot,n.bigcirc],common_operators:[n.plus,n.minus,n.times,n.cdot,n.div,n.slash,n.pm,n.mp,n.fraction,n.sqrt,n.nth_root,n.subscript,n.superscript,n.sub_superscript,n.circ,n.sum,n.sideset_sum,n.prod],common_relations:[n.lt,n.gt,n.eq,n.approx,n.leq,n.geq,n.ll,n.gg,n.notlt,n.notgt,n.neq,n.notapprox,n.notleq,n.notgeq,n.propto,n.equiv,n.sim,n.simeq,n.circeq,n.asymp,n.eq_lhospital],common_functions:[n.log,n.ln,n.log_10,n.exp,n.min,n.max],special_vals:[n.infty,n.pi,n.e,n.i,n.undef,n.dne],punctuation:[n.square,n.bullet],decorated_single_characters:[n.bar,n.hat,n.tilde],decorated_multiple_characters:[n.overline,n.underline,n.overbrace,n.underbrace,n.overrightarrow,n.overleftarrow,n.widehat,n.widetilde,n.xleftarrow,n.xrightarrow],set_operators:[n.cap,n.cup,n.setminus,n.bigtriangleup,n.powerset,n.prime,n.inf,n.sup,n.coprod,n.oplus],set_relations:[n.subset,n.supset,n.subseteq,n.supseteq,n.subsetneq,n.supsetneq,n._in,n.notin,n.ni,n.prec,n.succ,n.preceq,n.succeq],common_sets:[n.emptyset,n.varnothing,n.real,n.rational,n.integers,n.pos_integers,n.neg_integers,n.natural,n.complex],logic_operators:[n.lor,n.land,n.neg,n.implies,n.iff,n.therefore,n.because],logic_quantifiers:[n.forall,n.exists,n.nexists],geometry_relations:[n.parallel,n.nparallel,n.perp],geometry_functions:[n.sin,n.cos,n.tan,n.invsin,n.invcos,n.invtan,n.arcsin,n.arccos,n.arctan,n.sec,n.csc,n.cot,n.sinh,n.cosh,n.tanh,n.coth],derivative:[n.ddx,n.prime,n.partial,n.nabla],integral:[n._int,n.iint,n.iiint,n.oint],limits:[n.lim,n.liminf,n.limsup],matrices:[n.matrix1x2,n.matrix2x1,n.matrix2x2,n.vec,n.vhat,n.vunderline,n.voverline,n.Msubscript,n.transpose,n.ker,n.dagger],input_operators:[n.fraction,n.plus,n.sqrt,n.superscript,n.exp,n.abs,n.times,n.minus,n.nth_root,n.ln,n.log_10],input_brackets:[n.parens,n.sq_brackets,n.abs],input_matrices:[n.matrix1x2,n.matrix2x1,n.matrix2x2],input_exponential:[n.ln,n.log_10,n.exp],input_sets:[n.cap,n.cup,n.emptyset,n.pm],input_geometry_functions:[n.sin,n.cos,n.tan,n.invsin,n.invcos,n.invtan,n.sec,n.csc,n.cot,n.sinh,n.cosh,n.tanh,n.coth]},r={letters:{name:"letters",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 3.016em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.479em; "><span style="position: absolute; clip: rect(2.084em 1000em 3.119em -1000em); top: -2.944em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">&#945;</span><span class="mi" style="font-family: MathJax_Main; ">&#937;</span><span class="mi" style="font-family: MathJax_Main; ">&#8467;</span><span class="texatom"><span class="mrow"><span class="mi" style="font-family: MathJax_AMS; ">R</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.944em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.002em; vertical-align: -0.087em; "></span></span></nobr></span>',class:"ml-math-panel-letters",items:[{label:"Lowercase Greek",class:"ml-math-panel-letters-lowergreek",sticky:!0,items:i.lc_greek},{class:"ml-math-panel-vertical",items:[{label:"Alternate shapes",sticky:!0,items:i.var_greek},{label:"Upper case Greek",sticky:!0,items:i.uc_greek}]},{label:"other letters",sticky:!0,items:i.misc_letters}],origlabel:'<script type="math/tex">\\alpha\\Omega\\ell\\mathbb{R}<\/script>'},arrows:{name:"Arrows, brackets, dots",class:"ml-math-panel-delimiters",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 3.453em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.841em; "><span style="position: absolute; clip: rect(1.781em 1000em 3.091em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8593;</span><span class="mo" style="font-family: MathJax_Main; padding-left: 0.278em; ">&#8968;</span><span class="mo" style="font-family: MathJax_Main; ">&#10217;</span><span class="mo" style="font-family: MathJax_Main; padding-left: 0.167em; ">&#8943;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.335em; vertical-align: -0.365em; "></span></span></nobr></span>',items:[{label:"Arrows",sticky:!0,items:i.arrows},{label:"Brackets",sticky:!0,class:"ml-math-panel-brackets",items:i.brackets},{label:"Dots",sticky:!0,items:i.dots}],origlabel:'<script type="math/tex">\\uparrow\\lceil\\rangle\\cdots<\/script>'},common:{name:"Common",class:"ml-math-panel-common",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 3.703em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 3.048em; "><span style="position: absolute; clip: rect(1.991em 1000em 2.881em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#215;</span><span class="mo" style="font-family: MathJax_Main; padding-left: 0.278em; ">&lt;</span><span class="mi" style="font-family: MathJax_Main; padding-left: 0.278em; ">&#8734;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.827em; vertical-align: -0.111em; "></span></span></nobr></span>',items:[{label:"Operators",sticky:!0,class:"ml-math-panel-common-operators",items:i.common_operators},{label:"Relations",sticky:!0,items:i.common_relations},{label:"Functions",sticky:!0,items:i.common_functions},{label:"Special values",sticky:!0,class:"ml-math-panel-specialval",items:i.special_vals},{label:"Punctuation",sticky:!0,items:i.punctuation}],origlabel:'<script type="math/tex">\\times<\\infty<\/script>'},decorated:{name:"Decorated text",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.828em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.324em; "><span style="position: absolute; clip: rect(-0.089em 1000em 1.341em -1000em); top: -0.981em; left: 0em; "><span class="mrow"><span class="munderover"><span style="display: inline-block; position: relative; height: 0px; width: 2.344em; "><span style="position: absolute; clip: rect(3.239em 1000em 4.337em -1000em); top: -3.977em; left: 0.013em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Math; font-style: italic; ">x</span><span class="mo" style="font-family: MathJax_Main; padding-left: 0.222em; ">+</span><span class="mi" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em; ">y<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.006em; "></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.405em 1000em 3.748em -1000em); top: -4.376em; left: 0.029em; "><span class="mo" style=""><span style="display: inline-block; position: relative; height: 0px; width: 2.315em; "><span style="position: absolute; top: -3.977em; left: -0.049em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 2.011em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.135em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.343em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.552em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.76em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 0.969em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 1.177em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 1.386em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 1.594em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; top: -3.977em; left: 1.802em; "><span style="font-size: 70.7%; font-family: MathJax_Main; ">&#175;</span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 0.981em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.481em; vertical-align: -0.311em; "></span></span></nobr></span>',items:[{label:"Single characters",sticky:!0,items:i.decorated_single_characters},{label:"Multiple characters",sticky:!0,class:"ml-math-panel-decorated-multi",items:i.decorated_multiple_characters}],origlabel:'<script type="math/tex">\\overline{x+y}<\/script>'},sets:{name:"sets",class:"ml-math-panel-sets",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.891em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.376em; "><span style="position: absolute; clip: rect(1.933em 1000em 2.881em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8746;</span><span class="mo" style="font-family: MathJax_Main; padding-left: 0.278em; ">&#8834;<span style="font-family: MathJax_Main; font-style: normal; font-weight: normal; ">&#8712;</span></span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.897em; vertical-align: -0.111em; "></span></span></nobr></span>',items:[{label:"Operators",sticky:!0,items:i.set_operators},{label:"Relations",sticky:!0,items:i.set_relations},{label:"Common sets",sticky:!0,items:i.common_sets}],origlabel:'<script type="math/tex">\\cup\\subset\\in<\/script>'},logic:{name:"Logic",class:"ml-math-panel-logic",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.328em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 1.911em; "><span style="position: absolute; clip: rect(1.837em 1000em 2.863em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8744;</span><span class="mi" style="font-family: MathJax_Main; ">&#172;</span><span class="mi" style="font-family: MathJax_Main; ">&#8704;</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 0.991em; vertical-align: -0.089em; "></span></span></nobr></span>',items:[{label:"Operators",sticky:!0,items:i.logic_operators},{label:"Quantifiers",sticky:!0,items:i.logic_quantifiers}],origlabel:'<script type="math/tex">\\lor\\neg\\forall<\/script>'},geometry:{name:"Geometrical",class:"ml-math-panel-geometrical",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 3.328em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.738em; "><span style="position: absolute; clip: rect(1.781em 1000em 3.091em -1000em); top: -2.686em; left: 0em; "><span class="mrow"><span class="mo" style="font-family: MathJax_Main; ">&#8869;<span style="font-family: MathJax_Main; font-style: normal; font-weight: normal; ">&#8741;</span></span><span class="mi" style="font-family: MathJax_Main; padding-left: 0.278em; ">sin</span></span><span style="display: inline-block; width: 0px; height: 2.686em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.335em; vertical-align: -0.365em; "></span></span></nobr></span>',items:[{label:"Relations",sticky:!0,items:i.geometry_relations},{label:"Functions",sticky:!0,items:i.geometry_functions}],origlabel:'<script type="math/tex">\\perp\\parallel\\sin<\/script>'},calculus:{name:"Calculus",class:"ml-math-panel-calculus",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.516em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.066em; "><span style="position: absolute; clip: rect(1.777em 1000em 3.198em -1000em); top: -2.738em; left: 0em; "><span class="mrow"><span class="mi" style="font-family: MathJax_Main; ">&#8706;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.035em; "></span></span><span class="mi" style="font-family: MathJax_Main; ">&#8711;</span><span class="mo" style="font-family: MathJax_Size1; vertical-align: 0em; padding-left: 0.167em; ">&#8747;<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.138em; "></span></span></span><span style="display: inline-block; width: 0px; height: 2.738em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.469em; vertical-align: -0.432em; "></span></span></nobr></span>',items:[{label:"Derivative",sticky:!0,items:i.derivative},{label:"Integral",sticky:!0,items:i.integral},{label:"Limits",sticky:!0,items:i.limits}],origlabel:'<script type="math/tex">\\partial\\nabla\\int<\/script>'},linear_algebra:{name:"Linear algebra",class:"ml-math-panel-linalg",label:'<span class="MathJax" style=""><nobr><span class="math" role="math" style="width: 2.516em; display: inline-block; "><span style="display: inline-block; position: relative; height: 0px; font-size: 121%; width: 2.066em; "><span style="position: absolute; clip: rect(1.807em 1000em 3.367em -1000em); top: -2.738em; left: 0em; "><span class="mrow"><span class="mstyle"><span class="mrow"><span class="mrow"><span class="mo" style="vertical-align: 0em; "><span><span style="font-size: 50%; font-family: MathJax_Size3; ">(</span></span></span><span class="mtable" style="padding-right: 0.167em; padding-left: 0.167em; "><span style="display: inline-block; position: relative; height: 0px; width: 1.077em; "><span style="position: absolute; clip: rect(3.226em 1000em 4.554em -1000em); top: -3.977em; left: 0em; "><span style="display: inline-block; position: relative; height: 0px; width: 0.374em; "><span style="position: absolute; clip: rect(3.51em 1000em 4.139em -1000em); top: -4.262em; left: 50%; margin-left: -0.187em; "><span class="mtd"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">a</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.51em 1000em 4.14em -1000em); top: -3.563em; left: 50%; margin-left: -0.153em; "><span class="mtd"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">c</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.047em 1000em 4.553em -1000em); top: -3.977em; left: 0.707em; "><span style="display: inline-block; position: relative; height: 0px; width: 0.37em; "><span style="position: absolute; clip: rect(3.332em 1000em 4.14em -1000em); top: -4.262em; left: 50%; margin-left: -0.152em; "><span class="mtd"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">b</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span><span style="position: absolute; clip: rect(3.332em 1000em 4.139em -1000em); top: -3.563em; left: 50%; margin-left: -0.185em; "><span class="mtd"><span class="mrow"><span class="mi" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic; ">d<span style="display: inline-block; overflow-x: hidden; overflow-y: hidden; height: 1px; width: 0.002em; "></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em; "></span></span></span></span><span class="mo" style="vertical-align: 0em; "><span><span style="font-size: 50%; font-family: MathJax_Size3; ">)</span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.738em; "></span></span></span><span style="border-left-width: 0em; border-left-style: solid; border-left-color: initial; display: inline-block; overflow-x: hidden; overflow-y: hidden; width: 0px; height: 1.638em; vertical-align: -0.637em; "></span></span></nobr></span>',items:[{items:i.matrices}],origlabel:'<script type="math/tex">\\scriptscriptstyle \\left(\\begin{smallmatrix}a&b\\\\c&d\\end{smallmatrix}\\right)<\/script>'},input_letters:{name:"letters",class:"ml-math-panel-letters",items:[{label:"Greek Letters",class:"ml-math-panel-letters-lowergreek",sticky:!0,items:[i.lc_greek,[{label:"",sticky:!0,items:i.uc_greek},{label:"",sticky:!0,items:i.var_greek}]]}],origlabel:'<script type="math/tex">\\alpha\\Omega\\ell\\mathbb{R}<\/script>'},input_common:{name:"Common",class:"ml-math-panel-common",items:[{label:"Basic and Special Values",sticky:!0,class:"ml-math-panel-common-operators",items:[{label:"",sticky:!0,items:i.input_operators},{label:"",sticky:!0,items:i.special_vals}]}],origlabel:'<script type="math/tex">\\times<\\infty<\/script>'},input_set:{name:"Set",class:"ml-math-panel-geometrical",items:[{label:"Sets",items:i.input_sets,sticky:!0}],origlabel:'<script type="math/tex">\\cup\\subset\\in<\/script>'},input_trig:{name:"Geometrical",class:"ml-math-panel-geometrical",items:[{label:"Trigonometric Functions",sticky:!0,items:i.input_geometry_functions}],origlabel:'<script type="math/tex">\\ln\\sin<\/script>'},input_matrices:{name:"Linear algebra",class:"ml-math-panel-linalg",items:[{items:i.input_matrices,sticky:!0,label:"Matrices"}],origlabel:'<script type="math/tex">\\scriptscriptstyle \\left(\\begin{smallmatrix}a&b\\\\c&d\\end{smallmatrix}\\right)<\/script>'}};i.default=[r.letters,r.arrows,r.common,r.decorated,r.sets,r.logic,r.geometry,r.calculus,r.linear_algebra],i.numeric=[n.fraction,n.sqrt,n.nth_root,n.ln,n.log_10,n.pi,n.sin,n.cos,n.tan],i.set=[n.emptyset,n.cup],i.numeric_input=[r.input_common,r.input_trig],i.expression_input=[r.input_common,r.input_trig,r.input_letters],i.set_input=[r.input_common,r.input_trig,r.input_set],i.matrices_vector_input=[r.input_common,r.input_trig,r.input_letters,r.input_matrices];var s=function(e,n){var i=t.createElement("ul");return n&&i.classList.add("hide","can_hide"),e.forEach((function(e,t){i.appendChild(a(e))})),i},a=function(e){var n=t.createElement("li"),i=e.sticky,r=e.label,a=e.title,o=e.class,l=i?t.createElement("span"):t.createElement("button");return o&&n.classList.add(o),l?r?(n.appendChild(l),i||(a&&l.setAttribute("title",a),l.setAttribute("value",r),e.insert&&("string"==typeof e.insert?l.setAttribute("data-insert",JSON.stringify({latex:e.insert,smartType:e.insert})):l.setAttribute("data-insert",JSON.stringify(e.insert)))),l.innerHTML=r,e.items&&e.items instanceof Array&&n.appendChild(s(e.items,!i))):e.items&&e.items instanceof Array?n.appendChild(s(e.items,!1)):e&&e instanceof Array&&n.appendChild(s(e,!1)):e.items&&e.items instanceof Array&&n.appendChild(s(e.items,!1)),n};e.addEventListener("pallet",(function(e){var t=e.detail,n=t?t.element:null,r=t&&t.groups?t.groups:t&&t.group_name?i[t.group_name]:i.default,a=t?t.createdCallback:null,o=t?t.selectedCallback:null,l=null,c=null;n&&r&&((l=n.appendChild(s(r,!1))).classList.add("top_level"),n.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var t=function(e){var t=e.parentNode;if("BUTTON"==e.nodeName.trim().toUpperCase())return e;if(t){for(;"BUTTON"!=t.nodeName.trim().toUpperCase()&&t.parentNode;)t=t.parentNode;return t}}(e.target||e.srcElement||e.originalTarget),n=t?t.nextSibling:null;n&&"UL"==n.nodeName.trim().toUpperCase()?(c=function(e,t,n){return e.parentNode&&t===e.parentNode.parentNode&&(n&&e!==n&&n.classList.add("hide"),n=e),n}(n,l,c),n.classList.toggle("hide"),n.offsetWidth&&(n.style.top=t.offsetHeight+"px",t.offsetLeft+n.offsetWidth<l.offsetWidth?(n.style.right=null,n.style.left=t.offsetLeft+"px"):t.offsetLeft+t.offsetWidth-n.offsetWidth>0?(n.style.left=null,n.style.right=l.offsetWidth-t.offsetLeft-t.offsetWidth+"px"):(n.style.right=null,n.style.left="0px"))):o&&(o(t),c&&c.classList.add("hide"))})),a&&a(n))})),t.addEventListener("click",(function(e){var n;e.target||e.srcElement||e.originalTarget;var i=t.querySelectorAll(".pallet ul.can_hide:not(.hide)");for(n=0;n<i.length;++n)i[n].classList.add("hide")}))}(window,document);class SourceLocation{constructor(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}static range(e,t){return t?e&&e.loc&&t.loc&&e.loc.lexer===t.loc.lexer?new SourceLocation(e.loc.lexer,e.loc.start,t.loc.end):null:e&&e.loc}}class Token{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new Token(t,SourceLocation.range(this,e))}}class ParseError{constructor(e,t){this.position=void 0;var n,i="KaTeX parse error: "+e,r=t&&t.loc;if(r&&r.start<=r.end){var s=r.lexer.input;n=r.start;var a=r.end;n===s.length?i+=" at end of input: ":i+=" at position "+(n+1)+": ";var o=s.slice(n,a).replace(/[^]/g,"$&");i+=(n>15?""+s.slice(n-15,n):s.slice(0,n))+o+(a+15<s.length?s.slice(a,a+15)+"":s.slice(a))}var l=new Error(i);return l.name="ParseError",l.__proto__=ParseError.prototype,l.position=n,l}}ParseError.prototype.__proto__=Error.prototype;var contains=function(e,t){return-1!==e.indexOf(t)},deflt=function(e,t){return void 0===e?t:e},uppercase=/([A-Z])/g,hyphenate=function(e){return e.replace(uppercase,"-$1").toLowerCase()},ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;function escape$1(e){return String(e).replace(ESCAPE_REGEX,(e=>ESCAPE_LOOKUP[e]))}var getBaseElem=function e(t){return"ordgroup"===t.type||"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},isCharacterBox=function(e){var t=getBaseElem(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type},assert=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},protocolFromUrl=function(e){var t=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return null!=t?t[1]:"_relative"},utils={contains,deflt,escape:escape$1,hyphenate,getBaseElem,isCharacterBox,protocolFromUrl},SETTINGS_SCHEMA={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>"Infinity"===e?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function getDefaultValue(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if("string"!=typeof n)return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Settings{constructor(e){for(var t in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{},SETTINGS_SCHEMA)if(SETTINGS_SCHEMA.hasOwnProperty(t)){var n=SETTINGS_SCHEMA[t];this[t]=void 0!==e[t]?n.processor?n.processor(e[t]):e[t]:getDefaultValue(n)}}reportNonstrict(e,t,n){var i=this.strict;if("function"==typeof i&&(i=i(e,t,n)),i&&"ignore"!==i){if(!0===i||"error"===i)throw new ParseError("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",n);"warn"===i?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+i+"': "+t+" ["+e+"]")}}useStrictBehavior(e,t,n){var i=this.strict;if("function"==typeof i)try{i=i(e,t,n)}catch(e){i="error"}return!(!i||"ignore"===i)&&(!0===i||"error"===i||("warn"===i?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"),!1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+i+"': "+t+" ["+e+"]"),!1)))}isTrusted(e){e.url&&!e.protocol&&(e.protocol=utils.protocolFromUrl(e.url));var t="function"==typeof this.trust?this.trust(e):this.trust;return Boolean(t)}}class Style{constructor(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}sup(){return styles[sup[this.id]]}sub(){return styles[sub[this.id]]}fracNum(){return styles[fracNum[this.id]]}fracDen(){return styles[fracDen[this.id]]}cramp(){return styles[cramp[this.id]]}text(){return styles[text$1[this.id]]}isTight(){return this.size>=2}}var D=0,Dc=1,T=2,Tc=3,S=4,Sc=5,SS=6,SSc=7,styles=[new Style(D,0,!1),new Style(Dc,0,!0),new Style(T,1,!1),new Style(Tc,1,!0),new Style(S,2,!1),new Style(Sc,2,!0),new Style(SS,3,!1),new Style(SSc,3,!0)],sup=[S,Sc,S,Sc,SS,SSc,SS,SSc],sub=[Sc,Sc,Sc,Sc,SSc,SSc,SSc,SSc],fracNum=[T,Tc,S,Sc,SS,SSc,SS,SSc],fracDen=[Tc,Tc,Sc,Sc,SSc,SSc,SSc,SSc],cramp=[Dc,Dc,Tc,Tc,Sc,Sc,SSc,SSc],text$1=[D,Dc,T,Tc,T,Tc,T,Tc],Style$1={DISPLAY:styles[D],TEXT:styles[T],SCRIPT:styles[S],SCRIPTSCRIPT:styles[SS]},scriptData=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function scriptFromCodepoint(e){for(var t=0;t<scriptData.length;t++)for(var n=scriptData[t],i=0;i<n.blocks.length;i++){var r=n.blocks[i];if(e>=r[0]&&e<=r[1])return n.name}return null}var allBlocks=[];function supportedCodepoint(e){for(var t=0;t<allBlocks.length;t+=2)if(e>=allBlocks[t]&&e<=allBlocks[t+1])return!0;return!1}scriptData.forEach((e=>e.blocks.forEach((e=>allBlocks.push(...e)))));var hLinePad=80,sqrtMain=function(e,t){return"M95,"+(622+e+t)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+e/2.075+" -"+e+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+e)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},sqrtSize1=function(e,t){return"M263,"+(601+e+t)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+e/2.084+" -"+e+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+e)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},sqrtSize2=function(e,t){return"M983 "+(10+e+t)+"\nl"+e/3.13+" -"+e+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+e)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},sqrtSize3=function(e,t){return"M424,"+(2398+e+t)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+e/4.223+" -"+e+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+e)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+e)+" "+t+"\nh400000v"+(40+e)+"h-400000z"},sqrtSize4=function(e,t){return"M473,"+(2713+e+t)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+e/5.298+" -"+e+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+e)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},phasePath=function(e){return"M400000 "+e+" H0 L"+e/2+" 0 l65 45 L145 "+(e-80)+" H400000z"},sqrtTall=function(e,t,n){return"M702 "+(e+t)+"H400000"+(40+e)+"\nH742v"+(n-54-t-e)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+t+"H400000v"+(40+e)+"H742z"},sqrtPath=function(e,t,n){t*=1e3;var i="";switch(e){case"sqrtMain":i=sqrtMain(t,hLinePad);break;case"sqrtSize1":i=sqrtSize1(t,hLinePad);break;case"sqrtSize2":i=sqrtSize2(t,hLinePad);break;case"sqrtSize3":i=sqrtSize3(t,hLinePad);break;case"sqrtSize4":i=sqrtSize4(t,hLinePad);break;case"sqrtTall":i=sqrtTall(t,hLinePad,n)}return i},innerPath=function(e,t){switch(e){case"":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145zM367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z";case"":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257zM478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z";default:return""}},path={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};class DocumentFragment{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return utils.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){return this.children.map((e=>e.toText())).join("")}}var fontMetricsData={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},extraCharacterMap={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function setFontMetrics(e,t){fontMetricsData[e]=t}function getCharacterMetrics(e,t,n){if(!fontMetricsData[t])throw new Error("Font metrics not found for font: "+t+".");var i=e.charCodeAt(0),r=fontMetricsData[t][i];if(!r&&e[0]in extraCharacterMap&&(i=extraCharacterMap[e[0]].charCodeAt(0),r=fontMetricsData[t][i]),r||"text"!==n||supportedCodepoint(i)&&(r=fontMetricsData[t][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var fontMetricsBySizeIndex={};function getGlobalMetrics(e){var t;if(!fontMetricsBySizeIndex[t=e>=5?0:e>=3?1:2]){var n=fontMetricsBySizeIndex[t]={cssEmPerMu:sigmasAndXis.quad[t]/18};for(var i in sigmasAndXis)sigmasAndXis.hasOwnProperty(i)&&(n[i]=sigmasAndXis[i][t])}return fontMetricsBySizeIndex[t]}var sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function(e,t){return t.size<2?e:sizeStyleMap[e-1][t.size-1]};class Options{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Options.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return new Options(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:sizeAtStyle(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:sizeMultipliers[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=sizeAtStyle(Options.BASESIZE,e);return this.size===t&&this.textSize===Options.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Options.BASESIZE?["sizing","reset-size"+this.size,"size"+Options.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=getGlobalMetrics(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Options.BASESIZE=6;var ptPerUnit={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},relativeUnit={ex:!0,em:!0,mu:!0},validUnit=function(e){return"string"!=typeof e&&(e=e.unit),e in ptPerUnit||e in relativeUnit||"ex"===e},calculateSize=function(e,t){var n;if(e.unit in ptPerUnit)n=ptPerUnit[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)n=t.fontMetrics().cssEmPerMu;else{var i;if(i=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)n=i.fontMetrics().xHeight;else{if("em"!==e.unit)throw new ParseError("Invalid unit: '"+e.unit+"'");n=i.fontMetrics().quad}i!==t&&(n*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},makeEm=function(e){return+e.toFixed(4)+"em"},createClass=function(e){return e.filter((e=>e)).join(" ")},initNode=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var i=t.getColor();i&&(this.style.color=i)}},toNode=function(e){var t=document.createElement(e);for(var n in t.className=createClass(this.classes),this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&t.setAttribute(i,this.attributes[i]);for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t},toMarkup=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+utils.escape(createClass(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=utils.hyphenate(i)+":"+this.style[i]+";");for(var r in n&&(t+=' style="'+utils.escape(n)+'"'),this.attributes)this.attributes.hasOwnProperty(r)&&(t+=" "+r+'="'+utils.escape(this.attributes[r])+'"');t+=">";for(var s=0;s<this.children.length;s++)t+=this.children[s].toMarkup();return t+="</"+e+">"};class Span{constructor(e,t,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,e,n,i),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return utils.contains(this.classes,e)}toNode(){return toNode.call(this,"span")}toMarkup(){return toMarkup.call(this,"span")}}class Anchor{constructor(e,t,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,t,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return utils.contains(this.classes,e)}toNode(){return toNode.call(this,"a")}toMarkup(){return toMarkup.call(this,"a")}}class Img{constructor(e,t,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return utils.contains(this.classes,e)}toNode(){var e=document.createElement("img");for(var t in e.src=this.src,e.alt=this.alt,e.className="mord",this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",t="";for(var n in this.style)this.style.hasOwnProperty(n)&&(t+=utils.hyphenate(n)+":"+this.style[n]+";");return t&&(e+=' style="'+utils.escape(t)+'"'),e+="'/>"}}var iCombinations={:"",:"",:"",:""};class SymbolNode{constructor(e,t,n,i,r,s,a,o){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=i||0,this.skew=r||0,this.width=s||0,this.classes=a||[],this.style=o||{},this.maxFontSize=0;var l=scriptFromCodepoint(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[]/.test(this.text)&&(this.text=iCombinations[this.text])}hasClass(e){return utils.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;for(var n in this.italic>0&&((t=document.createElement("span")).style.marginRight=makeEm(this.italic)),this.classes.length>0&&((t=t||document.createElement("span")).className=createClass(this.classes)),this.style)this.style.hasOwnProperty(n)&&((t=t||document.createElement("span")).style[n]=this.style[n]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=utils.escape(createClass(this.classes)),t+='"');var n="";for(var i in this.italic>0&&(n+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(i)&&(n+=utils.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,t+=' style="'+utils.escape(n)+'"');var r=utils.escape(this.text);return e?(t+=">",t+=r,t+="</span>"):r}}class SvgNode{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>"}}class PathNode{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",path[this.pathName]),e}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+path[this.pathName]+"'/>"}}class LineNode{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+="/>"}}function assertSymbolDomNode(e){if(e instanceof SymbolNode)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function assertSpan(e){if(e instanceof Span)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var ATOMS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},NON_ATOMS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},symbols={math:{},text:{}};function defineSymbol(e,t,n,i,r,s){symbols[e][r]={font:t,group:n,replace:i},s&&i&&(symbols[e][i]=symbols[e][r])}var math="math",text="text",main="main",ams="ams",accent="accent-token",bin="bin",close="close",inner="inner",mathord="mathord",op="op-token",open="open",punct="punct",rel="rel",spacing="spacing",textord="textord";defineSymbol(math,main,rel,"","\\equiv",!0),defineSymbol(math,main,rel,"","\\prec",!0),defineSymbol(math,main,rel,"","\\succ",!0),defineSymbol(math,main,rel,"","\\sim",!0),defineSymbol(math,main,rel,"","\\perp"),defineSymbol(math,main,rel,"","\\preceq",!0),defineSymbol(math,main,rel,"","\\succeq",!0),defineSymbol(math,main,rel,"","\\simeq",!0),defineSymbol(math,main,rel,"","\\mid",!0),defineSymbol(math,main,rel,"","\\ll",!0),defineSymbol(math,main,rel,"","\\gg",!0),defineSymbol(math,main,rel,"","\\asymp",!0),defineSymbol(math,main,rel,"","\\parallel"),defineSymbol(math,main,rel,"","\\bowtie",!0),defineSymbol(math,main,rel,"","\\smile",!0),defineSymbol(math,main,rel,"","\\sqsubseteq",!0),defineSymbol(math,main,rel,"","\\sqsupseteq",!0),defineSymbol(math,main,rel,"","\\doteq",!0),defineSymbol(math,main,rel,"","\\frown",!0),defineSymbol(math,main,rel,"","\\ni",!0),defineSymbol(math,main,rel,"","\\propto",!0),defineSymbol(math,main,rel,"","\\vdash",!0),defineSymbol(math,main,rel,"","\\dashv",!0),defineSymbol(math,main,rel,"","\\owns"),defineSymbol(math,main,punct,".","\\ldotp"),defineSymbol(math,main,punct,"","\\cdotp"),defineSymbol(math,main,textord,"#","\\#"),defineSymbol(text,main,textord,"#","\\#"),defineSymbol(math,main,textord,"&","\\&"),defineSymbol(text,main,textord,"&","\\&"),defineSymbol(math,main,textord,"","\\aleph",!0),defineSymbol(math,main,textord,"","\\forall",!0),defineSymbol(math,main,textord,"","\\hbar",!0),defineSymbol(math,main,textord,"","\\exists",!0),defineSymbol(math,main,textord,"","\\nabla",!0),defineSymbol(math,main,textord,"","\\flat",!0),defineSymbol(math,main,textord,"","\\ell",!0),defineSymbol(math,main,textord,"","\\natural",!0),defineSymbol(math,main,textord,"","\\clubsuit",!0),defineSymbol(math,main,textord,"","\\wp",!0),defineSymbol(math,main,textord,"","\\sharp",!0),defineSymbol(math,main,textord,"","\\diamondsuit",!0),defineSymbol(math,main,textord,"","\\Re",!0),defineSymbol(math,main,textord,"","\\heartsuit",!0),defineSymbol(math,main,textord,"","\\Im",!0),defineSymbol(math,main,textord,"","\\spadesuit",!0),defineSymbol(math,main,textord,"","\\S",!0),defineSymbol(text,main,textord,"","\\S"),defineSymbol(math,main,textord,"","\\P",!0),defineSymbol(text,main,textord,"","\\P"),defineSymbol(math,main,textord,"","\\dag"),defineSymbol(text,main,textord,"","\\dag"),defineSymbol(text,main,textord,"","\\textdagger"),defineSymbol(math,main,textord,"","\\ddag"),defineSymbol(text,main,textord,"","\\ddag"),defineSymbol(text,main,textord,"","\\textdaggerdbl"),defineSymbol(math,main,close,"","\\rmoustache",!0),defineSymbol(math,main,open,"","\\lmoustache",!0),defineSymbol(math,main,close,"","\\rgroup",!0),defineSymbol(math,main,open,"","\\lgroup",!0),defineSymbol(math,main,bin,"","\\mp",!0),defineSymbol(math,main,bin,"","\\ominus",!0),defineSymbol(math,main,bin,"","\\uplus",!0),defineSymbol(math,main,bin,"","\\sqcap",!0),defineSymbol(math,main,bin,"","\\ast"),defineSymbol(math,main,bin,"","\\sqcup",!0),defineSymbol(math,main,bin,"","\\bigcirc",!0),defineSymbol(math,main,bin,"","\\bullet"),defineSymbol(math,main,bin,"","\\ddagger"),defineSymbol(math,main,bin,"","\\wr",!0),defineSymbol(math,main,bin,"","\\amalg"),defineSymbol(math,main,bin,"&","\\And"),defineSymbol(math,main,rel,"","\\longleftarrow",!0),defineSymbol(math,main,rel,"","\\Leftarrow",!0),defineSymbol(math,main,rel,"","\\Longleftarrow",!0),defineSymbol(math,main,rel,"","\\longrightarrow",!0),defineSymbol(math,main,rel,"","\\Rightarrow",!0),defineSymbol(math,main,rel,"","\\Longrightarrow",!0),defineSymbol(math,main,rel,"","\\leftrightarrow",!0),defineSymbol(math,main,rel,"","\\longleftrightarrow",!0),defineSymbol(math,main,rel,"","\\Leftrightarrow",!0),defineSymbol(math,main,rel,"","\\Longleftrightarrow",!0),defineSymbol(math,main,rel,"","\\mapsto",!0),defineSymbol(math,main,rel,"","\\longmapsto",!0),defineSymbol(math,main,rel,"","\\nearrow",!0),defineSymbol(math,main,rel,"","\\hookleftarrow",!0),defineSymbol(math,main,rel,"","\\hookrightarrow",!0),defineSymbol(math,main,rel,"","\\searrow",!0),defineSymbol(math,main,rel,"","\\leftharpoonup",!0),defineSymbol(math,main,rel,"","\\rightharpoonup",!0),defineSymbol(math,main,rel,"","\\swarrow",!0),defineSymbol(math,main,rel,"","\\leftharpoondown",!0),defineSymbol(math,main,rel,"","\\rightharpoondown",!0),defineSymbol(math,main,rel,"","\\nwarrow",!0),defineSymbol(math,main,rel,"","\\rightleftharpoons",!0),defineSymbol(math,ams,rel,"","\\nless",!0),defineSymbol(math,ams,rel,"","\\@nleqslant"),defineSymbol(math,ams,rel,"","\\@nleqq"),defineSymbol(math,ams,rel,"","\\lneq",!0),defineSymbol(math,ams,rel,"","\\lneqq",!0),defineSymbol(math,ams,rel,"","\\@lvertneqq"),defineSymbol(math,ams,rel,"","\\lnsim",!0),defineSymbol(math,ams,rel,"","\\lnapprox",!0),defineSymbol(math,ams,rel,"","\\nprec",!0),defineSymbol(math,ams,rel,"","\\npreceq",!0),defineSymbol(math,ams,rel,"","\\precnsim",!0),defineSymbol(math,ams,rel,"","\\precnapprox",!0),defineSymbol(math,ams,rel,"","\\nsim",!0),defineSymbol(math,ams,rel,"","\\@nshortmid"),defineSymbol(math,ams,rel,"","\\nmid",!0),defineSymbol(math,ams,rel,"","\\nvdash",!0),defineSymbol(math,ams,rel,"","\\nvDash",!0),defineSymbol(math,ams,rel,"","\\ntriangleleft"),defineSymbol(math,ams,rel,"","\\ntrianglelefteq",!0),defineSymbol(math,ams,rel,"","\\subsetneq",!0),defineSymbol(math,ams,rel,"","\\@varsubsetneq"),defineSymbol(math,ams,rel,"","\\subsetneqq",!0),defineSymbol(math,ams,rel,"","\\@varsubsetneqq"),defineSymbol(math,ams,rel,"","\\ngtr",!0),defineSymbol(math,ams,rel,"","\\@ngeqslant"),defineSymbol(math,ams,rel,"","\\@ngeqq"),defineSymbol(math,ams,rel,"","\\gneq",!0),defineSymbol(math,ams,rel,"","\\gneqq",!0),defineSymbol(math,ams,rel,"","\\@gvertneqq"),defineSymbol(math,ams,rel,"","\\gnsim",!0),defineSymbol(math,ams,rel,"","\\gnapprox",!0),defineSymbol(math,ams,rel,"","\\nsucc",!0),defineSymbol(math,ams,rel,"","\\nsucceq",!0),defineSymbol(math,ams,rel,"","\\succnsim",!0),defineSymbol(math,ams,rel,"","\\succnapprox",!0),defineSymbol(math,ams,rel,"","\\ncong",!0),defineSymbol(math,ams,rel,"","\\@nshortparallel"),defineSymbol(math,ams,rel,"","\\nparallel",!0),defineSymbol(math,ams,rel,"","\\nVDash",!0),defineSymbol(math,ams,rel,"","\\ntriangleright"),defineSymbol(math,ams,rel,"","\\ntrianglerighteq",!0),defineSymbol(math,ams,rel,"","\\@nsupseteqq"),defineSymbol(math,ams,rel,"","\\supsetneq",!0),defineSymbol(math,ams,rel,"","\\@varsupsetneq"),defineSymbol(math,ams,rel,"","\\supsetneqq",!0),defineSymbol(math,ams,rel,"","\\@varsupsetneqq"),defineSymbol(math,ams,rel,"","\\nVdash",!0),defineSymbol(math,ams,rel,"","\\precneqq",!0),defineSymbol(math,ams,rel,"","\\succneqq",!0),defineSymbol(math,ams,rel,"","\\@nsubseteqq"),defineSymbol(math,ams,bin,"","\\unlhd"),defineSymbol(math,ams,bin,"","\\unrhd"),defineSymbol(math,ams,rel,"","\\nleftarrow",!0),defineSymbol(math,ams,rel,"","\\nrightarrow",!0),defineSymbol(math,ams,rel,"","\\nLeftarrow",!0),defineSymbol(math,ams,rel,"","\\nRightarrow",!0),defineSymbol(math,ams,rel,"","\\nleftrightarrow",!0),defineSymbol(math,ams,rel,"","\\nLeftrightarrow",!0),defineSymbol(math,ams,rel,"","\\vartriangle"),defineSymbol(math,ams,textord,"","\\hslash"),defineSymbol(math,ams,textord,"","\\triangledown"),defineSymbol(math,ams,textord,"","\\lozenge"),defineSymbol(math,ams,textord,"","\\circledS"),defineSymbol(math,ams,textord,"","\\circledR"),defineSymbol(text,ams,textord,"","\\circledR"),defineSymbol(math,ams,textord,"","\\measuredangle",!0),defineSymbol(math,ams,textord,"","\\nexists"),defineSymbol(math,ams,textord,"","\\mho"),defineSymbol(math,ams,textord,"","\\Finv",!0),defineSymbol(math,ams,textord,"","\\Game",!0),defineSymbol(math,ams,textord,"","\\backprime"),defineSymbol(math,ams,textord,"","\\blacktriangle"),defineSymbol(math,ams,textord,"","\\blacktriangledown"),defineSymbol(math,ams,textord,"","\\blacksquare"),defineSymbol(math,ams,textord,"","\\blacklozenge"),defineSymbol(math,ams,textord,"","\\bigstar"),defineSymbol(math,ams,textord,"","\\sphericalangle",!0),defineSymbol(math,ams,textord,"","\\complement",!0),defineSymbol(math,ams,textord,"","\\eth",!0),defineSymbol(text,main,textord,"",""),defineSymbol(math,ams,textord,"","\\diagup"),defineSymbol(math,ams,textord,"","\\diagdown"),defineSymbol(math,ams,textord,"","\\square"),defineSymbol(math,ams,textord,"","\\Box"),defineSymbol(math,ams,textord,"","\\Diamond"),defineSymbol(math,ams,textord,"","\\yen",!0),defineSymbol(text,ams,textord,"","\\yen",!0),defineSymbol(math,ams,textord,"","\\checkmark",!0),defineSymbol(text,ams,textord,"","\\checkmark"),defineSymbol(math,ams,textord,"","\\beth",!0),defineSymbol(math,ams,textord,"","\\daleth",!0),defineSymbol(math,ams,textord,"","\\gimel",!0),defineSymbol(math,ams,textord,"","\\digamma",!0),defineSymbol(math,ams,textord,"","\\varkappa"),defineSymbol(math,ams,open,"","\\@ulcorner",!0),defineSymbol(math,ams,close,"","\\@urcorner",!0),defineSymbol(math,ams,open,"","\\@llcorner",!0),defineSymbol(math,ams,close,"","\\@lrcorner",!0),defineSymbol(math,ams,rel,"","\\leqq",!0),defineSymbol(math,ams,rel,"","\\leqslant",!0),defineSymbol(math,ams,rel,"","\\eqslantless",!0),defineSymbol(math,ams,rel,"","\\lesssim",!0),defineSymbol(math,ams,rel,"","\\lessapprox",!0),defineSymbol(math,ams,rel,"","\\approxeq",!0),defineSymbol(math,ams,bin,"","\\lessdot"),defineSymbol(math,ams,rel,"","\\lll",!0),defineSymbol(math,ams,rel,"","\\lessgtr",!0),defineSymbol(math,ams,rel,"","\\lesseqgtr",!0),defineSymbol(math,ams,rel,"","\\lesseqqgtr",!0),defineSymbol(math,ams,rel,"","\\doteqdot"),defineSymbol(math,ams,rel,"","\\risingdotseq",!0),defineSymbol(math,ams,rel,"","\\fallingdotseq",!0),defineSymbol(math,ams,rel,"","\\backsim",!0),defineSymbol(math,ams,rel,"","\\backsimeq",!0),defineSymbol(math,ams,rel,"","\\subseteqq",!0),defineSymbol(math,ams,rel,"","\\Subset",!0),defineSymbol(math,ams,rel,"","\\sqsubset",!0),defineSymbol(math,ams,rel,"","\\preccurlyeq",!0),defineSymbol(math,ams,rel,"","\\curlyeqprec",!0),defineSymbol(math,ams,rel,"","\\precsim",!0),defineSymbol(math,ams,rel,"","\\precapprox",!0),defineSymbol(math,ams,rel,"","\\vartriangleleft"),defineSymbol(math,ams,rel,"","\\trianglelefteq"),defineSymbol(math,ams,rel,"","\\vDash",!0),defineSymbol(math,ams,rel,"","\\Vvdash",!0),defineSymbol(math,ams,rel,"","\\smallsmile"),defineSymbol(math,ams,rel,"","\\smallfrown"),defineSymbol(math,ams,rel,"","\\bumpeq",!0),defineSymbol(math,ams,rel,"","\\Bumpeq",!0),defineSymbol(math,ams,rel,"","\\geqq",!0),defineSymbol(math,ams,rel,"","\\geqslant",!0),defineSymbol(math,ams,rel,"","\\eqslantgtr",!0),defineSymbol(math,ams,rel,"","\\gtrsim",!0),defineSymbol(math,ams,rel,"","\\gtrapprox",!0),defineSymbol(math,ams,bin,"","\\gtrdot"),defineSymbol(math,ams,rel,"","\\ggg",!0),defineSymbol(math,ams,rel,"","\\gtrless",!0),defineSymbol(math,ams,rel,"","\\gtreqless",!0),defineSymbol(math,ams,rel,"","\\gtreqqless",!0),defineSymbol(math,ams,rel,"","\\eqcirc",!0),defineSymbol(math,ams,rel,"","\\circeq",!0),defineSymbol(math,ams,rel,"","\\triangleq",!0),defineSymbol(math,ams,rel,"","\\thicksim"),defineSymbol(math,ams,rel,"","\\thickapprox"),defineSymbol(math,ams,rel,"","\\supseteqq",!0),defineSymbol(math,ams,rel,"","\\Supset",!0),defineSymbol(math,ams,rel,"","\\sqsupset",!0),defineSymbol(math,ams,rel,"","\\succcurlyeq",!0),defineSymbol(math,ams,rel,"","\\curlyeqsucc",!0),defineSymbol(math,ams,rel,"","\\succsim",!0),defineSymbol(math,ams,rel,"","\\succapprox",!0),defineSymbol(math,ams,rel,"","\\vartriangleright"),defineSymbol(math,ams,rel,"","\\trianglerighteq"),defineSymbol(math,ams,rel,"","\\Vdash",!0),defineSymbol(math,ams,rel,"","\\shortmid"),defineSymbol(math,ams,rel,"","\\shortparallel"),defineSymbol(math,ams,rel,"","\\between",!0),defineSymbol(math,ams,rel,"","\\pitchfork",!0),defineSymbol(math,ams,rel,"","\\varpropto"),defineSymbol(math,ams,rel,"","\\blacktriangleleft"),defineSymbol(math,ams,rel,"","\\therefore",!0),defineSymbol(math,ams,rel,"","\\backepsilon"),defineSymbol(math,ams,rel,"","\\blacktriangleright"),defineSymbol(math,ams,rel,"","\\because",!0),defineSymbol(math,ams,rel,"","\\llless"),defineSymbol(math,ams,rel,"","\\gggtr"),defineSymbol(math,ams,bin,"","\\lhd"),defineSymbol(math,ams,bin,"","\\rhd"),defineSymbol(math,ams,rel,"","\\eqsim",!0),defineSymbol(math,main,rel,"","\\Join"),defineSymbol(math,ams,rel,"","\\Doteq",!0),defineSymbol(math,ams,bin,"","\\dotplus",!0),defineSymbol(math,ams,bin,"","\\smallsetminus"),defineSymbol(math,ams,bin,"","\\Cap",!0),defineSymbol(math,ams,bin,"","\\Cup",!0),defineSymbol(math,ams,bin,"","\\doublebarwedge",!0),defineSymbol(math,ams,bin,"","\\boxminus",!0),defineSymbol(math,ams,bin,"","\\boxplus",!0),defineSymbol(math,ams,bin,"","\\divideontimes",!0),defineSymbol(math,ams,bin,"","\\ltimes",!0),defineSymbol(math,ams,bin,"","\\rtimes",!0),defineSymbol(math,ams,bin,"","\\leftthreetimes",!0),defineSymbol(math,ams,bin,"","\\rightthreetimes",!0),defineSymbol(math,ams,bin,"","\\curlywedge",!0),defineSymbol(math,ams,bin,"","\\curlyvee",!0),defineSymbol(math,ams,bin,"","\\circleddash",!0),defineSymbol(math,ams,bin,"","\\circledast",!0),defineSymbol(math,ams,bin,"","\\centerdot"),defineSymbol(math,ams,bin,"","\\intercal",!0),defineSymbol(math,ams,bin,"","\\doublecap"),defineSymbol(math,ams,bin,"","\\doublecup"),defineSymbol(math,ams,bin,"","\\boxtimes",!0),defineSymbol(math,ams,rel,"","\\dashrightarrow",!0),defineSymbol(math,ams,rel,"","\\dashleftarrow",!0),defineSymbol(math,ams,rel,"","\\leftleftarrows",!0),defineSymbol(math,ams,rel,"","\\leftrightarrows",!0),defineSymbol(math,ams,rel,"","\\Lleftarrow",!0),defineSymbol(math,ams,rel,"","\\twoheadleftarrow",!0),defineSymbol(math,ams,rel,"","\\leftarrowtail",!0),defineSymbol(math,ams,rel,"","\\looparrowleft",!0),defineSymbol(math,ams,rel,"","\\leftrightharpoons",!0),defineSymbol(math,ams,rel,"","\\curvearrowleft",!0),defineSymbol(math,ams,rel,"","\\circlearrowleft",!0),defineSymbol(math,ams,rel,"","\\Lsh",!0),defineSymbol(math,ams,rel,"","\\upuparrows",!0),defineSymbol(math,ams,rel,"","\\upharpoonleft",!0),defineSymbol(math,ams,rel,"","\\downharpoonleft",!0),defineSymbol(math,main,rel,"","\\origof",!0),defineSymbol(math,main,rel,"","\\imageof",!0),defineSymbol(math,ams,rel,"","\\multimap",!0),defineSymbol(math,ams,rel,"","\\leftrightsquigarrow",!0),defineSymbol(math,ams,rel,"","\\rightrightarrows",!0),defineSymbol(math,ams,rel,"","\\rightleftarrows",!0),defineSymbol(math,ams,rel,"","\\twoheadrightarrow",!0),defineSymbol(math,ams,rel,"","\\rightarrowtail",!0),defineSymbol(math,ams,rel,"","\\looparrowright",!0),defineSymbol(math,ams,rel,"","\\curvearrowright",!0),defineSymbol(math,ams,rel,"","\\circlearrowright",!0),defineSymbol(math,ams,rel,"","\\Rsh",!0),defineSymbol(math,ams,rel,"","\\downdownarrows",!0),defineSymbol(math,ams,rel,"","\\upharpoonright",!0),defineSymbol(math,ams,rel,"","\\downharpoonright",!0),defineSymbol(math,ams,rel,"","\\rightsquigarrow",!0),defineSymbol(math,ams,rel,"","\\leadsto"),defineSymbol(math,ams,rel,"","\\Rrightarrow",!0),defineSymbol(math,ams,rel,"","\\restriction"),defineSymbol(math,main,textord,"","`"),defineSymbol(math,main,textord,"$","\\$"),defineSymbol(text,main,textord,"$","\\$"),defineSymbol(text,main,textord,"$","\\textdollar"),defineSymbol(math,main,textord,"%","\\%"),defineSymbol(text,main,textord,"%","\\%"),defineSymbol(math,main,textord,"_","\\_"),defineSymbol(text,main,textord,"_","\\_"),defineSymbol(text,main,textord,"_","\\textunderscore"),defineSymbol(math,main,textord,"","\\angle",!0),defineSymbol(math,main,textord,"","\\infty",!0),defineSymbol(math,main,textord,"","\\prime"),defineSymbol(math,main,textord,"","\\triangle"),defineSymbol(math,main,textord,"","\\Gamma",!0),defineSymbol(math,main,textord,"","\\Delta",!0),defineSymbol(math,main,textord,"","\\Theta",!0),defineSymbol(math,main,textord,"","\\Lambda",!0),defineSymbol(math,main,textord,"","\\Xi",!0),defineSymbol(math,main,textord,"","\\Pi",!0),defineSymbol(math,main,textord,"","\\Sigma",!0),defineSymbol(math,main,textord,"","\\Upsilon",!0),defineSymbol(math,main,textord,"","\\Phi",!0),defineSymbol(math,main,textord,"","\\Psi",!0),defineSymbol(math,main,textord,"","\\Omega",!0),defineSymbol(math,main,textord,"A",""),defineSymbol(math,main,textord,"B",""),defineSymbol(math,main,textord,"E",""),defineSymbol(math,main,textord,"Z",""),defineSymbol(math,main,textord,"H",""),defineSymbol(math,main,textord,"I",""),defineSymbol(math,main,textord,"K",""),defineSymbol(math,main,textord,"M",""),defineSymbol(math,main,textord,"N",""),defineSymbol(math,main,textord,"O",""),defineSymbol(math,main,textord,"P",""),defineSymbol(math,main,textord,"T",""),defineSymbol(math,main,textord,"X",""),defineSymbol(math,main,textord,"","\\neg",!0),defineSymbol(math,main,textord,"","\\lnot"),defineSymbol(math,main,textord,"","\\top"),defineSymbol(math,main,textord,"","\\bot"),defineSymbol(math,main,textord,"","\\emptyset"),defineSymbol(math,ams,textord,"","\\varnothing"),defineSymbol(math,main,mathord,"","\\alpha",!0),defineSymbol(math,main,mathord,"","\\beta",!0),defineSymbol(math,main,mathord,"","\\gamma",!0),defineSymbol(math,main,mathord,"","\\delta",!0),defineSymbol(math,main,mathord,"","\\epsilon",!0),defineSymbol(math,main,mathord,"","\\zeta",!0),defineSymbol(math,main,mathord,"","\\eta",!0),defineSymbol(math,main,mathord,"","\\theta",!0),defineSymbol(math,main,mathord,"","\\iota",!0),defineSymbol(math,main,mathord,"","\\kappa",!0),defineSymbol(math,main,mathord,"","\\lambda",!0),defineSymbol(math,main,mathord,"","\\mu",!0),defineSymbol(math,main,mathord,"","\\nu",!0),defineSymbol(math,main,mathord,"","\\xi",!0),defineSymbol(math,main,mathord,"","\\omicron",!0),defineSymbol(math,main,mathord,"","\\pi",!0),defineSymbol(math,main,mathord,"","\\rho",!0),defineSymbol(math,main,mathord,"","\\sigma",!0),defineSymbol(math,main,mathord,"","\\tau",!0),defineSymbol(math,main,mathord,"","\\upsilon",!0),defineSymbol(math,main,mathord,"","\\phi",!0),defineSymbol(math,main,mathord,"","\\chi",!0),defineSymbol(math,main,mathord,"","\\psi",!0),defineSymbol(math,main,mathord,"","\\omega",!0),defineSymbol(math,main,mathord,"","\\varepsilon",!0),defineSymbol(math,main,mathord,"","\\vartheta",!0),defineSymbol(math,main,mathord,"","\\varpi",!0),defineSymbol(math,main,mathord,"","\\varrho",!0),defineSymbol(math,main,mathord,"","\\varsigma",!0),defineSymbol(math,main,mathord,"","\\varphi",!0),defineSymbol(math,main,bin,"","*",!0),defineSymbol(math,main,bin,"+","+"),defineSymbol(math,main,bin,"","-",!0),defineSymbol(math,main,bin,"","\\cdot",!0),defineSymbol(math,main,bin,"","\\circ"),defineSymbol(math,main,bin,"","\\div",!0),defineSymbol(math,main,bin,"","\\pm",!0),defineSymbol(math,main,bin,"","\\times",!0),defineSymbol(math,main,bin,"","\\cap",!0),defineSymbol(math,main,bin,"","\\cup",!0),defineSymbol(math,main,bin,"","\\setminus"),defineSymbol(math,main,bin,"","\\land"),defineSymbol(math,main,bin,"","\\lor"),defineSymbol(math,main,bin,"","\\wedge",!0),defineSymbol(math,main,bin,"","\\vee",!0),defineSymbol(math,main,textord,"","\\surd"),defineSymbol(math,main,open,"","\\langle",!0),defineSymbol(math,main,open,"","\\lvert"),defineSymbol(math,main,open,"","\\lVert"),defineSymbol(math,main,close,"?","?"),defineSymbol(math,main,close,"!","!"),defineSymbol(math,main,close,"","\\rangle",!0),defineSymbol(math,main,close,"","\\rvert"),defineSymbol(math,main,close,"","\\rVert"),defineSymbol(math,main,rel,"=","="),defineSymbol(math,main,rel,":",":"),defineSymbol(math,main,rel,"","\\approx",!0),defineSymbol(math,main,rel,"","\\cong",!0),defineSymbol(math,main,rel,"","\\ge"),defineSymbol(math,main,rel,"","\\geq",!0),defineSymbol(math,main,rel,"","\\gets"),defineSymbol(math,main,rel,">","\\gt",!0),defineSymbol(math,main,rel,"","\\in",!0),defineSymbol(math,main,rel,"","\\@not"),defineSymbol(math,main,rel,"","\\subset",!0),defineSymbol(math,main,rel,"","\\supset",!0),defineSymbol(math,main,rel,"","\\subseteq",!0),defineSymbol(math,main,rel,"","\\supseteq",!0),defineSymbol(math,ams,rel,"","\\nsubseteq",!0),defineSymbol(math,ams,rel,"","\\nsupseteq",!0),defineSymbol(math,main,rel,"","\\models"),defineSymbol(math,main,rel,"","\\leftarrow",!0),defineSymbol(math,main,rel,"","\\le"),defineSymbol(math,main,rel,"","\\leq",!0),defineSymbol(math,main,rel,"<","\\lt",!0),defineSymbol(math,main,rel,"","\\rightarrow",!0),defineSymbol(math,main,rel,"","\\to"),defineSymbol(math,ams,rel,"","\\ngeq",!0),defineSymbol(math,ams,rel,"","\\nleq",!0),defineSymbol(math,main,spacing,"","\\ "),defineSymbol(math,main,spacing,"","\\space"),defineSymbol(math,main,spacing,"","\\nobreakspace"),defineSymbol(text,main,spacing,"","\\ "),defineSymbol(text,main,spacing,""," "),defineSymbol(text,main,spacing,"","\\space"),defineSymbol(text,main,spacing,"","\\nobreakspace"),defineSymbol(math,main,spacing,null,"\\nobreak"),defineSymbol(math,main,spacing,null,"\\allowbreak"),defineSymbol(math,main,punct,",",","),defineSymbol(math,main,punct,";",";"),defineSymbol(math,ams,bin,"","\\barwedge",!0),defineSymbol(math,ams,bin,"","\\veebar",!0),defineSymbol(math,main,bin,"","\\odot",!0),defineSymbol(math,main,bin,"","\\oplus",!0),defineSymbol(math,main,bin,"","\\otimes",!0),defineSymbol(math,main,textord,"","\\partial",!0),defineSymbol(math,main,bin,"","\\oslash",!0),defineSymbol(math,ams,bin,"","\\circledcirc",!0),defineSymbol(math,ams,bin,"","\\boxdot",!0),defineSymbol(math,main,bin,"","\\bigtriangleup"),defineSymbol(math,main,bin,"","\\bigtriangledown"),defineSymbol(math,main,bin,"","\\dagger"),defineSymbol(math,main,bin,"","\\diamond"),defineSymbol(math,main,bin,"","\\star"),defineSymbol(math,main,bin,"","\\triangleleft"),defineSymbol(math,main,bin,"","\\triangleright"),defineSymbol(math,main,open,"{","\\{"),defineSymbol(text,main,textord,"{","\\{"),defineSymbol(text,main,textord,"{","\\textbraceleft"),defineSymbol(math,main,close,"}","\\}"),defineSymbol(text,main,textord,"}","\\}"),defineSymbol(text,main,textord,"}","\\textbraceright"),defineSymbol(math,main,open,"{","\\lbrace"),defineSymbol(math,main,close,"}","\\rbrace"),defineSymbol(math,main,open,"[","\\lbrack",!0),defineSymbol(text,main,textord,"[","\\lbrack",!0),defineSymbol(math,main,close,"]","\\rbrack",!0),defineSymbol(text,main,textord,"]","\\rbrack",!0),defineSymbol(math,main,open,"(","\\lparen",!0),defineSymbol(math,main,close,")","\\rparen",!0),defineSymbol(text,main,textord,"<","\\textless",!0),defineSymbol(text,main,textord,">","\\textgreater",!0),defineSymbol(math,main,open,"","\\lfloor",!0),defineSymbol(math,main,close,"","\\rfloor",!0),defineSymbol(math,main,open,"","\\lceil",!0),defineSymbol(math,main,close,"","\\rceil",!0),defineSymbol(math,main,textord,"\\","\\backslash"),defineSymbol(math,main,textord,"","|"),defineSymbol(math,main,textord,"","\\vert"),defineSymbol(text,main,textord,"|","\\textbar",!0),defineSymbol(math,main,textord,"","\\|"),defineSymbol(math,main,textord,"","\\Vert"),defineSymbol(text,main,textord,"","\\textbardbl"),defineSymbol(text,main,textord,"~","\\textasciitilde"),defineSymbol(text,main,textord,"\\","\\textbackslash"),defineSymbol(text,main,textord,"^","\\textasciicircum"),defineSymbol(math,main,rel,"","\\uparrow",!0),defineSymbol(math,main,rel,"","\\Uparrow",!0),defineSymbol(math,main,rel,"","\\downarrow",!0),defineSymbol(math,main,rel,"","\\Downarrow",!0),defineSymbol(math,main,rel,"","\\updownarrow",!0),defineSymbol(math,main,rel,"","\\Updownarrow",!0),defineSymbol(math,main,op,"","\\coprod"),defineSymbol(math,main,op,"","\\bigvee"),defineSymbol(math,main,op,"","\\bigwedge"),defineSymbol(math,main,op,"","\\biguplus"),defineSymbol(math,main,op,"","\\bigcap"),defineSymbol(math,main,op,"","\\bigcup"),defineSymbol(math,main,op,"","\\int"),defineSymbol(math,main,op,"","\\intop"),defineSymbol(math,main,op,"","\\iint"),defineSymbol(math,main,op,"","\\iiint"),defineSymbol(math,main,op,"","\\prod"),defineSymbol(math,main,op,"","\\sum"),defineSymbol(math,main,op,"","\\bigotimes"),defineSymbol(math,main,op,"","\\bigoplus"),defineSymbol(math,main,op,"","\\bigodot"),defineSymbol(math,main,op,"","\\oint"),defineSymbol(math,main,op,"","\\oiint"),defineSymbol(math,main,op,"","\\oiiint"),defineSymbol(math,main,op,"","\\bigsqcup"),defineSymbol(math,main,op,"","\\smallint"),defineSymbol(text,main,inner,"","\\textellipsis"),defineSymbol(math,main,inner,"","\\mathellipsis"),defineSymbol(text,main,inner,"","\\ldots",!0),defineSymbol(math,main,inner,"","\\ldots",!0),defineSymbol(math,main,inner,"","\\@cdots",!0),defineSymbol(math,main,inner,"","\\ddots",!0),defineSymbol(math,main,textord,"","\\varvdots"),defineSymbol(math,main,accent,"","\\acute"),defineSymbol(math,main,accent,"","\\grave"),defineSymbol(math,main,accent,"","\\ddot"),defineSymbol(math,main,accent,"~","\\tilde"),defineSymbol(math,main,accent,"","\\bar"),defineSymbol(math,main,accent,"","\\breve"),defineSymbol(math,main,accent,"","\\check"),defineSymbol(math,main,accent,"^","\\hat"),defineSymbol(math,main,accent,"","\\vec"),defineSymbol(math,main,accent,"","\\dot"),defineSymbol(math,main,accent,"","\\mathring"),defineSymbol(math,main,mathord,"","\\@imath"),defineSymbol(math,main,mathord,"","\\@jmath"),defineSymbol(math,main,textord,"",""),defineSymbol(math,main,textord,"",""),defineSymbol(text,main,textord,"","\\i",!0),defineSymbol(text,main,textord,"","\\j",!0),defineSymbol(text,main,textord,"","\\ss",!0),defineSymbol(text,main,textord,"","\\ae",!0),defineSymbol(text,main,textord,"","\\oe",!0),defineSymbol(text,main,textord,"","\\o",!0),defineSymbol(text,main,textord,"","\\AE",!0),defineSymbol(text,main,textord,"","\\OE",!0),defineSymbol(text,main,textord,"","\\O",!0),defineSymbol(text,main,accent,"","\\'"),defineSymbol(text,main,accent,"","\\`"),defineSymbol(text,main,accent,"","\\^"),defineSymbol(text,main,accent,"","\\~"),defineSymbol(text,main,accent,"","\\="),defineSymbol(text,main,accent,"","\\u"),defineSymbol(text,main,accent,"","\\."),defineSymbol(text,main,accent,"","\\c"),defineSymbol(text,main,accent,"","\\r"),defineSymbol(text,main,accent,"","\\v"),defineSymbol(text,main,accent,"",'\\"'),defineSymbol(text,main,accent,"","\\H"),defineSymbol(text,main,accent,"","\\textcircled");var ligatures={"--":!0,"---":!0,"``":!0,"''":!0};defineSymbol(text,main,textord,"","--",!0),defineSymbol(text,main,textord,"","\\textendash"),defineSymbol(text,main,textord,"","---",!0),defineSymbol(text,main,textord,"","\\textemdash"),defineSymbol(text,main,textord,"","`",!0),defineSymbol(text,main,textord,"","\\textquoteleft"),defineSymbol(text,main,textord,"","'",!0),defineSymbol(text,main,textord,"","\\textquoteright"),defineSymbol(text,main,textord,"","``",!0),defineSymbol(text,main,textord,"","\\textquotedblleft"),defineSymbol(text,main,textord,"","''",!0),defineSymbol(text,main,textord,"","\\textquotedblright"),defineSymbol(math,main,textord,"","\\degree",!0),defineSymbol(text,main,textord,"","\\degree"),defineSymbol(text,main,textord,"","\\textdegree",!0),defineSymbol(math,main,textord,"","\\pounds"),defineSymbol(math,main,textord,"","\\mathsterling",!0),defineSymbol(text,main,textord,"","\\pounds"),defineSymbol(text,main,textord,"","\\textsterling",!0),defineSymbol(math,ams,textord,"","\\maltese"),defineSymbol(text,ams,textord,"","\\maltese");for(var mathTextSymbols='0123456789/@."',i$1=0;i$1<mathTextSymbols.length;i$1++){var ch=mathTextSymbols.charAt(i$1);defineSymbol(math,main,textord,ch,ch)}for(var textSymbols='0123456789!@*()-=+";:?/.,',_i=0;_i<textSymbols.length;_i++){var _ch=textSymbols.charAt(_i);defineSymbol(text,main,textord,_ch,_ch)}for(var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",_i2=0;_i2<letters.length;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math,main,mathord,_ch2,_ch2),defineSymbol(text,main,textord,_ch2,_ch2)}defineSymbol(math,ams,textord,"C",""),defineSymbol(text,ams,textord,"C",""),defineSymbol(math,ams,textord,"H",""),defineSymbol(text,ams,textord,"H",""),defineSymbol(math,ams,textord,"N",""),defineSymbol(text,ams,textord,"N",""),defineSymbol(math,ams,textord,"P",""),defineSymbol(text,ams,textord,"P",""),defineSymbol(math,ams,textord,"Q",""),defineSymbol(text,ams,textord,"Q",""),defineSymbol(math,ams,textord,"R",""),defineSymbol(text,ams,textord,"R",""),defineSymbol(math,ams,textord,"Z",""),defineSymbol(text,ams,textord,"Z",""),defineSymbol(math,main,mathord,"h",""),defineSymbol(text,main,mathord,"h","");for(var wideChar="",_i3=0;_i3<letters.length;_i3++){var _ch3=letters.charAt(_i3);wideChar=String.fromCharCode(55349,56320+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56372+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56424+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56580+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56736+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56788+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56840+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56944+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),_i3<26&&(wideChar=String.fromCharCode(55349,56632+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56476+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar))}wideChar=String.fromCharCode(55349,56668),defineSymbol(math,main,mathord,"k",wideChar),defineSymbol(text,main,textord,"k",wideChar);for(var _i4=0;_i4<10;_i4++){var _ch4=_i4.toString();wideChar=String.fromCharCode(55349,57294+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57314+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57324+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57334+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar)}for(var extraLatin="",_i5=0;_i5<extraLatin.length;_i5++){var _ch5=extraLatin.charAt(_i5);defineSymbol(math,main,mathord,_ch5,_ch5),defineSymbol(text,main,textord,_ch5,_ch5)}var wideLatinLetterData=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wideNumeralData=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wideCharacterFont=function(e,t){var n=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,i="math"===t?0:1;if(119808<=n&&n<120484){var r=Math.floor((n-119808)/26);return[wideLatinLetterData[r][2],wideLatinLetterData[r][i]]}if(120782<=n&&n<=120831){var s=Math.floor((n-120782)/10);return[wideNumeralData[s][2],wideNumeralData[s][i]]}if(120485===n||120486===n)return[wideLatinLetterData[0][2],wideLatinLetterData[0][i]];if(120486<n&&n<120782)return["",""];throw new ParseError("Unsupported character: "+e)},lookupSymbol=function(e,t,n){return symbols[n][e]&&symbols[n][e].replace&&(e=symbols[n][e].replace),{value:e,metrics:getCharacterMetrics(e,t,n)}},makeSymbol=function(e,t,n,i,r){var s,a=lookupSymbol(e,t,n),o=a.metrics;if(e=a.value,o){var l=o.italic;("text"===n||i&&"mathit"===i.font)&&(l=0),s=new SymbolNode(e,o.height,o.depth,l,o.skew,o.width,r)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"' and mode '"+n+"'"),s=new SymbolNode(e,0,0,0,0,0,r);if(i){s.maxFontSize=i.sizeMultiplier,i.style.isTight()&&s.classes.push("mtight");var c=i.getColor();c&&(s.style.color=c)}return s},mathsym=function(e,t,n,i){return void 0===i&&(i=[]),"boldsymbol"===n.font&&lookupSymbol(e,"Main-Bold",t).metrics?makeSymbol(e,"Main-Bold",t,n,i.concat(["mathbf"])):"\\"===e||"main"===symbols[t][e].font?makeSymbol(e,"Main-Regular",t,n,i):makeSymbol(e,"AMS-Regular",t,n,i.concat(["amsrm"]))},boldsymbol=function(e,t,n,i,r){return"textord"!==r&&lookupSymbol(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},makeOrd=function(e,t,n){var i=e.mode,r=e.text,s=["mord"],a="math"===i||"text"===i&&t.font,o=a?t.font:t.fontFamily;if(55349===r.charCodeAt(0)){var[l,c]=wideCharacterFont(r,i);return makeSymbol(r,l,i,t,s.concat(c))}if(o){var h,d;if("boldsymbol"===o){var p=boldsymbol(r,i,t,s,n);h=p.fontName,d=[p.fontClass]}else a?(h=fontMap[o].fontName,d=[o]):(h=retrieveTextFontName(o,t.fontWeight,t.fontShape),d=[o,t.fontWeight,t.fontShape]);if(lookupSymbol(r,h,i).metrics)return makeSymbol(r,h,i,t,s.concat(d));if(ligatures.hasOwnProperty(r)&&"Typewriter"===h.substr(0,10)){for(var u=[],m=0;m<r.length;m++)u.push(makeSymbol(r[m],h,i,t,s.concat(d)));return makeFragment(u)}}if("mathord"===n)return makeSymbol(r,"Math-Italic",i,t,s.concat(["mathnormal"]));if("textord"===n){var f=symbols[i][r]&&symbols[i][r].font;if("ams"===f){var g=retrieveTextFontName("amsrm",t.fontWeight,t.fontShape);return makeSymbol(r,g,i,t,s.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==f&&f){var b=retrieveTextFontName(f,t.fontWeight,t.fontShape);return makeSymbol(r,b,i,t,s.concat(b,t.fontWeight,t.fontShape))}var y=retrieveTextFontName("textrm",t.fontWeight,t.fontShape);return makeSymbol(r,y,i,t,s.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+n+" in makeOrd")},canCombine=(e,t)=>{if(createClass(e.classes)!==createClass(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(1===e.classes.length){var n=e.classes[0];if("mbin"===n||"mord"===n)return!1}for(var i in e.style)if(e.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;for(var r in t.style)if(t.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;return!0},tryCombineChars=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],i=e[t+1];n instanceof SymbolNode&&i instanceof SymbolNode&&canCombine(n,i)&&(n.text+=i.text,n.height=Math.max(n.height,i.height),n.depth=Math.max(n.depth,i.depth),n.italic=i.italic,e.splice(t+1,1),t--)}return e},sizeElementFromChildren=function(e){for(var t=0,n=0,i=0,r=0;r<e.children.length;r++){var s=e.children[r];s.height>t&&(t=s.height),s.depth>n&&(n=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=i},makeSpan$2=function(e,t,n,i){var r=new Span(e,t,n,i);return sizeElementFromChildren(r),r},makeSvgSpan=(e,t,n,i)=>new Span(e,t,n,i),makeLineSpan=function(e,t,n){var i=makeSpan$2([e],[],t);return i.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),i.style.borderBottomWidth=makeEm(i.height),i.maxFontSize=1,i},makeAnchor=function(e,t,n,i){var r=new Anchor(e,t,n,i);return sizeElementFromChildren(r),r},makeFragment=function(e){var t=new DocumentFragment(e);return sizeElementFromChildren(t),t},wrapFragment=function(e,t){return e instanceof DocumentFragment?makeSpan$2([],[e],t):e},getVListChildrenAndDepth=function(e){if("individualShift"===e.positionType){for(var t=e.children,n=[t[0]],i=-t[0].shift-t[0].elem.depth,r=i,s=1;s<t.length;s++){var a=-t[s].shift-r-t[s].elem.depth,o=a-(t[s-1].elem.height+t[s-1].elem.depth);r+=a,n.push({type:"kern",size:o}),n.push(t[s])}return{children:n,depth:i}}var l;if("top"===e.positionType){for(var c=e.positionData,h=0;h<e.children.length;h++){var d=e.children[h];c-="kern"===d.type?d.size:d.elem.height+d.elem.depth}l=c}else if("bottom"===e.positionType)l=-e.positionData;else{var p=e.children[0];if("elem"!==p.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-p.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-p.elem.depth}}return{children:e.children,depth:l}},makeVList=function(e,t){for(var{children:n,depth:i}=getVListChildrenAndDepth(e),r=0,s=0;s<n.length;s++){var a=n[s];if("elem"===a.type){var o=a.elem;r=Math.max(r,o.maxFontSize,o.height)}}r+=2;var l=makeSpan$2(["pstrut"],[]);l.style.height=makeEm(r);for(var c=[],h=i,d=i,p=i,u=0;u<n.length;u++){var m=n[u];if("kern"===m.type)p+=m.size;else{var f=m.elem,g=m.wrapperClasses||[],b=m.wrapperStyle||{},y=makeSpan$2(g,[l,f],void 0,b);y.style.top=makeEm(-r-p-f.depth),m.marginLeft&&(y.style.marginLeft=m.marginLeft),m.marginRight&&(y.style.marginRight=m.marginRight),c.push(y),p+=f.height+f.depth}h=Math.min(h,p),d=Math.max(d,p)}var v,x=makeSpan$2(["vlist"],c);if(x.style.height=makeEm(d),h<0){var w=makeSpan$2([],[]),O=makeSpan$2(["vlist"],[w]);O.style.height=makeEm(-h);var S=makeSpan$2(["vlist-s"],[new SymbolNode("")]);v=[makeSpan$2(["vlist-r"],[x,S]),makeSpan$2(["vlist-r"],[O])]}else v=[makeSpan$2(["vlist-r"],[x])];var k=makeSpan$2(["vlist-t"],v);return 2===v.length&&k.classes.push("vlist-t2"),k.height=d,k.depth=-h,k},makeGlue=(e,t)=>{var n=makeSpan$2(["mspace"],[],t),i=calculateSize(e,t);return n.style.marginRight=makeEm(i),n},retrieveTextFontName=function(e,t,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}return i+"-"+("textbf"===t&&"textit"===n?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},svgData={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},staticSvg=function(e,t){var[n,i,r]=svgData[e],s=new PathNode(n),a=new SvgNode([s],{width:makeEm(i),height:makeEm(r),style:"width:"+makeEm(i),viewBox:"0 0 "+1e3*i+" "+1e3*r,preserveAspectRatio:"xMinYMin"}),o=makeSvgSpan(["overlay"],[a],t);return o.height=r,o.style.height=makeEm(r),o.style.width=makeEm(i),o},buildCommon={fontMap,makeSymbol,mathsym,makeSpan:makeSpan$2,makeSvgSpan,makeLineSpan,makeAnchor,makeFragment,wrapFragment,makeVList,makeOrd,makeGlue,staticSvg,svgData,tryCombineChars},thinspace={number:3,unit:"mu"},mediumspace={number:4,unit:"mu"},thickspace={number:5,unit:"mu"},spacings={mord:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mop:{mord:thinspace,mop:thinspace,mrel:thickspace,minner:thinspace},mbin:{mord:mediumspace,mop:mediumspace,mopen:mediumspace,minner:mediumspace},mrel:{mord:thickspace,mop:thickspace,mopen:thickspace,minner:thickspace},mopen:{},mclose:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mpunct:{mord:thinspace,mop:thinspace,mrel:thickspace,mopen:thinspace,mclose:thinspace,mpunct:thinspace,minner:thinspace},minner:{mord:thinspace,mop:thinspace,mbin:mediumspace,mrel:thickspace,mopen:thinspace,mpunct:thinspace,minner:thinspace}},tightSpacings={mord:{mop:thinspace},mop:{mord:thinspace,mop:thinspace},mbin:{},mrel:{},mopen:{},mclose:{mop:thinspace},mpunct:{},minner:{mop:thinspace}},_functions={},_htmlGroupBuilders={},_mathmlGroupBuilders={};function defineFunction(e){for(var{type:t,names:n,props:i,handler:r,htmlBuilder:s,mathmlBuilder:a}=e,o={type:t,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:void 0===i.allowedInMath||i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:r},l=0;l<n.length;++l)_functions[n[l]]=o;t&&(s&&(_htmlGroupBuilders[t]=s),a&&(_mathmlGroupBuilders[t]=a))}function defineFunctionBuilders(e){var{type:t,htmlBuilder:n,mathmlBuilder:i}=e;defineFunction({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:i})}var normalizeArgument=function(e){return"ordgroup"===e.type&&1===e.body.length?e.body[0]:e},ordargument=function(e){return"ordgroup"===e.type?e.body:[e]},makeSpan$1=buildCommon.makeSpan,binLeftCanceller=["leftmost","mbin","mopen","mrel","mop","mpunct"],binRightCanceller=["rightmost","mrel","mclose","mpunct"],styleMap$1={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT},DomEnum={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},buildExpression$1=function(e,t,n,i){void 0===i&&(i=[null,null]);for(var r=[],s=0;s<e.length;s++){var a=buildGroup$1(e[s],t);if(a instanceof DocumentFragment){var o=a.children;r.push(...o)}else r.push(a)}if(buildCommon.tryCombineChars(r),!n)return r;var l=t;if(1===e.length){var c=e[0];"sizing"===c.type?l=t.havingSize(c.size):"styling"===c.type&&(l=t.havingStyle(styleMap$1[c.style]))}var h=makeSpan$1([i[0]||"leftmost"],[],t),d=makeSpan$1([i[1]||"rightmost"],[],t),p="root"===n;return traverseNonSpaceNodes(r,((e,t)=>{var n=t.classes[0],i=e.classes[0];"mbin"===n&&utils.contains(binRightCanceller,i)?t.classes[0]="mord":"mbin"===i&&utils.contains(binLeftCanceller,n)&&(e.classes[0]="mord")}),{node:h},d,p),traverseNonSpaceNodes(r,((e,t)=>{var n=getTypeOfDomTree(t),i=getTypeOfDomTree(e),r=n&&i?e.hasClass("mtight")?tightSpacings[n][i]:spacings[n][i]:null;if(r)return buildCommon.makeGlue(r,l)}),{node:h},d,p),r},traverseNonSpaceNodes=function e(t,n,i,r,s){r&&t.push(r);for(var a=0;a<t.length;a++){var o=t[a],l=checkPartialGroup(o);if(l)e(l.children,n,i,null,s);else{var c=!o.hasClass("mspace");if(c){var h=n(o,i.node);h&&(i.insertAfter?i.insertAfter(h):(t.unshift(h),a++))}c?i.node=o:s&&o.hasClass("newline")&&(i.node=makeSpan$1(["leftmost"])),i.insertAfter=(e=>n=>{t.splice(e+1,0,n),a++})(a)}}r&&t.pop()},checkPartialGroup=function(e){return e instanceof DocumentFragment||e instanceof Anchor||e instanceof Span&&e.hasClass("enclosing")?e:null},getOutermostNode=function e(t,n){var i=checkPartialGroup(t);if(i){var r=i.children;if(r.length){if("right"===n)return e(r[r.length-1],"right");if("left"===n)return e(r[0],"left")}}return t},getTypeOfDomTree=function(e,t){return e?(t&&(e=getOutermostNode(e,t)),DomEnum[e.classes[0]]||null):null},makeNullDelimiter=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return makeSpan$1(t.concat(n))},buildGroup$1=function(e,t,n){if(!e)return makeSpan$1();if(_htmlGroupBuilders[e.type]){var i=_htmlGroupBuilders[e.type](e,t);if(n&&t.size!==n.size){i=makeSpan$1(t.sizingClasses(n),[i],t);var r=t.sizeMultiplier/n.sizeMultiplier;i.height*=r,i.depth*=r}return i}throw new ParseError("Got group of unknown type: '"+e.type+"'")};function buildHTMLUnbreakable(e,t){var n=makeSpan$1(["base"],e,t),i=makeSpan$1(["strut"]);return i.style.height=makeEm(n.height+n.depth),n.depth&&(i.style.verticalAlign=makeEm(-n.depth)),n.children.unshift(i),n}function buildHTML(e,t){var n=null;1===e.length&&"tag"===e[0].type&&(n=e[0].tag,e=e[0].body);var i,r=buildExpression$1(e,t,"root");2===r.length&&r[1].hasClass("tag")&&(i=r.pop());for(var s,a=[],o=[],l=0;l<r.length;l++)if(o.push(r[l]),r[l].hasClass("mbin")||r[l].hasClass("mrel")||r[l].hasClass("allowbreak")){for(var c=!1;l<r.length-1&&r[l+1].hasClass("mspace")&&!r[l+1].hasClass("newline");)l++,o.push(r[l]),r[l].hasClass("nobreak")&&(c=!0);c||(a.push(buildHTMLUnbreakable(o,t)),o=[])}else r[l].hasClass("newline")&&(o.pop(),o.length>0&&(a.push(buildHTMLUnbreakable(o,t)),o=[]),a.push(r[l]));o.length>0&&a.push(buildHTMLUnbreakable(o,t)),n?((s=buildHTMLUnbreakable(buildExpression$1(n,t,!0))).classes=["tag"],a.push(s)):i&&a.push(i);var h=makeSpan$1(["katex-html"],a);if(h.setAttribute("aria-hidden","true"),s){var d=s.children[0];d.style.height=makeEm(h.height+h.depth),h.depth&&(d.style.verticalAlign=makeEm(-h.depth))}return h}function newDocumentFragment(e){return new DocumentFragment(e)}class MathNode{constructor(e,t,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=n||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=createClass(this.classes));for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=utils.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+utils.escape(createClass(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">"}toText(){return this.children.map((e=>e.toText())).join("")}}class TextNode{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return utils.escape(this.toText())}toText(){return this.text}}class SpaceNode{constructor(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?"":e>=.1666&&e<=.1667?"":e>=.2222&&e<=.2223?"":e>=.2777&&e<=.2778?"":e>=-.05556&&e<=-.05555?"":e>=-.1667&&e<=-.1666?"":e>=-.2223&&e<=-.2222?"":e>=-.2778&&e<=-.2777?"":null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",makeEm(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+makeEm(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var mathMLTree={MathNode,TextNode,SpaceNode,newDocumentFragment},makeText=function(e,t,n){return!symbols[t][e]||!symbols[t][e].replace||55349===e.charCodeAt(0)||ligatures.hasOwnProperty(e)&&n&&(n.fontFamily&&"tt"===n.fontFamily.substr(4,2)||n.font&&"tt"===n.font.substr(4,2))||(e=symbols[t][e].replace),new mathMLTree.TextNode(e)},makeRow=function(e){return 1===e.length?e[0]:new mathMLTree.MathNode("mrow",e)},getVariant=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var n=t.font;if(!n||"mathnormal"===n)return null;var i=e.mode;if("mathit"===n)return"italic";if("boldsymbol"===n)return"textord"===e.type?"bold":"bold-italic";if("mathbf"===n)return"bold";if("mathbb"===n)return"double-struck";if("mathfrak"===n)return"fraktur";if("mathscr"===n||"mathcal"===n)return"script";if("mathsf"===n)return"sans-serif";if("mathtt"===n)return"monospace";var r=e.text;return utils.contains(["\\imath","\\jmath"],r)?null:(symbols[i][r]&&symbols[i][r].replace&&(r=symbols[i][r].replace),getCharacterMetrics(r,buildCommon.fontMap[n].fontName,i)?buildCommon.fontMap[n].variant:null)},buildExpression=function(e,t,n){if(1===e.length){var i=buildGroup(e[0],t);return n&&i instanceof MathNode&&"mo"===i.type&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var r,s=[],a=0;a<e.length;a++){var o=buildGroup(e[a],t);if(o instanceof MathNode&&r instanceof MathNode){if("mtext"===o.type&&"mtext"===r.type&&o.getAttribute("mathvariant")===r.getAttribute("mathvariant")){r.children.push(...o.children);continue}if("mn"===o.type&&"mn"===r.type){r.children.push(...o.children);continue}if("mi"===o.type&&1===o.children.length&&"mn"===r.type){var l=o.children[0];if(l instanceof TextNode&&"."===l.text){r.children.push(...o.children);continue}}else if("mi"===r.type&&1===r.children.length){var c=r.children[0];if(c instanceof TextNode&&""===c.text&&("mo"===o.type||"mi"===o.type||"mn"===o.type)){var h=o.children[0];h instanceof TextNode&&h.text.length>0&&(h.text=h.text.slice(0,1)+""+h.text.slice(1),s.pop())}}}s.push(o),r=o}return s},buildExpressionRow=function(e,t,n){return makeRow(buildExpression(e,t,n))},buildGroup=function(e,t){if(!e)return new mathMLTree.MathNode("mrow");if(_mathmlGroupBuilders[e.type])return _mathmlGroupBuilders[e.type](e,t);throw new ParseError("Got group of unknown type: '"+e.type+"'")};function buildMathML(e,t,n,i,r){var s,a=buildExpression(e,n);s=1===a.length&&a[0]instanceof MathNode&&utils.contains(["mrow","mtable"],a[0].type)?a[0]:new mathMLTree.MathNode("mrow",a);var o=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var l=new mathMLTree.MathNode("semantics",[s,o]),c=new mathMLTree.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&c.setAttribute("display","block");var h=r?"katex":"katex-mathml";return buildCommon.makeSpan([h],[c])}var optionsFromSettings=function(e){return new Options({style:e.displayMode?Style$1.DISPLAY:Style$1.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},displayWrap=function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=buildCommon.makeSpan(n,[e])}return e},buildTree=function(e,t,n){var i,r=optionsFromSettings(n);if("mathml"===n.output)return buildMathML(e,t,r,n.displayMode,!0);if("html"===n.output){var s=buildHTML(e,r);i=buildCommon.makeSpan(["katex"],[s])}else{var a=buildMathML(e,t,r,n.displayMode,!1),o=buildHTML(e,r);i=buildCommon.makeSpan(["katex"],[a,o])}return displayWrap(i,n)},buildHTMLTree=function(e,t,n){var i=buildHTML(e,optionsFromSettings(n)),r=buildCommon.makeSpan(["katex"],[i]);return displayWrap(r,n)},stretchyCodePoint={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},mathMLnode=function(e){var t=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(stretchyCodePoint[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},groupLength=function(e){return"ordgroup"===e.type?e.body.length:1},svgSpan=function(e,t){var{span:n,minWidth:i,height:r}=function(){var n=4e5,i=e.label.substr(1);if(utils.contains(["widehat","widecheck","widetilde","utilde"],i)){var r,s,a,o=groupLength(e.base);if(o>5)"widehat"===i||"widecheck"===i?(r=420,n=2364,a=.42,s=i+"4"):(r=312,n=2340,a=.34,s="tilde4");else{var l=[1,1,2,2,3,3][o];"widehat"===i||"widecheck"===i?(n=[0,1062,2364,2364,2364][l],r=[0,239,300,360,420][l],a=[0,.24,.3,.3,.36,.42][l],s=i+l):(n=[0,600,1033,2339,2340][l],r=[0,260,286,306,312][l],a=[0,.26,.286,.3,.306,.34][l],s="tilde"+l)}var c=new PathNode(s),h=new SvgNode([c],{width:"100%",height:makeEm(a),viewBox:"0 0 "+n+" "+r,preserveAspectRatio:"none"});return{span:buildCommon.makeSvgSpan([],[h],t),minWidth:0,height:a}}var d,p,u=[],m=katexImagesData[i],[f,g,b]=m,y=b/1e3,v=f.length;if(1===v)d=["hide-tail"],p=[m[3]];else if(2===v)d=["halfarrow-left","halfarrow-right"],p=["xMinYMin","xMaxYMin"];else{if(3!==v)throw new Error("Correct katexImagesData or update code here to support\n                    "+v+" children.");d=["brace-left","brace-center","brace-right"],p=["xMinYMin","xMidYMin","xMaxYMin"]}for(var x=0;x<v;x++){var w=new PathNode(f[x]),O=new SvgNode([w],{width:"400em",height:makeEm(y),viewBox:"0 0 "+n+" "+b,preserveAspectRatio:p[x]+" slice"}),S=buildCommon.makeSvgSpan([d[x]],[O],t);if(1===v)return{span:S,minWidth:g,height:y};S.style.height=makeEm(y),u.push(S)}return{span:buildCommon.makeSpan(["stretchy"],u,t),minWidth:g,height:y}}();return n.height=r,n.style.height=makeEm(r),i>0&&(n.style.minWidth=makeEm(i)),n},encloseSpan=function(e,t,n,i,r){var s,a=e.height+e.depth+n+i;if(/fbox|color|angl/.test(t)){if(s=buildCommon.makeSpan(["stretchy",t],[],r),"fbox"===t){var o=r.color&&r.getColor();o&&(s.style.borderColor=o)}}else{var l=[];/^[bx]cancel$/.test(t)&&l.push(new LineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&l.push(new LineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new SvgNode(l,{width:"100%",height:makeEm(a)});s=buildCommon.makeSvgSpan([],[c],r)}return s.height=a,s.style.height=makeEm(a),s},stretchy={encloseSpan,mathMLnode,svgSpan};function assertNodeType(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function assertSymbolNodeType(e){var t=checkSymbolNodeType(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function checkSymbolNodeType(e){return e&&("atom"===e.type||NON_ATOMS.hasOwnProperty(e.type))?e:null}var htmlBuilder$a=(e,t)=>{var n,i,r;e&&"supsub"===e.type?(n=(i=assertNodeType(e.base,"accent")).base,e.base=n,r=assertSpan(buildGroup$1(e,t)),e.base=i):n=(i=assertNodeType(e,"accent")).base;var s=buildGroup$1(n,t.havingCrampedStyle()),a=0;if(i.isShifty&&utils.isCharacterBox(n)){var o=utils.getBaseElem(n);a=assertSymbolDomNode(buildGroup$1(o,t.havingCrampedStyle())).skew}var l,c="\\c"===i.label,h=c?s.height+s.depth:Math.min(s.height,t.fontMetrics().xHeight);if(i.isStretchy)l=stretchy.svgSpan(i,t),l=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:l,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+makeEm(2*a)+")",marginLeft:makeEm(2*a)}:void 0}]},t);else{var d,p;"\\vec"===i.label?(d=buildCommon.staticSvg("vec",t),p=buildCommon.svgData.vec[1]):((d=assertSymbolDomNode(d=buildCommon.makeOrd({mode:i.mode,text:i.label},t,"textord"))).italic=0,p=d.width,c&&(h+=d.depth)),l=buildCommon.makeSpan(["accent-body"],[d]);var u="\\textcircled"===i.label;u&&(l.classes.push("accent-full"),h=s.height);var m=a;u||(m-=p/2),l.style.left=makeEm(m),"\\textcircled"===i.label&&(l.style.top=".2em"),l=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-h},{type:"elem",elem:l}]},t)}var f=buildCommon.makeSpan(["mord","accent"],[l],t);return r?(r.children[0]=f,r.height=Math.max(f.height,r.height),r.classes[0]="mord",r):f},mathmlBuilder$9=(e,t)=>{var n=e.isStretchy?stretchy.mathMLnode(e.label):new mathMLTree.MathNode("mo",[makeText(e.label,e.mode)]),i=new mathMLTree.MathNode("mover",[buildGroup(e.base,t),n]);return i.setAttribute("accent","true"),i},NON_STRETCHY_ACCENT_REGEX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map((e=>"\\"+e)).join("|"));defineFunction({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=normalizeArgument(t[0]),i=!NON_STRETCHY_ACCENT_REGEX.test(e.funcName),r=!i||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:i,isShifty:r,base:n}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9}),defineFunction({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],i=e.parser.mode;return"math"===i&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9}),defineFunction({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0];return{type:"accentUnder",mode:n.mode,label:i,base:r}},htmlBuilder:(e,t)=>{var n=buildGroup$1(e.base,t),i=stretchy.svgSpan(e,t),r="\\utilde"===e.label?.12:0,s=buildCommon.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:n}]},t);return buildCommon.makeSpan(["mord","accentunder"],[s],t)},mathmlBuilder:(e,t)=>{var n=stretchy.mathMLnode(e.label),i=new mathMLTree.MathNode("munder",[buildGroup(e.base,t),n]);return i.setAttribute("accentunder","true"),i}});var paddedNode=e=>{var t=new mathMLTree.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};defineFunction({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:i,funcName:r}=e;return{type:"xArrow",mode:i.mode,label:r,body:t[0],below:n[0]}},htmlBuilder(e,t){var n,i=t.style,r=t.havingStyle(i.sup()),s=buildCommon.wrapFragment(buildGroup$1(e.body,r,t),t),a="\\x"===e.label.slice(0,2)?"x":"cd";s.classes.push(a+"-arrow-pad"),e.below&&(r=t.havingStyle(i.sub()),(n=buildCommon.wrapFragment(buildGroup$1(e.below,r,t),t)).classes.push(a+"-arrow-pad"));var o,l=stretchy.svgSpan(e,t),c=-t.fontMetrics().axisHeight+.5*l.height,h=-t.fontMetrics().axisHeight-.5*l.height-.111;if((s.depth>.25||"\\xleftequilibrium"===e.label)&&(h-=s.depth),n){var d=-t.fontMetrics().axisHeight+n.height+.5*l.height+.111;o=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:h},{type:"elem",elem:l,shift:c},{type:"elem",elem:n,shift:d}]},t)}else o=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:h},{type:"elem",elem:l,shift:c}]},t);return o.children[0].children[0].children[1].classes.push("svg-align"),buildCommon.makeSpan(["mrel","x-arrow"],[o],t)},mathmlBuilder(e,t){var n,i=stretchy.mathMLnode(e.label);if(i.setAttribute("minsize","x"===e.label.charAt(0)?"1.75em":"3.0em"),e.body){var r=paddedNode(buildGroup(e.body,t));if(e.below){var s=paddedNode(buildGroup(e.below,t));n=new mathMLTree.MathNode("munderover",[i,s,r])}else n=new mathMLTree.MathNode("mover",[i,r])}else if(e.below){var a=paddedNode(buildGroup(e.below,t));n=new mathMLTree.MathNode("munder",[i,a])}else n=paddedNode(),n=new mathMLTree.MathNode("mover",[i,n]);return n}});var cdArrowFunctionName={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},newCell=()=>({type:"styling",body:[],mode:"math",style:"display"}),isStartOfArrow=e=>"textord"===e.type&&"@"===e.text,isLabelEnd=(e,t)=>("mathord"===e.type||"atom"===e.type)&&e.text===t;function cdArrow(e,t,n){var i=cdArrowFunctionName[e];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(i,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":var r={type:"atom",text:i,mode:"math",family:"rel"},s={type:"ordgroup",mode:"math",body:[n.callFunction("\\\\cdleft",[t[0]],[]),n.callFunction("\\Big",[r],[]),n.callFunction("\\\\cdright",[t[1]],[])]};return n.callFunction("\\\\cdparent",[s],[]);case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return n.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}function parseCD(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if("&"!==n&&"\\\\"!==n){if("\\end"===n){0===t[t.length-1].length&&t.pop();break}throw new ParseError("Expected \\\\ or \\cr or \\end",e.nextToken)}e.consume()}for(var i=[],r=[i],s=0;s<t.length;s++){for(var a=t[s],o=newCell(),l=0;l<a.length;l++)if(isStartOfArrow(a[l])){i.push(o);var c=assertSymbolNodeType(a[l+=1]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(c)>-1);else{if(!("<>AV".indexOf(c)>-1))throw new ParseError('Expected one of "<>AV=|." after @',a[l]);for(var d=0;d<2;d++){for(var p=!0,u=l+1;u<a.length;u++){if(isLabelEnd(a[u],c)){p=!1,l=u;break}if(isStartOfArrow(a[u]))throw new ParseError("Missing a "+c+" character to complete a CD arrow.",a[u]);h[d].body.push(a[u])}if(p)throw new ParseError("Missing a "+c+" character to complete a CD arrow.",a[l])}}var m={type:"styling",body:[cdArrow(c,h,e)],mode:"math",style:"display"};i.push(m),o=newCell()}else o.body.push(a[l]);s%2==0?i.push(o):i.shift(),i=[],r.push(i)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:"math",body:r,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(r[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(r.length+1).fill([])}}defineFunction({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:i}=e;return{type:"cdlabel",mode:n.mode,side:i.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),i=buildCommon.wrapFragment(buildGroup$1(e.label,n,t),t);return i.classes.push("cd-label-"+e.side),i.style.bottom=makeEm(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mrow",[buildGroup(e.label,t)]);return(n=new mathMLTree.MathNode("mpadded",[n])).setAttribute("width","0"),"left"===e.side&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),(n=new mathMLTree.MathNode("mstyle",[n])).setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}}),defineFunction({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=buildCommon.wrapFragment(buildGroup$1(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder:(e,t)=>new mathMLTree.MathNode("mrow",[buildGroup(e.fragment,t)])}),defineFunction({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,i=assertNodeType(t[0],"ordgroup").body,r="",s=0;s<i.length;s++){r+=assertNodeType(i[s],"textord").text}var a,o=parseInt(r);if(isNaN(o))throw new ParseError("\\@char has non-numeric argument "+r);if(o<0||o>=1114111)throw new ParseError("\\@char with invalid code point "+r);return o<=65535?a=String.fromCharCode(o):(o-=65536,a=String.fromCharCode(55296+(o>>10),56320+(1023&o))),{type:"textord",mode:n.mode,text:a}}});var htmlBuilder$9=(e,t)=>{var n=buildExpression$1(e.body,t.withColor(e.color),!1);return buildCommon.makeFragment(n)},mathmlBuilder$8=(e,t)=>{var n=buildExpression(e.body,t.withColor(e.color)),i=new mathMLTree.MathNode("mstyle",n);return i.setAttribute("mathcolor",e.color),i};defineFunction({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,i=assertNodeType(t[0],"color-token").color,r=t[1];return{type:"color",mode:n.mode,color:i,body:ordargument(r)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8}),defineFunction({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:i}=e,r=assertNodeType(t[0],"color-token").color;n.gullet.macros.set("\\current@color",r);var s=n.parseExpression(!0,i);return{type:"color",mode:n.mode,color:r,body:s}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8}),defineFunction({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler(e,t,n){var{parser:i}=e,r=n[0],s=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:s,size:r&&assertNodeType(r,"size").value}},htmlBuilder(e,t){var n=buildCommon.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=makeEm(calculateSize(e.size,t)))),n},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",makeEm(calculateSize(e.size,t)))),n}});var globalMap={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},checkControlSequence=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new ParseError("Expected a control sequence",e);return t},getRHS=e=>{var t=e.gullet.popToken();return"="===t.text&&" "===(t=e.gullet.popToken()).text&&(t=e.gullet.popToken()),t},letCommand=(e,t,n,i)=>{var r=e.gullet.macros.get(n.text);null==r&&(n.noexpand=!0,r={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,r,i)};defineFunction({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var i=t.fetch();if(globalMap[i.text])return"\\global"!==n&&"\\\\globallong"!==n||(i.text=globalMap[i.text]),assertNodeType(t.parseFunction(),"internal");throw new ParseError("Invalid token after macro prefix",i)}}),defineFunction({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,i=t.gullet.popToken(),r=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(r))throw new ParseError("Expected a control sequence",i);for(var s,a=0,o=[[]];"{"!==t.gullet.future().text;)if("#"===(i=t.gullet.popToken()).text){if("{"===t.gullet.future().text){s=t.gullet.future(),o[a].push("{");break}if(i=t.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new ParseError('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==a+1)throw new ParseError('Argument number "'+i.text+'" out of order');a++,o.push([])}else{if("EOF"===i.text)throw new ParseError("Expected a macro definition");o[a].push(i.text)}var{tokens:l}=t.gullet.consumeArg();return s&&l.unshift(s),"\\edef"!==n&&"\\xdef"!==n||(l=t.gullet.expandTokens(l)).reverse(),t.gullet.macros.set(r,{tokens:l,numArgs:a,delimiters:o},n===globalMap[n]),{type:"internal",mode:t.mode}}}),defineFunction({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,i=checkControlSequence(t.gullet.popToken());t.gullet.consumeSpaces();var r=getRHS(t);return letCommand(t,i,r,"\\\\globallet"===n),{type:"internal",mode:t.mode}}}),defineFunction({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,i=checkControlSequence(t.gullet.popToken()),r=t.gullet.popToken(),s=t.gullet.popToken();return letCommand(t,i,s,"\\\\globalfuture"===n),t.gullet.pushToken(s),t.gullet.pushToken(r),{type:"internal",mode:t.mode}}});var getMetrics=function(e,t,n){var i=getCharacterMetrics(symbols.math[e]&&symbols.math[e].replace||e,t,n);if(!i)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return i},styleWrap=function(e,t,n,i){var r=n.havingBaseStyle(t),s=buildCommon.makeSpan(i.concat(r.sizingClasses(n)),[e],n),a=r.sizeMultiplier/n.sizeMultiplier;return s.height*=a,s.depth*=a,s.maxFontSize=r.sizeMultiplier,s},centerSpan=function(e,t,n){var i=t.havingBaseStyle(n),r=(1-t.sizeMultiplier/i.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=makeEm(r),e.height-=r,e.depth+=r},makeSmallDelim=function(e,t,n,i,r,s){var a=buildCommon.makeSymbol(e,"Main-Regular",r,i),o=styleWrap(a,t,i,s);return n&&centerSpan(o,i,t),o},mathrmSize=function(e,t,n,i){return buildCommon.makeSymbol(e,"Size"+t+"-Regular",n,i)},makeLargeDelim=function(e,t,n,i,r,s){var a=mathrmSize(e,t,r,i),o=styleWrap(buildCommon.makeSpan(["delimsizing","size"+t],[a],i),Style$1.TEXT,i,s);return n&&centerSpan(o,i,Style$1.TEXT),o},makeGlyphSpan=function(e,t,n){var i;return i="Size1-Regular"===t?"delim-size1":"delim-size4",{type:"elem",elem:buildCommon.makeSpan(["delimsizinginner",i],[buildCommon.makeSpan([],[buildCommon.makeSymbol(e,t,n)])])}},makeInner=function(e,t,n){var i=fontMetricsData["Size4-Regular"][e.charCodeAt(0)]?fontMetricsData["Size4-Regular"][e.charCodeAt(0)][4]:fontMetricsData["Size1-Regular"][e.charCodeAt(0)][4],r=new PathNode("inner",innerPath(e,Math.round(1e3*t))),s=new SvgNode([r],{width:makeEm(i),height:makeEm(t),style:"width:"+makeEm(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),a=buildCommon.makeSvgSpan([],[s],n);return a.height=t,a.style.height=makeEm(t),a.style.width=makeEm(i),{type:"elem",elem:a}},lapInEms=.008,lap={type:"kern",size:-1*lapInEms},verts=["|","\\lvert","\\rvert","\\vert"],doubleVerts=["\\|","\\lVert","\\rVert","\\Vert"],makeStackedDelim=function(e,t,n,i,r,s){var a,o,l,c;a=l=c=e,o=null;var h="Size1-Regular";"\\uparrow"===e?l=c="":"\\Uparrow"===e?l=c="":"\\downarrow"===e?a=l="":"\\Downarrow"===e?a=l="":"\\updownarrow"===e?(a="\\uparrow",l="",c="\\downarrow"):"\\Updownarrow"===e?(a="\\Uparrow",l="",c="\\Downarrow"):utils.contains(verts,e)?l="":utils.contains(doubleVerts,e)?l="":"["===e||"\\lbrack"===e?(a="",l="",c="",h="Size4-Regular"):"]"===e||"\\rbrack"===e?(a="",l="",c="",h="Size4-Regular"):"\\lfloor"===e||""===e?(l=a="",c="",h="Size4-Regular"):"\\lceil"===e||""===e?(a="",l=c="",h="Size4-Regular"):"\\rfloor"===e||""===e?(l=a="",c="",h="Size4-Regular"):"\\rceil"===e||""===e?(a="",l=c="",h="Size4-Regular"):"("===e||"\\lparen"===e?(a="",l="",c="",h="Size4-Regular"):")"===e||"\\rparen"===e?(a="",l="",c="",h="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(a="",o="",c="",l="",h="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(a="",o="",c="",l="",h="Size4-Regular"):"\\lgroup"===e||""===e?(a="",c="",l="",h="Size4-Regular"):"\\rgroup"===e||""===e?(a="",c="",l="",h="Size4-Regular"):"\\lmoustache"===e||""===e?(a="",c="",l="",h="Size4-Regular"):"\\rmoustache"!==e&&""!==e||(a="",c="",l="",h="Size4-Regular");var d=getMetrics(a,h,r),p=d.height+d.depth,u=getMetrics(l,h,r),m=u.height+u.depth,f=getMetrics(c,h,r),g=f.height+f.depth,b=0,y=1;if(null!==o){var v=getMetrics(o,h,r);b=v.height+v.depth,y=2}var x=p+g+b,w=x+Math.max(0,Math.ceil((t-x)/(y*m)))*y*m,O=i.fontMetrics().axisHeight;n&&(O*=i.sizeMultiplier);var S=w/2-O,k=[];if(k.push(makeGlyphSpan(c,h,r)),k.push(lap),null===o){var _=w-p-g+2*lapInEms;k.push(makeInner(l,_,i))}else{var A=(w-p-g-b)/2+2*lapInEms;k.push(makeInner(l,A,i)),k.push(lap),k.push(makeGlyphSpan(o,h,r)),k.push(lap),k.push(makeInner(l,A,i))}k.push(lap),k.push(makeGlyphSpan(a,h,r));var T=i.havingBaseStyle(Style$1.TEXT),C=buildCommon.makeVList({positionType:"bottom",positionData:S,children:k},T);return styleWrap(buildCommon.makeSpan(["delimsizing","mult"],[C],T),Style$1.TEXT,i,s)},vbPad=80,emPad=.08,sqrtSvg=function(e,t,n,i,r){var s=sqrtPath(e,i,n),a=new PathNode(e,s),o=new SvgNode([a],{width:"400em",height:makeEm(t),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return buildCommon.makeSvgSpan(["hide-tail"],[o],r)},makeSqrtImage=function(e,t){var n,i,r=t.havingBaseSizing(),s=traverseSequence("\\surd",e*r.sizeMultiplier,stackLargeDelimiterSequence,r),a=r.sizeMultiplier,o=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),l=0,c=0,h=0;return"small"===s.type?(e<1?a=1:e<1.4&&(a=.7),c=(1+o)/a,(n=sqrtSvg("sqrtMain",l=(1+o+emPad)/a,h=1e3+1e3*o+vbPad,o,t)).style.minWidth="0.853em",i=.833/a):"large"===s.type?(h=(1e3+vbPad)*sizeToMaxHeight[s.size],c=(sizeToMaxHeight[s.size]+o)/a,l=(sizeToMaxHeight[s.size]+o+emPad)/a,(n=sqrtSvg("sqrtSize"+s.size,l,h,o,t)).style.minWidth="1.02em",i=1/a):(l=e+o+emPad,c=e+o,h=Math.floor(1e3*e+o)+vbPad,(n=sqrtSvg("sqrtTall",l,h,o,t)).style.minWidth="0.742em",i=1.056),n.height=c,n.style.height=makeEm(l),{span:n,advanceWidth:i,ruleWidth:(t.fontMetrics().sqrtRuleThickness+o)*a}},stackLargeDelimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],makeSizedDelim=function(e,t,n,i,r){if("<"===e||"\\lt"===e||""===e?e="\\langle":">"!==e&&"\\gt"!==e&&""!==e||(e="\\rangle"),utils.contains(stackLargeDelimiters,e)||utils.contains(stackNeverDelimiters,e))return makeLargeDelim(e,t,!1,n,i,r);if(utils.contains(stackAlwaysDelimiters,e))return makeStackedDelim(e,sizeToMaxHeight[t],!1,n,i,r);throw new ParseError("Illegal delimiter: '"+e+"'")},stackNeverDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},traverseSequence=function(e,t,n,i){for(var r=Math.min(2,3-i.style.size);r<n.length&&"stack"!==n[r].type;r++){var s=getMetrics(e,delimTypeToFont(n[r]),"math"),a=s.height+s.depth;if("small"===n[r].type&&(a*=i.havingBaseStyle(n[r].style).sizeMultiplier),a>t)return n[r]}return n[n.length-1]},makeCustomSizedDelim=function(e,t,n,i,r,s){var a;"<"===e||"\\lt"===e||""===e?e="\\langle":">"!==e&&"\\gt"!==e&&""!==e||(e="\\rangle"),a=utils.contains(stackNeverDelimiters,e)?stackNeverDelimiterSequence:utils.contains(stackLargeDelimiters,e)?stackLargeDelimiterSequence:stackAlwaysDelimiterSequence;var o=traverseSequence(e,t,a,i);return"small"===o.type?makeSmallDelim(e,o.style,n,i,r,s):"large"===o.type?makeLargeDelim(e,o.size,n,i,r,s):makeStackedDelim(e,t,n,i,r,s)},makeLeftRightDelim=function(e,t,n,i,r,s){var a=i.fontMetrics().axisHeight*i.sizeMultiplier,o=5/i.fontMetrics().ptPerEm,l=Math.max(t-a,n+a),c=Math.max(l/500*901,2*l-o);return makeCustomSizedDelim(e,c,!0,i,r,s)},delimiter={sqrtImage:makeSqrtImage,sizedDelim:makeSizedDelim,sizeToMaxHeight,customSizedDelim:makeCustomSizedDelim,leftRightDelim:makeLeftRightDelim},delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function checkDelimiter(e,t){var n=checkSymbolNodeType(e);if(n&&utils.contains(delimiters,n.text))return n;throw new ParseError(n?"Invalid delimiter '"+n.text+"' after '"+t.funcName+"'":"Invalid delimiter type '"+e.type+"'",e)}function assertParsed(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}defineFunction({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=checkDelimiter(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:delimiterSizes[e.funcName].size,mclass:delimiterSizes[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>"."===e.delim?buildCommon.makeSpan([e.mclass]):delimiter.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];"."!==e.delim&&t.push(makeText(e.delim,e.mode));var n=new mathMLTree.MathNode("mo",t);"mopen"===e.mclass||"mclose"===e.mclass?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var i=makeEm(delimiter.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",i),n.setAttribute("maxsize",i),n}}),defineFunction({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&"string"!=typeof n)throw new ParseError("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:checkDelimiter(t[0],e).text,color:n}}}),defineFunction({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=checkDelimiter(t[0],e),i=e.parser;++i.leftrightDepth;var r=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var s=assertNodeType(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:r,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(e,t)=>{assertParsed(e);for(var n,i,r=buildExpression$1(e.body,t,!0,["mopen","mclose"]),s=0,a=0,o=!1,l=0;l<r.length;l++)r[l].isMiddle?o=!0:(s=Math.max(r[l].height,s),a=Math.max(r[l].depth,a));if(s*=t.sizeMultiplier,a*=t.sizeMultiplier,n="."===e.left?makeNullDelimiter(t,["mopen"]):delimiter.leftRightDelim(e.left,s,a,t,e.mode,["mopen"]),r.unshift(n),o)for(var c=1;c<r.length;c++){var h=r[c].isMiddle;h&&(r[c]=delimiter.leftRightDelim(h.delim,s,a,h.options,e.mode,[]))}if("."===e.right)i=makeNullDelimiter(t,["mclose"]);else{var d=e.rightColor?t.withColor(e.rightColor):t;i=delimiter.leftRightDelim(e.right,s,a,d,e.mode,["mclose"])}return r.push(i),buildCommon.makeSpan(["minner"],r,t)},mathmlBuilder:(e,t)=>{assertParsed(e);var n=buildExpression(e.body,t);if("."!==e.left){var i=new mathMLTree.MathNode("mo",[makeText(e.left,e.mode)]);i.setAttribute("fence","true"),n.unshift(i)}if("."!==e.right){var r=new mathMLTree.MathNode("mo",[makeText(e.right,e.mode)]);r.setAttribute("fence","true"),e.rightColor&&r.setAttribute("mathcolor",e.rightColor),n.push(r)}return makeRow(n)}}),defineFunction({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=checkDelimiter(t[0],e);if(!e.parser.leftrightDepth)throw new ParseError("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if("."===e.delim)n=makeNullDelimiter(t,[]);else{n=delimiter.sizedDelim(e.delim,1,t,e.mode,[]);var i={delim:e.delim,options:t};n.isMiddle=i}return n},mathmlBuilder:(e,t)=>{var n="\\vert"===e.delim||"|"===e.delim?makeText("|","text"):makeText(e.delim,e.mode),i=new mathMLTree.MathNode("mo",[n]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var htmlBuilder$8=(e,t)=>{var n,i,r=buildCommon.wrapFragment(buildGroup$1(e.body,t),t),s=e.label.substr(1),a=t.sizeMultiplier,o=0,l=utils.isCharacterBox(e.body);if("sout"===s)(n=buildCommon.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/a,o=-.5*t.fontMetrics().xHeight;else if("phase"===s){var c=calculateSize({number:.6,unit:"pt"},t),h=calculateSize({number:.35,unit:"ex"},t);a/=t.havingBaseSizing().sizeMultiplier;var d=r.height+r.depth+c+h;r.style.paddingLeft=makeEm(d/2+c);var p=Math.floor(1e3*d*a),u=phasePath(p),m=new SvgNode([new PathNode("phase",u)],{width:"400em",height:makeEm(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});(n=buildCommon.makeSvgSpan(["hide-tail"],[m],t)).style.height=makeEm(d),o=r.depth+c+h}else{/cancel/.test(s)?l||r.classes.push("cancel-pad"):"angl"===s?r.classes.push("anglpad"):r.classes.push("boxpad");var f=0,g=0,b=0;/box/.test(s)?(b=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),g=f=t.fontMetrics().fboxsep+("colorbox"===s?0:b)):"angl"===s?(f=4*(b=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness)),g=Math.max(0,.25-r.depth)):g=f=l?.2:0,n=stretchy.encloseSpan(r,s,f,g,t),/fbox|boxed|fcolorbox/.test(s)?(n.style.borderStyle="solid",n.style.borderWidth=makeEm(b)):"angl"===s&&.049!==b&&(n.style.borderTopWidth=makeEm(b),n.style.borderRightWidth=makeEm(b)),o=r.depth+g,e.backgroundColor&&(n.style.backgroundColor=e.backgroundColor,e.borderColor&&(n.style.borderColor=e.borderColor))}if(e.backgroundColor)i=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:o},{type:"elem",elem:r,shift:0}]},t);else{var y=/cancel|phase/.test(s)?["svg-align"]:[];i=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:n,shift:o,wrapperClasses:y}]},t)}return/cancel/.test(s)&&(i.height=r.height,i.depth=r.depth),/cancel/.test(s)&&!l?buildCommon.makeSpan(["mord","cancel-lap"],[i],t):buildCommon.makeSpan(["mord"],[i],t)},mathmlBuilder$7=(e,t)=>{var n=0,i=new mathMLTree.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[buildGroup(e.body,t)]);switch(e.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*n+"pt"),i.setAttribute("height","+"+2*n+"pt"),i.setAttribute("lspace",n+"pt"),i.setAttribute("voffset",n+"pt"),"\\fcolorbox"===e.label){var r=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);i.setAttribute("style","border: "+r+"em solid "+String(e.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&i.setAttribute("mathbackground",e.backgroundColor),i};defineFunction({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:i,funcName:r}=e,s=assertNodeType(t[0],"color-token").color,a=t[1];return{type:"enclose",mode:i.mode,label:r,backgroundColor:s,body:a}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7}),defineFunction({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:i,funcName:r}=e,s=assertNodeType(t[0],"color-token").color,a=assertNodeType(t[1],"color-token").color,o=t[2];return{type:"enclose",mode:i.mode,label:r,backgroundColor:a,borderColor:s,body:o}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7}),defineFunction({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}}),defineFunction({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:i}=e,r=t[0];return{type:"enclose",mode:n.mode,label:i,body:r}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7}),defineFunction({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var _environments={};function defineEnvironment(e){for(var{type:t,names:n,props:i,handler:r,htmlBuilder:s,mathmlBuilder:a}=e,o={type:t,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r},l=0;l<n.length;++l)_environments[n[l]]=o;s&&(_htmlGroupBuilders[t]=s),a&&(_mathmlGroupBuilders[t]=a)}var _macros={};function defineMacro(e,t){_macros[e]=t}function getHLines(e){var t=[];e.consumeSpaces();for(var n=e.fetch().text;"\\hline"===n||"\\hdashline"===n;)e.consume(),t.push("\\hdashline"===n),e.consumeSpaces(),n=e.fetch().text;return t}var validateAmsEnvironmentContext=e=>{if(!e.parser.settings.displayMode)throw new ParseError("{"+e.envName+"} can be used only in display mode.")};function getAutoTag(e){if(-1===e.indexOf("ed"))return-1===e.indexOf("*")}function parseArray(e,t,n){var{hskipBeforeAndAfter:i,addJot:r,cols:s,arraystretch:a,colSeparationType:o,autoTag:l,singleRow:c,emptySingleRow:h,maxNumCols:d,leqno:p}=t;if(e.gullet.beginGroup(),c||e.gullet.macros.set("\\cr","\\\\\\relax"),!a){var u=e.gullet.expandMacroAsText("\\arraystretch");if(null==u)a=1;else if(!(a=parseFloat(u))||a<0)throw new ParseError("Invalid \\arraystretch: "+u)}e.gullet.beginGroup();var m=[],f=[m],g=[],b=[],y=null!=l?[]:void 0;function v(){l&&e.gullet.macros.set("\\@eqnsw","1",!0)}function x(){y&&(e.gullet.macros.get("\\df@tag")?(y.push(e.subparse([new Token("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):y.push(Boolean(l)&&"1"===e.gullet.macros.get("\\@eqnsw")))}for(v(),b.push(getHLines(e));;){var w=e.parseExpression(!1,c?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),w={type:"ordgroup",mode:e.mode,body:w},n&&(w={type:"styling",mode:e.mode,style:n,body:[w]}),m.push(w);var O=e.fetch().text;if("&"===O){if(d&&m.length===d){if(c||o)throw new ParseError("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else{if("\\end"===O){x(),1===m.length&&"styling"===w.type&&0===w.body[0].body.length&&(f.length>1||!h)&&f.pop(),b.length<f.length+1&&b.push([]);break}if("\\\\"!==O)throw new ParseError("Expected & or \\\\ or \\cr or \\end",e.nextToken);e.consume();var S=void 0;" "!==e.gullet.future().text&&(S=e.parseSizeGroup(!0)),g.push(S?S.value:null),x(),b.push(getHLines(e)),m=[],f.push(m),v()}}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:r,arraystretch:a,body:f,cols:s,rowGaps:g,hskipBeforeAndAfter:i,hLinesBeforeRow:b,colSeparationType:o,tags:y,leqno:p}}function dCellStyle(e){return"d"===e.substr(0,1)?"display":"text"}var htmlBuilder$7=function(e,t){var n,i,r=e.body.length,s=e.hLinesBeforeRow,a=0,o=new Array(r),l=[],c=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),h=1/t.fontMetrics().ptPerEm,d=5*h;e.colSeparationType&&"small"===e.colSeparationType&&(d=t.havingStyle(Style$1.SCRIPT).sizeMultiplier/t.sizeMultiplier*.2778);var p="CD"===e.colSeparationType?calculateSize({number:3,unit:"ex"},t):12*h,u=3*h,m=e.arraystretch*p,f=.7*m,g=.3*m,b=0;function y(e){for(var t=0;t<e.length;++t)t>0&&(b+=.25),l.push({pos:b,isDashed:e[t]})}for(y(s[0]),n=0;n<e.body.length;++n){var v=e.body[n],x=f,w=g;a<v.length&&(a=v.length);var O=new Array(v.length);for(i=0;i<v.length;++i){var S=buildGroup$1(v[i],t);w<S.depth&&(w=S.depth),x<S.height&&(x=S.height),O[i]=S}var k=e.rowGaps[n],_=0;k&&(_=calculateSize(k,t))>0&&(w<(_+=g)&&(w=_),_=0),e.addJot&&(w+=u),O.height=x,O.depth=w,b+=x,O.pos=b,b+=w+_,o[n]=O,y(s[n+1])}var A,T,C=b/2+t.fontMetrics().axisHeight,M=e.cols||[],E=[],j=[];if(e.tags&&e.tags.some((e=>e)))for(n=0;n<r;++n){var R=o[n],P=R.pos-C,L=e.tags[n],I=void 0;(I=!0===L?buildCommon.makeSpan(["eqn-num"],[],t):!1===L?buildCommon.makeSpan([],[],t):buildCommon.makeSpan([],buildExpression$1(L,t,!0),t)).depth=R.depth,I.height=R.height,j.push({type:"elem",elem:I,shift:P})}for(i=0,T=0;i<a||T<M.length;++i,++T){for(var N=M[T]||{},D=!0;"separator"===N.type;){if(D||((A=buildCommon.makeSpan(["arraycolsep"],[])).style.width=makeEm(t.fontMetrics().doubleRuleSep),E.push(A)),"|"!==N.separator&&":"!==N.separator)throw new ParseError("Invalid separator type: "+N.separator);var z="|"===N.separator?"solid":"dashed",F=buildCommon.makeSpan(["vertical-separator"],[],t);F.style.height=makeEm(b),F.style.borderRightWidth=makeEm(c),F.style.borderRightStyle=z,F.style.margin="0 "+makeEm(-c/2);var $=b-C;$&&(F.style.verticalAlign=makeEm(-$)),E.push(F),N=M[++T]||{},D=!1}if(!(i>=a)){var B=void 0;(i>0||e.hskipBeforeAndAfter)&&0!==(B=utils.deflt(N.pregap,d))&&((A=buildCommon.makeSpan(["arraycolsep"],[])).style.width=makeEm(B),E.push(A));var Q=[];for(n=0;n<r;++n){var U=o[n],H=U[i];if(H){var W=U.pos-C;H.depth=U.depth,H.height=U.height,Q.push({type:"elem",elem:H,shift:W})}}Q=buildCommon.makeVList({positionType:"individualShift",children:Q},t),Q=buildCommon.makeSpan(["col-align-"+(N.align||"c")],[Q]),E.push(Q),(i<a-1||e.hskipBeforeAndAfter)&&0!==(B=utils.deflt(N.postgap,d))&&((A=buildCommon.makeSpan(["arraycolsep"],[])).style.width=makeEm(B),E.push(A))}}if(o=buildCommon.makeSpan(["mtable"],E),l.length>0){for(var V=buildCommon.makeLineSpan("hline",t,c),X=buildCommon.makeLineSpan("hdashline",t,c),G=[{type:"elem",elem:o,shift:0}];l.length>0;){var q=l.pop(),Y=q.pos-C;q.isDashed?G.push({type:"elem",elem:X,shift:Y}):G.push({type:"elem",elem:V,shift:Y})}o=buildCommon.makeVList({positionType:"individualShift",children:G},t)}if(0===j.length)return buildCommon.makeSpan(["mord"],[o],t);var J=buildCommon.makeVList({positionType:"individualShift",children:j},t);return J=buildCommon.makeSpan(["tag"],[J],t),buildCommon.makeFragment([o,J])},alignMap={c:"center ",l:"left ",r:"right "},mathmlBuilder$6=function(e,t){for(var n=[],i=new mathMLTree.MathNode("mtd",[],["mtr-glue"]),r=new mathMLTree.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var a=e.body[s],o=[],l=0;l<a.length;l++)o.push(new mathMLTree.MathNode("mtd",[buildGroup(a[l],t)]));e.tags&&e.tags[s]&&(o.unshift(i),o.push(i),e.leqno?o.unshift(r):o.push(r)),n.push(new mathMLTree.MathNode("mtr",o))}var c=new mathMLTree.MathNode("mtable",n),h=.5===e.arraystretch?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",makeEm(h));var d="",p="";if(e.cols&&e.cols.length>0){var u=e.cols,m="",f=!1,g=0,b=u.length;"separator"===u[0].type&&(d+="top ",g=1),"separator"===u[u.length-1].type&&(d+="bottom ",b-=1);for(var y=g;y<b;y++)"align"===u[y].type?(p+=alignMap[u[y].align],f&&(m+="none "),f=!0):"separator"===u[y].type&&f&&(m+="|"===u[y].separator?"solid ":"dashed ",f=!1);c.setAttribute("columnalign",p.trim()),/[sd]/.test(m)&&c.setAttribute("columnlines",m.trim())}if("align"===e.colSeparationType){for(var v=e.cols||[],x="",w=1;w<v.length;w++)x+=w%2?"0em ":"1em ";c.setAttribute("columnspacing",x.trim())}else"alignat"===e.colSeparationType||"gather"===e.colSeparationType?c.setAttribute("columnspacing","0em"):"small"===e.colSeparationType?c.setAttribute("columnspacing","0.2778em"):"CD"===e.colSeparationType?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var O="",S=e.hLinesBeforeRow;d+=S[0].length>0?"left ":"",d+=S[S.length-1].length>0?"right ":"";for(var k=1;k<S.length-1;k++)O+=0===S[k].length?"none ":S[k][0]?"dashed ":"solid ";return/[sd]/.test(O)&&c.setAttribute("rowlines",O.trim()),""!==d&&(c=new mathMLTree.MathNode("menclose",[c])).setAttribute("notation",d.trim()),e.arraystretch&&e.arraystretch<1&&(c=new mathMLTree.MathNode("mstyle",[c])).setAttribute("scriptlevel","1"),c},alignedHandler=function(e,t){-1===e.envName.indexOf("ed")&&validateAmsEnvironmentContext(e);var n,i=[],r=e.envName.indexOf("at")>-1?"alignat":"align",s="split"===e.envName,a=parseArray(e.parser,{cols:i,addJot:!0,autoTag:s?void 0:getAutoTag(e.envName),emptySingleRow:!0,colSeparationType:r,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),o=0,l={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&"ordgroup"===t[0].type){for(var c="",h=0;h<t[0].body.length;h++){c+=assertNodeType(t[0].body[h],"textord").text}n=Number(c),o=2*n}var d=!o;a.body.forEach((function(e){for(var t=1;t<e.length;t+=2){var i=assertNodeType(e[t],"styling");assertNodeType(i.body[0],"ordgroup").body.unshift(l)}if(d)o<e.length&&(o=e.length);else{var r=e.length/2;if(n<r)throw new ParseError("Too many math in a row: expected "+n+", but got "+r,e[0])}}));for(var p=0;p<o;++p){var u="r",m=0;p%2==1?u="l":p>0&&d&&(m=1),i[p]={type:"align",align:u,pregap:m,postgap:0}}return a.colSeparationType=d?"align":"alignat",a};defineEnvironment({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=(checkSymbolNodeType(t[0])?[t[0]]:assertNodeType(t[0],"ordgroup").body).map((function(e){var t=assertSymbolNodeType(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new ParseError("Unknown column alignment: "+t,e)})),i={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return parseArray(e.parser,i,dCellStyle(e.envName))},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if("*"===e.envName.charAt(e.envName.length-1)){var r=e.parser;if(r.consumeSpaces(),"["===r.fetch().text){if(r.consume(),r.consumeSpaces(),n=r.fetch().text,-1==="lcr".indexOf(n))throw new ParseError("Expected l or c or r",r.nextToken);r.consume(),r.consumeSpaces(),r.expect("]"),r.consume(),i.cols=[{type:"align",align:n}]}}var s=parseArray(e.parser,i,dCellStyle(e.envName)),a=Math.max(0,...s.body.map((e=>e.length)));return s.cols=new Array(a).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[s],left:t[0],right:t[1],rightColor:void 0}:s},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t=parseArray(e.parser,{arraystretch:.5},"script");return t.colSeparationType="small",t},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=(checkSymbolNodeType(t[0])?[t[0]]:assertNodeType(t[0],"ordgroup").body).map((function(e){var t=assertSymbolNodeType(e).text;if(-1!=="lc".indexOf(t))return{type:"align",align:t};throw new ParseError("Unknown column alignment: "+t,e)}));if(n.length>1)throw new ParseError("{subarray} can contain only one column");var i={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if((i=parseArray(e.parser,i,"script")).body.length>0&&i.body[0].length>1)throw new ParseError("{subarray} can contain only one column");return i},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t=parseArray(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},dCellStyle(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:alignedHandler,htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){utils.contains(["gather","gather*"],e.envName)&&validateAmsEnvironmentContext(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:getAutoTag(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return parseArray(e.parser,t,"display")},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:alignedHandler,htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){validateAmsEnvironmentContext(e);var t={autoTag:getAutoTag(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return parseArray(e.parser,t,"display")},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["CD"],props:{numArgs:0},handler:e=>(validateAmsEnvironmentContext(e),parseCD(e.parser)),htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineMacro("\\nonumber","\\gdef\\@eqnsw{0}"),defineMacro("\\notag","\\nonumber"),defineFunction({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new ParseError(e.funcName+" valid only within array environment")}});var environments=_environments;defineFunction({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:i}=e,r=t[0];if("ordgroup"!==r.type)throw new ParseError("Invalid environment name",r);for(var s="",a=0;a<r.body.length;++a)s+=assertNodeType(r.body[a],"textord").text;if("\\begin"===i){if(!environments.hasOwnProperty(s))throw new ParseError("No such environment: "+s,r);var o=environments[s],{args:l,optArgs:c}=n.parseArguments("\\begin{"+s+"}",o),h={mode:n.mode,envName:s,parser:n},d=o.handler(h,l,c);n.expect("\\end",!1);var p=n.nextToken,u=assertNodeType(n.parseFunction(),"environment");if(u.name!==s)throw new ParseError("Mismatch: \\begin{"+s+"} matched by \\end{"+u.name+"}",p);return d}return{type:"environment",mode:n.mode,name:s,nameGroup:r}}});var makeSpan=buildCommon.makeSpan;function htmlBuilder$6(e,t){var n=buildExpression$1(e.body,t,!0);return makeSpan([e.mclass],n,t)}function mathmlBuilder$5(e,t){var n,i=buildExpression(e.body,t);return"minner"===e.mclass?n=new mathMLTree.MathNode("mpadded",i):"mord"===e.mclass?e.isCharacterBox?(n=i[0]).type="mi":n=new mathMLTree.MathNode("mi",i):(e.isCharacterBox?(n=i[0]).type="mo":n=new mathMLTree.MathNode("mo",i),"mbin"===e.mclass?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):"mpunct"===e.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):"mopen"===e.mclass||"mclose"===e.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0em"):"minner"===e.mclass&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}defineFunction({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:i}=e,r=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+i.substr(5),body:ordargument(r),isCharacterBox:utils.isCharacterBox(r)}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});var binrelClass=e=>{var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};defineFunction({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:binrelClass(t[0]),body:ordargument(t[1]),isCharacterBox:utils.isCharacterBox(t[1])}}}),defineFunction({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var n,{parser:i,funcName:r}=e,s=t[1],a=t[0];n="\\stackrel"!==r?binrelClass(s):"mrel";var o={type:"op",mode:s.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==r,body:ordargument(s)},l={type:"supsub",mode:a.mode,base:o,sup:"\\underset"===r?null:a,sub:"\\underset"===r?a:null};return{type:"mclass",mode:i.mode,mclass:n,body:[l],isCharacterBox:utils.isCharacterBox(l)}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});var htmlBuilder$5=(e,t)=>{var n=e.font,i=t.withFont(n);return buildGroup$1(e.body,i)},mathmlBuilder$4=(e,t)=>{var n=e.font,i=t.withFont(n);return buildGroup(e.body,i)},fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};defineFunction({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=normalizeArgument(t[0]),s=i;return s in fontAliases&&(s=fontAliases[s]),{type:"font",mode:n.mode,font:s.slice(1),body:r}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4}),defineFunction({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,i=t[0],r=utils.isCharacterBox(i);return{type:"mclass",mode:n.mode,mclass:binrelClass(i),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:i}],isCharacterBox:r}}}),defineFunction({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:i,breakOnTokenText:r}=e,{mode:s}=n,a=n.parseExpression(!0,r);return{type:"font",mode:s,font:"math"+i.slice(1),body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});var adjustStyle=(e,t)=>{var n=t;return"display"===e?n=n.id>=Style$1.SCRIPT.id?n.text():Style$1.DISPLAY:"text"===e&&n.size===Style$1.DISPLAY.size?n=Style$1.TEXT:"script"===e?n=Style$1.SCRIPT:"scriptscript"===e&&(n=Style$1.SCRIPTSCRIPT),n},htmlBuilder$4=(e,t)=>{var n,i=adjustStyle(e.size,t.style),r=i.fracNum(),s=i.fracDen();n=t.havingStyle(r);var a=buildGroup$1(e.numer,n,t);if(e.continued){var o=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;a.height=a.height<o?o:a.height,a.depth=a.depth<l?l:a.depth}n=t.havingStyle(s);var c,h,d,p,u,m,f,g,b,y,v=buildGroup$1(e.denom,n,t);if(e.hasBarLine?(e.barSize?(h=calculateSize(e.barSize,t),c=buildCommon.makeLineSpan("frac-line",t,h)):c=buildCommon.makeLineSpan("frac-line",t),h=c.height,d=c.height):(c=null,h=0,d=t.fontMetrics().defaultRuleThickness),i.size===Style$1.DISPLAY.size||"display"===e.size?(p=t.fontMetrics().num1,u=h>0?3*d:7*d,m=t.fontMetrics().denom1):(h>0?(p=t.fontMetrics().num2,u=d):(p=t.fontMetrics().num3,u=3*d),m=t.fontMetrics().denom2),c){var x=t.fontMetrics().axisHeight;p-a.depth-(x+.5*h)<u&&(p+=u-(p-a.depth-(x+.5*h))),x-.5*h-(v.height-m)<u&&(m+=u-(x-.5*h-(v.height-m)));var w=-(x-.5*h);f=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:v,shift:m},{type:"elem",elem:c,shift:w},{type:"elem",elem:a,shift:-p}]},t)}else{var O=p-a.depth-(v.height-m);O<u&&(p+=.5*(u-O),m+=.5*(u-O)),f=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:v,shift:m},{type:"elem",elem:a,shift:-p}]},t)}return n=t.havingStyle(i),f.height*=n.sizeMultiplier/t.sizeMultiplier,f.depth*=n.sizeMultiplier/t.sizeMultiplier,g=i.size===Style$1.DISPLAY.size?t.fontMetrics().delim1:i.size===Style$1.SCRIPTSCRIPT.size?t.havingStyle(Style$1.SCRIPT).fontMetrics().delim2:t.fontMetrics().delim2,b=null==e.leftDelim?makeNullDelimiter(t,["mopen"]):delimiter.customSizedDelim(e.leftDelim,g,!0,t.havingStyle(i),e.mode,["mopen"]),y=e.continued?buildCommon.makeSpan([]):null==e.rightDelim?makeNullDelimiter(t,["mclose"]):delimiter.customSizedDelim(e.rightDelim,g,!0,t.havingStyle(i),e.mode,["mclose"]),buildCommon.makeSpan(["mord"].concat(n.sizingClasses(t)),[b,buildCommon.makeSpan(["mfrac"],[f]),y],t)},mathmlBuilder$3=(e,t)=>{var n=new mathMLTree.MathNode("mfrac",[buildGroup(e.numer,t),buildGroup(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var i=calculateSize(e.barSize,t);n.setAttribute("linethickness",makeEm(i))}}else n.setAttribute("linethickness","0px");var r=adjustStyle(e.size,t.style);if(r.size!==t.style.size){n=new mathMLTree.MathNode("mstyle",[n]);var s=r.size===Style$1.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(null!=e.leftDelim||null!=e.rightDelim){var a=[];if(null!=e.leftDelim){var o=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(e.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}if(a.push(n),null!=e.rightDelim){var l=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return makeRow(a)}return n};defineFunction({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var n,{parser:i,funcName:r}=e,s=t[0],a=t[1],o=null,l=null,c="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":n=!0;break;case"\\\\atopfrac":n=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=!1,o="(",l=")";break;case"\\\\bracefrac":n=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":n=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text"}return{type:"genfrac",mode:i.mode,continued:!1,numer:s,denom:a,hasBarLine:n,leftDelim:o,rightDelim:l,size:c,barSize:null}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3}),defineFunction({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0],s=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:r,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),defineFunction({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var t,{parser:n,funcName:i,token:r}=e;switch(i){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:t,token:r}}});var stylArray=["display","text","script","scriptscript"],delimFromValue=function(e){var t=null;return e.length>0&&(t="."===(t=e)?null:t),t};defineFunction({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var n,{parser:i}=e,r=t[4],s=t[5],a=normalizeArgument(t[0]),o="atom"===a.type&&"open"===a.family?delimFromValue(a.text):null,l=normalizeArgument(t[1]),c="atom"===l.type&&"close"===l.family?delimFromValue(l.text):null,h=assertNodeType(t[2],"size"),d=null;n=!!h.isBlank||(d=h.value).number>0;var p="auto",u=t[3];if("ordgroup"===u.type){if(u.body.length>0){var m=assertNodeType(u.body[0],"textord");p=stylArray[Number(m.text)]}}else u=assertNodeType(u,"textord"),p=stylArray[Number(u.text)];return{type:"genfrac",mode:i.mode,numer:r,denom:s,continued:!1,hasBarLine:n,barSize:d,leftDelim:o,rightDelim:c,size:p}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3}),defineFunction({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:i,token:r}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:assertNodeType(t[0],"size").value,token:r}}}),defineFunction({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0],s=assert(assertNodeType(t[1],"infix").size),a=t[2],o=s.number>0;return{type:"genfrac",mode:n.mode,numer:r,denom:a,continued:!1,hasBarLine:o,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});var htmlBuilder$3=(e,t)=>{var n,i,r=t.style;"supsub"===e.type?(n=e.sup?buildGroup$1(e.sup,t.havingStyle(r.sup()),t):buildGroup$1(e.sub,t.havingStyle(r.sub()),t),i=assertNodeType(e.base,"horizBrace")):i=assertNodeType(e,"horizBrace");var s,a=buildGroup$1(i.base,t.havingBaseStyle(Style$1.DISPLAY)),o=stretchy.svgSpan(i,t);if(i.isOver?(s=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:o}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(s=buildCommon.makeVList({positionType:"bottom",positionData:a.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:a}]},t)).children[0].children[0].children[0].classes.push("svg-align"),n){var l=buildCommon.makeSpan(["mord",i.isOver?"mover":"munder"],[s],t);s=i.isOver?buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},t):buildCommon.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return buildCommon.makeSpan(["mord",i.isOver?"mover":"munder"],[s],t)},mathmlBuilder$2=(e,t)=>{var n=stretchy.mathMLnode(e.label);return new mathMLTree.MathNode(e.isOver?"mover":"munder",[buildGroup(e.base,t),n])};defineFunction({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:i}=e;return{type:"horizBrace",mode:n.mode,label:i,isOver:/^\\over/.test(i),base:t[0]}},htmlBuilder:htmlBuilder$3,mathmlBuilder:mathmlBuilder$2}),defineFunction({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[1],r=assertNodeType(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:r})?{type:"href",mode:n.mode,href:r,body:ordargument(i)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=buildExpression$1(e.body,t,!1);return buildCommon.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=buildExpressionRow(e.body,t);return n instanceof MathNode||(n=new MathNode("mrow",[n])),n.setAttribute("href",e.href),n}}),defineFunction({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=assertNodeType(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:i}))return n.formatUnsupportedCmd("\\url");for(var r=[],s=0;s<i.length;s++){var a=i[s];"~"===a&&(a="\\textasciitilde"),r.push({type:"textord",mode:"text",text:a})}var o={type:"text",mode:n.mode,font:"\\texttt",body:r};return{type:"href",mode:n.mode,href:i,body:ordargument(o)}}}),defineFunction({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:ordargument(t[0])}},htmlBuilder(e,t){var n=buildExpression$1(e.body,t,!1);return buildCommon.makeFragment(n)},mathmlBuilder:(e,t)=>new mathMLTree.MathNode("mrow",buildExpression(e.body,t))}),defineFunction({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var n,{parser:i,funcName:r,token:s}=e,a=assertNodeType(t[0],"raw").string,o=t[1];i.settings.strict&&i.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l={};switch(r){case"\\htmlClass":l.class=a,n={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,n={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,n={command:"\\htmlStyle",style:a};break;case"\\htmlData":for(var c=a.split(","),h=0;h<c.length;h++){var d=c[h].split("=");if(2!==d.length)throw new ParseError("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}n={command:"\\htmlData",attributes:l};break;default:throw new Error("Unrecognized html command")}return i.settings.isTrusted(n)?{type:"html",mode:i.mode,attributes:l,body:ordargument(o)}:i.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{var n=buildExpression$1(e.body,t,!1),i=["enclosing"];e.attributes.class&&i.push(...e.attributes.class.trim().split(/\s+/));var r=buildCommon.makeSpan(i,n,t);for(var s in e.attributes)"class"!==s&&e.attributes.hasOwnProperty(s)&&r.setAttribute(s,e.attributes[s]);return r},mathmlBuilder:(e,t)=>buildExpressionRow(e.body,t)}),defineFunction({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:ordargument(t[0]),mathml:ordargument(t[1])}},htmlBuilder:(e,t)=>{var n=buildExpression$1(e.html,t,!1);return buildCommon.makeFragment(n)},mathmlBuilder:(e,t)=>buildExpressionRow(e.mathml,t)});var sizeData=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new ParseError("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(t[1]+t[2]),unit:t[3]};if(!validUnit(n))throw new ParseError("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};defineFunction({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:i}=e,r={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},o="";if(n[0])for(var l=assertNodeType(n[0],"raw").string.split(","),c=0;c<l.length;c++){var h=l[c].split("=");if(2===h.length){var d=h[1].trim();switch(h[0].trim()){case"alt":o=d;break;case"width":r=sizeData(d);break;case"height":s=sizeData(d);break;case"totalheight":a=sizeData(d);break;default:throw new ParseError("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var p=assertNodeType(t[0],"url").url;return""===o&&(o=(o=(o=p).replace(/^.*[\\/]/,"")).substring(0,o.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:i.mode,alt:o,width:r,height:s,totalheight:a,src:p}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=calculateSize(e.height,t),i=0;e.totalheight.number>0&&(i=calculateSize(e.totalheight,t)-n);var r=0;e.width.number>0&&(r=calculateSize(e.width,t));var s={height:makeEm(n+i)};r>0&&(s.width=makeEm(r)),i>0&&(s.verticalAlign=makeEm(-i));var a=new Img(e.src,e.alt,s);return a.height=n,a.depth=i,a},mathmlBuilder:(e,t)=>{var n=new mathMLTree.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var i=calculateSize(e.height,t),r=0;if(e.totalheight.number>0&&(r=calculateSize(e.totalheight,t)-i,n.setAttribute("valign",makeEm(-r))),n.setAttribute("height",makeEm(i+r)),e.width.number>0){var s=calculateSize(e.width,t);n.setAttribute("width",makeEm(s))}return n.setAttribute("src",e.src),n}}),defineFunction({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:i}=e,r=assertNodeType(t[0],"size");if(n.settings.strict){var s="m"===i[1],a="mu"===r.value.unit;s?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, not "+r.value.unit+" units"),"math"!==n.mode&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:r.value}},htmlBuilder:(e,t)=>buildCommon.makeGlue(e.dimension,t),mathmlBuilder(e,t){var n=calculateSize(e.dimension,t);return new mathMLTree.SpaceNode(n)}}),defineFunction({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0];return{type:"lap",mode:n.mode,alignment:i.slice(5),body:r}},htmlBuilder:(e,t)=>{var n;"clap"===e.alignment?(n=buildCommon.makeSpan([],[buildGroup$1(e.body,t)]),n=buildCommon.makeSpan(["inner"],[n],t)):n=buildCommon.makeSpan(["inner"],[buildGroup$1(e.body,t)]);var i=buildCommon.makeSpan(["fix"],[]),r=buildCommon.makeSpan([e.alignment],[n,i],t),s=buildCommon.makeSpan(["strut"]);return s.style.height=makeEm(r.height+r.depth),r.depth&&(s.style.verticalAlign=makeEm(-r.depth)),r.children.unshift(s),r=buildCommon.makeSpan(["thinbox"],[r],t),buildCommon.makeSpan(["mord","vbox"],[r],t)},mathmlBuilder:(e,t)=>{var n=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,t)]);if("rlap"!==e.alignment){var i="llap"===e.alignment?"-1":"-0.5";n.setAttribute("lspace",i+"width")}return n.setAttribute("width","0px"),n}}),defineFunction({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:i}=e,r=i.mode;i.switchMode("math");var s="\\("===n?"\\)":"$",a=i.parseExpression(!1,s);return i.expect(s),i.switchMode(r),{type:"styling",mode:i.mode,style:"text",body:a}}}),defineFunction({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new ParseError("Mismatched "+e.funcName)}});var chooseMathStyle=(e,t)=>{switch(t.style.size){case Style$1.DISPLAY.size:return e.display;case Style$1.TEXT.size:return e.text;case Style$1.SCRIPT.size:return e.script;case Style$1.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};defineFunction({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:ordargument(t[0]),text:ordargument(t[1]),script:ordargument(t[2]),scriptscript:ordargument(t[3])}},htmlBuilder:(e,t)=>{var n=chooseMathStyle(e,t),i=buildExpression$1(n,t,!1);return buildCommon.makeFragment(i)},mathmlBuilder:(e,t)=>{var n=chooseMathStyle(e,t);return buildExpressionRow(n,t)}});var assembleSupSub=(e,t,n,i,r,s,a)=>{e=buildCommon.makeSpan([],[e]);var o,l,c,h=n&&utils.isCharacterBox(n);if(t){var d=buildGroup$1(t,i.havingStyle(r.sup()),i);l={elem:d,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-d.depth)}}if(n){var p=buildGroup$1(n,i.havingStyle(r.sub()),i);o={elem:p,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-p.height)}}if(l&&o){var u=i.fontMetrics().bigOpSpacing5+o.elem.height+o.elem.depth+o.kern+e.depth+a;c=buildCommon.makeVList({positionType:"bottom",positionData:u,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:o.elem,marginLeft:makeEm(-s)},{type:"kern",size:o.kern},{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:makeEm(s)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(o){var m=e.height-a;c=buildCommon.makeVList({positionType:"top",positionData:m,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:o.elem,marginLeft:makeEm(-s)},{type:"kern",size:o.kern},{type:"elem",elem:e}]},i)}else{if(!l)return e;var f=e.depth+a;c=buildCommon.makeVList({positionType:"bottom",positionData:f,children:[{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:makeEm(s)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}var g=[c];if(o&&0!==s&&!h){var b=buildCommon.makeSpan(["mspace"],[],i);b.style.marginRight=makeEm(s),g.unshift(b)}return buildCommon.makeSpan(["mop","op-limits"],g,i)},noSuccessor=["\\smallint"],htmlBuilder$2=(e,t)=>{var n,i,r,s=!1;"supsub"===e.type?(n=e.sup,i=e.sub,r=assertNodeType(e.base,"op"),s=!0):r=assertNodeType(e,"op");var a,o=t.style,l=!1;if(o.size===Style$1.DISPLAY.size&&r.symbol&&!utils.contains(noSuccessor,r.name)&&(l=!0),r.symbol){var c=l?"Size2-Regular":"Size1-Regular",h="";if("\\oiint"!==r.name&&"\\oiiint"!==r.name||(h=r.name.substr(1),r.name="oiint"===h?"\\iint":"\\iiint"),a=buildCommon.makeSymbol(r.name,c,"math",t,["mop","op-symbol",l?"large-op":"small-op"]),h.length>0){var d=a.italic,p=buildCommon.staticSvg(h+"Size"+(l?"2":"1"),t);a=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:p,shift:l?.08:0}]},t),r.name="\\"+h,a.classes.unshift("mop"),a.italic=d}}else if(r.body){var u=buildExpression$1(r.body,t,!0);1===u.length&&u[0]instanceof SymbolNode?(a=u[0]).classes[0]="mop":a=buildCommon.makeSpan(["mop"],u,t)}else{for(var m=[],f=1;f<r.name.length;f++)m.push(buildCommon.mathsym(r.name[f],r.mode,t));a=buildCommon.makeSpan(["mop"],m,t)}var g=0,b=0;return(a instanceof SymbolNode||"\\oiint"===r.name||"\\oiiint"===r.name)&&!r.suppressBaseShift&&(g=(a.height-a.depth)/2-t.fontMetrics().axisHeight,b=a.italic),s?assembleSupSub(a,n,i,t,o,b,g):(g&&(a.style.position="relative",a.style.top=makeEm(g)),a)},mathmlBuilder$1=(e,t)=>{var n;if(e.symbol)n=new MathNode("mo",[makeText(e.name,e.mode)]),utils.contains(noSuccessor,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new MathNode("mo",buildExpression(e.body,t));else{n=new MathNode("mi",[new TextNode(e.name.slice(1))]);var i=new MathNode("mo",[makeText("","text")]);n=e.parentIsSupSub?new MathNode("mrow",[n,i]):newDocumentFragment([n,i])}return n},singleCharBigOps={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};defineFunction({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=i;return 1===r.length&&(r=singleCharBigOps[r]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1}),defineFunction({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ordargument(i)}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var singleCharIntegrals={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};defineFunction({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1}),defineFunction({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1}),defineFunction({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,i=n;return 1===i.length&&(i=singleCharIntegrals[i]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var htmlBuilder$1=(e,t)=>{var n,i,r,s,a=!1;if("supsub"===e.type?(n=e.sup,i=e.sub,r=assertNodeType(e.base,"operatorname"),a=!0):r=assertNodeType(e,"operatorname"),r.body.length>0){for(var o=r.body.map((e=>{var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e})),l=buildExpression$1(o,t.withFont("mathrm"),!0),c=0;c<l.length;c++){var h=l[c];h instanceof SymbolNode&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=buildCommon.makeSpan(["mop"],l,t)}else s=buildCommon.makeSpan(["mop"],[],t);return a?assembleSupSub(s,n,i,t,t.style,0,0):s},mathmlBuilder=(e,t)=>{for(var n=buildExpression(e.body,t.withFont("mathrm")),i=!0,r=0;r<n.length;r++){var s=n[r];if(s instanceof mathMLTree.SpaceNode);else if(s instanceof mathMLTree.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var a=s.children[0];1===s.children.length&&a instanceof mathMLTree.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break;default:i=!1}else i=!1}if(i){var o=n.map((e=>e.toText())).join("");n=[new mathMLTree.TextNode(o)]}var l=new mathMLTree.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new mathMLTree.MathNode("mo",[makeText("","text")]);return e.parentIsSupSub?new mathMLTree.MathNode("mrow",[l,c]):mathMLTree.newDocumentFragment([l,c])};function sizingGroup(e,t,n){for(var i=buildExpression$1(e,t,!1),r=t.sizeMultiplier/n.sizeMultiplier,s=0;s<i.length;s++){var a=i[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(i[s].classes,t.sizingClasses(n)):i[s].classes[a+1]==="reset-size"+t.size&&(i[s].classes[a+1]="reset-size"+n.size),i[s].height*=r,i[s].depth*=r}return buildCommon.makeFragment(i)}defineFunction({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0];return{type:"operatorname",mode:n.mode,body:ordargument(r),alwaysHandleSupSub:"\\operatornamewithlimits"===i,limits:!1,parentIsSupSub:!1}},htmlBuilder:htmlBuilder$1,mathmlBuilder}),defineMacro("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),defineFunctionBuilders({type:"ordgroup",htmlBuilder:(e,t)=>e.semisimple?buildCommon.makeFragment(buildExpression$1(e.body,t,!1)):buildCommon.makeSpan(["mord"],buildExpression$1(e.body,t,!0),t),mathmlBuilder:(e,t)=>buildExpressionRow(e.body,t,!0)}),defineFunction({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,i=t[0];return{type:"overline",mode:n.mode,body:i}},htmlBuilder(e,t){var n=buildGroup$1(e.body,t.havingCrampedStyle()),i=buildCommon.makeLineSpan("overline-line",t),r=t.fontMetrics().defaultRuleThickness,s=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*r},{type:"elem",elem:i},{type:"kern",size:r}]},t);return buildCommon.makeSpan(["mord","overline"],[s],t)},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);n.setAttribute("stretchy","true");var i=new mathMLTree.MathNode("mover",[buildGroup(e.body,t),n]);return i.setAttribute("accent","true"),i}}),defineFunction({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"phantom",mode:n.mode,body:ordargument(i)}},htmlBuilder:(e,t)=>{var n=buildExpression$1(e.body,t.withPhantom(),!1);return buildCommon.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=buildExpression(e.body,t);return new mathMLTree.MathNode("mphantom",n)}}),defineFunction({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"hphantom",mode:n.mode,body:i}},htmlBuilder:(e,t)=>{var n=buildCommon.makeSpan([],[buildGroup$1(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var i=0;i<n.children.length;i++)n.children[i].height=0,n.children[i].depth=0;return n=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),buildCommon.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=buildExpression(ordargument(e.body),t),i=new mathMLTree.MathNode("mphantom",n),r=new mathMLTree.MathNode("mpadded",[i]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}}),defineFunction({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"vphantom",mode:n.mode,body:i}},htmlBuilder:(e,t)=>{var n=buildCommon.makeSpan(["inner"],[buildGroup$1(e.body,t.withPhantom())]),i=buildCommon.makeSpan(["fix"],[]);return buildCommon.makeSpan(["mord","rlap"],[n,i],t)},mathmlBuilder:(e,t)=>{var n=buildExpression(ordargument(e.body),t),i=new mathMLTree.MathNode("mphantom",n),r=new mathMLTree.MathNode("mpadded",[i]);return r.setAttribute("width","0px"),r}}),defineFunction({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,i=assertNodeType(t[0],"size").value,r=t[1];return{type:"raisebox",mode:n.mode,dy:i,body:r}},htmlBuilder(e,t){var n=buildGroup$1(e.body,t),i=calculateSize(e.dy,t);return buildCommon.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,t)]),i=e.dy.number+e.dy.unit;return n.setAttribute("voffset",i),n}}),defineFunction({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}}),defineFunction({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,n){var{parser:i}=e,r=n[0],s=assertNodeType(t[0],"size"),a=assertNodeType(t[1],"size");return{type:"rule",mode:i.mode,shift:r&&assertNodeType(r,"size").value,width:s.value,height:a.value}},htmlBuilder(e,t){var n=buildCommon.makeSpan(["mord","rule"],[],t),i=calculateSize(e.width,t),r=calculateSize(e.height,t),s=e.shift?calculateSize(e.shift,t):0;return n.style.borderRightWidth=makeEm(i),n.style.borderTopWidth=makeEm(r),n.style.bottom=makeEm(s),n.width=i,n.height=r+s,n.depth=-s,n.maxFontSize=1.125*r*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=calculateSize(e.width,t),i=calculateSize(e.height,t),r=e.shift?calculateSize(e.shift,t):0,s=t.color&&t.getColor()||"black",a=new mathMLTree.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",makeEm(n)),a.setAttribute("height",makeEm(i));var o=new mathMLTree.MathNode("mpadded",[a]);return r>=0?o.setAttribute("height",makeEm(r)):(o.setAttribute("height",makeEm(r)),o.setAttribute("depth",makeEm(-r))),o.setAttribute("voffset",makeEm(r)),o}});var sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],htmlBuilder=(e,t)=>{var n=t.havingSize(e.size);return sizingGroup(e.body,n,t)};defineFunction({type:"sizing",names:sizeFuncs,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:i,parser:r}=e,s=r.parseExpression(!1,n);return{type:"sizing",mode:r.mode,size:sizeFuncs.indexOf(i)+1,body:s}},htmlBuilder,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),i=buildExpression(e.body,n),r=new mathMLTree.MathNode("mstyle",i);return r.setAttribute("mathsize",makeEm(n.sizeMultiplier)),r}}),defineFunction({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:i}=e,r=!1,s=!1,a=n[0]&&assertNodeType(n[0],"ordgroup");if(a)for(var o="",l=0;l<a.body.length;++l){if("t"===(o=a.body[l].text))r=!0;else{if("b"!==o){r=!1,s=!1;break}s=!0}}else r=!0,s=!0;var c=t[0];return{type:"smash",mode:i.mode,body:c,smashHeight:r,smashDepth:s}},htmlBuilder:(e,t)=>{var n=buildCommon.makeSpan([],[buildGroup$1(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].depth=0;var s=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return buildCommon.makeSpan(["mord"],[s],t)},mathmlBuilder:(e,t)=>{var n=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}}),defineFunction({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:i}=e,r=n[0],s=t[0];return{type:"sqrt",mode:i.mode,body:s,index:r}},htmlBuilder(e,t){var n=buildGroup$1(e.body,t.havingCrampedStyle());0===n.height&&(n.height=t.fontMetrics().xHeight),n=buildCommon.wrapFragment(n,t);var i=t.fontMetrics().defaultRuleThickness,r=i;t.style.id<Style$1.TEXT.id&&(r=t.fontMetrics().xHeight);var s=i+r/4,a=n.height+n.depth+s+i,{span:o,ruleWidth:l,advanceWidth:c}=delimiter.sqrtImage(a,t),h=o.height-l;h>n.height+n.depth+s&&(s=(s+h-n.height-n.depth)/2);var d=o.height-n.height-s-l;n.style.paddingLeft=makeEm(c);var p=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+d)},{type:"elem",elem:o},{type:"kern",size:l}]},t);if(e.index){var u=t.havingStyle(Style$1.SCRIPTSCRIPT),m=buildGroup$1(e.index,u,t),f=.6*(p.height-p.depth),g=buildCommon.makeVList({positionType:"shift",positionData:-f,children:[{type:"elem",elem:m}]},t),b=buildCommon.makeSpan(["root"],[g]);return buildCommon.makeSpan(["mord","sqrt"],[b,p],t)}return buildCommon.makeSpan(["mord","sqrt"],[p],t)},mathmlBuilder(e,t){var{body:n,index:i}=e;return i?new mathMLTree.MathNode("mroot",[buildGroup(n,t),buildGroup(i,t)]):new mathMLTree.MathNode("msqrt",[buildGroup(n,t)])}});var styleMap={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT};defineFunction({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:i,parser:r}=e,s=r.parseExpression(!0,n),a=i.slice(1,i.length-5);return{type:"styling",mode:r.mode,style:a,body:s}},htmlBuilder(e,t){var n=styleMap[e.style],i=t.havingStyle(n).withFont("");return sizingGroup(e.body,i,t)},mathmlBuilder(e,t){var n=styleMap[e.style],i=t.havingStyle(n),r=buildExpression(e.body,i),s=new mathMLTree.MathNode("mstyle",r),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return s.setAttribute("scriptlevel",a[0]),s.setAttribute("displaystyle",a[1]),s}});var htmlBuilderDelegate=function(e,t){var n=e.base;return n?"op"===n.type?n.limits&&(t.style.size===Style$1.DISPLAY.size||n.alwaysHandleSupSub)?htmlBuilder$2:null:"operatorname"===n.type?n.alwaysHandleSupSub&&(t.style.size===Style$1.DISPLAY.size||n.limits)?htmlBuilder$1:null:"accent"===n.type?utils.isCharacterBox(n.base)?htmlBuilder$a:null:"horizBrace"===n.type&&!e.sub===n.isOver?htmlBuilder$3:null:null};defineFunctionBuilders({type:"supsub",htmlBuilder(e,t){var n=htmlBuilderDelegate(e,t);if(n)return n(e,t);var i,r,s,{base:a,sup:o,sub:l}=e,c=buildGroup$1(a,t),h=t.fontMetrics(),d=0,p=0,u=a&&utils.isCharacterBox(a);if(o){var m=t.havingStyle(t.style.sup());i=buildGroup$1(o,m,t),u||(d=c.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)}if(l){var f=t.havingStyle(t.style.sub());r=buildGroup$1(l,f,t),u||(p=c.depth+f.fontMetrics().subDrop*f.sizeMultiplier/t.sizeMultiplier)}s=t.style===Style$1.DISPLAY?h.sup1:t.style.cramped?h.sup3:h.sup2;var g,b=t.sizeMultiplier,y=makeEm(.5/h.ptPerEm/b),v=null;if(r){var x=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(c instanceof SymbolNode||x)&&(v=makeEm(-c.italic))}if(i&&r){d=Math.max(d,s,i.depth+.25*h.xHeight),p=Math.max(p,h.sub2);var w=4*h.defaultRuleThickness;if(d-i.depth-(r.height-p)<w){p=w-(d-i.depth)+r.height;var O=.8*h.xHeight-(d-i.depth);O>0&&(d+=O,p-=O)}var S=[{type:"elem",elem:r,shift:p,marginRight:y,marginLeft:v},{type:"elem",elem:i,shift:-d,marginRight:y}];g=buildCommon.makeVList({positionType:"individualShift",children:S},t)}else if(r){p=Math.max(p,h.sub1,r.height-.8*h.xHeight);var k=[{type:"elem",elem:r,marginLeft:v,marginRight:y}];g=buildCommon.makeVList({positionType:"shift",positionData:p,children:k},t)}else{if(!i)throw new Error("supsub must have either sup or sub.");d=Math.max(d,s,i.depth+.25*h.xHeight),g=buildCommon.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:i,marginRight:y}]},t)}var _=getTypeOfDomTree(c,"right")||"mord";return buildCommon.makeSpan([_],[c,buildCommon.makeSpan(["msupsub"],[g])],t)},mathmlBuilder(e,t){var n,i=!1;e.base&&"horizBrace"===e.base.type&&!!e.sup===e.base.isOver&&(i=!0,n=e.base.isOver),!e.base||"op"!==e.base.type&&"operatorname"!==e.base.type||(e.base.parentIsSupSub=!0);var r,s=[buildGroup(e.base,t)];if(e.sub&&s.push(buildGroup(e.sub,t)),e.sup&&s.push(buildGroup(e.sup,t)),i)r=n?"mover":"munder";else if(e.sub)if(e.sup){var a=e.base;r=a&&"op"===a.type&&a.limits&&t.style===Style$1.DISPLAY||a&&"operatorname"===a.type&&a.alwaysHandleSupSub&&(t.style===Style$1.DISPLAY||a.limits)?"munderover":"msubsup"}else{var o=e.base;r=o&&"op"===o.type&&o.limits&&(t.style===Style$1.DISPLAY||o.alwaysHandleSupSub)||o&&"operatorname"===o.type&&o.alwaysHandleSupSub&&(o.limits||t.style===Style$1.DISPLAY)?"munder":"msub"}else{var l=e.base;r=l&&"op"===l.type&&l.limits&&(t.style===Style$1.DISPLAY||l.alwaysHandleSupSub)||l&&"operatorname"===l.type&&l.alwaysHandleSupSub&&(l.limits||t.style===Style$1.DISPLAY)?"mover":"msup"}return new mathMLTree.MathNode(r,s)}}),defineFunctionBuilders({type:"atom",htmlBuilder:(e,t)=>buildCommon.mathsym(e.text,e.mode,t,["m"+e.family]),mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mo",[makeText(e.text,e.mode)]);if("bin"===e.family){var i=getVariant(e,t);"bold-italic"===i&&n.setAttribute("mathvariant",i)}else"punct"===e.family?n.setAttribute("separator","true"):"open"!==e.family&&"close"!==e.family||n.setAttribute("stretchy","false");return n}});var defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};defineFunctionBuilders({type:"mathord",htmlBuilder:(e,t)=>buildCommon.makeOrd(e,t,"mathord"),mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mi",[makeText(e.text,e.mode,t)]),i=getVariant(e,t)||"italic";return i!==defaultVariant[n.type]&&n.setAttribute("mathvariant",i),n}}),defineFunctionBuilders({type:"textord",htmlBuilder:(e,t)=>buildCommon.makeOrd(e,t,"textord"),mathmlBuilder(e,t){var n,i=makeText(e.text,e.mode,t),r=getVariant(e,t)||"normal";return n="text"===e.mode?new mathMLTree.MathNode("mtext",[i]):/[0-9]/.test(e.text)?new mathMLTree.MathNode("mn",[i]):"\\prime"===e.text?new mathMLTree.MathNode("mo",[i]):new mathMLTree.MathNode("mi",[i]),r!==defaultVariant[n.type]&&n.setAttribute("mathvariant",r),n}});var cssSpace={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};defineFunctionBuilders({type:"spacing",htmlBuilder(e,t){if(regularSpace.hasOwnProperty(e.text)){var n=regularSpace[e.text].className||"";if("text"===e.mode){var i=buildCommon.makeOrd(e,t,"textord");return i.classes.push(n),i}return buildCommon.makeSpan(["mspace",n],[buildCommon.mathsym(e.text,e.mode,t)],t)}if(cssSpace.hasOwnProperty(e.text))return buildCommon.makeSpan(["mspace",cssSpace[e.text]],[],t);throw new ParseError('Unknown type of space "'+e.text+'"')},mathmlBuilder(e,t){if(!regularSpace.hasOwnProperty(e.text)){if(cssSpace.hasOwnProperty(e.text))return new mathMLTree.MathNode("mspace");throw new ParseError('Unknown type of space "'+e.text+'"')}return new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode("")])}});var pad=()=>{var e=new mathMLTree.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};defineFunctionBuilders({type:"tag",mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mtable",[new mathMLTree.MathNode("mtr",[pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(e.body,t)]),pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var textFontFamilies={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},textFontWeights={"\\textbf":"textbf","\\textmd":"textmd"},textFontShapes={"\\textit":"textit","\\textup":"textup"},optionsWithFont=(e,t)=>{var n=e.font;return n?textFontFamilies[n]?t.withTextFontFamily(textFontFamilies[n]):textFontWeights[n]?t.withTextFontWeight(textFontWeights[n]):t.withTextFontShape(textFontShapes[n]):t};defineFunction({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:i}=e,r=t[0];return{type:"text",mode:n.mode,body:ordargument(r),font:i}},htmlBuilder(e,t){var n=optionsWithFont(e,t),i=buildExpression$1(e.body,n,!0);return buildCommon.makeSpan(["mord","text"],i,n)},mathmlBuilder(e,t){var n=optionsWithFont(e,t);return buildExpressionRow(e.body,n)}}),defineFunction({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=buildGroup$1(e.body,t),i=buildCommon.makeLineSpan("underline-line",t),r=t.fontMetrics().defaultRuleThickness,s=buildCommon.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:r},{type:"elem",elem:i},{type:"kern",size:3*r},{type:"elem",elem:n}]},t);return buildCommon.makeSpan(["mord","underline"],[s],t)},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);n.setAttribute("stretchy","true");var i=new mathMLTree.MathNode("munder",[buildGroup(e.body,t),n]);return i.setAttribute("accentunder","true"),i}}),defineFunction({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=buildGroup$1(e.body,t),i=t.fontMetrics().axisHeight,r=.5*(n.height-i-(n.depth+i));return buildCommon.makeVList({positionType:"shift",positionData:r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder:(e,t)=>new mathMLTree.MathNode("mpadded",[buildGroup(e.body,t)],["vcenter"])}),defineFunction({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new ParseError("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=makeVerb(e),i=[],r=t.havingStyle(t.style.text()),s=0;s<n.length;s++){var a=n[s];"~"===a&&(a="\\textasciitilde"),i.push(buildCommon.makeSymbol(a,"Typewriter-Regular",e.mode,r,["mord","texttt"]))}return buildCommon.makeSpan(["mord","text"].concat(r.sizingClasses(t)),buildCommon.tryCombineChars(i),r)},mathmlBuilder(e,t){var n=new mathMLTree.TextNode(makeVerb(e)),i=new mathMLTree.MathNode("mtext",[n]);return i.setAttribute("mathvariant","monospace"),i}});var makeVerb=e=>e.body.replace(/ /g,e.star?"":""),functions=_functions,spaceRegexString="[ \r\n\t]",controlWordRegexString="\\\\[a-zA-Z@]+",controlSymbolRegexString="\\\\[^\ud800-\udfff]",controlWordWhitespaceRegexString="("+controlWordRegexString+")"+spaceRegexString+"*",controlSpaceRegexString="\\\\(\n|[ \r\t]+\n?)[ \r\t]*",combiningDiacriticalMarkString="[-]",combiningDiacriticalMarksEndRegex=new RegExp(combiningDiacriticalMarkString+"+$"),tokenRegexString="("+spaceRegexString+"+)|"+controlSpaceRegexString+"|([!-\\[\\]---]"+combiningDiacriticalMarkString+"*|[\ud800-\udbff][\udc00-\udfff]"+combiningDiacriticalMarkString+"*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|"+controlWordWhitespaceRegexString+"|"+controlSymbolRegexString+")";class Lexer{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(tokenRegexString,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new Token("EOF",new SourceLocation(this,t,t));var n=this.tokenRegex.exec(e);if(null===n||n.index!==t)throw new ParseError("Unexpected character: '"+e[t]+"'",new Token(e[t],new SourceLocation(this,t,t+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(14===this.catcodes[i]){var r=e.indexOf("\n",this.tokenRegex.lastIndex);return-1===r?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=r+1,this.lex()}return new Token(i,new SourceLocation(this,t,this.tokenRegex.lastIndex))}}class Namespace{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new ParseError("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(null==e[t]?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,n){if(void 0===n&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var r=this.undefStack[this.undefStack.length-1];r&&!r.hasOwnProperty(e)&&(r[e]=this.current[e])}null==t?delete this.current[e]:this.current[e]=t}}var macros=_macros;defineMacro("\\noexpand",(function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}})),defineMacro("\\expandafter",(function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}})),defineMacro("\\@firstoftwo",(function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}})),defineMacro("\\@secondoftwo",(function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}})),defineMacro("\\@ifnextchar",(function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return 1===t[0].length&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}})),defineMacro("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),defineMacro("\\TextOrMath",(function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}}));var digitToNumber={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};defineMacro("\\char",(function(e){var t,n=e.popToken(),i="";if("'"===n.text)t=8,n=e.popToken();else if('"'===n.text)t=16,n=e.popToken();else if("`"===n.text)if("\\"===(n=e.popToken()).text[0])i=n.text.charCodeAt(1);else{if("EOF"===n.text)throw new ParseError("\\char` missing argument");i=n.text.charCodeAt(0)}else t=10;if(t){if(null==(i=digitToNumber[n.text])||i>=t)throw new ParseError("Invalid base-"+t+" digit "+n.text);for(var r;null!=(r=digitToNumber[e.future().text])&&r<t;)i*=t,i+=r,e.popToken()}return"\\@char{"+i+"}"}));var newcommand=(e,t,n)=>{var i=e.consumeArg().tokens;if(1!==i.length)throw new ParseError("\\newcommand's first argument must be a macro name");var r=i[0].text,s=e.isDefined(r);if(s&&!t)throw new ParseError("\\newcommand{"+r+"} attempting to redefine "+r+"; use \\renewcommand");if(!s&&!n)throw new ParseError("\\renewcommand{"+r+"} when command "+r+" does not yet exist; use \\newcommand");var a=0;if(1===(i=e.consumeArg().tokens).length&&"["===i[0].text){for(var o="",l=e.expandNextToken();"]"!==l.text&&"EOF"!==l.text;)o+=l.text,l=e.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new ParseError("Invalid number of arguments: "+o);a=parseInt(o),i=e.consumeArg().tokens}return e.macros.set(r,{tokens:i,numArgs:a}),""};defineMacro("\\newcommand",(e=>newcommand(e,!1,!0))),defineMacro("\\renewcommand",(e=>newcommand(e,!0,!1))),defineMacro("\\providecommand",(e=>newcommand(e,!0,!0))),defineMacro("\\message",(e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map((e=>e.text)).join("")),""})),defineMacro("\\errmessage",(e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map((e=>e.text)).join("")),""})),defineMacro("\\show",(e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),functions[n],symbols.math[n],symbols.text[n]),""})),defineMacro("\\bgroup","{"),defineMacro("\\egroup","}"),defineMacro("~","\\nobreakspace"),defineMacro("\\lq","`"),defineMacro("\\rq","'"),defineMacro("\\aa","\\r a"),defineMacro("\\AA","\\r A"),defineMacro("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),defineMacro("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),defineMacro("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),defineMacro("","\\mathscr{B}"),defineMacro("","\\mathscr{E}"),defineMacro("","\\mathscr{F}"),defineMacro("","\\mathscr{H}"),defineMacro("","\\mathscr{I}"),defineMacro("","\\mathscr{L}"),defineMacro("","\\mathscr{M}"),defineMacro("","\\mathscr{R}"),defineMacro("","\\mathfrak{C}"),defineMacro("","\\mathfrak{H}"),defineMacro("","\\mathfrak{Z}"),defineMacro("\\Bbbk","\\Bbb{k}"),defineMacro("","\\cdotp"),defineMacro("\\llap","\\mathllap{\\textrm{#1}}"),defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}"),defineMacro("\\clap","\\mathclap{\\textrm{#1}}"),defineMacro("\\mathstrut","\\vphantom{(}"),defineMacro("\\underbar","\\underline{\\text{#1}}"),defineMacro("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),defineMacro("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),defineMacro("\\ne","\\neq"),defineMacro("","\\neq"),defineMacro("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),defineMacro("","\\notin"),defineMacro("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),defineMacro("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),defineMacro("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),defineMacro("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),defineMacro("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),defineMacro("","\\perp"),defineMacro("","\\mathclose{!\\mkern-0.8mu!}"),defineMacro("","\\notni"),defineMacro("","\\ulcorner"),defineMacro("","\\urcorner"),defineMacro("","\\llcorner"),defineMacro("","\\lrcorner"),defineMacro("","\\copyright"),defineMacro("","\\textregistered"),defineMacro("","\\textregistered"),defineMacro("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),defineMacro("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),defineMacro("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),defineMacro("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),defineMacro("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),defineMacro("","\\vdots"),defineMacro("\\varGamma","\\mathit{\\Gamma}"),defineMacro("\\varDelta","\\mathit{\\Delta}"),defineMacro("\\varTheta","\\mathit{\\Theta}"),defineMacro("\\varLambda","\\mathit{\\Lambda}"),defineMacro("\\varXi","\\mathit{\\Xi}"),defineMacro("\\varPi","\\mathit{\\Pi}"),defineMacro("\\varSigma","\\mathit{\\Sigma}"),defineMacro("\\varUpsilon","\\mathit{\\Upsilon}"),defineMacro("\\varPhi","\\mathit{\\Phi}"),defineMacro("\\varPsi","\\mathit{\\Psi}"),defineMacro("\\varOmega","\\mathit{\\Omega}"),defineMacro("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),defineMacro("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),defineMacro("\\boxed","\\fbox{$\\displaystyle{#1}$}"),defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",(function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in dotsByToken?t=dotsByToken[n]:("\\not"===n.substr(0,4)||n in symbols.math&&utils.contains(["bin","rel"],symbols.math[n].group))&&(t="\\dotsb"),t}));var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",(function(e){return e.future().text in spaceAfterDots?"\\ldots\\,":"\\ldots"})),defineMacro("\\dotsc",(function(e){var t=e.future().text;return t in spaceAfterDots&&","!==t?"\\ldots\\,":"\\ldots"})),defineMacro("\\cdots",(function(e){return e.future().text in spaceAfterDots?"\\@cdots\\,":"\\@cdots"})),defineMacro("\\dotsb","\\cdots"),defineMacro("\\dotsm","\\cdots"),defineMacro("\\dotsi","\\!\\cdots"),defineMacro("\\dotsx","\\ldots\\,"),defineMacro("\\DOTSI","\\relax"),defineMacro("\\DOTSB","\\relax"),defineMacro("\\DOTSX","\\relax"),defineMacro("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),defineMacro("\\,","\\tmspace+{3mu}{.1667em}"),defineMacro("\\thinspace","\\,"),defineMacro("\\>","\\mskip{4mu}"),defineMacro("\\:","\\tmspace+{4mu}{.2222em}"),defineMacro("\\medspace","\\:"),defineMacro("\\;","\\tmspace+{5mu}{.2777em}"),defineMacro("\\thickspace","\\;"),defineMacro("\\!","\\tmspace-{3mu}{.1667em}"),defineMacro("\\negthinspace","\\!"),defineMacro("\\negmedspace","\\tmspace-{4mu}{.2222em}"),defineMacro("\\negthickspace","\\tmspace-{5mu}{.277em}"),defineMacro("\\enspace","\\kern.5em "),defineMacro("\\enskip","\\hskip.5em\\relax"),defineMacro("\\quad","\\hskip1em\\relax"),defineMacro("\\qquad","\\hskip2em\\relax"),defineMacro("\\tag","\\@ifstar\\tag@literal\\tag@paren"),defineMacro("\\tag@paren","\\tag@literal{({#1})}"),defineMacro("\\tag@literal",(e=>{if(e.macros.get("\\df@tag"))throw new ParseError("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"})),defineMacro("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),defineMacro("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),defineMacro("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),defineMacro("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),defineMacro("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}"),defineMacro("\\newline","\\\\\\relax"),defineMacro("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var latexRaiseA=makeEm(fontMetricsData["Main-Regular"]["T".charCodeAt(0)][1]-.7*fontMetricsData["Main-Regular"]["A".charCodeAt(0)][1]);defineMacro("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),defineMacro("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),defineMacro("\\hspace","\\@ifstar\\@hspacer\\@hspace"),defineMacro("\\@hspace","\\hskip #1\\relax"),defineMacro("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),defineMacro("\\ordinarycolon",":"),defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),defineMacro("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),defineMacro("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),defineMacro("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),defineMacro("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),defineMacro("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),defineMacro("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),defineMacro("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),defineMacro("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),defineMacro("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),defineMacro("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),defineMacro("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),defineMacro("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),defineMacro("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),defineMacro("","\\dblcolon"),defineMacro("","\\eqcolon"),defineMacro("","\\coloneqq"),defineMacro("","\\eqqcolon"),defineMacro("","\\Coloneqq"),defineMacro("\\ratio","\\vcentcolon"),defineMacro("\\coloncolon","\\dblcolon"),defineMacro("\\colonequals","\\coloneqq"),defineMacro("\\coloncolonequals","\\Coloneqq"),defineMacro("\\equalscolon","\\eqqcolon"),defineMacro("\\equalscoloncolon","\\Eqqcolon"),defineMacro("\\colonminus","\\coloneq"),defineMacro("\\coloncolonminus","\\Coloneq"),defineMacro("\\minuscolon","\\eqcolon"),defineMacro("\\minuscoloncolon","\\Eqcolon"),defineMacro("\\coloncolonapprox","\\Colonapprox"),defineMacro("\\coloncolonsim","\\Colonsim"),defineMacro("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),defineMacro("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),defineMacro("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),defineMacro("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),defineMacro("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),defineMacro("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),defineMacro("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),defineMacro("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),defineMacro("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),defineMacro("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),defineMacro("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),defineMacro("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),defineMacro("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),defineMacro("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}"),defineMacro("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}"),defineMacro("\\ngeqq","\\html@mathml{\\@ngeqq}{}"),defineMacro("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}"),defineMacro("\\nleqq","\\html@mathml{\\@nleqq}{}"),defineMacro("\\nleqslant","\\html@mathml{\\@nleqslant}{}"),defineMacro("\\nshortmid","\\html@mathml{\\@nshortmid}{}"),defineMacro("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}"),defineMacro("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}"),defineMacro("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}"),defineMacro("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}"),defineMacro("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}"),defineMacro("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}"),defineMacro("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}"),defineMacro("\\imath","\\html@mathml{\\@imath}{}"),defineMacro("\\jmath","\\html@mathml{\\@jmath}{}"),defineMacro("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),defineMacro("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),defineMacro("","\\llbracket"),defineMacro("","\\rrbracket"),defineMacro("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),defineMacro("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),defineMacro("","\\lBrace"),defineMacro("","\\rBrace"),defineMacro("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),defineMacro("","\\minuso"),defineMacro("\\darr","\\downarrow"),defineMacro("\\dArr","\\Downarrow"),defineMacro("\\Darr","\\Downarrow"),defineMacro("\\lang","\\langle"),defineMacro("\\rang","\\rangle"),defineMacro("\\uarr","\\uparrow"),defineMacro("\\uArr","\\Uparrow"),defineMacro("\\Uarr","\\Uparrow"),defineMacro("\\N","\\mathbb{N}"),defineMacro("\\R","\\mathbb{R}"),defineMacro("\\Z","\\mathbb{Z}"),defineMacro("\\alef","\\aleph"),defineMacro("\\alefsym","\\aleph"),defineMacro("\\Alpha","\\mathrm{A}"),defineMacro("\\Beta","\\mathrm{B}"),defineMacro("\\bull","\\bullet"),defineMacro("\\Chi","\\mathrm{X}"),defineMacro("\\clubs","\\clubsuit"),defineMacro("\\cnums","\\mathbb{C}"),defineMacro("\\Complex","\\mathbb{C}"),defineMacro("\\Dagger","\\ddagger"),defineMacro("\\diamonds","\\diamondsuit"),defineMacro("\\empty","\\emptyset"),defineMacro("\\Epsilon","\\mathrm{E}"),defineMacro("\\Eta","\\mathrm{H}"),defineMacro("\\exist","\\exists"),defineMacro("\\harr","\\leftrightarrow"),defineMacro("\\hArr","\\Leftrightarrow"),defineMacro("\\Harr","\\Leftrightarrow"),defineMacro("\\hearts","\\heartsuit"),defineMacro("\\image","\\Im"),defineMacro("\\infin","\\infty"),defineMacro("\\Iota","\\mathrm{I}"),defineMacro("\\isin","\\in"),defineMacro("\\Kappa","\\mathrm{K}"),defineMacro("\\larr","\\leftarrow"),defineMacro("\\lArr","\\Leftarrow"),defineMacro("\\Larr","\\Leftarrow"),defineMacro("\\lrarr","\\leftrightarrow"),defineMacro("\\lrArr","\\Leftrightarrow"),defineMacro("\\Lrarr","\\Leftrightarrow"),defineMacro("\\Mu","\\mathrm{M}"),defineMacro("\\natnums","\\mathbb{N}"),defineMacro("\\Nu","\\mathrm{N}"),defineMacro("\\Omicron","\\mathrm{O}"),defineMacro("\\plusmn","\\pm"),defineMacro("\\rarr","\\rightarrow"),defineMacro("\\rArr","\\Rightarrow"),defineMacro("\\Rarr","\\Rightarrow"),defineMacro("\\real","\\Re"),defineMacro("\\reals","\\mathbb{R}"),defineMacro("\\Reals","\\mathbb{R}"),defineMacro("\\Rho","\\mathrm{P}"),defineMacro("\\sdot","\\cdot"),defineMacro("\\sect","\\S"),defineMacro("\\spades","\\spadesuit"),defineMacro("\\sub","\\subset"),defineMacro("\\sube","\\subseteq"),defineMacro("\\supe","\\supseteq"),defineMacro("\\Tau","\\mathrm{T}"),defineMacro("\\thetasym","\\vartheta"),defineMacro("\\weierp","\\wp"),defineMacro("\\Zeta","\\mathrm{Z}"),defineMacro("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),defineMacro("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),defineMacro("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),defineMacro("\\bra","\\mathinner{\\langle{#1}|}"),defineMacro("\\ket","\\mathinner{|{#1}\\rangle}"),defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}"),defineMacro("\\Bra","\\left\\langle#1\\right|"),defineMacro("\\Ket","\\left|#1\\right\\rangle"),defineMacro("\\angln","{\\angl n}"),defineMacro("\\blue","\\textcolor{##6495ed}{#1}"),defineMacro("\\orange","\\textcolor{##ffa500}{#1}"),defineMacro("\\pink","\\textcolor{##ff00af}{#1}"),defineMacro("\\red","\\textcolor{##df0030}{#1}"),defineMacro("\\green","\\textcolor{##28ae7b}{#1}"),defineMacro("\\gray","\\textcolor{gray}{#1}"),defineMacro("\\purple","\\textcolor{##9d38bd}{#1}"),defineMacro("\\blueA","\\textcolor{##ccfaff}{#1}"),defineMacro("\\blueB","\\textcolor{##80f6ff}{#1}"),defineMacro("\\blueC","\\textcolor{##63d9ea}{#1}"),defineMacro("\\blueD","\\textcolor{##11accd}{#1}"),defineMacro("\\blueE","\\textcolor{##0c7f99}{#1}"),defineMacro("\\tealA","\\textcolor{##94fff5}{#1}"),defineMacro("\\tealB","\\textcolor{##26edd5}{#1}"),defineMacro("\\tealC","\\textcolor{##01d1c1}{#1}"),defineMacro("\\tealD","\\textcolor{##01a995}{#1}"),defineMacro("\\tealE","\\textcolor{##208170}{#1}"),defineMacro("\\greenA","\\textcolor{##b6ffb0}{#1}"),defineMacro("\\greenB","\\textcolor{##8af281}{#1}"),defineMacro("\\greenC","\\textcolor{##74cf70}{#1}"),defineMacro("\\greenD","\\textcolor{##1fab54}{#1}"),defineMacro("\\greenE","\\textcolor{##0d923f}{#1}"),defineMacro("\\goldA","\\textcolor{##ffd0a9}{#1}"),defineMacro("\\goldB","\\textcolor{##ffbb71}{#1}"),defineMacro("\\goldC","\\textcolor{##ff9c39}{#1}"),defineMacro("\\goldD","\\textcolor{##e07d10}{#1}"),defineMacro("\\goldE","\\textcolor{##a75a05}{#1}"),defineMacro("\\redA","\\textcolor{##fca9a9}{#1}"),defineMacro("\\redB","\\textcolor{##ff8482}{#1}"),defineMacro("\\redC","\\textcolor{##f9685d}{#1}"),defineMacro("\\redD","\\textcolor{##e84d39}{#1}"),defineMacro("\\redE","\\textcolor{##bc2612}{#1}"),defineMacro("\\maroonA","\\textcolor{##ffbde0}{#1}"),defineMacro("\\maroonB","\\textcolor{##ff92c6}{#1}"),defineMacro("\\maroonC","\\textcolor{##ed5fa6}{#1}"),defineMacro("\\maroonD","\\textcolor{##ca337c}{#1}"),defineMacro("\\maroonE","\\textcolor{##9e034e}{#1}"),defineMacro("\\purpleA","\\textcolor{##ddd7ff}{#1}"),defineMacro("\\purpleB","\\textcolor{##c6b9fc}{#1}"),defineMacro("\\purpleC","\\textcolor{##aa87ff}{#1}"),defineMacro("\\purpleD","\\textcolor{##7854ab}{#1}"),defineMacro("\\purpleE","\\textcolor{##543b78}{#1}"),defineMacro("\\mintA","\\textcolor{##f5f9e8}{#1}"),defineMacro("\\mintB","\\textcolor{##edf2df}{#1}"),defineMacro("\\mintC","\\textcolor{##e0e5cc}{#1}"),defineMacro("\\grayA","\\textcolor{##f6f7f7}{#1}"),defineMacro("\\grayB","\\textcolor{##f0f1f2}{#1}"),defineMacro("\\grayC","\\textcolor{##e3e5e6}{#1}"),defineMacro("\\grayD","\\textcolor{##d6d8da}{#1}"),defineMacro("\\grayE","\\textcolor{##babec2}{#1}"),defineMacro("\\grayF","\\textcolor{##888d93}{#1}"),defineMacro("\\grayG","\\textcolor{##626569}{#1}"),defineMacro("\\grayH","\\textcolor{##3b3e40}{#1}"),defineMacro("\\grayI","\\textcolor{##21242c}{#1}"),defineMacro("\\kaBlue","\\textcolor{##314453}{#1}"),defineMacro("\\kaGreen","\\textcolor{##71B307}{#1}");var implicitCommands={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MacroExpander{constructor(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new Namespace(macros,t.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new Lexer(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,n,i;if(e){if(this.consumeSpaces(),"["!==this.future().text)return null;t=this.popToken(),({tokens:i,end:n}=this.consumeArg(["]"]))}else({tokens:i,start:t,end:n}=this.consumeArg());return this.pushToken(new Token("EOF",n.loc)),this.pushTokens(i),t.range(n,"")}consumeSpaces(){for(;;){if(" "!==this.future().text)break;this.stack.pop()}}consumeArg(e){var t=[],n=e&&e.length>0;n||this.consumeSpaces();var i,r=this.future(),s=0,a=0;do{if(i=this.popToken(),t.push(i),"{"===i.text)++s;else if("}"===i.text){if(-1===--s)throw new ParseError("Extra }",i)}else if("EOF"===i.text)throw new ParseError("Unexpected end of input in a macro argument, expected '"+(e&&n?e[a]:"}")+"'",i);if(e&&n)if((0===s||1===s&&"{"===e[a])&&i.text===e[a]){if(++a===e.length){t.splice(-a,a);break}}else a=0}while(0!==s||n);return"{"===r.text&&"}"===t[t.length-1].text&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:r,end:i}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new ParseError("The length of delimiters doesn't match the number of args!");for(var n=t[0],i=0;i<n.length;i++){var r=this.popToken();if(n[i]!==r.text)throw new ParseError("Use of the macro doesn't match its definition",r)}}for(var s=[],a=0;a<e;a++)s.push(this.consumeArg(t&&t[a+1]).tokens);return s}expandOnce(e){var t=this.popToken(),n=t.text,i=t.noexpand?null:this._getExpansion(n);if(null==i||e&&i.unexpandable){if(e&&null==i&&"\\"===n[0]&&!this.isDefined(n))throw new ParseError("Undefined control sequence: "+n);return this.pushToken(t),t}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new ParseError("Too many expansions: infinite loop or need to increase maxExpand setting");var r=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs)for(var a=(r=r.slice()).length-1;a>=0;--a){var o=r[a];if("#"===o.text){if(0===a)throw new ParseError("Incomplete placeholder at end of macro body",o);if("#"===(o=r[--a]).text)r.splice(a+1,1);else{if(!/^[1-9]$/.test(o.text))throw new ParseError("Not a valid argument number",o);r.splice(a,2,...s[+o.text-1])}}}return this.pushTokens(r),r}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;){var e=this.expandOnce();if(e instanceof Token)return e.treatAsRelax&&(e.text="\\relax"),this.stack.pop()}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Token(e)]):void 0}expandTokens(e){var t=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;){var i=this.expandOnce(!0);i instanceof Token&&(i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),t.push(this.stack.pop()))}return t}expandMacroAsText(e){var t=this.expandMacro(e);return t?t.map((e=>e.text)).join(""):t}_getExpansion(e){var t=this.macros.get(e);if(null==t)return t;if(1===e.length){var n=this.lexer.catcodes[e];if(null!=n&&13!==n)return}var i="function"==typeof t?t(this):t;if("string"==typeof i){var r=0;if(-1!==i.indexOf("#"))for(var s=i.replace(/##/g,"");-1!==s.indexOf("#"+(r+1));)++r;for(var a=new Lexer(i,this.settings),o=[],l=a.lex();"EOF"!==l.text;)o.push(l),l=a.lex();return o.reverse(),{tokens:o,numArgs:r}}return i}isDefined(e){return this.macros.has(e)||functions.hasOwnProperty(e)||symbols.math.hasOwnProperty(e)||symbols.text.hasOwnProperty(e)||implicitCommands.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return null!=t?"string"==typeof t||"function"==typeof t||!t.unexpandable:functions.hasOwnProperty(e)&&!functions[e].primitive}}var unicodeAccents={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},unicodeSymbols={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Parser{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MacroExpander(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(void 0===t&&(t=!0),this.fetch().text!==e)throw new ParseError("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new Token("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,n}parseExpression(e,t){for(var n=[];;){"math"===this.mode&&this.consumeSpaces();var i=this.fetch();if(-1!==Parser.endOfExpression.indexOf(i.text))break;if(t&&i.text===t)break;if(e&&functions[i.text]&&functions[i.text].infix)break;var r=this.parseAtom(t);if(!r)break;"internal"!==r.type&&n.push(r)}return"text"===this.mode&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var t,n=-1,i=0;i<e.length;i++)if("infix"===e[i].type){if(-1!==n)throw new ParseError("only one infix operator per group",e[i].token);n=i,t=e[i].replaceWith}if(-1!==n&&t){var r,s,a=e.slice(0,n),o=e.slice(n+1);return r=1===a.length&&"ordgroup"===a[0].type?a[0]:{type:"ordgroup",mode:this.mode,body:a},s=1===o.length&&"ordgroup"===o[0].type?o[0]:{type:"ordgroup",mode:this.mode,body:o},["\\\\abovefrac"===t?this.callFunction(t,[r,e[n],s],[]):this.callFunction(t,[r,s],[])]}return e}handleSupSubscript(e){var t=this.fetch(),n=t.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new ParseError("Expected group after '"+n+"'",t);return i}formatUnsupportedCmd(e){for(var t=[],n=0;n<e.length;n++)t.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:t};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]}}parseAtom(e){var t,n,i=this.parseGroup("atom",e);if("text"===this.mode)return i;for(;;){this.consumeSpaces();var r=this.fetch();if("\\limits"===r.text||"\\nolimits"===r.text){if(i&&"op"===i.type){var s="\\limits"===r.text;i.limits=s,i.alwaysHandleSupSub=!0}else{if(!i||"operatorname"!==i.type)throw new ParseError("Limit controls must follow a math operator",r);i.alwaysHandleSupSub&&(i.limits="\\limits"===r.text)}this.consume()}else if("^"===r.text){if(t)throw new ParseError("Double superscript",r);t=this.handleSupSubscript("superscript")}else if("_"===r.text){if(n)throw new ParseError("Double subscript",r);n=this.handleSupSubscript("subscript")}else{if("'"!==r.text)break;if(t)throw new ParseError("Double superscript",r);var a={type:"textord",mode:this.mode,text:"\\prime"},o=[a];for(this.consume();"'"===this.fetch().text;)o.push(a),this.consume();"^"===this.fetch().text&&o.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:o}}}return t||n?{type:"supsub",mode:this.mode,base:i,sup:t,sub:n}:i}parseFunction(e,t){var n=this.fetch(),i=n.text,r=functions[i];if(!r)return null;if(this.consume(),t&&"atom"!==t&&!r.allowedInArgument)throw new ParseError("Got function '"+i+"' with no arguments"+(t?" as "+t:""),n);if("text"===this.mode&&!r.allowedInText)throw new ParseError("Can't use function '"+i+"' in text mode",n);if("math"===this.mode&&!1===r.allowedInMath)throw new ParseError("Can't use function '"+i+"' in math mode",n);var{args:s,optArgs:a}=this.parseArguments(i,r);return this.callFunction(i,s,a,n,e)}callFunction(e,t,n,i,r){var s={funcName:e,parser:this,token:i,breakOnTokenText:r},a=functions[e];if(a&&a.handler)return a.handler(s,t,n);throw new ParseError("No function handler for "+e)}parseArguments(e,t){var n=t.numArgs+t.numOptionalArgs;if(0===n)return{args:[],optArgs:[]};for(var i=[],r=[],s=0;s<n;s++){var a=t.argTypes&&t.argTypes[s],o=s<t.numOptionalArgs;(t.primitive&&null==a||"sqrt"===t.type&&1===s&&null==r[0])&&(a="primitive");var l=this.parseGroupOfType("argument to '"+e+"'",a,o);if(o)r.push(l);else{if(null==l)throw new ParseError("Null argument, please report this as a bug");i.push(l)}}return{args:i,optArgs:r}}parseGroupOfType(e,t,n){switch(t){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,t);case"hbox":var i=this.parseArgumentGroup(n,"text");return null!=i?{type:"styling",mode:i.mode,body:[i],style:"text"}:null;case"raw":var r=this.parseStringGroup("raw",n);return null!=r?{type:"raw",mode:"text",string:r.text}:null;case"primitive":if(n)throw new ParseError("A primitive argument cannot be optional");var s=this.parseGroup(e);if(null==s)throw new ParseError("Expected group as "+e,this.fetch());return s;case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new ParseError("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;" "===this.fetch().text;)this.consume()}parseStringGroup(e,t){var n=this.gullet.scanArgument(t);if(null==n)return null;for(var i,r="";"EOF"!==(i=this.fetch()).text;)r+=i.text,this.consume();return this.consume(),n.text=r,n}parseRegexGroup(e,t){for(var n,i=this.fetch(),r=i,s="";"EOF"!==(n=this.fetch()).text&&e.test(s+n.text);)s+=(r=n).text,this.consume();if(""===s)throw new ParseError("Invalid "+t+": '"+i.text+"'",i);return i.range(r,s)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(null==t)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new ParseError("Invalid color: '"+t.text+"'",t);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var t,n=!1;if(this.gullet.consumeSpaces(),!(t=e||"{"===this.gullet.future().text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!i)throw new ParseError("Invalid size: '"+t.text+"'",t);var r={number:+(i[1]+i[2]),unit:i[3]};if(!validUnit(r))throw new ParseError("Invalid unit: '"+r.unit+"'",t);return{type:"size",mode:this.mode,value:r,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==t)return null;var n=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,t){var n=this.gullet.scanArgument(e);if(null==n)return null;var i=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var r=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:n.loc,body:r};return t&&this.switchMode(i),s}parseGroup(e,t){var n,i=this.fetch(),r=i.text;if("{"===r||"\\begingroup"===r){this.consume();var s="{"===r?"}":"\\endgroup";this.gullet.beginGroup();var a=this.parseExpression(!1,s),o=this.fetch();this.expect(s),this.gullet.endGroup(),n={type:"ordgroup",mode:this.mode,loc:SourceLocation.range(i,o),body:a,semisimple:"\\begingroup"===r||void 0}}else if(null==(n=this.parseFunction(t,e)||this.parseSymbol())&&"\\"===r[0]&&!implicitCommands.hasOwnProperty(r)){if(this.settings.throwOnError)throw new ParseError("Undefined control sequence: "+r,i);n=this.formatUnsupportedCmd(r),this.consume()}return n}formLigatures(e){for(var t=e.length-1,n=0;n<t;++n){var i=e[n],r=i.text;"-"===r&&"-"===e[n+1].text&&(n+1<t&&"-"===e[n+2].text?(e.splice(n,3,{type:"textord",mode:"text",loc:SourceLocation.range(i,e[n+2]),text:"---"}),t-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:SourceLocation.range(i,e[n+1]),text:"--"}),t-=1)),"'"!==r&&"`"!==r||e[n+1].text!==r||(e.splice(n,2,{type:"textord",mode:"text",loc:SourceLocation.range(i,e[n+1]),text:r+r}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var n=t.slice(5),i="*"===n.charAt(0);if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new ParseError("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:n=n.slice(1,-1),star:i}}unicodeSymbols.hasOwnProperty(t[0])&&!symbols[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=unicodeSymbols[t[0]]+t.substr(1));var r,s=combiningDiacriticalMarksEndRegex.exec(t);if(s&&("i"===(t=t.substring(0,s.index))?t="":"j"===t&&(t="")),symbols[this.mode][t]){this.settings.strict&&"math"===this.mode&&extraLatin.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var a,o=symbols[this.mode][t].group,l=SourceLocation.range(e);if(ATOMS.hasOwnProperty(o)){var c=o;a={type:"atom",mode:this.mode,family:c,loc:l,text:t}}else a={type:o,mode:this.mode,loc:l,text:t};r=a}else{if(!(t.charCodeAt(0)>=128))return null;this.settings.strict&&(supportedCodepoint(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),r={type:"textord",mode:"text",loc:SourceLocation.range(e),text:t}}if(this.consume(),s)for(var h=0;h<s[0].length;h++){var d=s[0][h];if(!unicodeAccents[d])throw new ParseError("Unknown accent ' "+d+"'",e);var p=unicodeAccents[d][this.mode]||unicodeAccents[d].text;if(!p)throw new ParseError("Accent "+d+" unsupported in "+this.mode+" mode",e);r={type:"accent",mode:this.mode,loc:SourceLocation.range(e),label:p,isStretchy:!1,isShifty:!0,base:r}}return r}}Parser.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var parseTree=function(e,t){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new Parser(e,t);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new ParseError("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new Token("\\df@tag")])}]}return i},render=function(e,t,n){t.textContent="";var i=renderToDomTree(e,n).toNode();t.appendChild(i)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),render=function(){throw new ParseError("KaTeX doesn't work in quirks mode.")});var renderToString=function(e,t){return renderToDomTree(e,t).toMarkup()},generateParseTree=function(e,t){var n=new Settings(t);return parseTree(e,n)},renderError=function(e,t,n){if(n.throwOnError||!(e instanceof ParseError))throw e;var i=buildCommon.makeSpan(["katex-error"],[new SymbolNode(t)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},renderToDomTree=function(e,t){var n=new Settings(t);try{var i=parseTree(e,n);return buildTree(i,e,n)}catch(t){return renderError(t,e,n)}},renderToHTMLTree=function(e,t){var n=new Settings(t);try{var i=parseTree(e,n);return buildHTMLTree(i,e,n)}catch(t){return renderError(t,e,n)}},katex={version:"0.15.2",render,renderToString,ParseError,SETTINGS_SCHEMA,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,__defineSymbol:defineSymbol,__defineMacro:defineMacro,__domTree:{Span,Anchor,SymbolNode,SvgNode,PathNode,LineNode}};function insertAtCursor(e,t){if(document.selection)e.focus(),sel=document.selection.createRange(),sel.text=t;else if(e.selectionStart||"0"==e.selectionStart){var n=e.selectionStart,i=e.selectionEnd;e.value=e.value.substring(0,n)+t+e.value.substring(i,e.value.length)}else e.value+=t}class InputMath extends InputShort{constructor(){super(),this.instruction="Type in your Math Solution",this.inputMethod="smartType"}updateCurrentAttempt(e){this.updateAttempt(e.target),e.preventDefault(),e.stopPropagation()}updateAttempt(e){this.attemptText=e.value;try{const e="smartType"===this.inputMethod?"\\displaystyle "+smarttype.toLaTeX(this.attemptText).latex:this.attemptText;this.preview=katex.renderToString(e)}catch(e){console.error("ERROR:",e)}}_getInput(){return $$1`
            <input-preview class='attempt_preview' .html='${this.preview||""}'></input-preview>
            <input @input='${this.updateCurrentAttempt}' type='${this.answerType}' name='attempt'/>
            <section>
                <section class='pallet'></section>
            </section>
            <section>
                <input type='submit' @click='${this._submit}' value='${this.actionLabel}'/>
            </section>
        `}updated(e){const t=this.shadowRoot.querySelector(".pallet");if(0===t.childNodes.length){const e=e=>{const t=JSON.parse(e.getAttribute("data-insert"));if(t[this.inputMethod]){const e=this.shadowRoot.querySelector("input[name=attempt]");insertAtCursor(e,t[this.inputMethod]),this.updateAttempt(e)}else console.error("does not handle ",t)},n=()=>{};window.dispatchEvent(new CustomEvent("pallet",{detail:{element:t,groups:null,createdCallback:n,selectedCallback:e}}))}}_submit(e){e.preventDefault(),e.stopPropagation(),this.pushAttempt(this.preview)}static get is(){return"input-math"}static get title(){return"Math"}static get properties(){return{preview:{type:String},inputMethod:{type:String}}}static styles=[...InputShort.styles,r$2`
        input-preview.attempt_preview{
            display : block;
        }
    `,r$2`
    /* stylelint-disable font-family-no-missing-generic-family-keyword */
@font-face {
  font-family: 'KaTeX_AMS';
  src: url(fonts/KaTeX_AMS-Regular.woff2) format('woff2'), url(fonts/KaTeX_AMS-Regular.woff) format('woff'), url(fonts/KaTeX_AMS-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Caligraphic';
  src: url(fonts/KaTeX_Caligraphic-Bold.woff2) format('woff2'), url(fonts/KaTeX_Caligraphic-Bold.woff) format('woff'), url(fonts/KaTeX_Caligraphic-Bold.ttf) format('truetype');
  font-weight: bold;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Caligraphic';
  src: url(fonts/KaTeX_Caligraphic-Regular.woff2) format('woff2'), url(fonts/KaTeX_Caligraphic-Regular.woff) format('woff'), url(fonts/KaTeX_Caligraphic-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Fraktur';
  src: url(fonts/KaTeX_Fraktur-Bold.woff2) format('woff2'), url(fonts/KaTeX_Fraktur-Bold.woff) format('woff'), url(fonts/KaTeX_Fraktur-Bold.ttf) format('truetype');
  font-weight: bold;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Fraktur';
  src: url(fonts/KaTeX_Fraktur-Regular.woff2) format('woff2'), url(fonts/KaTeX_Fraktur-Regular.woff) format('woff'), url(fonts/KaTeX_Fraktur-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Main';
  src: url(fonts/KaTeX_Main-Bold.woff2) format('woff2'), url(fonts/KaTeX_Main-Bold.woff) format('woff'), url(fonts/KaTeX_Main-Bold.ttf) format('truetype');
  font-weight: bold;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Main';
  src: url(fonts/KaTeX_Main-BoldItalic.woff2) format('woff2'), url(fonts/KaTeX_Main-BoldItalic.woff) format('woff'), url(fonts/KaTeX_Main-BoldItalic.ttf) format('truetype');
  font-weight: bold;
  font-style: italic;
}
@font-face {
  font-family: 'KaTeX_Main';
  src: url(fonts/KaTeX_Main-Italic.woff2) format('woff2'), url(fonts/KaTeX_Main-Italic.woff) format('woff'), url(fonts/KaTeX_Main-Italic.ttf) format('truetype');
  font-weight: normal;
  font-style: italic;
}
@font-face {
  font-family: 'KaTeX_Main';
  src: url(fonts/KaTeX_Main-Regular.woff2) format('woff2'), url(fonts/KaTeX_Main-Regular.woff) format('woff'), url(fonts/KaTeX_Main-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Math';
  src: url(fonts/KaTeX_Math-BoldItalic.woff2) format('woff2'), url(fonts/KaTeX_Math-BoldItalic.woff) format('woff'), url(fonts/KaTeX_Math-BoldItalic.ttf) format('truetype');
  font-weight: bold;
  font-style: italic;
}
@font-face {
  font-family: 'KaTeX_Math';
  src: url(fonts/KaTeX_Math-Italic.woff2) format('woff2'), url(fonts/KaTeX_Math-Italic.woff) format('woff'), url(fonts/KaTeX_Math-Italic.ttf) format('truetype');
  font-weight: normal;
  font-style: italic;
}
@font-face {
  font-family: 'KaTeX_SansSerif';
  src: url(fonts/KaTeX_SansSerif-Bold.woff2) format('woff2'), url(fonts/KaTeX_SansSerif-Bold.woff) format('woff'), url(fonts/KaTeX_SansSerif-Bold.ttf) format('truetype');
  font-weight: bold;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_SansSerif';
  src: url(fonts/KaTeX_SansSerif-Italic.woff2) format('woff2'), url(fonts/KaTeX_SansSerif-Italic.woff) format('woff'), url(fonts/KaTeX_SansSerif-Italic.ttf) format('truetype');
  font-weight: normal;
  font-style: italic;
}
@font-face {
  font-family: 'KaTeX_SansSerif';
  src: url(fonts/KaTeX_SansSerif-Regular.woff2) format('woff2'), url(fonts/KaTeX_SansSerif-Regular.woff) format('woff'), url(fonts/KaTeX_SansSerif-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Script';
  src: url(fonts/KaTeX_Script-Regular.woff2) format('woff2'), url(fonts/KaTeX_Script-Regular.woff) format('woff'), url(fonts/KaTeX_Script-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Size1';
  src: url(fonts/KaTeX_Size1-Regular.woff2) format('woff2'), url(fonts/KaTeX_Size1-Regular.woff) format('woff'), url(fonts/KaTeX_Size1-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Size2';
  src: url(fonts/KaTeX_Size2-Regular.woff2) format('woff2'), url(fonts/KaTeX_Size2-Regular.woff) format('woff'), url(fonts/KaTeX_Size2-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Size3';
  src: url(fonts/KaTeX_Size3-Regular.woff2) format('woff2'), url(fonts/KaTeX_Size3-Regular.woff) format('woff'), url(fonts/KaTeX_Size3-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Size4';
  src: url(fonts/KaTeX_Size4-Regular.woff2) format('woff2'), url(fonts/KaTeX_Size4-Regular.woff) format('woff'), url(fonts/KaTeX_Size4-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'KaTeX_Typewriter';
  src: url(fonts/KaTeX_Typewriter-Regular.woff2) format('woff2'), url(fonts/KaTeX_Typewriter-Regular.woff) format('woff'), url(fonts/KaTeX_Typewriter-Regular.ttf) format('truetype');
  font-weight: normal;
  font-style: normal;
}
.katex {
  font: normal 1.21em KaTeX_Main, Times New Roman, serif;
  line-height: 1.2;
  text-indent: 0;
  text-rendering: auto;
}
.katex * {
  -ms-high-contrast-adjust: none !important;
  border-color: currentColor;
}
.katex .katex-version::after {
  content: "0.15.2";
}
.katex .katex-mathml {
  /* Accessibility hack to only show to screen readers
         Found at: http://a11yproject.com/posts/how-to-hide-content/ */
  position: absolute;
  clip: rect(1px, 1px, 1px, 1px);
  padding: 0;
  border: 0;
  height: 1px;
  width: 1px;
  overflow: hidden;
}
.katex .katex-html {
  /* \newline is an empty block at top level, between .base elements */
}
.katex .katex-html > .newline {
  display: block;
}
.katex .base {
  position: relative;
  display: inline-block;
  white-space: nowrap;
  width: -webkit-min-content;
  width: -moz-min-content;
  width: min-content;
}
.katex .strut {
  display: inline-block;
}
.katex .textbf {
  font-weight: bold;
}
.katex .textit {
  font-style: italic;
}
.katex .textrm {
  font-family: KaTeX_Main;
}
.katex .textsf {
  font-family: KaTeX_SansSerif;
}
.katex .texttt {
  font-family: KaTeX_Typewriter;
}
.katex .mathnormal {
  font-family: KaTeX_Math;
  font-style: italic;
}
.katex .mathit {
  font-family: KaTeX_Main;
  font-style: italic;
}
.katex .mathrm {
  font-style: normal;
}
.katex .mathbf {
  font-family: KaTeX_Main;
  font-weight: bold;
}
.katex .boldsymbol {
  font-family: KaTeX_Math;
  font-weight: bold;
  font-style: italic;
}
.katex .amsrm {
  font-family: KaTeX_AMS;
}
.katex .mathbb,
.katex .textbb {
  font-family: KaTeX_AMS;
}
.katex .mathcal {
  font-family: KaTeX_Caligraphic;
}
.katex .mathfrak,
.katex .textfrak {
  font-family: KaTeX_Fraktur;
}
.katex .mathtt {
  font-family: KaTeX_Typewriter;
}
.katex .mathscr,
.katex .textscr {
  font-family: KaTeX_Script;
}
.katex .mathsf,
.katex .textsf {
  font-family: KaTeX_SansSerif;
}
.katex .mathboldsf,
.katex .textboldsf {
  font-family: KaTeX_SansSerif;
  font-weight: bold;
}
.katex .mathitsf,
.katex .textitsf {
  font-family: KaTeX_SansSerif;
  font-style: italic;
}
.katex .mainrm {
  font-family: KaTeX_Main;
  font-style: normal;
}
.katex .vlist-t {
  display: inline-table;
  table-layout: fixed;
  border-collapse: collapse;
}
.katex .vlist-r {
  display: table-row;
}
.katex .vlist {
  display: table-cell;
  vertical-align: bottom;
  position: relative;
}
.katex .vlist > span {
  display: block;
  height: 0;
  position: relative;
}
.katex .vlist > span > span {
  display: inline-block;
}
.katex .vlist > span > .pstrut {
  overflow: hidden;
  width: 0;
}
.katex .vlist-t2 {
  margin-right: -2px;
}
.katex .vlist-s {
  display: table-cell;
  vertical-align: bottom;
  font-size: 1px;
  width: 2px;
  min-width: 2px;
}
.katex .vbox {
  display: inline-flex;
  flex-direction: column;
  align-items: baseline;
}
.katex .hbox {
  display: inline-flex;
  flex-direction: row;
  width: 100%;
}
.katex .thinbox {
  display: inline-flex;
  flex-direction: row;
  width: 0;
  max-width: 0;
}
.katex .msupsub {
  text-align: left;
}
.katex .mfrac > span > span {
  text-align: center;
}
.katex .mfrac .frac-line {
  display: inline-block;
  width: 100%;
  border-bottom-style: solid;
}
.katex .mfrac .frac-line,
.katex .overline .overline-line,
.katex .underline .underline-line,
.katex .hline,
.katex .hdashline,
.katex .rule {
  min-height: 1px;
}
.katex .mspace {
  display: inline-block;
}
.katex .llap,
.katex .rlap,
.katex .clap {
  width: 0;
  position: relative;
}
.katex .llap > .inner,
.katex .rlap > .inner,
.katex .clap > .inner {
  position: absolute;
}
.katex .llap > .fix,
.katex .rlap > .fix,
.katex .clap > .fix {
  display: inline-block;
}
.katex .llap > .inner {
  right: 0;
}
.katex .rlap > .inner,
.katex .clap > .inner {
  left: 0;
}
.katex .clap > .inner > span {
  margin-left: -50%;
  margin-right: 50%;
}
.katex .rule {
  display: inline-block;
  border: solid 0;
  position: relative;
}
.katex .overline .overline-line,
.katex .underline .underline-line,
.katex .hline {
  display: inline-block;
  width: 100%;
  border-bottom-style: solid;
}
.katex .hdashline {
  display: inline-block;
  width: 100%;
  border-bottom-style: dashed;
}
.katex .sqrt > .root {

  margin-left: 0.27777778em;
  margin-right: -0.55555556em;
}
.katex .sizing.reset-size1.size1,
.katex .fontsize-ensurer.reset-size1.size1 {
  font-size: 1em;
}
.katex .sizing.reset-size1.size2,
.katex .fontsize-ensurer.reset-size1.size2 {
  font-size: 1.2em;
}
.katex .sizing.reset-size1.size3,
.katex .fontsize-ensurer.reset-size1.size3 {
  font-size: 1.4em;
}
.katex .sizing.reset-size1.size4,
.katex .fontsize-ensurer.reset-size1.size4 {
  font-size: 1.6em;
}
.katex .sizing.reset-size1.size5,
.katex .fontsize-ensurer.reset-size1.size5 {
  font-size: 1.8em;
}
.katex .sizing.reset-size1.size6,
.katex .fontsize-ensurer.reset-size1.size6 {
  font-size: 2em;
}
.katex .sizing.reset-size1.size7,
.katex .fontsize-ensurer.reset-size1.size7 {
  font-size: 2.4em;
}
.katex .sizing.reset-size1.size8,
.katex .fontsize-ensurer.reset-size1.size8 {
  font-size: 2.88em;
}
.katex .sizing.reset-size1.size9,
.katex .fontsize-ensurer.reset-size1.size9 {
  font-size: 3.456em;
}
.katex .sizing.reset-size1.size10,
.katex .fontsize-ensurer.reset-size1.size10 {
  font-size: 4.148em;
}
.katex .sizing.reset-size1.size11,
.katex .fontsize-ensurer.reset-size1.size11 {
  font-size: 4.976em;
}
.katex .sizing.reset-size2.size1,
.katex .fontsize-ensurer.reset-size2.size1 {
  font-size: 0.83333333em;
}
.katex .sizing.reset-size2.size2,
.katex .fontsize-ensurer.reset-size2.size2 {
  font-size: 1em;
}
.katex .sizing.reset-size2.size3,
.katex .fontsize-ensurer.reset-size2.size3 {
  font-size: 1.16666667em;
}
.katex .sizing.reset-size2.size4,
.katex .fontsize-ensurer.reset-size2.size4 {
  font-size: 1.33333333em;
}
.katex .sizing.reset-size2.size5,
.katex .fontsize-ensurer.reset-size2.size5 {
  font-size: 1.5em;
}
.katex .sizing.reset-size2.size6,
.katex .fontsize-ensurer.reset-size2.size6 {
  font-size: 1.66666667em;
}
.katex .sizing.reset-size2.size7,
.katex .fontsize-ensurer.reset-size2.size7 {
  font-size: 2em;
}
.katex .sizing.reset-size2.size8,
.katex .fontsize-ensurer.reset-size2.size8 {
  font-size: 2.4em;
}
.katex .sizing.reset-size2.size9,
.katex .fontsize-ensurer.reset-size2.size9 {
  font-size: 2.88em;
}
.katex .sizing.reset-size2.size10,
.katex .fontsize-ensurer.reset-size2.size10 {
  font-size: 3.45666667em;
}
.katex .sizing.reset-size2.size11,
.katex .fontsize-ensurer.reset-size2.size11 {
  font-size: 4.14666667em;
}
.katex .sizing.reset-size3.size1,
.katex .fontsize-ensurer.reset-size3.size1 {
  font-size: 0.71428571em;
}
.katex .sizing.reset-size3.size2,
.katex .fontsize-ensurer.reset-size3.size2 {
  font-size: 0.85714286em;
}
.katex .sizing.reset-size3.size3,
.katex .fontsize-ensurer.reset-size3.size3 {
  font-size: 1em;
}
.katex .sizing.reset-size3.size4,
.katex .fontsize-ensurer.reset-size3.size4 {
  font-size: 1.14285714em;
}
.katex .sizing.reset-size3.size5,
.katex .fontsize-ensurer.reset-size3.size5 {
  font-size: 1.28571429em;
}
.katex .sizing.reset-size3.size6,
.katex .fontsize-ensurer.reset-size3.size6 {
  font-size: 1.42857143em;
}
.katex .sizing.reset-size3.size7,
.katex .fontsize-ensurer.reset-size3.size7 {
  font-size: 1.71428571em;
}
.katex .sizing.reset-size3.size8,
.katex .fontsize-ensurer.reset-size3.size8 {
  font-size: 2.05714286em;
}
.katex .sizing.reset-size3.size9,
.katex .fontsize-ensurer.reset-size3.size9 {
  font-size: 2.46857143em;
}
.katex .sizing.reset-size3.size10,
.katex .fontsize-ensurer.reset-size3.size10 {
  font-size: 2.96285714em;
}
.katex .sizing.reset-size3.size11,
.katex .fontsize-ensurer.reset-size3.size11 {
  font-size: 3.55428571em;
}
.katex .sizing.reset-size4.size1,
.katex .fontsize-ensurer.reset-size4.size1 {
  font-size: 0.625em;
}
.katex .sizing.reset-size4.size2,
.katex .fontsize-ensurer.reset-size4.size2 {
  font-size: 0.75em;
}
.katex .sizing.reset-size4.size3,
.katex .fontsize-ensurer.reset-size4.size3 {
  font-size: 0.875em;
}
.katex .sizing.reset-size4.size4,
.katex .fontsize-ensurer.reset-size4.size4 {
  font-size: 1em;
}
.katex .sizing.reset-size4.size5,
.katex .fontsize-ensurer.reset-size4.size5 {
  font-size: 1.125em;
}
.katex .sizing.reset-size4.size6,
.katex .fontsize-ensurer.reset-size4.size6 {
  font-size: 1.25em;
}
.katex .sizing.reset-size4.size7,
.katex .fontsize-ensurer.reset-size4.size7 {
  font-size: 1.5em;
}
.katex .sizing.reset-size4.size8,
.katex .fontsize-ensurer.reset-size4.size8 {
  font-size: 1.8em;
}
.katex .sizing.reset-size4.size9,
.katex .fontsize-ensurer.reset-size4.size9 {
  font-size: 2.16em;
}
.katex .sizing.reset-size4.size10,
.katex .fontsize-ensurer.reset-size4.size10 {
  font-size: 2.5925em;
}
.katex .sizing.reset-size4.size11,
.katex .fontsize-ensurer.reset-size4.size11 {
  font-size: 3.11em;
}
.katex .sizing.reset-size5.size1,
.katex .fontsize-ensurer.reset-size5.size1 {
  font-size: 0.55555556em;
}
.katex .sizing.reset-size5.size2,
.katex .fontsize-ensurer.reset-size5.size2 {
  font-size: 0.66666667em;
}
.katex .sizing.reset-size5.size3,
.katex .fontsize-ensurer.reset-size5.size3 {
  font-size: 0.77777778em;
}
.katex .sizing.reset-size5.size4,
.katex .fontsize-ensurer.reset-size5.size4 {
  font-size: 0.88888889em;
}
.katex .sizing.reset-size5.size5,
.katex .fontsize-ensurer.reset-size5.size5 {
  font-size: 1em;
}
.katex .sizing.reset-size5.size6,
.katex .fontsize-ensurer.reset-size5.size6 {
  font-size: 1.11111111em;
}
.katex .sizing.reset-size5.size7,
.katex .fontsize-ensurer.reset-size5.size7 {
  font-size: 1.33333333em;
}
.katex .sizing.reset-size5.size8,
.katex .fontsize-ensurer.reset-size5.size8 {
  font-size: 1.6em;
}
.katex .sizing.reset-size5.size9,
.katex .fontsize-ensurer.reset-size5.size9 {
  font-size: 1.92em;
}
.katex .sizing.reset-size5.size10,
.katex .fontsize-ensurer.reset-size5.size10 {
  font-size: 2.30444444em;
}
.katex .sizing.reset-size5.size11,
.katex .fontsize-ensurer.reset-size5.size11 {
  font-size: 2.76444444em;
}
.katex .sizing.reset-size6.size1,
.katex .fontsize-ensurer.reset-size6.size1 {
  font-size: 0.5em;
}
.katex .sizing.reset-size6.size2,
.katex .fontsize-ensurer.reset-size6.size2 {
  font-size: 0.6em;
}
.katex .sizing.reset-size6.size3,
.katex .fontsize-ensurer.reset-size6.size3 {
  font-size: 0.7em;
}
.katex .sizing.reset-size6.size4,
.katex .fontsize-ensurer.reset-size6.size4 {
  font-size: 0.8em;
}
.katex .sizing.reset-size6.size5,
.katex .fontsize-ensurer.reset-size6.size5 {
  font-size: 0.9em;
}
.katex .sizing.reset-size6.size6,
.katex .fontsize-ensurer.reset-size6.size6 {
  font-size: 1em;
}
.katex .sizing.reset-size6.size7,
.katex .fontsize-ensurer.reset-size6.size7 {
  font-size: 1.2em;
}
.katex .sizing.reset-size6.size8,
.katex .fontsize-ensurer.reset-size6.size8 {
  font-size: 1.44em;
}
.katex .sizing.reset-size6.size9,
.katex .fontsize-ensurer.reset-size6.size9 {
  font-size: 1.728em;
}
.katex .sizing.reset-size6.size10,
.katex .fontsize-ensurer.reset-size6.size10 {
  font-size: 2.074em;
}
.katex .sizing.reset-size6.size11,
.katex .fontsize-ensurer.reset-size6.size11 {
  font-size: 2.488em;
}
.katex .sizing.reset-size7.size1,
.katex .fontsize-ensurer.reset-size7.size1 {
  font-size: 0.41666667em;
}
.katex .sizing.reset-size7.size2,
.katex .fontsize-ensurer.reset-size7.size2 {
  font-size: 0.5em;
}
.katex .sizing.reset-size7.size3,
.katex .fontsize-ensurer.reset-size7.size3 {
  font-size: 0.58333333em;
}
.katex .sizing.reset-size7.size4,
.katex .fontsize-ensurer.reset-size7.size4 {
  font-size: 0.66666667em;
}
.katex .sizing.reset-size7.size5,
.katex .fontsize-ensurer.reset-size7.size5 {
  font-size: 0.75em;
}
.katex .sizing.reset-size7.size6,
.katex .fontsize-ensurer.reset-size7.size6 {
  font-size: 0.83333333em;
}
.katex .sizing.reset-size7.size7,
.katex .fontsize-ensurer.reset-size7.size7 {
  font-size: 1em;
}
.katex .sizing.reset-size7.size8,
.katex .fontsize-ensurer.reset-size7.size8 {
  font-size: 1.2em;
}
.katex .sizing.reset-size7.size9,
.katex .fontsize-ensurer.reset-size7.size9 {
  font-size: 1.44em;
}
.katex .sizing.reset-size7.size10,
.katex .fontsize-ensurer.reset-size7.size10 {
  font-size: 1.72833333em;
}
.katex .sizing.reset-size7.size11,
.katex .fontsize-ensurer.reset-size7.size11 {
  font-size: 2.07333333em;
}
.katex .sizing.reset-size8.size1,
.katex .fontsize-ensurer.reset-size8.size1 {
  font-size: 0.34722222em;
}
.katex .sizing.reset-size8.size2,
.katex .fontsize-ensurer.reset-size8.size2 {
  font-size: 0.41666667em;
}
.katex .sizing.reset-size8.size3,
.katex .fontsize-ensurer.reset-size8.size3 {
  font-size: 0.48611111em;
}
.katex .sizing.reset-size8.size4,
.katex .fontsize-ensurer.reset-size8.size4 {
  font-size: 0.55555556em;
}
.katex .sizing.reset-size8.size5,
.katex .fontsize-ensurer.reset-size8.size5 {
  font-size: 0.625em;
}
.katex .sizing.reset-size8.size6,
.katex .fontsize-ensurer.reset-size8.size6 {
  font-size: 0.69444444em;
}
.katex .sizing.reset-size8.size7,
.katex .fontsize-ensurer.reset-size8.size7 {
  font-size: 0.83333333em;
}
.katex .sizing.reset-size8.size8,
.katex .fontsize-ensurer.reset-size8.size8 {
  font-size: 1em;
}
.katex .sizing.reset-size8.size9,
.katex .fontsize-ensurer.reset-size8.size9 {
  font-size: 1.2em;
}
.katex .sizing.reset-size8.size10,
.katex .fontsize-ensurer.reset-size8.size10 {
  font-size: 1.44027778em;
}
.katex .sizing.reset-size8.size11,
.katex .fontsize-ensurer.reset-size8.size11 {
  font-size: 1.72777778em;
}
.katex .sizing.reset-size9.size1,
.katex .fontsize-ensurer.reset-size9.size1 {
  font-size: 0.28935185em;
}
.katex .sizing.reset-size9.size2,
.katex .fontsize-ensurer.reset-size9.size2 {
  font-size: 0.34722222em;
}
.katex .sizing.reset-size9.size3,
.katex .fontsize-ensurer.reset-size9.size3 {
  font-size: 0.40509259em;
}
.katex .sizing.reset-size9.size4,
.katex .fontsize-ensurer.reset-size9.size4 {
  font-size: 0.46296296em;
}
.katex .sizing.reset-size9.size5,
.katex .fontsize-ensurer.reset-size9.size5 {
  font-size: 0.52083333em;
}
.katex .sizing.reset-size9.size6,
.katex .fontsize-ensurer.reset-size9.size6 {
  font-size: 0.5787037em;
}
.katex .sizing.reset-size9.size7,
.katex .fontsize-ensurer.reset-size9.size7 {
  font-size: 0.69444444em;
}
.katex .sizing.reset-size9.size8,
.katex .fontsize-ensurer.reset-size9.size8 {
  font-size: 0.83333333em;
}
.katex .sizing.reset-size9.size9,
.katex .fontsize-ensurer.reset-size9.size9 {
  font-size: 1em;
}
.katex .sizing.reset-size9.size10,
.katex .fontsize-ensurer.reset-size9.size10 {
  font-size: 1.20023148em;
}
.katex .sizing.reset-size9.size11,
.katex .fontsize-ensurer.reset-size9.size11 {
  font-size: 1.43981481em;
}
.katex .sizing.reset-size10.size1,
.katex .fontsize-ensurer.reset-size10.size1 {
  font-size: 0.24108004em;
}
.katex .sizing.reset-size10.size2,
.katex .fontsize-ensurer.reset-size10.size2 {
  font-size: 0.28929605em;
}
.katex .sizing.reset-size10.size3,
.katex .fontsize-ensurer.reset-size10.size3 {
  font-size: 0.33751205em;
}
.katex .sizing.reset-size10.size4,
.katex .fontsize-ensurer.reset-size10.size4 {
  font-size: 0.38572806em;
}
.katex .sizing.reset-size10.size5,
.katex .fontsize-ensurer.reset-size10.size5 {
  font-size: 0.43394407em;
}
.katex .sizing.reset-size10.size6,
.katex .fontsize-ensurer.reset-size10.size6 {
  font-size: 0.48216008em;
}
.katex .sizing.reset-size10.size7,
.katex .fontsize-ensurer.reset-size10.size7 {
  font-size: 0.57859209em;
}
.katex .sizing.reset-size10.size8,
.katex .fontsize-ensurer.reset-size10.size8 {
  font-size: 0.69431051em;
}
.katex .sizing.reset-size10.size9,
.katex .fontsize-ensurer.reset-size10.size9 {
  font-size: 0.83317261em;
}
.katex .sizing.reset-size10.size10,
.katex .fontsize-ensurer.reset-size10.size10 {
  font-size: 1em;
}
.katex .sizing.reset-size10.size11,
.katex .fontsize-ensurer.reset-size10.size11 {
  font-size: 1.19961427em;
}
.katex .sizing.reset-size11.size1,
.katex .fontsize-ensurer.reset-size11.size1 {
  font-size: 0.20096463em;
}
.katex .sizing.reset-size11.size2,
.katex .fontsize-ensurer.reset-size11.size2 {
  font-size: 0.24115756em;
}
.katex .sizing.reset-size11.size3,
.katex .fontsize-ensurer.reset-size11.size3 {
  font-size: 0.28135048em;
}
.katex .sizing.reset-size11.size4,
.katex .fontsize-ensurer.reset-size11.size4 {
  font-size: 0.32154341em;
}
.katex .sizing.reset-size11.size5,
.katex .fontsize-ensurer.reset-size11.size5 {
  font-size: 0.36173633em;
}
.katex .sizing.reset-size11.size6,
.katex .fontsize-ensurer.reset-size11.size6 {
  font-size: 0.40192926em;
}
.katex .sizing.reset-size11.size7,
.katex .fontsize-ensurer.reset-size11.size7 {
  font-size: 0.48231511em;
}
.katex .sizing.reset-size11.size8,
.katex .fontsize-ensurer.reset-size11.size8 {
  font-size: 0.57877814em;
}
.katex .sizing.reset-size11.size9,
.katex .fontsize-ensurer.reset-size11.size9 {
  font-size: 0.69453376em;
}
.katex .sizing.reset-size11.size10,
.katex .fontsize-ensurer.reset-size11.size10 {
  font-size: 0.83360129em;
}
.katex .sizing.reset-size11.size11,
.katex .fontsize-ensurer.reset-size11.size11 {
  font-size: 1em;
}
.katex .delimsizing.size1 {
  font-family: KaTeX_Size1;
}
.katex .delimsizing.size2 {
  font-family: KaTeX_Size2;
}
.katex .delimsizing.size3 {
  font-family: KaTeX_Size3;
}
.katex .delimsizing.size4 {
  font-family: KaTeX_Size4;
}
.katex .delimsizing.mult .delim-size1 > span {
  font-family: KaTeX_Size1;
}
.katex .delimsizing.mult .delim-size4 > span {
  font-family: KaTeX_Size4;
}
.katex .nulldelimiter {
  display: inline-block;
  width: 0.12em;
}
.katex .delimcenter {
  position: relative;
}
.katex .op-symbol {
  position: relative;
}
.katex .op-symbol.small-op {
  font-family: KaTeX_Size1;
}
.katex .op-symbol.large-op {
  font-family: KaTeX_Size2;
}
.katex .op-limits > .vlist-t {
  text-align: center;
}
.katex .accent > .vlist-t {
  text-align: center;
}
.katex .accent .accent-body {
  position: relative;
}
.katex .accent .accent-body:not(.accent-full) {
  width: 0;
}
.katex .overlay {
  display: block;
}
.katex .mtable .vertical-separator {
  display: inline-block;
  min-width: 1px;
}
.katex .mtable .arraycolsep {
  display: inline-block;
}
.katex .mtable .col-align-c > .vlist-t {
  text-align: center;
}
.katex .mtable .col-align-l > .vlist-t {
  text-align: left;
}
.katex .mtable .col-align-r > .vlist-t {
  text-align: right;
}
.katex .svg-align {
  text-align: left;
}
.katex svg {
  display: block;
  position: absolute;
  width: 100%;
  height: inherit;
  fill: currentColor;
  stroke: currentColor;
  fill-rule: nonzero;
  fill-opacity: 1;
  stroke-width: 1;
  stroke-linecap: butt;
  stroke-linejoin: miter;
  stroke-miterlimit: 4;
  stroke-dasharray: none;
  stroke-dashoffset: 0;
  stroke-opacity: 1;
}
.katex svg path {
  stroke: none;
}
.katex img {
  border-style: none;
  min-width: 0;
  min-height: 0;
  max-width: none;
  max-height: none;
}
.katex .stretchy {
  width: 100%;
  display: block;
  position: relative;
  overflow: hidden;
}
.katex .stretchy::before,
.katex .stretchy::after {
  content: "";
}
.katex .hide-tail {
  width: 100%;
  position: relative;
  overflow: hidden;
}
.katex .halfarrow-left {
  position: absolute;
  left: 0;
  width: 50.2%;
  overflow: hidden;
}
.katex .halfarrow-right {
  position: absolute;
  right: 0;
  width: 50.2%;
  overflow: hidden;
}
.katex .brace-left {
  position: absolute;
  left: 0;
  width: 25.1%;
  overflow: hidden;
}
.katex .brace-center {
  position: absolute;
  left: 25%;
  width: 50%;
  overflow: hidden;
}
.katex .brace-right {
  position: absolute;
  right: 0;
  width: 25.1%;
  overflow: hidden;
}
.katex .x-arrow-pad {
  padding: 0 0.5em;
}
.katex .cd-arrow-pad {
  padding: 0 0.55556em 0 0.27778em;
}
.katex .x-arrow,
.katex .mover,
.katex .munder {
  text-align: center;
}
.katex .boxpad {
  padding: 0 0.3em;
}
.katex .fbox,
.katex .fcolorbox {
  box-sizing: border-box;
  border: 0.04em solid;
}
.katex .cancel-pad {
  padding: 0 0.2em;
}
.katex .cancel-lap {
  margin-left: -0.2em;
  margin-right: -0.2em;
}
.katex .sout {
  border-bottom-style: solid;
  border-bottom-width: 0.08em;
}
.katex .angl {
  box-sizing: border-box;
  border-top: 0.049em solid;
  border-right: 0.049em solid;
  margin-right: 0.03889em;
}
.katex .anglpad {
  padding: 0 0.03889em;
}
.katex .eqn-num::before {
  counter-increment: katexEqnNo;
  content: "(" counter(katexEqnNo) ")";
}
.katex .mml-eqn-num::before {
  counter-increment: mmlEqnNo;
  content: "(" counter(mmlEqnNo) ")";
}
.katex .mtr-glue {
  width: 50%;
}
.katex .cd-vert-arrow {
  display: inline-block;
  position: relative;
}
.katex .cd-label-left {
  display: inline-block;
  position: absolute;
  right: calc(50% + 0.3em);
  text-align: left;
}
.katex .cd-label-right {
  display: inline-block;
  position: absolute;
  left: calc(50% + 0.3em);
  text-align: right;
}
.katex-display {
  display: block;
  margin: 1em 0;
  text-align: center;
}
.katex-display > .katex {
  display: block;
  text-align: center;
  white-space: nowrap;
}
.katex-display > .katex > .katex-html {
  display: block;
  position: relative;
}
.katex-display > .katex > .katex-html > .tag {
  position: absolute;
  right: 0;
}
.katex-display.leqno > .katex > .katex-html > .tag {
  left: 0;
  right: auto;
}
.katex-display.fleqn > .katex {
  text-align: left;
  padding-left: 2em;
}
body {
  counter-reset: katexEqnNo mmlEqnNo;
}


    `,r$2`.pallet{
        display : inline-block;
    }
    .pallet > ul {
        margin : 0; padding:0; list-style-type: none;
        position: relative;
        display : flex;
    }
    .pallet > ul > li {
        display : inline-flex;
    }
    .pallet li {
        display : inline-block;
    }
    .pallet li ul{
        /*position: absolute;
        display : flex;
        flex-direction: row;
        align-items: stretch;*/
        padding : 0px;
        right : 1px;
        left : initial;
        background : white;
    }
    .pallet > ul > li > ul > li {
        /*margin-right : 0.5em;*/
        vertical-align: top;
        max-width: 8em;
    }
    .pallet > ul > li > ul > li + li {
      /*margin-left: 0.5em*/
    }
    .pallet ul li ul li ul {
        display : block;
        position: initial;
        padding-left: 0px !important;
        padding-right: 0px !important;
    }
    .pallet > ul > li > ul button {
      min-width: 2.5em;
      display: inline-block;
    }
    .pallet > ul > li > ul button.ml-math-panel-1-half {
      min-width: 4.25em;
    }
    .pallet > ul > li > ul button.ml-math-panel-2x {
      min-width: 5.5em;
    }
    .pallet > ul > li > ul button.ml-math-panel-2-half {
      min-width: 7em;
    }
    .pallet > ul > li > ul button.ml-math-panel-3x {
      min-width: 8em;
    }
    .pallet > ul > li > ul button.ml-math-panel-4x {
      min-width: 9.5em;
    }
    .pallet > ul > li.ml-math-panel-letters > ul > li {
      max-width: 7.5em;
    }
    .pallet > ul > li > ul li.ml-math-panel-letters-lowergreek {
      max-width: 10em;
    }
    .pallet > ul > li > ul li.ml-math-panel-common-operators {
      max-width: 10em;
    }
    .pallet > ul > li > ul li.ml-math-panel-specialval {
      max-width: 10em;
    }
    .pallet > ul > li > ul li.ml-math-panel-decorated-multi {
      max-width: 14em;
    }
    .pallet > ul > li.ml-math-panel-geometrical > ul > li + li {
      max-width: 12em;
    }
    .pallet > ul > li.ml-math-panel-calculus > ul > li {
      max-width: 15em;
    }
    .pallet > ul > li.ml-math-panel-linalg > ul > li {
      max-width: 15em;
    }
    .pallet .hide{
        display : none;
    }`]}customElements.define(InputMath.is,InputMath);class InputChoice extends BorreyInput{constructor(){super(),this.inputId="choice1234",this.multiple=!1,this.choices=[{display:"<p>This is an option</p>",value:"option1"},{display:"<p>Another option</p>",value:"option2"}],this.instruction="Choose the best Answer"}_getInput(){return $$1`
            <section class='choices'>
                ${this.choices.map((e=>$$1`
                        <label>
                            <input type='${this.multiple?"checkbox":"radio"}' name='${this.inputId}'/>
                            <input-preview .html='${e.display}'></input-preview>
                        </label>
                    `))}
            </section>
            <section><input type='submit' @click='${this._submit}' value='${this.actionLabel}'/></section>
        `}static get is(){return"input-choice"}static get title(){return"Choices"}static get properties(){return{choices:{type:Array},inputId:{type:String},multiple:{type:Boolean}}}static styles=[mainThemes,inputCommon,r$2`
        .choices label{
            display : grid;
            grid-template-columns: 1em auto;
            align-items: center;
        }
        .match_row{
            display : grid;
            
            grid-template-columns: auto;
            align-items: center;
        }
    `];multipleAttempt(){const e=Array.from(this.shadowRoot.querySelectorAll(".choices input[type=checkbox]:checked"));return{display:`<section>${e.map((e=>e.nextElementSibling.html)).join("</br>")}</section>`,value:e.map((e=>e.value))}}choiceAttempt(){const e=this.shadowRoot.querySelector(".choices input[type=radio]:checked");return console.log(e),{display:e.nextElementSibling.html,value:e.value}}_submit(e){e.preventDefault(),e.stopPropagation(),this.pushAttempt(this.multiple?this.multipleAttempt():this.choiceAttempt())}pushAttempt(e){this.history=[...this.history,{display:e.display,time:Date.now()}]}}customElements.define(InputChoice.is,InputChoice);class InputMatch extends BorreyInput{constructor(){super(),this.inputId="choice1234",this.multiple=!1,this.choices=[{display:"<stong>This is an option</stong>",value:"choice1"},{display:'<img src="https://via.placeholder.com/350x150"/>',value:"choice2"}],this.options=[{display:"option 1",value:"option1"},{display:"option 2",value:"option2"}],this.instruction="Match the rows and columns"}_getInput(){return $$1`
            <table class='choices'>
                <thead>
                    <tr>
                        <th></th>
                        ${this.options.map((e=>$$1`<th>
                            <input-preview .html='${e.display}'></input-preview>
                        </th>`))}
                    </tr>
                </thead>
                <tbody>
                    ${this.choices.map((e=>$$1`
                        <tr>
                            <th>
                                <input-preview .html='${e.display}'></input-preview>
                            </th>
                            ${this.options.map((t=>$$1`
                                <td>
                                    <input @change='${this.chooseOption}' type='radio' name='${e.value}' value='${t.value}' />
                                </td>`))}
                        </tr>`))}
                </tbody>
            </table>
            <section><input type='submit' @click='${this._submit}' value='${this.actionLabel}'/></section>
        `}static get is(){return"input-match"}static get title(){return"Matching"}static get properties(){return{choices:{type:Array},options:{type:Array}}}static styles=[mainThemes,inputCommon];chooseOption(e){e.preventDefault(),e.stopPropagation();const t=e.target||e.srcElement;if(t.checked){Array.from(this.shadowRoot.querySelectorAll(`table.choices input[value=${t.value}]:checked`)).filter((e=>e.getAttribute("name")!==t.getAttribute("name"))).forEach((e=>{e.checked=!1}))}}_submit(e){e.preventDefault(),e.stopPropagation();const t=Array.from(this.shadowRoot.querySelectorAll("table.choices input[type=radio]:checked")).map((e=>({choice:e.getAttribute("name"),option:e.value}))),n=this.choices.map((e=>`\n            <section class='match_row'>\n                <input-preview .html='${e.display}'></input-preview><input-preview .html='${this.findAttemptOption(t,e.value)}'></input-preview>\n            </section>\n        `)).join("");console.log("submit: ",t),this.pushAttempt({display:n})}findAttemptOption(e,t){const n=e.find((e=>e.choice===t));if(!n)return console.warn(e,t),"<section>Not Selected</section>";const i=this.options.find((e=>e.value===n.option));return i?i.display:(console.error(n,this.options),"<section>ERROR</section>")}pushAttempt(e){this.history=[...this.history,{display:e.display,time:Date.now()}]}}customElements.define(InputMatch.is,InputMatch);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6};class i{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class e extends i{constructor(e){if(super(e),this.it=w,e.type!==t.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===w||null==e)return this.vt=void 0,this.it=e;if(e===b)return e;if("string"!=typeof e)throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this.vt;this.it=e;const t=[e];return t.raw=t,this.vt={_$litType$:this.constructor.resultType,strings:t,values:[]}}}e.directiveName="unsafeHTML",e.resultType=1;class BorreyEditInput extends BorreyInput{static styles=[mainThemes,inputCommon,icons];static get is(){return"borrey-input-edit"}static get title(){return"Input Editor"}static get properties(){return{answerTypes:{type:Array}}}constructor(){super(),this.instruction="Type in your Answer",this.actionUrl="Add Answer Key",this.actionLabel="Add Attempt",this.history=[],this.answerTypes=[{name:"text",obj:InputShort},{name:"long text",obj:InputLong},{name:"multiple choice",obj:InputChoice},{name:"multiple select",obj:InputChoice},{name:"matching",obj:InputMatch},{name:"math expression",obj:InputMath},{name:"excel sheet",obj:InputExcel},{name:"draw",obj:InputDraw}],this.answerType=this.answerTypes[0].name}_submit(e){e.preventDefault(),e.stopPropagation(),this.pushAttempt(this.shadowRoot.querySelector("input[name=attempt]").value)}pushAttempt(e){this.history=[...this.history,{display:e,max_mark:this.history.length?0:100}]}render(){return $$1`
            <label>Choose input type:  
                <select name='answer_type' @change='${this._answerTypeChanged}' value=${this.answerType}}>
                    ${this.answerTypes.map((e=>this.getAnswerTypeOption(e.name)))}
                </select>
            </label>
            <section>
                ${this.getKeyEntryForm(this.answerType)}
            </section>
            <details class='attempt_history'>
                <summary>${this.history.length} ${1==this.history.length?"Answer key":"Answer keys"}</summary>
                <ol >
                    ${this.history.map(this._historyView.bind(this))}
                </ol>
            </details>
        `}_submit(e){e.preventDefault(),e.stopPropagation(),this.pushAttempt(this.shadowRoot.querySelector("input[name=attempt]").value)}getAnswerTypeOption(e){return $$1`
        <option value='${e}'>${e}</option>
        `}getKeyEntryForm(e){return this.answerTypes.find((t=>e==t.name)).obj.getEditForm(this._submit,"Add Key")}_answerTypeChanged(e){this.answerType=e.target.value}_historyView(e,t){return $$1`
            <li>
                <div class='attempt'>
                    <input-preview .html='${"<strong>"+e.display+"</strong>"}'></input-preview>
                    <label>Max Mark: <input type='number' name='mark_${t}' min='0' max='100' value=${e.max_mark} @change=${n=>{this.attemptUpdateMark(e,t,n)}}></label>
                </div>
            </li>
        `}attemptUpdateMark(e,t,n){e.max_mark=n.target.value}}window.customElements.define(BorreyEditInput.is,BorreyEditInput);var global$1="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}"function"==typeof global$1.setTimeout&&(cachedSetTimeout=setTimeout),"function"==typeof global$1.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function nextTick(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(e,t){this.fun=e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser=!0,env={},argv=[],version="",versions={},release={},config={};function noop(){}var on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop;function binding(e){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(e){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance$1=global$1.performance||{},performanceNow=performance$1.now||performance$1.mozNow||performance$1.msNow||performance$1.oNow||performance$1.webkitNow||function(){return(new Date).getTime()};function hrtime(e){var t=.001*performanceNow.call(performance$1),n=Math.floor(t),i=Math.floor(t%1*1e9);return e&&(n-=e[0],(i-=e[1])<0&&(n--,i+=1e9)),[n,i]}var startTime=new Date;function uptime(){return(new Date-startTime)/1e3}var process$1={nextTick,title,browser,env,argv,version,versions,on,addListener,once,off,removeListener,removeAllListeners,emit,binding,cwd,chdir,umask,hrtime,platform,release,config,uptime},lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)lookup[t]=e[t],revLookup[e.charCodeAt(t)]=t;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63}function toByteArray(e){var t,n,i,r,s,a;inited||init();var o=e.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s="="===e[o-2]?2:"="===e[o-1]?1:0,a=new Arr(3*o/4-s),i=s>0?o-4:o;var l=0;for(t=0,n=0;t<i;t+=4,n+=3)r=revLookup[e.charCodeAt(t)]<<18|revLookup[e.charCodeAt(t+1)]<<12|revLookup[e.charCodeAt(t+2)]<<6|revLookup[e.charCodeAt(t+3)],a[l++]=r>>16&255,a[l++]=r>>8&255,a[l++]=255&r;return 2===s?(r=revLookup[e.charCodeAt(t)]<<2|revLookup[e.charCodeAt(t+1)]>>4,a[l++]=255&r):1===s&&(r=revLookup[e.charCodeAt(t)]<<10|revLookup[e.charCodeAt(t+1)]<<4|revLookup[e.charCodeAt(t+2)]>>2,a[l++]=r>>8&255,a[l++]=255&r),a}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[63&e]}function encodeChunk(e,t,n){for(var i,r=[],s=t;s<n;s+=3)i=(e[s]<<16)+(e[s+1]<<8)+e[s+2],r.push(tripletToBase64(i));return r.join("")}function fromByteArray(e){var t;inited||init();for(var n=e.length,i=n%3,r="",s=[],a=16383,o=0,l=n-i;o<l;o+=a)s.push(encodeChunk(e,o,o+a>l?l:o+a));return 1===i?(t=e[n-1],r+=lookup[t>>2],r+=lookup[t<<4&63],r+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],r+=lookup[t>>10],r+=lookup[t>>4&63],r+=lookup[t<<2&63],r+="="),s.push(r),s.join("")}function read(e,t,n,i,r){var s,a,o=8*r-i-1,l=(1<<o)-1,c=l>>1,h=-7,d=n?r-1:0,p=n?-1:1,u=e[t+d];for(d+=p,s=u&(1<<-h)-1,u>>=-h,h+=o;h>0;s=256*s+e[t+d],d+=p,h-=8);for(a=s&(1<<-h)-1,s>>=-h,h+=i;h>0;a=256*a+e[t+d],d+=p,h-=8);if(0===s)s=1-c;else{if(s===l)return a?NaN:1/0*(u?-1:1);a+=Math.pow(2,i),s-=c}return(u?-1:1)*a*Math.pow(2,s-i)}function write(e,t,n,i,r,s){var a,o,l,c=8*s-r-1,h=(1<<c)-1,d=h>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,u=i?0:s-1,m=i?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=h):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=h?(o=0,a=h):a+d>=1?(o=(t*l-1)*Math.pow(2,r),a+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[n+u]=255&o,u+=m,o/=256,r-=8);for(a=a<<r|o,c+=r;c>0;e[n+u]=255&a,u+=m,a/=256,c-=8);e[n+u-m]|=128*f}var toString={}.toString,isArray=Array.isArray||function(e){return"[object Array]"==toString.call(e)},INSPECT_MAX_BYTES=50;function kMaxLength(){return Buffer$1.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer$1.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer$1.prototype:(null===e&&(e=new Buffer$1(t)),e.length=t),e}function Buffer$1(e,t,n){if(!(Buffer$1.TYPED_ARRAY_SUPPORT||this instanceof Buffer$1))return new Buffer$1(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,n)}function from(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?fromArrayBuffer(e,t,n,i):"string"==typeof t?fromString(e,t,n):fromObject(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function alloc(e,t,n,i){return assertSize(t),t<=0?createBuffer(e,t):void 0!==n?"string"==typeof i?createBuffer(e,t).fill(n,i):createBuffer(e,t).fill(n):createBuffer(e,t)}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer$1.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function fromString(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!Buffer$1.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|byteLength(t,n),r=(e=createBuffer(e,i)).write(t,n);return r!==i&&(e=e.slice(0,r)),e}function fromArrayLike(e,t){var n=t.length<0?0:0|checked(t.length);e=createBuffer(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function fromArrayBuffer(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),Buffer$1.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer$1.prototype:e=fromArrayLike(e,t),e}function fromObject(e,t){if(internalIsBuffer(t)){var n=0|checked(t.length);return 0===(e=createBuffer(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||isnan(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&isArray(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function internalIsBuffer(e){return!(null==e||!e._isBuffer)}function byteLength(e,t){if(internalIsBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return base64ToBytes(e).length;default:if(i)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),i=!0}}function slowToString(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,n);case"utf8":case"utf-8":return utf8Slice(this,t,n);case"ascii":return asciiSlice(this,t,n);case"latin1":case"binary":return latin1Slice(this,t,n);case"base64":return base64Slice(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function swap(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function bidirectionalIndexOf(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=Buffer$1.from(t,i)),internalIsBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,n,i,r);if("number"==typeof t)return t&=255,Buffer$1.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):arrayIndexOf(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,n,i,r){var s,a=1,o=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,o/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var h=-1;for(s=n;s<o;s++)if(c(e,s)===c(t,-1===h?0:s-h)){if(-1===h&&(h=s),s-h+1===l)return h*a}else-1!==h&&(s-=s-h),h=-1}else for(n+l>o&&(n=o-l),s=n;s>=0;s--){for(var d=!0,p=0;p<l;p++)if(c(e,s+p)!==c(t,p)){d=!1;break}if(d)return s}return-1}function hexWrite(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");i>s/2&&(i=s/2);for(var a=0;a<i;++a){var o=parseInt(t.substr(2*a,2),16);if(isNaN(o))return a;e[n+a]=o}return a}function utf8Write(e,t,n,i){return blitBuffer(utf8ToBytes(t,e.length-n),e,n,i)}function asciiWrite(e,t,n,i){return blitBuffer(asciiToBytes(t),e,n,i)}function latin1Write(e,t,n,i){return asciiWrite(e,t,n,i)}function base64Write(e,t,n,i){return blitBuffer(base64ToBytes(t),e,n,i)}function ucs2Write(e,t,n,i){return blitBuffer(utf16leToBytes(t,e.length-n),e,n,i)}function base64Slice(e,t,n){return 0===t&&n===e.length?fromByteArray(e):fromByteArray(e.slice(t,n))}function utf8Slice(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var s,a,o,l,c=e[r],h=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=n)switch(d){case 1:c<128&&(h=c);break;case 2:128==(192&(s=e[r+1]))&&(l=(31&c)<<6|63&s)>127&&(h=l);break;case 3:s=e[r+1],a=e[r+2],128==(192&s)&&128==(192&a)&&(l=(15&c)<<12|(63&s)<<6|63&a)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:s=e[r+1],a=e[r+2],o=e[r+3],128==(192&s)&&128==(192&a)&&128==(192&o)&&(l=(15&c)<<18|(63&s)<<12|(63&a)<<6|63&o)>65535&&l<1114112&&(h=l)}null===h?(h=65533,d=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),r+=d}return decodeCodePointsArray(i)}Buffer$1.TYPED_ARRAY_SUPPORT=void 0===global$1.TYPED_ARRAY_SUPPORT||global$1.TYPED_ARRAY_SUPPORT,Buffer$1.poolSize=8192,Buffer$1._augment=function(e){return e.__proto__=Buffer$1.prototype,e},Buffer$1.from=function(e,t,n){return from(null,e,t,n)},Buffer$1.TYPED_ARRAY_SUPPORT&&(Buffer$1.prototype.__proto__=Uint8Array.prototype,Buffer$1.__proto__=Uint8Array),Buffer$1.alloc=function(e,t,n){return alloc(null,e,t,n)},Buffer$1.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer$1.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer$1.isBuffer=isBuffer,Buffer$1.compare=function(e,t){if(!internalIsBuffer(e)||!internalIsBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,s=Math.min(n,i);r<s;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},Buffer$1.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer$1.concat=function(e,t){if(!isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer$1.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=Buffer$1.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var s=e[n];if(!internalIsBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},Buffer$1.byteLength=byteLength,Buffer$1.prototype._isBuffer=!0,Buffer$1.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer$1.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer$1.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer$1.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer$1.prototype.equals=function(e){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer$1.compare(this,e)},Buffer$1.prototype.inspect=function(){var e="",t=INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},Buffer$1.prototype.compare=function(e,t,n,i,r){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),o=Math.min(s,a),l=this.slice(i,r),c=e.slice(t,n),h=0;h<o;++h)if(l[h]!==c[h]){s=l[h],a=c[h];break}return s<a?-1:a<s?1:0},Buffer$1.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},Buffer$1.prototype.indexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!0)},Buffer$1.prototype.lastIndexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!1)},Buffer$1.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return hexWrite(this,e,t,n);case"utf8":case"utf-8":return utf8Write(this,e,t,n);case"ascii":return asciiWrite(this,e,t,n);case"latin1":case"binary":return latin1Write(this,e,t,n);case"base64":return base64Write(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},Buffer$1.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=MAX_ARGUMENTS_LENGTH));return n}function asciiSlice(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function latin1Slice(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function hexSlice(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",s=t;s<n;++s)r+=toHex(e[s]);return r}function utf16leSlice(e,t,n){for(var i=e.slice(t,n),r="",s=0;s<i.length;s+=2)r+=String.fromCharCode(i[s]+256*i[s+1]);return r}function checkOffset(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,n,i,r,s){if(!internalIsBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<s)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,s=Math.min(e.length-n,2);r<s;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function objectWriteUInt32(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,s=Math.min(e.length-n,4);r<s;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function checkIEEE754(e,t,n,i,r,s){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function writeFloat(e,t,n,i,r){return r||checkIEEE754(e,t,n,4),write(e,t,n,i,23,4),n+4}function writeDouble(e,t,n,i,r){return r||checkIEEE754(e,t,n,8),write(e,t,n,i,52,8),n+8}Buffer$1.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),Buffer$1.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=Buffer$1.prototype;else{var r=t-e;n=new Buffer$1(r,void 0);for(var s=0;s<r;++s)n[s]=this[s+e]}return n},Buffer$1.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var i=this[e],r=1,s=0;++s<t&&(r*=256);)i+=this[e+s]*r;return i},Buffer$1.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},Buffer$1.prototype.readUInt8=function(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer$1.prototype.readUInt16LE=function(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer$1.prototype.readUInt16BE=function(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer$1.prototype.readUInt32LE=function(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer$1.prototype.readUInt32BE=function(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer$1.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var i=this[e],r=1,s=0;++s<t&&(r*=256);)i+=this[e+s]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},Buffer$1.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var i=t,r=1,s=this[e+--i];i>0&&(r*=256);)s+=this[e+--i]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*t)),s},Buffer$1.prototype.readInt8=function(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer$1.prototype.readInt16LE=function(e,t){t||checkOffset(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Buffer$1.prototype.readInt16BE=function(e,t){t||checkOffset(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Buffer$1.prototype.readInt32LE=function(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer$1.prototype.readInt32BE=function(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer$1.prototype.readFloatLE=function(e,t){return t||checkOffset(e,4,this.length),read(this,e,!0,23,4)},Buffer$1.prototype.readFloatBE=function(e,t){return t||checkOffset(e,4,this.length),read(this,e,!1,23,4)},Buffer$1.prototype.readDoubleLE=function(e,t){return t||checkOffset(e,8,this.length),read(this,e,!0,52,8)},Buffer$1.prototype.readDoubleBE=function(e,t){return t||checkOffset(e,8,this.length),read(this,e,!1,52,8)},Buffer$1.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||checkInt(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,s=0;for(this[t]=255&e;++s<n&&(r*=256);)this[t+s]=e/r&255;return t+n},Buffer$1.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||checkInt(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,s=1;for(this[t+r]=255&e;--r>=0&&(s*=256);)this[t+r]=e/s&255;return t+n},Buffer$1.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,255,0),Buffer$1.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer$1.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer$1.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer$1.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer$1.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer$1.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer$1.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer$1.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer$1.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer$1.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);checkInt(this,e,t,n,r-1,-r)}var s=0,a=1,o=0;for(this[t]=255&e;++s<n&&(a*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/a>>0)-o&255;return t+n},Buffer$1.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);checkInt(this,e,t,n,r-1,-r)}var s=n-1,a=1,o=0;for(this[t+s]=255&e;--s>=0&&(a*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/a>>0)-o&255;return t+n},Buffer$1.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,127,-128),Buffer$1.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer$1.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer$1.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer$1.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer$1.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer$1.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),Buffer$1.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer$1.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer$1.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer$1.prototype.writeFloatLE=function(e,t,n){return writeFloat(this,e,t,!0,n)},Buffer$1.prototype.writeFloatBE=function(e,t,n){return writeFloat(this,e,t,!1,n)},Buffer$1.prototype.writeDoubleLE=function(e,t,n){return writeDouble(this,e,t,!0,n)},Buffer$1.prototype.writeDoubleBE=function(e,t,n){return writeDouble(this,e,t,!1,n)},Buffer$1.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,s=i-n;if(this===e&&n<t&&t<i)for(r=s-1;r>=0;--r)e[r+t]=this[r+n];else if(s<1e3||!Buffer$1.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},Buffer$1.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!Buffer$1.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=internalIsBuffer(e)?e:utf8ToBytes(new Buffer$1(e,i).toString()),o=a.length;for(s=0;s<n-t;++s)this[s+t]=a[s%o]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(e){if((e=stringtrim(e).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var n;t=t||1/0;for(var i=e.length,r=null,s=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&s.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&s.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function asciiToBytes(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function utf16leToBytes(e,t){for(var n,i,r,s=[],a=0;a<e.length&&!((t-=2)<0);++a)i=(n=e.charCodeAt(a))>>8,r=n%256,s.push(r),s.push(i);return s}function base64ToBytes(e){return toByteArray(base64clean(e))}function blitBuffer(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function isnan(e){return e!=e}function isBuffer(e){return null!=e&&(!!e._isBuffer||isFastBuffer(e)||isSlowBuffer(e))}function isFastBuffer(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function isSlowBuffer(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&isFastBuffer(e.slice(0,0))}var commonjsGlobal$1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function unwrapExports$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule$1(e,t){return e(t={exports:{}},t.exports),t.exports}var require$$4={},pdf=createCommonjsModule$1((function(module,exports){
/**
 * @licstart The following is the entire license notice for the
 * Javascript code in this page
 *
 * Copyright 2020 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * Javascript code in this page
 */
var factory;factory=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLinkAttributes",{enumerable:!0,get:function(){return i.addLinkAttributes}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(t,"LinkTarget",{enumerable:!0,get:function(){return i.LinkTarget}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return r.LoopbackPort}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return r.version}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(t,"createObjectURL",{enumerable:!0,get:function(){return s.createObjectURL}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return s.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(t,"removeNullCharacters",{enumerable:!0,get:function(){return s.removeNullCharacters}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return s.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return a.AnnotationLayer}}),Object.defineProperty(t,"apiCompatibilityParams",{enumerable:!0,get:function(){return o.apiCompatibilityParams}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return l.GlobalWorkerOptions}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return h.SVGGraphics}});var i=n(1),r=n(5),s=n(2),a=n(16),o=n(7),l=n(10),c=n(17),h=n(18);{const{isNodeJS:e}=n(4);if(e){const e=n(19).PDFNodeStream;(0,r.setPDFNetworkStreamFactory)((t=>new e(t)))}else{const e=n(22).PDFNetworkStream;let t;(0,i.isFetchSupported)()&&(t=n(23).PDFFetchStream),(0,r.setPDFNetworkStreamFactory)((n=>t&&(0,i.isValidFetchUrl)(n.url)?new t(n):new e(n)))}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=function(e,{url:t,target:n,rel:s,enabled:a=!0}={}){(0,i.assert)(t&&"string"==typeof t,'addLinkAttributes: A valid "url" parameter must provided.');const o=(0,i.removeNullCharacters)(t);a?e.href=e.title=o:(e.href="",e.title=`Disabled: ${o}`,e.onclick=()=>!1);let c="";switch(n){case l.NONE:break;case l.SELF:c="_self";break;case l.BLANK:c="_blank";break;case l.PARENT:c="_parent";break;case l.TOP:c="_top"}e.target=c,e.rel="string"==typeof s?s:r},t.getFilenameFromUrl=function(e){const t=e.indexOf("#"),n=e.indexOf("?"),i=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",i)+1,i)},t.isFetchSupported=c,t.isValidFetchUrl=h,t.loadScript=function(e){return new Promise(((t,n)=>{const i=document.createElement("script");i.src=e,i.onload=t,i.onerror=function(){n(new Error(`Cannot load script at: ${i.src}`))},(document.head||document.documentElement).appendChild(i)}))},t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.PDFDateString=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.RenderingCancelledException=t.PageViewport=void 0;var i=n(2);const r="noopener noreferrer nofollow";t.DEFAULT_LINK_REL=r;const s="http://www.w3.org/2000/svg";t.DOMCanvasFactory=class{create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=document.createElement("canvas"),i=n.getContext("2d");return n.width=e,n.height=t,{canvas:n,context:i}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}},t.DOMCMapReaderFactory=class{constructor({baseUrl:e=null,isCompressed:t=!1}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),n=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE;return c()&&h(t,document.baseURI)?fetch(t).then((async e=>{if(!e.ok)throw new Error(e.statusText);let t;return t=this.isCompressed?new Uint8Array(await e.arrayBuffer()):(0,i.stringToBytes)(await e.text()),{cMapData:t,compressionType:n}})).catch((e=>{throw new Error("Unable to load "+(this.isCompressed?"binary ":"")+`CMap at: ${t}`)})):new Promise(((e,r)=>{const s=new XMLHttpRequest;s.open("GET",t,!0),this.isCompressed&&(s.responseType="arraybuffer"),s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(200===s.status||0===s.status){let t;if(this.isCompressed&&s.response?t=new Uint8Array(s.response):!this.isCompressed&&s.responseText&&(t=(0,i.stringToBytes)(s.responseText)),t)return void e({cMapData:t,compressionType:n})}r(new Error(s.statusText))}},s.send(null)})).catch((e=>{throw new Error("Unable to load "+(this.isCompressed?"binary ":"")+`CMap at: ${t}`)}))}},t.DOMSVGFactory=class{create(e,t){(0,i.assert)(e>0&&t>0,"Invalid SVG dimensions");const n=document.createElementNS(s,"svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width",e+"px"),n.setAttribute("height",t+"px"),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 "+e+" "+t),n}createElement(e){return(0,i.assert)("string"==typeof e,"Invalid SVG element type"),document.createElementNS(s,e)}};class a{constructor({viewBox:e,scale:t,rotation:n,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=i,this.offsetY=r;const a=(e[2]+e[0])/2,o=(e[3]+e[1])/2;let l,c,h,d,p,u,m,f;switch(n=(n%=360)<0?n+360:n){case 180:l=-1,c=0,h=0,d=1;break;case 90:l=0,c=1,h=1,d=0;break;case 270:l=0,c=-1,h=-1,d=0;break;case 0:l=1,c=0,h=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(h=-h,d=-d),0===l?(p=Math.abs(o-e[1])*t+i,u=Math.abs(a-e[0])*t+r,m=Math.abs(e[3]-e[1])*t,f=Math.abs(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+i,u=Math.abs(o-e[1])*t+r,m=Math.abs(e[2]-e[0])*t,f=Math.abs(e[3]-e[1])*t),this.transform=[l*t,c*t,h*t,d*t,p-l*t*a-h*t*o,u-c*t*a-d*t*o],this.width=m,this.height=f}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new a({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(e,t){return i.Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=i.Util.applyTransform([e[0],e[1]],this.transform),n=i.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return i.Util.applyInverseTransform([e,t],this.transform)}}t.PageViewport=a;class o extends i.BaseException{constructor(e,t){super(e),this.type=t}}t.RenderingCancelledException=o;const l={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function c(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function h(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch(e){return!1}}let d;t.LinkTarget=l,t.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(e){e in this.started&&(0,i.warn)(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||(0,i.warn)(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const e of this.times){const n=e.name;n.length>t&&(t=n.length)}for(const n of this.times){const i=n.end-n.start;e.push(`${n.name.padEnd(t)} ${i}ms\n`)}return e.join("")}},t.PDFDateString=class{static toDateObject(e){if(!e||!(0,i.isString)(e))return null;d||(d=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=d.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,"-"===c?(a+=h,o+=p):"+"===c&&(a-=h,o-=p),new Date(Date.UTC(n,r,s,a,o,l))}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=p,t.arraysToBytes=function(e){const t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];let n=0;for(let i=0;i<t;i++)n+=p(e[i]);let i=0;const r=new Uint8Array(n);for(let n=0;n<t;n++){let t=e[n];t instanceof Uint8Array||(t="string"==typeof t?d(t):new Uint8Array(t));const s=t.byteLength;r.set(t,i),i+=s}return r},t.assert=o,t.bytesToString=function(e){o(null!==e&&"object"==typeof e&&void 0!==e.length,"Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const i=[];for(let r=0;r<t;r+=n){const s=Math.min(r+n,t),a=e.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")},t.createPromiseCapability=function(){const e=Object.create(null);let t=!1;return Object.defineProperty(e,"settled",{get:()=>t}),e.promise=new Promise((function(n,i){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,i(e)}})),e},t.getVerbosityLevel=function(){return r},t.info=function(e){r>=i.INFOS&&console.log(`Info: ${e}`)},t.isArrayBuffer=function(e){return"object"==typeof e&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},t.isBool=function(e){return"boolean"==typeof e},t.isEmptyObj=function(e){for(const t in e)return!1;return!0},t.isNum=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch(e){return!1}const i=new URL(t,n);return n.origin===i.origin},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{const n=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n))return n}catch(e){}return null},t.removeNullCharacters=function(e){return"string"!=typeof e?(s("The argument for removeNullCharacters must be a string."),e):e.replace(h,"")},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(r=e)},t.shadow=l,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=d,t.stringToPDFString=function(e){const t=e.length,n=[];if(""===e[0]&&""===e[1])for(let i=2;i<t;i+=2)n.push(String.fromCharCode(e.charCodeAt(i)<<8|e.charCodeAt(i+1)));else if(""===e[0]&&""===e[1])for(let i=2;i<t;i+=2)n.push(String.fromCharCode(e.charCodeAt(i+1)<<8|e.charCodeAt(i)));else for(let i=0;i<t;++i){const t=b[e.charCodeAt(i)];n.push(t?String.fromCharCode(t):e.charAt(i))}return n.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=s,t.unreachable=a,t.IsEvalSupportedCached=t.IsLittleEndianCached=t.createObjectURL=t.FormatError=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.MissingPDFException=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VerbosityLevel=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=t.BaseException=void 0,n(3),t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const i={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=i,t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let r=i.WARNINGS;function s(e){r>=i.WARNINGS&&console.log(`Warning: ${e}`)}function a(e){throw new Error(e)}function o(e,t){e||a(t)}function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}const c=function(){function e(t){this.constructor===e&&a("Cannot initialize BaseException."),this.message=t,this.name=this.constructor.name}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=c,t.PasswordException=class extends c{constructor(e,t){super(e),this.code=t}},t.UnknownErrorException=class extends c{constructor(e,t){super(e),this.details=t}},t.InvalidPDFException=class extends c{},t.MissingPDFException=class extends c{},t.UnexpectedResponseException=class extends c{constructor(e,t){super(e),this.status=t}},t.FormatError=class extends c{},t.AbortException=class extends c{};const h=/\x00/g;function d(e){o("string"==typeof e,"Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let i=0;i<t;++i)n[i]=255&e.charCodeAt(i);return n}function p(e){return void 0!==e.length?e.length:(o(void 0!==e.byteLength,"arrayByteLength - invalid argument."),e.byteLength)}const u={get value(){return l(this,"value",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}};t.IsLittleEndianCached=u;const m={get value(){return l(this,"value",function(){try{return new Function(""),!0}catch(e){return!1}}())}};t.IsEvalSupportedCached=m;const f=["rgb(",0,",",0,",",0,")"];class g{static makeCssRgb(e,t,n){return f[1]=e,f[3]=t,f[5]=n,f.join("")}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=g.applyTransform(e,t),i=g.applyTransform(e.slice(2,4),t),r=g.applyTransform([e[0],e[3]],t),s=g.applyTransform([e[2],e[1]],t);return[Math.min(n[0],i[0],r[0],s[0]),Math.min(n[1],i[1],r[1],s[1]),Math.max(n[0],i[0],r[0],s[0]),Math.max(n[1],i[1],r[1],s[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static apply3dTransform(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],s=e[2]*t[1]+e[3]*t[3],a=(n+s)/2,o=Math.sqrt((n+s)*(n+s)-4*(n*s-r*i))/2,l=a+o||1,c=a-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){function n(e,t){return e-t}const i=[e[0],e[2],t[0],t[2]].sort(n),r=[e[1],e[3],t[1],t[3]].sort(n),s=[];return e=g.normalizeRect(e),t=g.normalizeRect(t),i[0]===e[0]&&i[1]===t[0]||i[0]===t[0]&&i[1]===e[0]?(s[0]=i[1],s[2]=i[2],r[0]===e[1]&&r[1]===t[1]||r[0]===t[1]&&r[1]===e[1]?(s[1]=r[1],s[3]=r[2],s):null):null}}t.Util=g;const b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],y=function(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(t,n,i=!1){if(!i&&URL.createObjectURL){const e=new Blob([t],{type:n});return URL.createObjectURL(e)}let r=`data:${n};base64,`;for(let n=0,i=t.length;n<i;n+=3){const s=255&t[n],a=255&t[n+1],o=255&t[n+2];r+=e[s>>2]+e[(3&s)<<4|a>>4]+e[n+1<i?(15&a)<<2|o>>6:64]+e[n+2<i?63&o:64]}return r}}();t.createObjectURL=y},function(e,t,n){n(4)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;const i="object"==typeof process$1&&process$1+""=="[object process]"&&!process$1.versions.nw&&!process$1.versions.electron;t.isNodeJS=i},function(module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _util=__w_pdfjs_require__(2),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(6),_api_compatibility=__w_pdfjs_require__(7),_canvas=__w_pdfjs_require__(8),_worker_options=__w_pdfjs_require__(10),_is_node=__w_pdfjs_require__(4),_message_handler=__w_pdfjs_require__(11),_metadata=__w_pdfjs_require__(12),_transport_stream=__w_pdfjs_require__(14),_webgl=__w_pdfjs_require__(15);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){const t=new PDFDocumentLoadingTask;let n;if("string"==typeof e)n={url:e};else if((0,_util.isArrayBuffer)(e))n={data:e};else if(e instanceof PDFDataRangeTransport)n={range:e};else{if("object"!=typeof e)throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");n=e}const i=Object.create(null);let r=null,s=null;for(const e in n)if("url"!==e||"undefined"==typeof window)if("range"!==e)if("worker"!==e)if("data"!==e||n[e]instanceof Uint8Array)i[e]=n[e];else{const t=n[e];if("string"==typeof t)i[e]=(0,_util.stringToBytes)(t);else if("object"!=typeof t||null===t||isNaN(t.length)){if(!(0,_util.isArrayBuffer)(t))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");i[e]=new Uint8Array(t)}else i[e]=new Uint8Array(t)}else s=n[e];else r=n[e];else i[e]=new URL(n[e],window.location).href;if(i.rangeChunkSize=i.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,i.CMapReaderFactory=i.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,Number.isInteger(i.maxImageSize)||(i.maxImageSize=-1),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!s){const e={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};s=e.port?PDFWorker.fromPort(e):new PDFWorker(e),t._worker=s}const a=t.docId;return s.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");const e=_fetchDocument(s,i,r,a),n=new Promise((function(e){let t;r?t=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,disableRange:i.disableRange,disableStream:i.disableStream},r):i.data||(t=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),e(t)}));return Promise.all([e,n]).then((function([e,n]){if(t.destroyed)throw new Error("Loading aborted");const r=new _message_handler.MessageHandler(a,e,s.port);r.postMessageTransfers=s.postMessageTransfers;const o=new WorkerTransport(r,t,n,i);t._transport=o,r.send("Ready",null)}))})).catch(t._capability.reject),t}function _fetchDocument(e,t,n,i){return e.destroyed?Promise.reject(new Error("Worker was destroyed")):(n&&(t.length=n.length,t.initialData=n.initialData,t.progressiveDone=n.progressiveDone),e.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.5.207",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties}).then((function(t){if(e.destroyed)throw new Error("Worker was destroyed");return t})))}const PDFDocumentLoadingTask=function(){let e=0;return class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then((()=>{this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}))}}}();class PDFDataRangeTransport{constructor(e,t,n=!1){this.length=e,this.initialData=t,this.progressiveDone=n,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e,this._transport=t}get numPages(){return this._pdfInfo.numPages}get fingerprint(){return this._pdfInfo.fingerprint}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getOpenActionDestination(){return(0,_display_utils.deprecated)("getOpenActionDestination, use getOpenAction instead."),this.getOpenAction().then((function(e){return e&&e.dest?e.dest:null}))}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getOutline(){return this._transport.getOutline()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}getStats(){return this._transport.getStats()}cleanup(){return this._transport.startCleanup()}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(e,t,n,i=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations({intent:e=null}={}){return this.annotationsPromise&&this.annotationsIntent===e||(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,e),this.annotationsIntent=e),this.annotationsPromise}render({canvasContext:e,viewport:t,intent:n="display",enableWebGL:i=!1,renderInteractiveForms:r=!1,transform:s=null,imageLayer:a=null,canvasFactory:o=null,background:l=null}){this._stats&&this._stats.time("Overall");const c="print"===n?"print":"display";this.pendingCleanup=!1,this.intentStates[c]||(this.intentStates[c]=Object.create(null));const h=this.intentStates[c];h.streamReaderCancelTimeout&&(clearTimeout(h.streamReaderCancelTimeout),h.streamReaderCancelTimeout=null);const d=o||new _display_utils.DOMCanvasFactory,p=new _webgl.WebGLContext({enable:i});h.displayReadyCapability||(h.displayReadyCapability=(0,_util.createPromiseCapability)(),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:c,renderInteractiveForms:!0===r}));const u=e=>{const t=h.renderTasks.indexOf(m);t>=0&&h.renderTasks.splice(t,1),(this.cleanupAfterRender||"print"===c)&&(this.pendingCleanup=!0),this._tryCleanup(),e?(m.capability.reject(e),this._abortOperatorList({intentState:h,reason:e})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},m=new InternalRenderTask({callback:u,params:{canvasContext:e,viewport:t,transform:s,imageLayer:a,background:l},objs:this.objs,commonObjs:this.commonObjs,operatorList:h.operatorList,pageIndex:this._pageIndex,canvasFactory:d,webGLContext:p,useRequestAnimationFrame:"print"!==c,pdfBug:this._pdfBug});h.renderTasks||(h.renderTasks=[]),h.renderTasks.push(m);const f=m.task;return h.displayReadyCapability.promise.then((e=>{this.pendingCleanup?u():(this._stats&&this._stats.time("Rendering"),m.initializeGraphics(e),m.operatorListChanged())})).catch(u),f}getOperatorList(){const e="oplist";this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));const t=this.intentStates.oplist;let n;return t.opListReadCapability||(n={},n.operatorListChanged=function(){if(t.operatorList.lastChunk){t.opListReadCapability.resolve(t.operatorList);const e=t.renderTasks.indexOf(n);e>=0&&t.renderTasks.splice(e,1)}},t.opListReadCapability=(0,_util.createPromiseCapability)(),t.renderTasks=[],t.renderTasks.push(n),t.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:e})),t.opListReadCapability.promise}streamTextContent({normalizeWhitespace:e=!1,disableCombineTextItems:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===e,combineTextItems:!0!==t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(e={}){const t=this.streamTextContent(e);return new Promise((function(e,n){const i=t.getReader(),r={items:[],styles:Object.create(null)};!function t(){i.read().then((function({value:n,done:i}){i?e(r):(Object.assign(r.styles,n.styles),r.items.push(...n.items),t())}),n)}()}))}_destroy(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;const e=[];return Object.keys(this.intentStates).forEach((t=>{const n=this.intentStates[t];this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==t&&n.renderTasks.forEach((function(t){const n=t.capability.promise.catch((function(){}));e.push(n),t.cancel()}))})),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(e)}cleanup(e=!1){return this.pendingCleanup=!0,this._tryCleanup(e)}_tryCleanup(e=!1){return!(!this.pendingCleanup||Object.keys(this.intentStates).some((e=>{const t=this.intentStates[e];return 0!==t.renderTasks.length||!t.operatorList.lastChunk}))||(Object.keys(this.intentStates).forEach((e=>{delete this.intentStates[e]})),this.objs.clear(),this.annotationsPromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,0))}_startRenderPage(e,t){const n=this.intentStates[t];n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk;for(let e=0;e<t.renderTasks.length;e++)t.renderTasks[e].operatorListChanged();e.lastChunk&&this._tryCleanup()}_pumpOperatorList(e){(0,_util.assert)(e.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');const t=this._transport.messageHandler.sendWithStream("GetOperatorList",e).getReader(),n=this.intentStates[e.intent];n.streamReader=t;const i=()=>{t.read().then((({value:e,done:t})=>{t?n.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,n),i())}),(e=>{if(n.streamReader=null,!this._transport.destroyed){if(n.operatorList){n.operatorList.lastChunk=!0;for(let e=0;e<n.renderTasks.length;e++)n.renderTasks[e].operatorListChanged();this._tryCleanup()}if(n.displayReadyCapability)n.displayReadyCapability.reject(e);else{if(!n.opListReadCapability)throw e;n.opListReadCapability.reject(e)}}}))};i()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if((0,_util.assert)(t instanceof Error||"object"==typeof t&&null!==t,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),e.streamReader){if(!n){if(0!==e.renderTasks.length)return;if(t instanceof _display_utils.RenderingCancelledException)return void(e.streamReaderCancelTimeout=setTimeout((()=>{this._abortOperatorList({intentState:e,reason:t,force:!0}),e.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}e.streamReader.cancel(new _util.AbortException(t&&t.message)),e.streamReader=null,this._transport.destroyed||(Object.keys(this.intentStates).some((t=>this.intentStates[t]===e&&(delete this.intentStates[t],!0))),this.cleanup())}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(e=!0){this._listeners=[],this._defer=e,this._deferred=Promise.resolve(void 0)}postMessage(e,t){if(!this._defer)return void this._listeners.forEach((t=>{t.call(this,{data:e})}));const n=new WeakMap,i={data:function e(i){if("object"!=typeof i||null===i)return i;if(n.has(i))return n.get(i);let r,s;if((r=i.buffer)&&(0,_util.isArrayBuffer)(r))return s=t&&t.includes(r)?new i.constructor(r,i.byteOffset,i.byteLength):new i.constructor(i),n.set(i,s),s;s=Array.isArray(i)?[]:{},n.set(i,s);for(const t in i){let n,r=i;for(;!(n=Object.getOwnPropertyDescriptor(r,t));)r=Object.getPrototypeOf(r);if(void 0!==n.value)if("function"!=typeof n.value)s[t]=e(n.value);else if(i.hasOwnProperty&&i.hasOwnProperty(t))throw new Error(`LoopbackPort.postMessage - cannot clone: ${i[t]}`)}return s}(e)};this._deferred.then((()=>{this._listeners.forEach((e=>{e.call(this,i)}))}))}addEventListener(e,t){this._listeners.push(t)}removeEventListener(e,t){const n=this._listeners.indexOf(t);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorker=function PDFWorkerClosure(){const pdfWorkerPorts=new WeakMap;let isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS&&"function"==typeof commonjsRequire)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document&&"currentScript"in document){const e=document.currentScript&&document.currentScript.src;e&&(fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){let e;try{e=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(e){}return e||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();const loader=async function(){const mainWorkerMessageHandler=getMainThreadWorkerMessageHandler();if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&"function"==typeof commonjsRequire){const worker=eval("require")(getWorkerSrc());return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(getWorkerSrc()),window.pdfjsWorker.WorkerMessageHandler};return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(e){const t="importScripts('"+e+"');";return URL.createObjectURL(new Blob([t]))}class PDFWorker{constructor({name:e=null,port:t=null,verbosity:n=(0,_util.getVerbosityLevel)()}={}){if(t&&pdfWorkerPorts.has(t))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=e,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=n,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t)return pdfWorkerPorts.set(t,this),void this._initializeFromPort(t);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){let e=getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,e)||(e=createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e),n=new _message_handler.MessageHandler("main","worker",t),i=()=>{t.removeEventListener("error",r),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=()=>{this._webWorker||i()};t.addEventListener("error",r),n.on("test",(e=>{t.removeEventListener("error",r),this.destroyed?i():e?(this._messageHandler=n,this._port=t,this._webWorker=t,e.supportTransfers||(this.postMessageTransfers=!1),this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),t.terminate())})),n.on("ready",(e=>{if(t.removeEventListener("error",r),this.destroyed)i();else try{s()}catch(e){this._setupFakeWorker()}}));const s=()=>{const e=new Uint8Array([this.postMessageTransfers?255:0]);try{n.send("test",e,[e.buffer])}catch(t){(0,_util.warn)("Cannot use postMessage transfers."),e[0]=0,n.send("test",e)}};return void s()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new LoopbackPort;this._port=t;const n="fake"+nextFakeWorkerId++,i=new _message_handler.MessageHandler(n+"_worker",n,t);e.setup(i,t);const r=new _message_handler.MessageHandler(n,n+"_worker",t);this._messageHandler=r,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})})).catch((e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(e.port)?pdfWorkerPorts.get(e.port):new PDFWorker(e)}static getWorkerSrc(){return getWorkerSrc()}}return PDFWorker}();exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(e,t,n,i){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=i,this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];this.pageCache.forEach((function(t){t&&e.push(t._destroy())})),this.pageCache.length=0,this.pagePromises.length=0;const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then((()=>{this.fontLoader.clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function({value:e,done:n}){n?t.close():((0,_util.assert)((0,_util.isArrayBuffer)(e),"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e)}})),e.on("ReaderHeadersReady",(e=>{const n=(0,_util.createPromiseCapability)(),i=this._fullReader;return i.headersReady.then((()=>{i.isStreamingSupported&&i.isRangeSupported||(this._lastProgress&&t.onProgress&&t.onProgress(this._lastProgress),i.onProgress=e=>{t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}),n.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function({value:e,done:n}){n?t.close():((0,_util.assert)((0,_util.isArrayBuffer)(e),"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e)}):t.close()})),e.on("GetDoc",(({pdfInfo:e})=>{this._numPages=e.numPages,t._capability.resolve(new PDFDocumentProxy(e,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":n=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(e.message,e.details)}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),t.onPassword){const n=e=>{this._passwordCapability.resolve({password:e})};try{t.onPassword(n,e.code)}catch(e){this._passwordCapability.reject(e)}}else this._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return this._passwordCapability.promise})),e.on("DataLoaded",(e=>{t.onProgress&&t.onProgress({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{this.destroyed||this.pageCache[e.pageIndex]._startRenderPage(e.transparency,e.intent)})),e.on("commonobj",(t=>{if(this.destroyed)return;const[n,i,r]=t;if(!this.commonObjs.has(n))switch(i){case"Font":const t=this._params;if("error"in r){const e=r.error;(0,_util.warn)(`Error during font loading: ${e}`),this.commonObjs.resolve(n,e);break}let s=null;t.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(s={registerFont(e,t){globalThis.FontInspector.fontAdded(e,t)}});const a=new _font_loader.FontFaceObject(r,{isEvalSupported:t.isEvalSupported,disableFontFace:t.disableFontFace,ignoreErrors:t.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:s});this.fontLoader.bind(a).catch((t=>e.sendWithPromise("FontFallback",{id:n}))).finally((()=>{!t.fontExtraProperties&&a.data&&(a.data=null),this.commonObjs.resolve(n,a)}));break;case"FontPath":case"FontType3Res":case"Image":this.commonObjs.resolve(n,r);break;default:throw new Error(`Got unknown common object type ${i}`)}})),e.on("obj",(e=>{if(this.destroyed)return;const[t,n,i,r]=e,s=this.pageCache[n];if(!s.objs.has(t)){if("Image"!==i)throw new Error(`Got unknown object type ${i}`);{s.objs.resolve(t,r);const e=8e6;r&&"data"in r&&r.data.length>e&&(s.cleanupAfterRender=!0)}}})),e.on("DocProgress",(e=>{this.destroyed||t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})})),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",((e,t)=>{if(this.destroyed)return void t.error(new Error("Worker was destroyed"));let n=!1;t.onPull=()=>{n?t.close():(n=!0,this.CMapReaderFactory.fetch(e).then((function(e){t.enqueue(e,1,[e.cMapData.buffer])})).catch((function(e){t.error(e)})))}}))}_onUnsupportedFeature({featureId:e}){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(e)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request"));const t=e-1;if(t in this.pagePromises)return this.pagePromises[t];const n=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((e=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(t,e,this,this._params.pdfBug);return this.pageCache[t]=n,n}));return this.pagePromises[t]=n,n}getPageIndex(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch((function(e){return Promise.reject(new Error(e))}))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.messageHandler.sendWithPromise("GetMetadata",null).then((e=>({info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:this._fullReader?this._fullReader.filename:null})))}getStats(){return this.messageHandler.sendWithPromise("GetStats",null)}startCleanup(){return this.messageHandler.sendWithPromise("Cleanup",null).then((()=>{for(let e=0,t=this.pageCache.length;e<t;e++){const t=this.pageCache[e];if(t&&!t.cleanup())throw new Error(`startCleanup: Page ${e+1} is currently rendering.`)}this.commonObjs.clear(),this.fontLoader.clear()}))}get loadingParams(){const e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,disableFontFace:e.disableFontFace})}}class PDFObjects{constructor(){this._objs=Object.create(null)}_ensureObj(e){return this._objs[e]?this._objs[e]:this._objs[e]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}get(e,t=null){if(t)return this._ensureObj(e).capability.promise.then(t),null;const n=this._objs[e];if(!n||!n.resolved)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this._objs[e];return!!t&&t.resolved}resolve(e,t){const n=this._ensureObj(e);n.resolved=!0,n.data=t,n.capability.resolve(t)}clear(){this._objs=Object.create(null)}}class RenderTask{constructor(e){this._internalRenderTask=e,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}const InternalRenderTask=function(){const e=new WeakSet;return class{constructor({callback:e,params:t,objs:n,commonObjs:i,operatorList:r,pageIndex:s,canvasFactory:a,webGLContext:o,useRequestAnimationFrame:l=!1,pdfBug:c=!1}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=s,this.canvasFactory=a,this.webGLContext=o,this._pdfBug=c,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===l&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}initializeGraphics(t=!1){if(this.cancelled)return;if(this._canvas){if(e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:r,imageLayer:s,background:a}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,s),this.gfx.beginDrawing({transform:r,viewport:i,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(t=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&e.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this.cancel.bind(this))})):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&e.delete(this._canvas),this.callback())))}}}(),version="2.5.207";exports.version=version;const build="0974d605";exports.build=build},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var i=n(2);class r{constructor({docId:e,onUnsupportedFeature:t}){this.constructor===r&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=e,this._onUnsupportedFeature=t,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(e){this.nativeFontFaces.push(e),document.fonts.add(e)}insertRule(e){let t=this.styleElement;t||(t=this.styleElement=document.createElement("style"),t.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,document.documentElement.getElementsByTagName("head")[0].appendChild(t));const n=t.sheet;n.insertRule(e,n.cssRules.length)}clear(){this.nativeFontFaces.forEach((function(e){document.fonts.delete(e)})),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(e){if(e.attached||e.missingFile)return;if(e.attached=!0,this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)(`Failed to load font '${t.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent([t],[e],i)}))}}_queueLoadingCallback(e){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){const e="undefined"!=typeof document&&!!document.fonts;return(0,i.shadow)(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(e,t,n){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let s;t.FontLoader=s,t.FontLoader=s=class extends r{constructor(e){super(e),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let e=!1;if("undefined"==typeof navigator)e=!0;else{const t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);t&&t[1]>=14&&(e=!0)}return(0,i.shadow)(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const t=this.loadingContext,n={id:"pdfjs-font-loading-"+t.nextRequestId++,done:!1,complete:function(){for((0,i.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.requests.length>0&&t.requests[0].done;){const e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(n),n}get _loadTestFont(){return(0,i.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t,n){function r(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function s(e,t,n,i){return e.substring(0,t)+i+e.substring(t+n)}let a,o;const l=document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let h=0;const d=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=s(p,976,d.length,d);const u=1482184792;let m=r(p,16);for(a=0,o=d.length-3;a<o;a+=4)m=m-u+r(d,a)|0;a<d.length&&(m=m-u+r(d+"XXX",a)|0),p=s(p,16,4,(0,i.string32)(m));const f=`@font-face {font-family:"${d}";src:url(data:font/opentype;base64,${btoa(p)});}`;this.insertRule(f);const g=[];for(a=0,o=t.length;a<o;a++)g.push(t[a].loadedName);g.push(d);const b=document.createElement("div");for(b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px",a=0,o=g.length;a<o;++a){const e=document.createElement("span");e.textContent="Hi",e.style.fontFamily=g[a],b.appendChild(e)}document.body.appendChild(b),function e(t,n){if(h++,h>30)return(0,i.warn)("Load test font never loaded."),void n();c.font="30px "+t,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(d,(function(){document.body.removeChild(b),n.complete()}))}},t.FontFaceObject=class{constructor(e,{isEvalSupported:t=!0,disableFontFace:n=!1,ignoreErrors:i=!1,onUnsupportedFeature:r=null,fontRegistry:s=null}){this.compiledGlyphs=Object.create(null);for(const t in e)this[t]=e[t];this.isEvalSupported=!1!==t,this.disableFontFace=!0===n,this.ignoreErrors=!0===i,this._onUnsupportedFeature=r,this.fontRegistry=s}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;const e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=(0,i.bytesToString)(new Uint8Array(this.data)),t=`url(data:${this.mimetype};base64,${btoa(e)});`,n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n,r;try{n=e.get(this.loadedName+"_path_"+t)}catch(e){if(!this.ignoreErrors)throw e;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)(`getPathGenerator - ignoring character: "${e}".`),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&i.IsEvalSupportedCached.value){let e,i="";for(let t=0,s=n.length;t<s;t++)r=n[t],e=void 0!==r.args?r.args.join(","):"",i+="c."+r.cmd+"("+e+");\n";return this.compiledGlyphs[t]=new Function("c","size",i)}return this.compiledGlyphs[t]=function(e,t){for(let i=0,s=n.length;i<s;i++)r=n[i],"scale"===r.cmd&&(r.args=[t,-t]),e[r.cmd].apply(e,r.args)}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.apiCompatibilityParams=void 0;var i=n(4);const r=Object.create(null);i.isNodeJS&&(r.disableFontFace=!0);const s=Object.freeze(r);t.apiCompatibilityParams=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var i=n(2),r=n(9),s=4096,a=.65,o=16;function l(e){e.mozCurrentTransform||(e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],a=e[5],o=t*r-n*i,l=n*i-t*r;return[r/o,n/l,i/l,t/o,(r*s-i*a)/l,(n*s-t*a)/o]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var n=this._transformMatrix;n[4]=n[0]*e+n[2]*t+n[4],n[5]=n[1]*e+n[3]*t+n[5],this._originalTranslate(e,t)},e.scale=function(e,t){var n=this._transformMatrix;n[0]=n[0]*e,n[1]=n[1]*e,n[2]=n[2]*t,n[3]=n[3]*t,this._originalScale(e,t)},e.transform=function(t,n,i,r,s,a){var o=this._transformMatrix;this._transformMatrix=[o[0]*t+o[2]*n,o[1]*t+o[3]*n,o[0]*i+o[2]*r,o[1]*i+o[3]*r,o[0]*s+o[2]*a+o[4],o[1]*s+o[3]*a+o[5]],e._originalTransform(t,n,i,r,s,a)},e.setTransform=function(t,n,i,r,s,a){this._transformMatrix=[t,n,i,r,s,a],e._originalSetTransform(t,n,i,r,s,a)},e.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),i=this._transformMatrix;this._transformMatrix=[i[0]*t+i[2]*n,i[1]*t+i[3]*n,i[0]*-n+i[2]*t,i[1]*-n+i[3]*t,i[4],i[5]],this._originalRotate(e)})}var c=function(){function e(e){this.canvasFactory=e,this.cache=Object.create(null)}return e.prototype={getCanvas:function(e,t,n,i){var r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n),r.context.setTransform(1,0,0,1,0,0)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),i&&l(r.context),r},clear(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}},e}(),h=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),d=function(){function e(e,t,n,i,r,s){this.ctx=e,this.current=new h,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.webGLContext=r,this.imageLayer=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new c(this.canvasFactory),e&&l(e),this._cachedGetSinglePixelWidth=null}function t(e,t){if("undefined"!=typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var n,r,s,a,l,c=t.height,h=t.width,d=c%o,p=(c-d)/o,u=0===d?p:p+1,m=e.createImageData(h,o),f=0,g=t.data,b=m.data;if(t.kind===i.ImageKind.GRAYSCALE_1BPP){var y=g.byteLength,v=new Uint32Array(b.buffer,0,b.byteLength>>2),x=v.length,w=h+7>>3,O=4294967295,S=i.IsLittleEndianCached.value?4278190080:255;for(r=0;r<u;r++){for(a=r<p?o:d,n=0,s=0;s<a;s++){for(var k=y-f,_=0,A=k>w?h:8*k-7,T=-8&A,C=0,M=0;_<T;_+=8)M=g[f++],v[n++]=128&M?O:S,v[n++]=64&M?O:S,v[n++]=32&M?O:S,v[n++]=16&M?O:S,v[n++]=8&M?O:S,v[n++]=4&M?O:S,v[n++]=2&M?O:S,v[n++]=1&M?O:S;for(;_<A;_++)0===C&&(M=g[f++],C=128),v[n++]=M&C?O:S,C>>=1}for(;n<x;)v[n++]=0;e.putImageData(m,0,r*o)}}else if(t.kind===i.ImageKind.RGBA_32BPP){for(s=0,l=h*o*4,r=0;r<p;r++)b.set(g.subarray(f,f+l)),f+=l,e.putImageData(m,0,s),s+=o;r<u&&(l=h*d*4,b.set(g.subarray(f,f+l)),e.putImageData(m,0,s))}else{if(t.kind!==i.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);for(l=h*(a=o),r=0;r<u;r++){for(r>=p&&(l=h*(a=d)),n=0,s=l;s--;)b[n++]=g[f++],b[n++]=g[f++],b[n++]=g[f++],b[n++]=255;e.putImageData(m,0,r*o)}}}}function n(e,t){for(var n=t.height,i=t.width,r=n%o,s=(n-r)/o,a=0===r?s:s+1,l=e.createImageData(i,o),c=0,h=t.data,d=l.data,p=0;p<a;p++){for(var u=p<s?o:r,m=3,f=0;f<u;f++)for(var g=0,b=0;b<i;b++){if(!g){var y=h[c++];g=128}d[m]=y&g?0:255,m+=4,g>>=1}e.putImageData(l,0,p*o)}}function d(e,t){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],i=0,r=n.length;i<r;i++){var s=n[i];void 0!==e[s]&&(t[s]=e[s])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function p(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function u(e,t,n,i){for(var r=e.length,s=3;s<r;s+=4){var a=e[s];if(0===a)e[s-3]=t,e[s-2]=n,e[s-1]=i;else if(a<255){var o=255-a;e[s-3]=e[s-3]*a+t*o>>8,e[s-2]=e[s-2]*a+n*o>>8,e[s-1]=e[s-1]*a+i*o>>8}}}function m(e,t,n){for(var i=e.length,r=3;r<i;r+=4){var s=n?n[e[r]]:e[r];t[r]=t[r]*s*.00392156862745098|0}}function f(e,t,n){for(var i=e.length,r=3;r<i;r+=4){var s=77*e[r-3]+152*e[r-2]+28*e[r-1];t[r]=n?t[r]*n[s>>8]>>8:t[r]*s>>16}}function g(e,t,n,i){var r=t.canvas,s=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var a=t.backdrop||null;if(!t.transferMap&&i.isEnabled){const s=i.composeSMask({layer:n.canvas,mask:r,properties:{subtype:t.subtype,backdrop:a}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(s,t.offsetX,t.offsetY)}!function(e,t,n,i,r,s,a){var o,l=!!s,c=l?s[0]:0,h=l?s[1]:0,d=l?s[2]:0;o="Luminosity"===r?f:m;for(var p=Math.min(i,Math.ceil(1048576/n)),g=0;g<i;g+=p){var b=Math.min(p,i-g),y=e.getImageData(0,g,n,b),v=t.getImageData(0,g,n,b);l&&u(y.data,c,h,d),o(y.data,v.data,a),e.putImageData(v,0,g)}}(s,n,r.width,r.height,t.subtype,a,t.transferMap),e.drawImage(r,0,0)}var b=["butt","round","square"],y=["miter","round","bevel"],v={},x={};for(var w in e.prototype={beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){var r=this.ctx.canvas.width,s=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=i||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,r,s),this.ctx.restore(),n){var a=this.cachedCanvases.getCanvas("transparent",r,s,!0);this.compositeCtx=this.ctx,this.transparentCanvas=a.canvas,this.ctx=a.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),p(this.ctx),e&&this.ctx.transform.apply(this.ctx,e),this.ctx.transform.apply(this.ctx,t.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,n,r){var s=e.argsArray,a=e.fnArray,o=t||0,l=s.length;if(l===o)return o;for(var c,h=l-o>10&&"function"==typeof n,d=h?Date.now()+15:0,p=0,u=this.commonObjs,m=this.objs;;){if(void 0!==r&&o===r.nextBreakPoint)return r.breakIt(o,n),o;if((c=a[o])!==i.OPS.dependency)this[c].apply(this,s[o]);else for(const e of s[o]){const t=e.startsWith("g_")?u:m;if(!t.has(e))return t.get(e,n),o}if(++o===l)return o;if(h&&++p>10){if(Date.now()>d)return n(),o;p=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=b[e]},setLineJoin:function(e){this.ctx.lineJoin=y[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)},setRenderingIntent(e){},setFlatness(e){},setGState:function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t],r=i[0],s=i[1];switch(r){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=i[1];break;case"ca":this.current.fillAlpha=i[1],this.ctx.globalAlpha=i[1];break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=s?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=e.canvas.width,n=e.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,t,n,!0),s=this.ctx,a=s.mozCurrentTransform;this.ctx.save();var o=r.context;o.scale(1/e.scaleX,1/e.scaleY),o.translate(-e.offsetX,-e.offsetY),o.transform.apply(o,a),e.startTransformInverse=o.mozCurrentTransformInverse,d(s,o),this.ctx=o,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),g(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),this.ctx.save(),d(e,this.ctx),this.current.resumeSMaskCtx=e;var t=i.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.current.resumeSMaskCtx,t=this.ctx;this.ctx=e,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),g(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),d(e,this.ctx);var t=i.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(e,t,n,i,r,s){this.ctx.transform(e,t,n,i,r,s),this._cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var n=this.ctx,r=this.current,s=r.x,a=r.y,o=0,l=0,c=e.length;o<c;o++)switch(0|e[o]){case i.OPS.rectangle:s=t[l++],a=t[l++];var h=t[l++],d=t[l++];0===h&&(h=this.getSinglePixelWidth()),0===d&&(d=this.getSinglePixelWidth());var p=s+h,u=a+d;this.ctx.moveTo(s,a),this.ctx.lineTo(p,a),this.ctx.lineTo(p,u),this.ctx.lineTo(s,u),this.ctx.lineTo(s,a),this.ctx.closePath();break;case i.OPS.moveTo:s=t[l++],a=t[l++],n.moveTo(s,a);break;case i.OPS.lineTo:s=t[l++],a=t[l++],n.lineTo(s,a);break;case i.OPS.curveTo:s=t[l+4],a=t[l+5],n.bezierCurveTo(t[l],t[l+1],t[l+2],t[l+3],s,a),l+=6;break;case i.OPS.curveTo2:n.bezierCurveTo(s,a,t[l],t[l+1],t[l+2],t[l+3]),s=t[l+2],a=t[l+3],l+=4;break;case i.OPS.curveTo3:s=t[l+2],a=t[l+3],n.bezierCurveTo(t[l],t[l+1],s,a,s,a),l+=4;break;case i.OPS.closePath:n.closePath()}r.setCurrentPoint(s,a)},closePath:function(){this.ctx.closePath()},stroke:function(e){e=void 0===e||e;var t=this.ctx,n=this.current.strokeColor;if(t.globalAlpha=this.current.strokeAlpha,n&&n.hasOwnProperty("type")&&"Pattern"===n.type){t.save();const e=t.mozCurrentTransform,r=i.Util.singularValueDecompose2dScale(e)[0];t.strokeStyle=n.getPattern(t,this),t.lineWidth=Math.max(this.getSinglePixelWidth()*a,this.current.lineWidth*r),t.stroke(),t.restore()}else t.lineWidth=Math.max(this.getSinglePixelWidth()*a,this.current.lineWidth),t.stroke();e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e=void 0===e||e;var t=this.ctx,n=this.current.fillColor,i=!1;this.current.patternFill&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=n.getPattern(t,this),i=!0),this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill(),i&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=v},eoClip:function(){this.pendingClip=x},beginText:function(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var n=0;n<e.length;n++){var i=e[n];t.setTransform.apply(t,i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix?n.fontMatrix:i.FONT_IDENTITY_MATRIX,0!==r.fontMatrix[0]&&0!==r.fontMatrix[3]||(0,i.warn)("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;var s=n.loadedName||"sans-serif";let a="normal";n.black?a="900":n.bold&&(a="bold");var o=n.italic?"italic":"normal",l=`"${s}", ${n.fallbackName}`;let c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font=`${o} ${a} ${c}px ${l}`},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,n,i,r,s){this.current.textMatrix=[e,t,n,i,r,s],this.current.textMatrixScale=Math.sqrt(e*e+t*t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar(e,t,n,r){var s=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,c=a.fontSize/a.fontSizeScale,h=l&i.TextRenderingMode.FILL_STROKE_MASK,d=!!(l&i.TextRenderingMode.ADD_TO_PATH_FLAG);const p=a.patternFill&&!o.missingFile;var u;(o.disableFontFace||d||p)&&(u=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||p?(s.save(),s.translate(t,n),s.beginPath(),u(s,c),r&&s.setTransform.apply(s,r),h!==i.TextRenderingMode.FILL&&h!==i.TextRenderingMode.FILL_STROKE||s.fill(),h!==i.TextRenderingMode.STROKE&&h!==i.TextRenderingMode.FILL_STROKE||s.stroke(),s.restore()):(h!==i.TextRenderingMode.FILL&&h!==i.TextRenderingMode.FILL_STROKE||s.fillText(e,t,n),h!==i.TextRenderingMode.STROKE&&h!==i.TextRenderingMode.FILL_STROKE||s.strokeText(e,t,n)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:s.mozCurrentTransform,x:t,y:n,fontSize:c,addToPath:u})},get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,n=!1,r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",n)},showText:function(e){var t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);var r=t.fontSize;if(0===r)return;var s=this.ctx,o=t.fontSizeScale,l=t.charSpacing,c=t.wordSpacing,h=t.fontDirection,d=t.textHScale*h,p=e.length,u=n.vertical,m=u?1:-1,f=n.defaultVMetrics,g=r*t.fontMatrix[0],b=t.textRenderingMode===i.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;let y;if(s.save(),t.patternFill){s.save();const e=t.fillColor.getPattern(s,this);y=s.mozCurrentTransform,s.restore(),s.fillStyle=e}s.transform.apply(s,t.textMatrix),s.translate(t.x,t.y+t.textRise),h>0?s.scale(d,-1):s.scale(d,1);var v=t.lineWidth,x=t.textMatrixScale;if(0===x||0===v){var w=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;w!==i.TextRenderingMode.STROKE&&w!==i.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,v=this.getSinglePixelWidth()*a)}else v/=x;1!==o&&(s.scale(o,o),v/=o),s.lineWidth=v;var O,S=0;for(O=0;O<p;++O){var k=e[O];if((0,i.isNum)(k))S+=m*k*r/1e3;else{var _,A,T,C,M,E,j,R=!1,P=(k.isSpace?c:0)+l,L=k.fontChar,I=k.accent,N=k.width;if(u?(M=k.vmetric||f,E=-(E=k.vmetric?M[1]:.5*N)*g,j=M[2]*g,N=M?-M[0]:N,_=E/o,A=(S+j)/o):(_=S/o,A=0),n.remeasure&&N>0){var D=1e3*s.measureText(L).width/r*o;if(N<D&&this.isFontSubpixelAAEnabled){var z=N/D;R=!0,s.save(),s.scale(z,1),_/=z}else N!==D&&(_+=(N-D)/2e3*r/o)}(k.isInFont||n.missingFile)&&(b&&!I?s.fillText(L,_,A):(this.paintChar(L,_,A,y),I&&(T=_+I.offset.x/o,C=A-I.offset.y/o,this.paintChar(I.fontChar,T,C,y)))),S+=u?N*g-P*h:N*g+P*h,R&&s.restore()}}u?t.y-=S:t.x+=S*d,s.restore()},showType3Text:function(e){var t,n,r,s,a=this.ctx,o=this.current,l=o.font,c=o.fontSize,h=o.fontDirection,d=l.vertical?1:-1,p=o.charSpacing,u=o.wordSpacing,m=o.textHScale*h,f=o.fontMatrix||i.FONT_IDENTITY_MATRIX,g=e.length;if(o.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==c){for(this._cachedGetSinglePixelWidth=null,a.save(),a.transform.apply(a,o.textMatrix),a.translate(o.x,o.y),a.scale(m,h),t=0;t<g;++t)if(n=e[t],(0,i.isNum)(n))s=d*n*c/1e3,this.ctx.translate(s,0),o.x+=s*m;else{var b=(n.isSpace?u:0)+p,y=l.charProcOperatorList[n.operatorListId];y?(this.processingType3=n,this.save(),a.scale(c,c),a.transform.apply(a,f),this.executeOperatorList(y),this.restore(),r=i.Util.applyTransform([n.width,0],f)[0]*c+b,a.translate(r,0),o.x+=r*m):(0,i.warn)(`Type3 character "${n.operatorListId}" is not available.`)}a.restore(),this.processingType3=null}},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,n,i,r,s){this.ctx.rect(n,i,r-n,s-i),this.clip(),this.endPath()},getColorN_Pattern:function(t){var n;if("TilingPattern"===t[0]){var i=t[1],s=this.baseTransform||this.ctx.mozCurrentTransform.slice(),a={createCanvasGraphics:t=>new e(t,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext)};n=new r.TilingPattern(t,i,this.ctx,a,s)}else n=(0,r.getShadingPatternFromIR)(t);return n},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,n){var r=i.Util.makeCssRgb(e,t,n);this.ctx.strokeStyle=r,this.current.strokeColor=r},setFillRGBColor:function(e,t,n){var r=i.Util.makeCssRgb(e,t,n);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1},shadingFill:function(e){var t=this.ctx;this.save();var n=(0,r.getShadingPatternFromIR)(e);t.fillStyle=n.getPattern(t,this,!0);var s=t.mozCurrentTransformInverse;if(s){var a=t.canvas,o=a.width,l=a.height,c=i.Util.applyTransform([0,0],s),h=i.Util.applyTransform([0,l],s),d=i.Util.applyTransform([o,0],s),p=i.Util.applyTransform([o,l],s),u=Math.min(c[0],h[0],d[0],p[0]),m=Math.min(c[1],h[1],d[1],p[1]),f=Math.max(c[0],h[0],d[0],p[0]),g=Math.max(c[1],h[1],d[1],p[1]);this.ctx.fillRect(u,m,f-u,g-m)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,i.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,i.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){if(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t){var n=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],n,i),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(e){this.save();var t=this.ctx;e.isolated||(0,i.info)("TODO: Support non-isolated groups."),e.knockout&&(0,i.warn)("Knockout groups not supported.");var n=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var r=i.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform),a=[0,0,t.canvas.width,t.canvas.height];r=i.Util.intersect(r,a)||[0,0,0,0];var o=Math.floor(r[0]),l=Math.floor(r[1]),c=Math.max(Math.ceil(r[2])-o,1),h=Math.max(Math.ceil(r[3])-l,1),p=1,u=1;c>s&&(p=c/s,c=s),h>s&&(u=h/s,h=s);var m="groupAt"+this.groupLevel;e.smask&&(m+="_smask_"+this.smaskCounter++%2);var f=this.cachedCanvases.getCanvas(m,c,h,!0),g=f.context;g.scale(1/p,1/u),g.translate(-o,-l),g.transform.apply(g,n),e.smask?this.smaskStack.push({canvas:f.canvas,context:g,offsetX:o,offsetY:l,scaleX:p,scaleY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,l),t.scale(p,u)),d(t,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null},endGroup:function(e){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,n){if(this.save(),p(this.ctx),this.current=new h,Array.isArray(e)&&4===e.length){var i=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],i,r),this.clip(),this.endPath()}this.transform.apply(this,t),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(e){var t=this.ctx,i=e.width,r=e.height,s=this.current.fillColor,a=this.current.patternFill,o=this.processingType3;if(o&&void 0===o.compiled&&(o.compiled=i<=1e3&&r<=1e3?function(e){var t,n,i,r,s=e.width,a=e.height,o=s+1,l=new Uint8Array(o*(a+1)),c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),h=s+7&-8,d=e.data,p=new Uint8Array(h*a),u=0;for(t=0,r=d.length;t<r;t++)for(var m=128,f=d[t];m>0;)p[u++]=f&m?0:255,m>>=1;var g=0;for(0!==p[u=0]&&(l[0]=1,++g),n=1;n<s;n++)p[u]!==p[u+1]&&(l[n]=p[u]?2:1,++g),u++;for(0!==p[u]&&(l[n]=2,++g),t=1;t<a;t++){i=t*o,p[(u=t*h)-h]!==p[u]&&(l[i]=p[u]?1:8,++g);var b=(p[u]?4:0)+(p[u-h]?8:0);for(n=1;n<s;n++)c[b=(b>>2)+(p[u+1]?4:0)+(p[u-h+1]?8:0)]&&(l[i+n]=c[b],++g),u++;if(p[u-h]!==p[u]&&(l[i+n]=p[u]?2:4,++g),g>1e3)return null}for(i=t*o,0!==p[u=h*(a-1)]&&(l[i]=8,++g),n=1;n<s;n++)p[u]!==p[u+1]&&(l[i+n]=p[u]?4:8,++g),u++;if(0!==p[u]&&(l[i+n]=4,++g),g>1e3)return null;var y=new Int32Array([0,o,-1,0,-o,0,0,0,1]),v=[];for(t=0;g&&t<=a;t++){for(var x=t*o,w=x+s;x<w&&!l[x];)x++;if(x!==w){var O,S=[x%o,t],k=l[x],_=x;do{var A=y[k];do{x+=A}while(!l[x]);5!==(O=l[x])&&10!==O?(k=O,l[x]=0):(k=O&51*k>>4,l[x]&=k>>2|k<<2),S.push(x%o),S.push(x/o|0),l[x]||--g}while(_!==x);v.push(S),--t}}return function(e){e.save(),e.scale(1/s,-1/a),e.translate(0,-a),e.beginPath();for(let n=0,i=v.length;n<i;n++){var t=v[n];e.moveTo(t[0],t[1]);for(let n=2,i=t.length;n<i;n+=2)e.lineTo(t[n],t[n+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:i,height:r}):null),o&&o.compiled)o.compiled(t);else{var l=this.cachedCanvases.getCanvas("maskCanvas",i,r),c=l.context;c.save(),n(c,e),c.globalCompositeOperation="source-in",c.fillStyle=a?s.getPattern(c,this):s,c.fillRect(0,0,i,r),c.restore(),this.paintInlineImageXObject(l.canvas)}},paintImageMaskXObjectRepeat:function(e,t,i,r){var s=e.width,a=e.height,o=this.current.fillColor,l=this.current.patternFill,c=this.cachedCanvases.getCanvas("maskCanvas",s,a),h=c.context;h.save(),n(h,e),h.globalCompositeOperation="source-in",h.fillStyle=l?o.getPattern(h,this):o,h.fillRect(0,0,s,a),h.restore();for(var d=this.ctx,p=0,u=r.length;p<u;p+=2)d.save(),d.transform(t,0,0,i,r[p],r[p+1]),d.scale(1,-1),d.drawImage(c.canvas,0,0,s,a,0,-1,1,1),d.restore()},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,i=this.current.fillColor,r=this.current.patternFill,s=0,a=e.length;s<a;s++){var o=e[s],l=o.width,c=o.height,h=this.cachedCanvases.getCanvas("maskCanvas",l,c),d=h.context;d.save(),n(d,o),d.globalCompositeOperation="source-in",d.fillStyle=r?i.getPattern(d,this):i,d.fillRect(0,0,l,c),d.restore(),t.save(),t.transform.apply(t,o.transform),t.scale(1,-1),t.drawImage(h.canvas,0,0,l,c,0,-1,1,1),t.restore()}},paintImageXObject:function(e){const t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,i.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(e,t,n,r){const s=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);if(s){for(var a=s.width,o=s.height,l=[],c=0,h=r.length;c<h;c+=2)l.push({transform:[t,0,0,n,r[c],r[c+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}else(0,i.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(e){var n=e.width,i=e.height,r=this.ctx;this.save(),r.scale(1/n,-1/i);var s,a,o=r.mozCurrentTransformInverse,l=o[0],c=o[1],h=Math.max(Math.sqrt(l*l+c*c),1),d=o[2],p=o[3],u=Math.max(Math.sqrt(d*d+p*p),1);if("function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)s=e;else{var m=(a=this.cachedCanvases.getCanvas("inlineImage",n,i)).context;t(m,e),s=a.canvas}for(var f=n,g=i,b="prescale1";h>2&&f>1||u>2&&g>1;){var y=f,v=g;h>2&&f>1&&(h/=f/(y=Math.ceil(f/2))),u>2&&g>1&&(u/=g/(v=Math.ceil(g/2))),(m=(a=this.cachedCanvases.getCanvas(b,y,v)).context).clearRect(0,0,y,v),m.drawImage(s,0,0,f,g,0,0,y,v),s=a.canvas,f=y,g=v,b="prescale1"===b?"prescale2":"prescale1"}if(r.drawImage(s,0,0,f,g,0,-i,n,i),this.imageLayer){var x=this.getCanvasPosition(0,-i);this.imageLayer.appendImage({imgData:e,left:x[0],top:x[1],width:n/o[0],height:i/o[3]})}this.restore()},paintInlineImageXObjectGroup:function(e,n){var i=this.ctx,r=e.width,s=e.height,a=this.cachedCanvases.getCanvas("inlineImage",r,s);t(a.context,e);for(var o=0,l=n.length;o<l;o++){var c=n[o];if(i.save(),i.transform.apply(i,c.transform),i.scale(1,-1),i.drawImage(a.canvas,c.x,c.y,c.w,c.h,0,-1,1,1),this.imageLayer){var h=this.getCanvasPosition(c.x,c.y);this.imageLayer.appendImage({imgData:e,left:h[0],top:h[1],width:r,height:s})}i.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,i.warn)("Unsupported 'paintXObject' command.")},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){},beginMarkedContentProps:function(e,t){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===x?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth(e){if(null===this._cachedGetSinglePixelWidth){const e=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1],e[2]*e[2]+e[3]*e[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var n=this.ctx.mozCurrentTransform;return[n[0]*e+n[2]*t+n[4],n[1]*e+n[3]*t+n[5]]}},i.OPS)e.prototype[i.OPS[w]]=e.prototype[w];return e}();t.CanvasGraphics=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPatternFromIR=function(e){var t=r[e[0]];if(!t)throw new Error(`Unknown IR type: ${e[0]}`);return t.fromIR(e)},t.TilingPattern=void 0;var i=n(2),r={};function s(e,t){if(!t||"undefined"==typeof Path2D)return;const n=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],n,i),e.clip(r)}r.RadialAxial={fromIR:function(e){var t=e[1],n=e[2],i=e[3],r=e[4],a=e[5],o=e[6],l=e[7];return{type:"Pattern",getPattern:function(e){var c;s(e,n),"axial"===t?c=e.createLinearGradient(r[0],r[1],a[0],a[1]):"radial"===t&&(c=e.createRadialGradient(r[0],r[1],o,a[0],a[1],l));for(var h=0,d=i.length;h<d;++h){var p=i[h];c.addColorStop(p[0],p[1])}return c}}}};var a=function(){function e(e,t,n,i,r,s,a,o){var l,c=t.coords,h=t.colors,d=e.data,p=4*e.width;c[n+1]>c[i+1]&&(l=n,n=i,i=l,l=s,s=a,a=l),c[i+1]>c[r+1]&&(l=i,i=r,r=l,l=a,a=o,o=l),c[n+1]>c[i+1]&&(l=n,n=i,i=l,l=s,s=a,a=l);var u=(c[n]+t.offsetX)*t.scaleX,m=(c[n+1]+t.offsetY)*t.scaleY,f=(c[i]+t.offsetX)*t.scaleX,g=(c[i+1]+t.offsetY)*t.scaleY,b=(c[r]+t.offsetX)*t.scaleX,y=(c[r+1]+t.offsetY)*t.scaleY;if(!(m>=y))for(var v,x,w,O,S,k,_,A,T=h[s],C=h[s+1],M=h[s+2],E=h[a],j=h[a+1],R=h[a+2],P=h[o],L=h[o+1],I=h[o+2],N=Math.round(m),D=Math.round(y),z=N;z<=D;z++){if(z<g){let e;e=z<m?0:m===g?1:(m-z)/(m-g),v=u-(u-f)*e,x=T-(T-E)*e,w=C-(C-j)*e,O=M-(M-R)*e}else{let e;e=z>y?1:g===y?0:(g-z)/(g-y),v=f-(f-b)*e,x=E-(E-P)*e,w=j-(j-L)*e,O=R-(R-I)*e}let e;e=z<m?0:z>y?1:(m-z)/(m-y),S=u-(u-b)*e,k=T-(T-P)*e,_=C-(C-L)*e,A=M-(M-I)*e;for(var F=Math.round(Math.min(v,S)),$=Math.round(Math.max(v,S)),B=p*z+4*F,Q=F;Q<=$;Q++)e=(v-Q)/(v-S),e<0?e=0:e>1&&(e=1),d[B++]=x-(x-k)*e|0,d[B++]=w-(w-_)*e|0,d[B++]=O-(O-A)*e|0,d[B++]=255}}function t(t,n,i){var r,s,a=n.coords,o=n.colors;switch(n.type){case"lattice":var l=n.verticesPerRow,c=Math.floor(a.length/l)-1,h=l-1;for(r=0;r<c;r++)for(var d=r*l,p=0;p<h;p++,d++)e(t,i,a[d],a[d+1],a[d+l],o[d],o[d+1],o[d+l]),e(t,i,a[d+l+1],a[d+1],a[d+l],o[d+l+1],o[d+1],o[d+l]);break;case"triangles":for(r=0,s=a.length;r<s;r+=3)e(t,i,a[r],a[r+1],a[r+2],o[r],o[r+1],o[r+2]);break;default:throw new Error("illegal figure")}}return function(e,n,i,r,s,a,o,l){var c,h,d,p,u=Math.floor(e[0]),m=Math.floor(e[1]),f=Math.ceil(e[2])-u,g=Math.ceil(e[3])-m,b=Math.min(Math.ceil(Math.abs(f*n[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(g*n[1]*1.1)),3e3),v=f/b,x=g/y,w={coords:i,colors:r,offsetX:-u,offsetY:-m,scaleX:1/v,scaleY:1/x},O=b+4,S=y+4;if(l.isEnabled)c=l.drawFigures({width:b,height:y,backgroundColor:a,figures:s,context:w}),(h=o.getCanvas("mesh",O,S,!1)).context.drawImage(c,2,2),c=h.canvas;else{var k=(h=o.getCanvas("mesh",O,S,!1)).context,_=k.createImageData(b,y);if(a){var A=_.data;for(d=0,p=A.length;d<p;d+=4)A[d]=a[0],A[d+1]=a[1],A[d+2]=a[2],A[d+3]=255}for(d=0;d<s.length;d++)t(_,s[d],w);k.putImageData(_,2,2),c=h.canvas}return{canvas:c,offsetX:u-2*v,offsetY:m-2*x,scaleX:v,scaleY:x}}}();r.Mesh={fromIR:function(e){var t=e[2],n=e[3],r=e[4],o=e[5],l=e[6],c=e[7],h=e[8];return{type:"Pattern",getPattern:function(e,d,p){var u;if(s(e,c),p)u=i.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(u=i.Util.singularValueDecompose2dScale(d.baseTransform),l){var m=i.Util.singularValueDecompose2dScale(l);u=[u[0]*m[0],u[1]*m[1]]}var f=a(o,u,t,n,r,p?null:h,d.cachedCanvases,d.webGLContext);return p||(e.setTransform.apply(e,d.baseTransform),l&&e.transform.apply(e,l)),e.translate(f.offsetX,f.offsetY),e.scale(f.scaleX,f.scaleY),e.createPattern(f.canvas,"no-repeat")}}}},r.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var o=function(){var e=1,t=2;function n(e,t,n,i,r){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=i,this.baseTransform=r,this.type="Pattern",this.ctx=n}return n.prototype={createPatternCanvas:function(e){var t=this.operatorList,n=this.bbox,r=this.xstep,s=this.ystep,a=this.paintType,o=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+o);var h=n[0],d=n[1],p=n[2],u=n[3],m=i.Util.singularValueDecompose2dScale(this.matrix),f=i.Util.singularValueDecompose2dScale(this.baseTransform),g=[m[0]*f[0],m[1]*f[1]],b=this.getSizeAndScale(r,this.ctx.canvas.width,g[0]),y=this.getSizeAndScale(s,this.ctx.canvas.height,g[1]),v=e.cachedCanvases.getCanvas("pattern",b.size,y.size,!0),x=v.context,w=c.createCanvasGraphics(x);return w.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(w,a,l),w.transform(b.scale,0,0,y.scale,0,0),w.transform(1,0,0,1,-h,-d),this.clipBbox(w,n,h,d,p,u),w.executeOperatorList(t),this.ctx.transform(1,0,0,1,h,d),this.ctx.scale(1/b.scale,1/y.scale),v.canvas},getSizeAndScale:function(e,t,n){e=Math.abs(e);var i=Math.max(3e3,t),r=Math.ceil(e*n);return r>=i?r=i:n=r/e,{scale:n,size:r}},clipBbox:function(e,t,n,i,r,s){if(Array.isArray(t)&&4===t.length){var a=r-n,o=s-i;e.ctx.rect(n,i,a,o),e.clip(),e.endPath()}},setFillAndStrokeStyleToContext:function(n,r,s){const a=n.ctx,o=n.current;switch(r){case e:var l=this.ctx;a.fillStyle=l.fillStyle,a.strokeStyle=l.strokeStyle,o.fillColor=l.fillStyle,o.strokeColor=l.strokeStyle;break;case t:var c=i.Util.makeCssRgb(s[0],s[1],s[2]);a.fillStyle=c,a.strokeStyle=c,o.fillColor=c,o.strokeColor=c;break;default:throw new i.FormatError(`Unsupported paint type: ${r}`)}},getPattern:function(e,t){(e=this.ctx).setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix);var n=this.createPatternCanvas(t);return e.createPattern(n,"repeat")}},n}();t.TilingPattern=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const i=Object.create(null);t.GlobalWorkerOptions=i,i.workerPort=void 0===i.workerPort?null:i.workerPort,i.workerSrc=void 0===i.workerSrc?"":i.workerSrc},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var i=n(2);const r=1,s=2,a=1,o=2,l=3,c=4,h=5,d=6,p=7,u=8;function m(e){if("object"!=typeof e||null===e)return e;switch(e.name){case"AbortException":return new i.AbortException(e.message);case"MissingPDFException":return new i.MissingPDFException(e.message);case"UnexpectedResponseException":return new i.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new i.UnknownErrorException(e.message,e.details);default:return new i.UnknownErrorException(e.message,e.toString())}}t.MessageHandler=class{constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void this._processStreamMessage(t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error(`Cannot resolve callback ${e}`);if(delete this.callbackCapabilities[e],t.callback===r)n.resolve(t.data);else{if(t.callback!==s)throw new Error("Unexpected callback case");n.reject(m(t.reason))}return}const i=this.actionHandler[t.action];if(!i)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const e=this.sourceName,a=t.sourceName;new Promise((function(e){e(i(t.data))})).then((function(i){n.postMessage({sourceName:e,targetName:a,callback:r,callbackId:t.callbackId,data:i})}),(function(i){n.postMessage({sourceName:e,targetName:a,callback:s,callbackId:t.callbackId,reason:m(i)})}))}else t.streamId?this._createStreamSink(t):i(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,s=(0,i.createPromiseCapability)();this.callbackCapabilities[r]=s;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(e){s.reject(e)}return s.promise}sendWithStream(e,t,n,r){const s=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:n=>{const a=(0,i.createPromiseCapability)();return this.streamControllers[s]={controller:n,startCall:a,pullCall:null,cancelCall:null,isClosed:!1},this._postMessage({sourceName:o,targetName:l,action:e,streamId:s,data:t,desiredSize:n.desiredSize},r),a.promise},pull:e=>{const t=(0,i.createPromiseCapability)();return this.streamControllers[s].pullCall=t,c.postMessage({sourceName:o,targetName:l,stream:d,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:e=>{(0,i.assert)(e instanceof Error,"cancel must have a valid reason");const t=(0,i.createPromiseCapability)();return this.streamControllers[s].cancelCall=t,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:a,streamId:s,reason:m(e)}),t.promise}},n)}_createStreamSink(e){const t=this,n=this.actionHandler[e.action],r=e.streamId,s=this.sourceName,a=e.sourceName,o=this.comObj,d={enqueue(e,n=1,o){if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=n,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),t._postMessage({sourceName:s,targetName:a,stream:c,streamId:r,chunk:e},o)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:a,stream:l,streamId:r}),delete t.streamSinks[r])},error(e){(0,i.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:a,stream:h,streamId:r,reason:m(e)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[r]=d,new Promise((function(t){t(n(e.data,d))})).then((function(){o.postMessage({sourceName:s,targetName:a,stream:u,streamId:r,success:!0})}),(function(e){o.postMessage({sourceName:s,targetName:a,stream:u,streamId:r,reason:m(e)})}))}_processStreamMessage(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj;switch(e.stream){case u:e.success?this.streamControllers[t].startCall.resolve():this.streamControllers[t].startCall.reject(m(e.reason));break;case p:e.success?this.streamControllers[t].pullCall.resolve():this.streamControllers[t].pullCall.reject(m(e.reason));break;case d:if(!this.streamSinks[t]){s.postMessage({sourceName:n,targetName:r,stream:p,streamId:t,success:!0});break}this.streamSinks[t].desiredSize<=0&&e.desiredSize>0&&this.streamSinks[t].sinkCapability.resolve(),this.streamSinks[t].desiredSize=e.desiredSize;const{onPull:f}=this.streamSinks[e.streamId];new Promise((function(e){e(f&&f())})).then((function(){s.postMessage({sourceName:n,targetName:r,stream:p,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:r,stream:p,streamId:t,reason:m(e)})}));break;case c:if((0,i.assert)(this.streamControllers[t],"enqueue should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].controller.enqueue(e.chunk);break;case l:if((0,i.assert)(this.streamControllers[t],"close should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].isClosed=!0,this.streamControllers[t].controller.close(),this._deleteStreamController(t);break;case h:(0,i.assert)(this.streamControllers[t],"error should have stream controller"),this.streamControllers[t].controller.error(m(e.reason)),this._deleteStreamController(t);break;case o:e.success?this.streamControllers[t].cancelCall.resolve():this.streamControllers[t].cancelCall.reject(m(e.reason)),this._deleteStreamController(t);break;case a:if(!this.streamSinks[t])break;const{onCancel:g}=this.streamSinks[e.streamId];new Promise((function(t){t(g&&g(m(e.reason)))})).then((function(){s.postMessage({sourceName:n,targetName:r,stream:o,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:r,stream:o,streamId:t,reason:m(e)})})),this.streamSinks[t].sinkCapability.reject(m(e.reason)),this.streamSinks[t].isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(e){await Promise.allSettled([this.streamControllers[e].startCall,this.streamControllers[e].pullCall,this.streamControllers[e].cancelCall].map((function(e){return e&&e.promise}))),delete this.streamControllers[e]}_postMessage(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var i=n(2),r=n(13);t.Metadata=class{constructor(e){(0,i.assert)("string"==typeof e,"Metadata: input is not a string"),e=this._repair(e);const t=(new r.SimpleXMLParser).parseFromString(e);this._metadataMap=new Map,t&&this._parse(t)}_repair(e){return e.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,(function(e,t){const n=t.replace(/\\([0-3])([0-7])([0-7])/g,(function(e,t,n,i){return String.fromCharCode(64*t+8*n+1*i)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(e,t){switch(t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${t} isn't defined.`)}));let i="";for(let e=0,t=n.length;e<t;e+=2){const t=256*n.charCodeAt(e)+n.charCodeAt(e+1);i+=t>=32&&t<127&&60!==t&&62!==t&&38!==t?String.fromCharCode(t):"&#x"+(65536+t).toString(16).substring(1)+";"}return">"+i}))}_parse(e){let t=e.documentElement;if("rdf:rdf"!==t.nodeName.toLowerCase())for(t=t.firstChild;t&&"rdf:rdf"!==t.nodeName.toLowerCase();)t=t.nextSibling;const n=t?t.nodeName.toLowerCase():null;if(!t||"rdf:rdf"!==n||!t.hasChildNodes())return;const i=t.childNodes;for(let e=0,t=i.length;e<t;e++){const t=i[e];if("rdf:description"===t.nodeName.toLowerCase())for(let e=0,n=t.childNodes.length;e<n;e++)if("#text"!==t.childNodes[e].nodeName.toLowerCase()){const n=t.childNodes[e],i=n.nodeName.toLowerCase();this._metadataMap.set(i,n.textContent.trim())}}}get(e){return this._metadataMap.has(e)?this._metadataMap.get(e):null}getAll(){const e=Object.create(null);for(const[t,n]of this._metadataMap)e[t]=n;return e}has(e){return this._metadataMap.has(e)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleXMLParser=void 0;const i=0,r=-2,s=-3,a=-4,o=-5,l=-6,c=-9;function h(e,t){const n=e[t];return" "===n||"\n"===n||"\r"===n||"\t"===n}class d{constructor(e,t){this.nodeName=e,this.nodeValue=t,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const e=this.parentNode.childNodes;if(!e)return;const t=e.indexOf(this);return-1!==t?e[t+1]:void 0}get textContent(){return this.childNodes?this.childNodes.map((function(e){return e.textContent})).join(""):this.nodeValue||""}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}}t.SimpleXMLParser=class extends class{_resolveEntities(e){return e.replace(/&([^;]+);/g,((e,t)=>{if("#x"===t.substring(0,2))return String.fromCharCode(parseInt(t.substring(2),16));if("#"===t.substring(0,1))return String.fromCharCode(parseInt(t.substring(1),10));switch(t){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return this.onResolveEntity(t)}))}_parseContent(e,t){const n=[];let i=t;function r(){for(;i<e.length&&h(e,i);)++i}for(;i<e.length&&!h(e,i)&&">"!==e[i]&&"/"!==e[i];)++i;const s=e.substring(t,i);for(r();i<e.length&&">"!==e[i]&&"/"!==e[i]&&"?"!==e[i];){r();let t="",s="";for(;i<e.length&&!h(e,i)&&"="!==e[i];)t+=e[i],++i;if(r(),"="!==e[i])return null;++i,r();const a=e[i];if('"'!==a&&"'"!==a)return null;const o=e.indexOf(a,++i);if(o<0)return null;s=e.substring(i,o),n.push({name:t,value:this._resolveEntities(s)}),i=o+1,r()}return{name:s,attributes:n,parsed:i-t}}_parseProcessingInstruction(e,t){let n=t;for(;n<e.length&&!h(e,n)&&">"!==e[n]&&"/"!==e[n];)++n;const i=e.substring(t,n);!function(){for(;n<e.length&&h(e,n);)++n}();const r=n;for(;n<e.length&&("?"!==e[n]||">"!==e[n+1]);)++n;return{name:i,value:e.substring(r,n),parsed:n-t}}parseXml(e){let t=0;for(;t<e.length;){let n=t;if("<"===e[t]){let t;switch(++n,e[n]){case"/":if(++n,t=e.indexOf(">",n),t<0)return void this.onError(c);this.onEndElement(e.substring(n,t)),n=t+1;break;case"?":++n;const i=this._parseProcessingInstruction(e,n);if("?>"!==e.substring(n+i.parsed,n+i.parsed+2))return void this.onError(s);this.onPi(i.name,i.value),n+=i.parsed+2;break;case"!":if("--"===e.substring(n+1,n+3)){if(t=e.indexOf("--\x3e",n+3),t<0)return void this.onError(o);this.onComment(e.substring(n+3,t)),n=t+3}else if("[CDATA["===e.substring(n+1,n+8)){if(t=e.indexOf("]]>",n+8),t<0)return void this.onError(r);this.onCdata(e.substring(n+8,t)),n=t+3}else{if("DOCTYPE"!==e.substring(n+1,n+8))return void this.onError(l);{const i=e.indexOf("[",n+8);let r=!1;if(t=e.indexOf(">",n+8),t<0)return void this.onError(a);if(i>0&&t>i){if(t=e.indexOf("]>",n+8),t<0)return void this.onError(a);r=!0}const s=e.substring(n+8,t+(r?1:0));this.onDoctype(s),n=t+(r?2:1)}}break;default:const h=this._parseContent(e,n);if(null===h)return void this.onError(l);let d=!1;if("/>"===e.substring(n+h.parsed,n+h.parsed+2))d=!0;else if(">"!==e.substring(n+h.parsed,n+h.parsed+1))return void this.onError(c);this.onBeginElement(h.name,h.attributes,d),n+=h.parsed+(d?2:1)}}else{for(;n<e.length&&"<"!==e[n];)n++;const i=e.substring(t,n);this.onText(this._resolveEntities(i))}t=n}}onResolveEntity(e){return`&${e};`}onPi(e,t){}onComment(e){}onCdata(e){}onDoctype(e){}onText(e){}onBeginElement(e,t,n){}onEndElement(e){}onError(e){}}{constructor(){super(),this._currentFragment=null,this._stack=null,this._errorCode=i}parseFromString(e){if(this._currentFragment=[],this._stack=[],this._errorCode=i,this.parseXml(e),this._errorCode!==i)return;const[t]=this._currentFragment;return t?{documentElement:t}:void 0}onResolveEntity(e){return"apos"===e?"'":super.onResolveEntity(e)}onText(e){if(function(e){for(let t=0,n=e.length;t<n;t++)if(!h(e,t))return!1;return!0}(e))return;const t=new d("#text",e);this._currentFragment.push(t)}onCdata(e){const t=new d("#text",e);this._currentFragment.push(t)}onBeginElement(e,t,n){const i=new d(e);i.childNodes=[],this._currentFragment.push(i),n||(this._stack.push(this._currentFragment),this._currentFragment=i.childNodes)}onEndElement(e){this._currentFragment=this._stack.pop()||[];const t=this._currentFragment[this._currentFragment.length-1];if(t)for(let e=0,n=t.childNodes.length;e<n;e++)t.childNodes[e].parentNode=t}onError(e){this._errorCode=e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var i=n(2);t.PDFDataTransportStream=class{constructor(e,t){(0,i.assert)(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1;const n=e.initialData;if(n&&n.length>0){const e=new Uint8Array(n).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){const t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{const n=this._rangeReaders.some((function(n){return n._begin===e.begin&&(n._enqueue(t),!0)}));(0,i.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}_onProgress(e){if(void 0===e.total){const t=this._rangeReaders[0];t&&t.onProgress&&t.onProgress({loaded:e.loaded})}else{const t=this._fullRequestReader;t&&t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new r(this,e,this._progressiveDone)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new s(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeReaders.slice(0).forEach((function(t){t.cancel(e)})),this._pdfDataRangeTransport.abort()}};class r{constructor(e,t,n=!1){this._stream=e,this._done=n||!1,this._filename=null,this._queuedChunks=t||[],this._loaded=0;for(const e of this._queuedChunks)this._loaded+=e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,i.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]}progressiveDone(){this._done||(this._done=!0)}}class s{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){this._done||(0===this._requests.length?this._queuedChunk=e:(this._requests.shift().resolve({value:e,done:!1}),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,i.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._stream._removeRangeReader(this)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var i=n(2);t.WebGLContext=class{constructor({enable:e=!1}){this._enabled=!0===e}get isEnabled(){let e=this._enabled;return e&&(e=r.tryInitGL()),(0,i.shadow)(this,"isEnabled",e)}composeSMask({layer:e,mask:t,properties:n}){return r.composeSMask(e,t,n)}drawFigures({width:e,height:t,backgroundColor:n,figures:i,context:s}){return r.drawFigures(e,t,n,i,s)}clear(){r.cleanup()}};var r=function(){function e(e,t,n){var i=e.createShader(n);if(e.shaderSource(i,t),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){var r=e.getShaderInfoLog(i);throw new Error("Error during shader compilation: "+r)}return i}function t(t,n){return e(t,n,t.VERTEX_SHADER)}function n(t,n){return e(t,n,t.FRAGMENT_SHADER)}function i(e,t){for(var n=e.createProgram(),i=0,r=t.length;i<r;++i)e.attachShader(n,t[i]);if(e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){var s=e.getProgramInfoLog(n);throw new Error("Error during program linking: "+s)}return n}function r(e,t,n){e.activeTexture(n);var i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),i}var s,a;function o(){s||(a=document.createElement("canvas"),s=a.getContext("webgl",{premultipliedalpha:!1}))}var l=null,c=null;return{tryInitGL(){try{return o(),!!s}catch(e){}return!1},composeSMask:function(e,c,h){var d=e.width,p=e.height;l||function(){var e,r;o(),e=a,a=null,r=s,s=null;var c=i(r,[t(r,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),n(r,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);r.useProgram(c);var h={};h.gl=r,h.canvas=e,h.resolutionLocation=r.getUniformLocation(c,"u_resolution"),h.positionLocation=r.getAttribLocation(c,"a_position"),h.backdropLocation=r.getUniformLocation(c,"u_backdrop"),h.subtypeLocation=r.getUniformLocation(c,"u_subtype");var d=r.getAttribLocation(c,"a_texCoord"),p=r.getUniformLocation(c,"u_image"),u=r.getUniformLocation(c,"u_mask"),m=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,m),r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),r.STATIC_DRAW),r.enableVertexAttribArray(d),r.vertexAttribPointer(d,2,r.FLOAT,!1,0,0),r.uniform1i(p,0),r.uniform1i(u,1),l=h}();var u=l,m=u.canvas,f=u.gl;m.width=d,m.height=p,f.viewport(0,0,f.drawingBufferWidth,f.drawingBufferHeight),f.uniform2f(u.resolutionLocation,d,p),h.backdrop?f.uniform4f(u.resolutionLocation,h.backdrop[0],h.backdrop[1],h.backdrop[2],1):f.uniform4f(u.resolutionLocation,0,0,0,0),f.uniform1i(u.subtypeLocation,"Luminosity"===h.subtype?1:0);var g=r(f,e,f.TEXTURE0),b=r(f,c,f.TEXTURE1),y=f.createBuffer();return f.bindBuffer(f.ARRAY_BUFFER,y),f.bufferData(f.ARRAY_BUFFER,new Float32Array([0,0,d,0,0,p,0,p,d,0,d,p]),f.STATIC_DRAW),f.enableVertexAttribArray(u.positionLocation),f.vertexAttribPointer(u.positionLocation,2,f.FLOAT,!1,0,0),f.clearColor(0,0,0,0),f.enable(f.BLEND),f.blendFunc(f.ONE,f.ONE_MINUS_SRC_ALPHA),f.clear(f.COLOR_BUFFER_BIT),f.drawArrays(f.TRIANGLES,0,6),f.flush(),f.deleteTexture(g),f.deleteTexture(b),f.deleteBuffer(y),m},drawFigures:function(e,r,l,h,d){c||function(){var e,r;o(),e=a,a=null,r=s,s=null;var l=i(r,[t(r,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),n(r,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);r.useProgram(l);var h={};h.gl=r,h.canvas=e,h.resolutionLocation=r.getUniformLocation(l,"u_resolution"),h.scaleLocation=r.getUniformLocation(l,"u_scale"),h.offsetLocation=r.getUniformLocation(l,"u_offset"),h.positionLocation=r.getAttribLocation(l,"a_position"),h.colorLocation=r.getAttribLocation(l,"a_color"),c=h}();var p=c,u=p.canvas,m=p.gl;u.width=e,u.height=r,m.viewport(0,0,m.drawingBufferWidth,m.drawingBufferHeight),m.uniform2f(p.resolutionLocation,e,r);var f,g,b,y=0;for(f=0,g=h.length;f<g;f++)switch(h[f].type){case"lattice":y+=((b=h[f].coords.length/h[f].verticesPerRow|0)-1)*(h[f].verticesPerRow-1)*6;break;case"triangles":y+=h[f].coords.length}var v=new Float32Array(2*y),x=new Uint8Array(3*y),w=d.coords,O=d.colors,S=0,k=0;for(f=0,g=h.length;f<g;f++){var _=h[f],A=_.coords,T=_.colors;switch(_.type){case"lattice":var C=_.verticesPerRow;b=A.length/C|0;for(var M=1;M<b;M++)for(var E=M*C+1,j=1;j<C;j++,E++)v[S]=w[A[E-C-1]],v[S+1]=w[A[E-C-1]+1],v[S+2]=w[A[E-C]],v[S+3]=w[A[E-C]+1],v[S+4]=w[A[E-1]],v[S+5]=w[A[E-1]+1],x[k]=O[T[E-C-1]],x[k+1]=O[T[E-C-1]+1],x[k+2]=O[T[E-C-1]+2],x[k+3]=O[T[E-C]],x[k+4]=O[T[E-C]+1],x[k+5]=O[T[E-C]+2],x[k+6]=O[T[E-1]],x[k+7]=O[T[E-1]+1],x[k+8]=O[T[E-1]+2],v[S+6]=v[S+2],v[S+7]=v[S+3],v[S+8]=v[S+4],v[S+9]=v[S+5],v[S+10]=w[A[E]],v[S+11]=w[A[E]+1],x[k+9]=x[k+3],x[k+10]=x[k+4],x[k+11]=x[k+5],x[k+12]=x[k+6],x[k+13]=x[k+7],x[k+14]=x[k+8],x[k+15]=O[T[E]],x[k+16]=O[T[E]+1],x[k+17]=O[T[E]+2],S+=12,k+=18;break;case"triangles":for(var R=0,P=A.length;R<P;R++)v[S]=w[A[R]],v[S+1]=w[A[R]+1],x[k]=O[T[R]],x[k+1]=O[T[R]+1],x[k+2]=O[T[R]+2],S+=2,k+=3}}l?m.clearColor(l[0]/255,l[1]/255,l[2]/255,1):m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT);var L=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,L),m.bufferData(m.ARRAY_BUFFER,v,m.STATIC_DRAW),m.enableVertexAttribArray(p.positionLocation),m.vertexAttribPointer(p.positionLocation,2,m.FLOAT,!1,0,0);var I=m.createBuffer();return m.bindBuffer(m.ARRAY_BUFFER,I),m.bufferData(m.ARRAY_BUFFER,x,m.STATIC_DRAW),m.enableVertexAttribArray(p.colorLocation),m.vertexAttribPointer(p.colorLocation,3,m.UNSIGNED_BYTE,!1,0,0),m.uniform2f(p.scaleLocation,d.scaleX,d.scaleY),m.uniform2f(p.offsetLocation,d.offsetX,d.offsetY),m.drawArrays(m.TRIANGLES,0,y),m.flush(),m.deleteBuffer(L),m.deleteBuffer(I),u},cleanup(){l&&l.canvas&&(l.canvas.width=0,l.canvas.height=0),c&&c.canvas&&(c.canvas.width=0,c.canvas.height=0),l=null,c=null}}}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var i=n(1),r=n(2);class s{static create(e){switch(e.data.annotationType){case r.AnnotationType.LINK:return new o(e);case r.AnnotationType.TEXT:return new l(e);case r.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new h(e);case"Btn":return e.data.radioButton?new p(e):e.data.checkBox?new d(e):new u(e);case"Ch":return new m(e)}return new c(e);case r.AnnotationType.POPUP:return new f(e);case r.AnnotationType.FREETEXT:return new b(e);case r.AnnotationType.LINE:return new y(e);case r.AnnotationType.SQUARE:return new v(e);case r.AnnotationType.CIRCLE:return new x(e);case r.AnnotationType.POLYLINE:return new w(e);case r.AnnotationType.CARET:return new S(e);case r.AnnotationType.INK:return new k(e);case r.AnnotationType.POLYGON:return new O(e);case r.AnnotationType.HIGHLIGHT:return new _(e);case r.AnnotationType.UNDERLINE:return new A(e);case r.AnnotationType.SQUIGGLY:return new T(e);case r.AnnotationType.STRIKEOUT:return new C(e);case r.AnnotationType.STAMP:return new M(e);case r.AnnotationType.FILEATTACHMENT:return new E(e);default:return new a(e)}}}class a{constructor(e,t=!1,n=!1){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderInteractiveForms=e.renderInteractiveForms,this.svgFactory=e.svgFactory,t&&(this.container=this._createContainer(n))}_createContainer(e=!1){const t=this.data,n=this.page,i=this.viewport,s=document.createElement("section");let a=t.rect[2]-t.rect[0],o=t.rect[3]-t.rect[1];s.setAttribute("data-annotation-id",t.id);const l=r.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(s.style.transform=`matrix(${i.transform.join(",")})`,s.style.transformOrigin=`-${l[0]}px -${l[1]}px`,!e&&t.borderStyle.width>0){s.style.borderWidth=`${t.borderStyle.width}px`,t.borderStyle.style!==r.AnnotationBorderStyleType.UNDERLINE&&(a-=2*t.borderStyle.width,o-=2*t.borderStyle.width);const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`${e}px / ${n}px`;s.style.borderRadius=t}switch(t.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:s.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:s.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:s.style.borderBottomStyle="solid"}t.color?s.style.borderColor=r.Util.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):s.style.borderWidth=0}return s.style.left=`${l[0]}px`,s.style.top=`${l[1]}px`,s.style.width=`${a}px`,s.style.height=`${o}px`,s}_createPopup(e,t,n){t||((t=document.createElement("div")).style.height=e.style.height,t.style.width=e.style.width,e.appendChild(t));const i=new g({container:e,trigger:t,color:n.color,title:n.title,modificationDate:n.modificationDate,contents:n.contents,hideWrapper:!0}).render();i.style.left=e.style.width,e.appendChild(i)}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}}class o extends a{constructor(e){super(e,!!(e.data.url||e.data.dest||e.data.action))}render(){this.container.className="linkAnnotation";const{data:e,linkService:t}=this,n=document.createElement("a");return e.url?(0,i.addLinkAttributes)(n,{url:e.url,target:e.newWindow?i.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel,enabled:t.externalLinkEnabled}):e.action?this._bindNamedAction(n,e.action):this._bindLink(n,e.dest),this.container.appendChild(n),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.navigateTo(t),!1),t&&(e.className="internalLink")}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),e.className="internalLink"}}class l extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents))}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}}class c extends a{render(){return this.container}}class h extends c{constructor(e){super(e,e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue)}render(){const e=["left","center","right"];this.container.className="textWidgetAnnotation";let t=null;if(this.renderInteractiveForms){if(this.data.multiLine?(t=document.createElement("textarea"),t.textContent=this.data.fieldValue):(t=document.createElement("input"),t.type="text",t.setAttribute("value",this.data.fieldValue)),t.disabled=this.data.readOnly,t.name=this.data.fieldName,null!==this.data.maxLen&&(t.maxLength=this.data.maxLen),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;t.classList.add("comb"),t.style.letterSpacing=`calc(${e}px - 1ch)`}}else{t=document.createElement("div"),t.textContent=this.data.fieldValue,t.style.verticalAlign="middle",t.style.display="table-cell";let e=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(e=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(t,e)}return null!==this.data.textAlignment&&(t.style.textAlign=e[this.data.textAlignment]),this.container.appendChild(t),this.container}_setTextStyle(e,t){const n=e.style;if(n.fontSize=`${this.data.fontSize}px`,n.direction=this.data.fontDirection<0?"rtl":"ltr",!t)return;let i="normal";t.black?i="900":t.bold&&(i="bold"),n.fontWeight=i,n.fontStyle=t.italic?"italic":"normal";const r=t.loadedName?`"${t.loadedName}", `:"",s=t.fallbackName||"Helvetica, sans-serif";n.fontFamily=r+s}}class d extends c{constructor(e){super(e,e.renderInteractiveForms)}render(){this.container.className="buttonWidgetAnnotation checkBox";const e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="checkbox",e.name=this.data.fieldName,this.data.fieldValue&&"Off"!==this.data.fieldValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}class p extends c{constructor(e){super(e,e.renderInteractiveForms)}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="radio",e.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}class u extends o{render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",e}}class m extends c{constructor(e){super(e,e.renderInteractiveForms)}render(){this.container.className="choiceWidgetAnnotation";const e=document.createElement("select");e.disabled=this.data.readOnly,e.name=this.data.fieldName,this.data.combo||(e.size=this.data.options.length,this.data.multiSelect&&(e.multiple=!0));for(const t of this.data.options){const n=document.createElement("option");n.textContent=t.displayValue,n.value=t.exportValue,this.data.fieldValue.includes(t.displayValue)&&n.setAttribute("selected",!0),e.appendChild(n)}return this.container.appendChild(e),this.container}}class f extends a{constructor(e){super(e,!(!e.data.title&&!e.data.contents))}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const e=`[data-annotation-id="${this.data.parentId}"]`,t=this.layer.querySelector(e);if(!t)return this.container;const n=new g({container:this.container,trigger:t,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),i=parseFloat(t.style.left),r=parseFloat(t.style.width);return this.container.style.transformOrigin=`-${i+r}px -${t.style.top}`,this.container.style.left=`${i+r}px`,this.container.appendChild(n.render()),this.container}}class g{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.title=e.title,this.modificationDate=e.modificationDate,this.contents=e.contents,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.setAttribute("hidden",!0);const t=document.createElement("div");t.className="popup";const n=this.color;if(n){const e=.7*(255-n[0])+n[0],i=.7*(255-n[1])+n[1],s=.7*(255-n[2])+n[2];t.style.backgroundColor=r.Util.makeCssRgb(0|e,0|i,0|s)}const s=document.createElement("h1");s.textContent=this.title,t.appendChild(s);const a=i.PDFDateString.toDateObject(this.modificationDate);if(a){const e=document.createElement("span");e.textContent="{{date}}, {{time}}",e.dataset.l10nId="annotation_date_string",e.dataset.l10nArgs=JSON.stringify({date:a.toLocaleDateString(),time:a.toLocaleTimeString()}),t.appendChild(e)}const o=this._formatContents(this.contents);return t.appendChild(o),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),t.addEventListener("click",this._hide.bind(this,!0)),e.appendChild(t),e}_formatContents(e){const t=document.createElement("p"),n=e.split(/(?:\r\n?|\n)/);for(let e=0,i=n.length;e<i;++e){const r=n[e];t.appendChild(document.createTextNode(r)),e<i-1&&t.appendChild(document.createElement("br"))}return t}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}class b extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class y extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){this.container.className="lineAnnotation";const e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],i=this.svgFactory.create(t,n),r=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),i.appendChild(r),this.container.append(i),this._createPopup(this.container,r,e),this.container}}class v extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){this.container.className="squareAnnotation";const e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],i=this.svgFactory.create(t,n),r=e.borderStyle.width,s=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",r/2),s.setAttribute("y",r/2),s.setAttribute("width",t-r),s.setAttribute("height",n-r),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","none"),i.appendChild(s),this.container.append(i),this._createPopup(this.container,s,e),this.container}}class x extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){this.container.className="circleAnnotation";const e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],i=this.svgFactory.create(t,n),r=e.borderStyle.width,s=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",t/2),s.setAttribute("cy",n/2),s.setAttribute("rx",t/2-r/2),s.setAttribute("ry",n/2-r/2),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","none"),i.appendChild(s),this.container.append(i),this._createPopup(this.container,s,e),this.container}}class w extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],i=this.svgFactory.create(t,n);let r=[];for(const t of e.vertices){const n=t.x-e.rect[0],i=e.rect[3]-t.y;r.push(n+","+i)}r=r.join(" ");const s=this.svgFactory.createElement(this.svgElementName);return s.setAttribute("points",r),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","none"),i.appendChild(s),this.container.append(i),this._createPopup(this.container,s,e),this.container}}class O extends w{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class S extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class k extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],i=this.svgFactory.create(t,n);for(const t of e.inkLists){let n=[];for(const i of t){const t=i.x-e.rect[0],r=e.rect[3]-i.y;n.push(`${t},${r}`)}n=n.join(" ");const r=this.svgFactory.createElement(this.svgElementName);r.setAttribute("points",n),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","none"),this._createPopup(this.container,r,e),i.appendChild(r)}return this.container.append(i),this.container}}class _ extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class A extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class T extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class C extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class M extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class E extends a{constructor(e){super(e,!0);const{filename:t,content:n}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(t),this.content=n,this.linkService.eventBus&&this.linkService.eventBus.dispatch("fileattachmentannotation",{source:this,id:(0,r.stringToPDFString)(t),filename:t,content:n})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,r.warn)("Download cannot be started due to unavailable download manager")}}t.AnnotationLayer=class{static render(e){const t=[],n=[];for(const i of e.annotations)i&&(i.annotationType!==r.AnnotationType.POPUP?t.push(i):n.push(i));n.length&&t.push(...n);for(const n of t){const t=s.create({data:n,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderInteractiveForms:e.renderInteractiveForms||!1,svgFactory:new i.DOMSVGFactory});t.isRenderable&&e.div.appendChild(t.render())}}static update(e){for(const t of e.annotations){const n=e.div.querySelector(`[data-annotation-id="${t.id}"]`);n&&(n.style.transform=`matrix(${e.viewport.transform.join(",")})`)}e.div.removeAttribute("hidden")}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var i=n(2),r=function(){var e=/\S/;function t(t,n,r){var s,a=document.createElement("span"),o={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(t._textDivs.push(a),s=n.str,!e.test(s))return o.isWhitespace=!0,void t._textDivProperties.set(a,o);var l=i.Util.transform(t._viewport.transform,n.transform),c=Math.atan2(l[1],l[0]),h=r[n.fontName];h.vertical&&(c+=Math.PI/2);var d=Math.sqrt(l[2]*l[2]+l[3]*l[3]),p=d;let u,m;h.ascent?p=h.ascent*p:h.descent&&(p=(1+h.descent)*p),0===c?(u=l[4],m=l[5]-p):(u=l[4]+p*Math.sin(c),m=l[5]-p*Math.cos(c)),a.style.left=`${u}px`,a.style.top=`${m}px`,a.style.fontSize=`${d}px`,a.style.fontFamily=h.fontFamily,a.textContent=n.str,t._fontInspectorEnabled&&(a.dataset.fontName=n.fontName),0!==c&&(o.angle=c*(180/Math.PI));let f=!1;if(n.str.length>1)f=!0;else if(n.transform[0]!==n.transform[3]){const e=Math.abs(n.transform[0]),t=Math.abs(n.transform[3]);e!==t&&Math.max(e,t)/Math.min(e,t)>1.5&&(f=!0)}if(f&&(h.vertical?o.canvasWidth=n.height*t._viewport.scale:o.canvasWidth=n.width*t._viewport.scale),t._textDivProperties.set(a,o),t._textContentStream&&t._layoutText(a),t._enhanceTextSelection){var g=1,b=0;0!==c&&(g=Math.cos(c),b=Math.sin(c));var y,v,x=(h.vertical?n.height:n.width)*t._viewport.scale,w=d;0!==c?(y=[g,b,-b,g,u,m],v=i.Util.getAxialAlignedBoundingBox([0,0,x,w],y)):v=[u,m,u+x,m+w],t._bounds.push({left:v[0],top:v[1],right:v[2],bottom:v[3],div:a,size:[x,w],m:y})}}function n(e){if(!e._canceled){var t=e._textDivs,n=e._capability,i=t.length;if(i>1e5)return e._renderingDone=!0,void n.resolve();if(!e._textContentStream)for(var r=0;r<i;r++)e._layoutText(t[r]);e._renderingDone=!0,n.resolve()}}function r(e,t,n){let i=0;for(let r=0;r<n;r++){const n=e[t++];n>0&&(i=i?Math.min(n,i):n)}return i}function s(e){for(var t=e._bounds,n=e._viewport,s=function(e,t,n){var i=n.map((function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}));a(e,i);var r=new Array(n.length);return i.forEach((function(e){var t=e.index;r[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}})),n.map((function(t,n){var s=r[n],a=i[n];a.x1=t.top,a.y1=e-s.right,a.x2=t.bottom,a.y2=e-s.left,a.index=n,a.x1New=void 0,a.x2New=void 0})),a(t,i),i.forEach((function(e){var t=e.index;r[t].top=e.x1New,r[t].bottom=e.x2New})),r}(n.width,n.height,t),o=0;o<s.length;o++){var l=t[o].div,c=e._textDivProperties.get(l);if(0!==c.angle){var h=s[o],d=t[o],p=d.m,u=p[0],m=p[1],f=[[0,0],[0,d.size[1]],[d.size[0],0],d.size],g=new Float64Array(64);f.forEach((function(e,t){var n=i.Util.applyTransform(e,p);g[t+0]=u&&(h.left-n[0])/u,g[t+4]=m&&(h.top-n[1])/m,g[t+8]=u&&(h.right-n[0])/u,g[t+12]=m&&(h.bottom-n[1])/m,g[t+16]=m&&(h.left-n[0])/-m,g[t+20]=u&&(h.top-n[1])/u,g[t+24]=m&&(h.right-n[0])/-m,g[t+28]=u&&(h.bottom-n[1])/u,g[t+32]=u&&(h.left-n[0])/-u,g[t+36]=m&&(h.top-n[1])/-m,g[t+40]=u&&(h.right-n[0])/-u,g[t+44]=m&&(h.bottom-n[1])/-m,g[t+48]=m&&(h.left-n[0])/m,g[t+52]=u&&(h.top-n[1])/-u,g[t+56]=m&&(h.right-n[0])/m,g[t+60]=u&&(h.bottom-n[1])/-u}));var b=1+Math.min(Math.abs(u),Math.abs(m));c.paddingLeft=r(g,32,16)/b,c.paddingTop=r(g,48,16)/b,c.paddingRight=r(g,0,16)/b,c.paddingBottom=r(g,16,16)/b,e._textDivProperties.set(l,c)}else c.paddingLeft=t[o].left-s[o].left,c.paddingTop=t[o].top-s[o].top,c.paddingRight=s[o].right-t[o].right,c.paddingBottom=s[o].bottom-t[o].bottom,e._textDivProperties.set(l,c)}}function a(e,t){t.sort((function(e,t){return e.x1-t.x1||e.index-t.index}));var n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];t.forEach((function(e){for(var t=0;t<n.length&&n[t].end<=e.y1;)t++;for(var i,r,s=n.length-1;s>=0&&n[s].start>=e.y2;)s--;var a,o,l=-1/0;for(a=t;a<=s;a++){var c;(c=(r=(i=n[a]).boundary).x2>e.x1?r.index>e.index?r.x1New:e.x1:void 0===r.x2New?(r.x2+e.x1)/2:r.x2New)>l&&(l=c)}for(e.x1New=l,a=t;a<=s;a++)void 0===(r=(i=n[a]).boundary).x2New?r.x2>e.x1?r.index>e.index&&(r.x2New=r.x2):r.x2New=l:r.x2New>l&&(r.x2New=Math.max(l,r.x2));var h=[],d=null;for(a=t;a<=s;a++){var p=(r=(i=n[a]).boundary).x2>e.x2?r:e;d===p?h[h.length-1].end=i.end:(h.push({start:i.start,end:i.end,boundary:p}),d=p)}for(n[t].start<e.y1&&(h[0].start=e.y1,h.unshift({start:n[t].start,end:e.y1,boundary:n[t].boundary})),e.y2<n[s].end&&(h[h.length-1].end=e.y2,h.push({start:e.y2,end:n[s].end,boundary:n[s].boundary})),a=t;a<=s;a++)if(void 0===(r=(i=n[a]).boundary).x2New){var u=!1;for(o=t-1;!u&&o>=0&&n[o].start>=r.y1;o--)u=n[o].boundary===r;for(o=s+1;!u&&o<n.length&&n[o].end<=r.y2;o++)u=n[o].boundary===r;for(o=0;!u&&o<h.length;o++)u=h[o].boundary===r;u||(r.x2New=l)}Array.prototype.splice.apply(n,[t,s-t+1].concat(h))})),n.forEach((function(t){var n=t.boundary;void 0===n.x2New&&(n.x2New=Math.max(e,n.x2))}))}function o({textContent:e,textContentStream:t,container:n,viewport:r,textDivs:s,textContentItemsStr:a,enhanceTextSelection:o}){this._textContent=e,this._textContentStream=t,this._container=n,this._viewport=r,this._textDivs=s||[],this._textContentItemsStr=a||[],this._enhanceTextSelection=!!o,this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally((()=>{this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)})).catch((()=>{}))}return o.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems(e,n){for(let i=0,r=e.length;i<r;i++)this._textContentItemsStr.push(e[i].str),t(this,e[i],n)},_layoutText(e){const t=this._textDivProperties.get(e);if(t.isWhitespace)return;let n="";if(0!==t.canvasWidth){const{fontSize:i,fontFamily:r}=e.style;i===this._layoutTextLastFontSize&&r===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=`${i} ${r}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=r);const{width:s}=this._layoutTextCtx.measureText(e.textContent);s>0&&(t.scale=t.canvasWidth/s,n=`scaleX(${t.scale})`)}0!==t.angle&&(n=`rotate(${t.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(t.originalTransform=n),e.style.transform=n),this._textDivProperties.set(e,t),this._container.appendChild(e)},_render:function(e){const t=(0,i.createPromiseCapability)();let r=Object.create(null);const s=document.createElement("canvas");if(s.mozOpaque=!0,this._layoutTextCtx=s.getContext("2d",{alpha:!1}),this._textContent){const e=this._textContent.items,n=this._textContent.styles;this._processItems(e,n),t.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const e=()=>{this._reader.read().then((({value:n,done:i})=>{i?t.resolve():(Object.assign(r,n.styles),this._processItems(n.items,r),e())}),t.reject)};this._reader=this._textContentStream.getReader(),e()}}t.promise.then((()=>{r=null,e?this._renderTimer=setTimeout((()=>{n(this),this._renderTimer=null}),e):n(this)}),this._capability.reject)},expandTextDivs:function(e){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(s(this),this._bounds=null);const t=[],n=[];for(var i=0,r=this._textDivs.length;i<r;i++){const r=this._textDivs[i],s=this._textDivProperties.get(r);s.isWhitespace||(e?(t.length=0,n.length=0,s.originalTransform&&t.push(s.originalTransform),s.paddingTop>0?(n.push(`${s.paddingTop}px`),t.push(`translateY(${-s.paddingTop}px)`)):n.push(0),s.paddingRight>0?n.push(s.paddingRight/s.scale+"px"):n.push(0),s.paddingBottom>0?n.push(`${s.paddingBottom}px`):n.push(0),s.paddingLeft>0?(n.push(s.paddingLeft/s.scale+"px"),t.push(`translateX(${-s.paddingLeft/s.scale}px)`)):n.push(0),r.style.padding=n.join(" "),t.length&&(r.style.transform=t.join(" "))):(r.style.padding=null,r.style.transform=s.originalTransform))}}},function(e){var t=new o({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}}();t.renderTextLayer=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var i=n(2),r=n(1),s=n(4);let a=function(){throw new Error("Not implemented: SVGGraphics")};t.SVGGraphics=a;{const e={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},n="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",h=["butt","round","square"],d=["miter","round","bevel"],p=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256);for(let e=0;e<256;e++){let n=e;for(let e=0;e<8;e++)n=1&n?3988292384^n>>1&2147483647:n>>1&2147483647;t[e]=n}function n(e,n,i,r){let s=r;const a=n.length;i[s]=a>>24&255,i[s+1]=a>>16&255,i[s+2]=a>>8&255,i[s+3]=255&a,s+=4,i[s]=255&e.charCodeAt(0),i[s+1]=255&e.charCodeAt(1),i[s+2]=255&e.charCodeAt(2),i[s+3]=255&e.charCodeAt(3),s+=4,i.set(n,s),s+=n.length;const o=function(e,n,i){let r=-1;for(let s=n;s<i;s++){const n=255&(r^e[s]);r=r>>>8^t[n]}return-1^r}(i,r+4,s);i[s]=o>>24&255,i[s+1]=o>>16&255,i[s+2]=o>>8&255,i[s+3]=255&o}function r(e){let t=e.length;const n=65535,i=Math.ceil(t/n),r=new Uint8Array(2+t+5*i+4);let s=0;r[s++]=120,r[s++]=156;let a=0;for(;t>n;)r[s++]=0,r[s++]=255,r[s++]=255,r[s++]=0,r[s++]=0,r.set(e.subarray(a,a+n),s),s+=n,a+=n,t-=n;r[s++]=1,r[s++]=255&t,r[s++]=t>>8&255,r[s++]=255&~t,r[s++]=(65535&~t)>>8&255,r.set(e.subarray(a),s),s+=e.length-a;const o=function(e,t,n){let i=1,r=0;for(let s=t;s<n;++s)i=(i+(255&e[s]))%65521,r=(r+i)%65521;return r<<16|i}(e,0,e.length);return r[s++]=o>>24&255,r[s++]=o>>16&255,r[s++]=o>>8&255,r[s++]=255&o,r}function a(t,a,o,l){const c=t.width,h=t.height;let d,p,u;const m=t.data;switch(a){case i.ImageKind.GRAYSCALE_1BPP:p=0,d=1,u=c+7>>3;break;case i.ImageKind.RGB_24BPP:p=2,d=8,u=3*c;break;case i.ImageKind.RGBA_32BPP:p=6,d=8,u=4*c;break;default:throw new Error("invalid format")}const f=new Uint8Array((1+u)*h);let g=0,b=0;for(let e=0;e<h;++e)f[g++]=0,f.set(m.subarray(b,b+u),g),b+=u,g+=u;if(a===i.ImageKind.GRAYSCALE_1BPP&&l){g=0;for(let e=0;e<h;e++){g++;for(let e=0;e<u;e++)f[g++]^=255}}const y=new Uint8Array([c>>24&255,c>>16&255,c>>8&255,255&c,h>>24&255,h>>16&255,h>>8&255,255&h,d,p,0,0,0]),v=function(e){if(!s.isNodeJS)return r(e);try{let t;t=parseInt(process$1.versions.node)>=8?e:Buffer$1.from(e);const n=require$$4.deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(e){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return r(e)}(f),x=e.length+36+y.length+v.length,w=new Uint8Array(x);let O=0;return w.set(e,O),O+=e.length,n("IHDR",y,w,O),O+=12+y.length,n("IDATA",v,w,O),O+=12+v.length,n("IEND",new Uint8Array(0),w,O),(0,i.createObjectURL)(w,"image/png",o)}return function(e,t,n){return a(e,void 0===e.kind?i.ImageKind.GRAYSCALE_1BPP:e.kind,t,n)}}();class u{constructor(){this.fontSizeScale=1,this.fontWeight=e.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=e.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(e,t){this.x=e,this.y=t}}function o(e){if(Number.isInteger(e))return e.toString();const t=e.toFixed(10);let n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)}function l(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${o(e[0])} ${o(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2])return`rotate(${o(180*Math.acos(e[0])/Math.PI)})`}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${o(e[4])} ${o(e[5])})`;return`matrix(${o(e[0])} ${o(e[1])} ${o(e[2])} ${o(e[3])} ${o(e[4])} ${o(e[5])})`}let m=0,f=0,g=0;t.SVGGraphics=a=class{constructor(e,t,n=!1){this.svgFactory=new r.DOMSVGFactory,this.current=new u,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[];for(const e in i.OPS)this._operatorIdMapping[i.OPS[e]]=e}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const t=e.fnArray,n=e.argsArray;for(let e=0,r=t.length;e<r;e++)if(t[e]===i.OPS.dependency)for(const t of n[e]){const e=t.startsWith("g_")?this.commonObjs:this.objs,n=new Promise((n=>{e.get(t,n)}));this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)}transform(e,t,n,r,s,a){const o=[e,t,n,r,s,a];this.transformMatrix=i.Util.transform(this.transformMatrix,o),this.tgrp=null}getSVG(e,t){this.viewport=t;const n=this._initialize(t);return this.loadDependencies(e).then((()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),n)))}convertOpList(e){const t=this._operatorIdMapping,n=e.argsArray,i=e.fnArray,r=[];for(let e=0,s=i.length;e<s;e++){const s=i[e];r.push({fnId:s,fn:t[s],args:n[e]})}return function(e){let t=[];const n=[];for(const i of e)"save"!==i.fn?"restore"===i.fn?t=n.pop():t.push(i):(t.push({fnId:92,fn:"group",items:[]}),n.push(t),t=t[t.length-1].items);return t}(r)}executeOpTree(e){for(const t of e){const e=t.fn,n=t.fnId,r=t.args;switch(0|n){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(r);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(r[0],r[1]);break;case i.OPS.setFont:this.setFont(r);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(r[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(r[0],r[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(r[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(r[0]);break;case i.OPS.setHScale:this.setHScale(r[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.setTextRise:this.setTextRise(r[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(r[0]);break;case i.OPS.setLineWidth:this.setLineWidth(r[0]);break;case i.OPS.setLineJoin:this.setLineJoin(r[0]);break;case i.OPS.setLineCap:this.setLineCap(r[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(r[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(r);break;case i.OPS.setFillColorN:this.setFillColorN(r);break;case i.OPS.shadingFill:this.shadingFill(r[0]);break;case i.OPS.setDash:this.setDash(r[0],r[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(r[0]);break;case i.OPS.setFlatness:this.setFlatness(r[0]);break;case i.OPS.setGState:this.setGState(r[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(r[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(r[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(r[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(r[0],r[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.constructPath:this.constructPath(r[0],r[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,i.warn)(`Unimplemented operator ${e}`)}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,t,n,i,r,s){const a=this.current;a.textMatrix=a.lineMatrix=[e,t,n,i,r,s],a.textMatrixScale=Math.sqrt(e*e+t*t),a.x=a.lineX=0,a.y=a.lineY=0,a.xcoords=[],a.ycoords=[],a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",`${o(a.fontSize)}px`),a.tspan.setAttributeNS(null,"y",o(-a.y)),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtElement.appendChild(a.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=i.IDENTITY_MATRIX,e.lineMatrix=i.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,t){const n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${o(n.fontSize)}px`),n.tspan.setAttributeNS(null,"y",o(-n.y))}showText(t){const r=this.current,s=r.font,a=r.fontSize;if(0===a)return;const c=r.fontSizeScale,h=r.charSpacing,d=r.wordSpacing,p=r.fontDirection,u=r.textHScale*p,m=s.vertical,f=m?1:-1,g=s.defaultVMetrics,b=a*r.fontMatrix[0];let y=0;for(const e of t){if(null===e){y+=p*d;continue}if((0,i.isNum)(e)){y+=f*e*a/1e3;continue}const t=(e.isSpace?d:0)+h,n=e.fontChar;let o,l,u,v=e.width;if(m){let t;const n=e.vmetric||g;t=e.vmetric?n[1]:.5*v,t=-t*b;const i=n[2]*b;v=n?-n[0]:v,o=t/c,l=(y+i)/c}else o=y/c,l=0;(e.isInFont||s.missingFile)&&(r.xcoords.push(r.x+o),m&&r.ycoords.push(-r.y+l),r.tspan.textContent+=n),u=m?v*b-t*p:v*b+t*p,y+=u}r.tspan.setAttributeNS(null,"x",r.xcoords.map(o).join(" ")),m?r.tspan.setAttributeNS(null,"y",r.ycoords.map(o).join(" ")):r.tspan.setAttributeNS(null,"y",o(-r.y)),m?r.y-=y:r.x+=y*u,r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size",`${o(r.fontSize)}px`),r.fontStyle!==e.fontStyle&&r.tspan.setAttributeNS(null,"font-style",r.fontStyle),r.fontWeight!==e.fontWeight&&r.tspan.setAttributeNS(null,"font-weight",r.fontWeight);const v=r.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(v===i.TextRenderingMode.FILL||v===i.TextRenderingMode.FILL_STROKE?(r.fillColor!==e.fillColor&&r.tspan.setAttributeNS(null,"fill",r.fillColor),r.fillAlpha<1&&r.tspan.setAttributeNS(null,"fill-opacity",r.fillAlpha)):r.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?r.tspan.setAttributeNS(null,"fill","transparent"):r.tspan.setAttributeNS(null,"fill","none"),v===i.TextRenderingMode.STROKE||v===i.TextRenderingMode.FILL_STROKE){const e=1/(r.textMatrixScale||1);this._setStrokeAttributes(r.tspan,e)}let x=r.textMatrix;0!==r.textRise&&(x=x.slice(),x[5]+=r.textRise),r.txtElement.setAttributeNS(null,"transform",`${l(x)} scale(${o(u)}, -1)`),r.txtElement.setAttributeNS(n,"xml:space","preserve"),r.txtElement.appendChild(r.tspan),r.txtgrp.appendChild(r.txtElement),this._ensureTransformGroup().appendChild(r.txtElement)}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const t=(0,i.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${t}); }\n`}setFont(e){const t=this.current,n=this.commonObjs.get(e[0]);let r=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix?n.fontMatrix:i.FONT_IDENTITY_MATRIX;let s="normal";n.black?s="900":n.bold&&(s="bold");const a=n.italic?"italic":"normal";r<0?(r=-r,t.fontDirection=-1):t.fontDirection=1,t.fontSize=r,t.fontFamily=n.loadedName,t.fontWeight=s,t.fontStyle=a,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",o(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){const e=this.current;e.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement&&e.txtElement.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=h[e]}setLineJoin(e){this.current.lineJoin=d[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,t,n){this.current.strokeColor=i.Util.makeCssRgb(e,t,n)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,t,n){this.current.fillColor=i.Util.makeCssRgb(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const t=this.viewport.width,n=this.viewport.height,r=i.Util.inverseTransform(this.transformMatrix),s=i.Util.applyTransform([0,0],r),a=i.Util.applyTransform([0,n],r),o=i.Util.applyTransform([t,0],r),l=i.Util.applyTransform([t,n],r),c=Math.min(s[0],a[0],o[0],l[0]),h=Math.min(s[1],a[1],o[1],l[1]),d=Math.max(s[0],a[0],o[0],l[0]),p=Math.max(s[1],a[1],o[1],l[1]),u=this.svgFactory.createElement("svg:rect");u.setAttributeNS(null,"x",c),u.setAttributeNS(null,"y",h),u.setAttributeNS(null,"width",d-c),u.setAttributeNS(null,"height",p-h),u.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&u.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(u)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const t=e[1],n=e[2],r=e[3]||i.IDENTITY_MATRIX,[s,a,o,l]=e[4],c=e[5],h=e[6],d=e[7],p="shading"+g++,[u,m]=i.Util.applyTransform([s,a],r),[f,b]=i.Util.applyTransform([o,l],r),[y,v]=i.Util.singularValueDecompose2dScale(r),x=c*y,w=h*v,O=this.svgFactory.createElement("svg:pattern");O.setAttributeNS(null,"id",p),O.setAttributeNS(null,"patternUnits","userSpaceOnUse"),O.setAttributeNS(null,"width",x),O.setAttributeNS(null,"height",w),O.setAttributeNS(null,"x",`${u}`),O.setAttributeNS(null,"y",`${m}`);const S=this.svg,k=this.transformMatrix,_=this.current.fillColor,A=this.current.strokeColor,T=this.svgFactory.create(f-u,b-m);if(this.svg=T,this.transformMatrix=r,2===d){const e=i.Util.makeCssRgb(...t);this.current.fillColor=e,this.current.strokeColor=e}return this.executeOpTree(this.convertOpList(n)),this.svg=S,this.transformMatrix=k,this.current.fillColor=_,this.current.strokeColor=A,O.appendChild(T.childNodes[0]),this.defs.appendChild(O),`url(#${p})`}_makeShadingPattern(e){switch(e[0]){case"RadialAxial":const t="shading"+g++,n=e[3];let r;switch(e[1]){case"axial":const n=e[4],i=e[5];r=this.svgFactory.createElement("svg:linearGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"x1",n[0]),r.setAttributeNS(null,"y1",n[1]),r.setAttributeNS(null,"x2",i[0]),r.setAttributeNS(null,"y2",i[1]);break;case"radial":const s=e[4],a=e[5],o=e[6],l=e[7];r=this.svgFactory.createElement("svg:radialGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"cx",a[0]),r.setAttributeNS(null,"cy",a[1]),r.setAttributeNS(null,"r",l),r.setAttributeNS(null,"fx",s[0]),r.setAttributeNS(null,"fy",s[1]),r.setAttributeNS(null,"fr",o);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const e of n){const t=this.svgFactory.createElement("svg:stop");t.setAttributeNS(null,"offset",e[0]),t.setAttributeNS(null,"stop-color",e[1]),r.appendChild(t)}return this.defs.appendChild(r),`url(#${t})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,t){this.current.dashArray=e,this.current.dashPhase=t}constructPath(e,t){const n=this.current;let r=n.x,s=n.y,a=[],l=0;for(const n of e)switch(0|n){case i.OPS.rectangle:r=t[l++],s=t[l++];const e=r+t[l++],n=s+t[l++];a.push("M",o(r),o(s),"L",o(e),o(s),"L",o(e),o(n),"L",o(r),o(n),"Z");break;case i.OPS.moveTo:r=t[l++],s=t[l++],a.push("M",o(r),o(s));break;case i.OPS.lineTo:r=t[l++],s=t[l++],a.push("L",o(r),o(s));break;case i.OPS.curveTo:r=t[l+4],s=t[l+5],a.push("C",o(t[l]),o(t[l+1]),o(t[l+2]),o(t[l+3]),o(r),o(s)),l+=6;break;case i.OPS.curveTo2:a.push("C",o(r),o(s),o(t[l]),o(t[l+1]),o(t[l+2]),o(t[l+3])),r=t[l+2],s=t[l+3],l+=4;break;case i.OPS.curveTo3:r=t[l+2],s=t[l+3],a.push("C",o(t[l]),o(t[l+1]),o(r),o(s),o(r),o(s)),l+=4;break;case i.OPS.closePath:a.push("Z")}a=a.join(" "),n.path&&e.length>0&&e[0]!==i.OPS.rectangle&&e[0]!==i.OPS.moveTo?a=n.path.getAttributeNS(null,"d")+a:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(n.path)),n.path.setAttributeNS(null,"d",a),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(r,s)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const t="clippath"+m++,n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",l(this.transformMatrix));const i=e.element.cloneNode(!0);"evenodd"===this.pendingClip?i.setAttributeNS(null,"clip-rule","evenodd"):i.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.appendChild(i),this.defs.appendChild(n),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach((function(e){e.clipGroup=null})),n.setAttributeNS(null,"clip-path",e.activeClipUrl)),e.activeClipUrl=`url(#${t})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const t=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",t)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,i.warn)(`Unimplemented graphic state operator ${t}`)}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e,t=1){const n=this.current;let i=n.dashArray;1!==t&&i.length>0&&(i=i.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",o(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",o(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",i.map(o).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",o(t*n.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}paintImageXObject(e){const t=this.objs.get(e);t?this.paintInlineImageXObject(t):(0,i.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,t){const n=e.width,i=e.height,r=p(e,this.forceDataSchema,!!t),s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",o(n)),s.setAttributeNS(null,"height",o(i)),this.current.element=s,this.clip("nonzero");const a=this.svgFactory.createElement("svg:image");a.setAttributeNS(c,"xlink:href",r),a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y",o(-i)),a.setAttributeNS(null,"width",o(n)+"px"),a.setAttributeNS(null,"height",o(i)+"px"),a.setAttributeNS(null,"transform",`scale(${o(1/n)} ${o(-1/i)})`),t?t.appendChild(a):this._ensureTransformGroup().appendChild(a)}paintImageMaskXObject(e){const t=this.current,n=e.width,i=e.height,r=t.fillColor;t.maskId="mask"+f++;const s=this.svgFactory.createElement("svg:mask");s.setAttributeNS(null,"id",t.maskId);const a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",o(n)),a.setAttributeNS(null,"height",o(i)),a.setAttributeNS(null,"fill",r),a.setAttributeNS(null,"mask",`url(#${t.maskId})`),this.defs.appendChild(s),this._ensureTransformGroup().appendChild(a),this.paintInlineImageXObject(e,s)}paintFormXObjectBegin(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){const e=t[2]-t[0],n=t[3]-t[1],i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",t[0]),i.setAttributeNS(null,"y",t[1]),i.setAttributeNS(null,"width",o(e)),i.setAttributeNS(null,"height",o(n)),this.current.element=i,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.appendChild(n),this.defs=n;const i=this.svgFactory.createElement("svg:g");return i.setAttributeNS(null,"transform",l(e.transform)),t.appendChild(i),this.svg=i,t}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",l(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var i=n(2),r=n(20);const s=require$$4,a=require$$4,o=require$$4,l=require$$4,c=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=class{constructor(e){this.source=e,this.url=function(e){const t=l.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?l.parse(`file:///${e}`):(t.host||(t.protocol="file:"),t)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new f(this):new u(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new g(this,e,t):new m(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}};class h{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=(0,i.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class d{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=(0,i.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function p(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class u extends h{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new i.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:s,suggestedLength:a}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(n)};this._request=null,"http:"===this._url.protocol?this._request=a.request(p(this._url,e.httpHeaders),t):this._request=o.request(p(this._url,e.httpHeaders),t),this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class m extends d{constructor(e,t,n){super(e),this._httpHeaders={};for(const t in e.httpHeaders){const n=e.httpHeaders[t];void 0!==n&&(this._httpHeaders[t]=n)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const r=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=e}};this._request=null,"http:"===this._url.protocol?this._request=a.request(p(this._url,this._httpHeaders),r):this._request=o.request(p(this._url,this._httpHeaders),r),this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class f extends h{constructor(e){super(e);let t=decodeURIComponent(this._url.path);c.test(this._url.href)&&(t=t.replace(/^\//,"")),s.lstat(t,((e,n)=>{if(e)return"ENOENT"===e.code&&(e=new i.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=e,void this._headersCapability.reject(e);this._contentLength=n.size,this._setReadableStream(s.createReadStream(t)),this._headersCapability.resolve()}))}}class g extends d{constructor(e,t,n){super(e);let i=decodeURIComponent(this._url.path);c.test(this._url.href)&&(i=i.replace(/^\//,"")),this._setReadableStream(s.createReadStream(i,{start:t,end:n-1}))}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+t+'".'):new i.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+t+'".',e)},t.extractFilenameFromHeader=function(e){const t=e("Content-Disposition");if(t){let e=(0,r.getFilenameFromContentDispositionHeader)(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(e){}if(/\.pdf$/i.test(e))return e}return null},t.validateRangeRequestCapabilities=function({getResponseHeader:e,isHttp:t,rangeChunkSize:n,disableRange:r}){(0,i.assert)(n>0,"Range chunk size must be larger than zero");const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(e("Content-Length"),10);return Number.isInteger(a)?(s.suggestedLength=a,a<=2*n||r||!t||"bytes"!==e("Accept-Ranges")||"identity"!==(e("Content-Encoding")||"identity")||(s.allowRangeRequests=!0),s):s},t.validateResponseStatus=function(e){return 200===e||206===e};var i=n(2),r=n(21)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=a(n);return e=unescape(e),e=o(e),e=l(e),s(e)}if(n=function(e){const t=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(e));){let[,e,i,r]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[i,r]}const s=[];for(let e=0;e<t.length&&e in t;++e){let[n,i]=t[e];i=a(i),n&&(i=unescape(i),0===e&&(i=o(i))),s.push(i)}return s.join("")}(e),n)return s(l(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=a(n);return e=l(e),s(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function r(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),r=Array.from(n,(function(e){return 255&e.charCodeAt(0)}));n=i.decode(new Uint8Array(r)),t=!1}catch(i){if(/^utf-?8$/i.test(e))try{n=decodeURIComponent(escape(n)),t=!1}catch(e){}}}return n}function s(e){return t&&/[\x80-\xff]/.test(e)&&(e=r("utf-8",e),t&&(e=r("iso-8859-1",e))),e}function a(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:r(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,i){if("q"===n||"Q"===n)return r(t,i=(i=i.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{i=atob(i)}catch(e){}return r(t,i)}))}return""}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var i=n(2),r=n(20);class s{constructor(e,t){this.url=e,t=t||{},this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const i={begin:e,end:t};for(const e in n)i[e]=n[e];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=this.getXhr(),n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const e in this.httpHeaders){const n=this.httpHeaders[e];void 0!==n&&t.setRequestHeader(e,n)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=206):i.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress&&n.onProgress(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==r.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===r.status&&this.isHttp)return void(n.onError&&n.onError(r.status));const s=r.status||200;if((200!==s||206!==n.expectedStatus)&&s!==n.expectedStatus)return void(n.onError&&n.onError(r.status));const a=function(e){const t=e.response;return"string"!=typeof t?t:(0,i.stringToBytes)(t).buffer}(r);if(206===s){const e=r.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:a})}else a?n.onDone({begin:0,chunk:a}):n.onError&&n.onError(r.status)}hasPendingRequests(){for(const e in this.pendingRequests)return!0;return!1}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortAllRequests(){for(const e in this.pendingRequests)this.abortRequest(0|e)}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}t.PDFNetworkStream=class{constructor(e){this._source=e,this._manager=new s(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new a(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new o(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}};class a{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:i,suggestedLength:s}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[])}_onError(e){const t=this._url,n=(0,r.createResponseStatusError)(e,t);this._storedError=n,this._headersReceivedCapability.reject(n),this._requests.forEach((function(e){e.reject(n)})),this._requests=[],this._cachedChunks=[]}_onProgress(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,i.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class o{constructor(e,t,n){this._manager=e;const i={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=e.requestRange(t,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}_close(){this.onClosed&&this.onClosed(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._close()}_onProgress(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,i.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var i=n(2),r=n(20);function s(e,t,n){return{method:"GET",headers:e,signal:n&&n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function a(e){const t=new Headers;for(const n in e){const i=e[n];void 0!==i&&t.append(n,i)}return t}t.PDFFetchStream=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new o(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new l(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}};class o{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=a(this._stream.httpHeaders);const n=t.url;fetch(n,s(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,r.validateResponseStatus)(e.status))throw(0,r.createResponseStatusError)(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:s,suggestedLength:a}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}class l{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const o=e.source;this._withCredentials=o.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!o.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=a(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const l=o.url;fetch(l,s(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,r.validateResponseStatus)(e.status))throw(0,r.createResponseStatusError)(e.status,l);this._readCapability.resolve(),this._reader=e.body.getReader()})),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}}])},module.exports=factory()}));unwrapExports$1(pdf);var pdf_1=pdf;window["pdfjs-dist/build/pdf"]=pdf_1;var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}function getCjsExportFromNamespace(e){return e&&e.default||e}var _rollup_plugin_ignore_empty_module_placeholder={},_rollup_plugin_ignore_empty_module_placeholder$1=Object.freeze({__proto__:null,default:_rollup_plugin_ignore_empty_module_placeholder}),require$$0=getCjsExportFromNamespace(_rollup_plugin_ignore_empty_module_placeholder$1),pdf_viewer=createCommonjsModule((function(e,t){
/**
 * @licstart The following is the entire license notice for the
 * Javascript code in this page
 *
 * Copyright 2020 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * Javascript code in this page
 */
var n;n=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return i.AnnotationLayerBuilder}}),Object.defineProperty(t,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return i.DefaultAnnotationLayerFactory}}),Object.defineProperty(t,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return r.DefaultTextLayerFactory}}),Object.defineProperty(t,"TextLayerBuilder",{enumerable:!0,get:function(){return r.TextLayerBuilder}}),Object.defineProperty(t,"EventBus",{enumerable:!0,get:function(){return s.EventBus}}),Object.defineProperty(t,"NullL10n",{enumerable:!0,get:function(){return s.NullL10n}}),Object.defineProperty(t,"ProgressBar",{enumerable:!0,get:function(){return s.ProgressBar}}),Object.defineProperty(t,"PDFLinkService",{enumerable:!0,get:function(){return a.PDFLinkService}}),Object.defineProperty(t,"SimpleLinkService",{enumerable:!0,get:function(){return a.SimpleLinkService}}),Object.defineProperty(t,"DownloadManager",{enumerable:!0,get:function(){return o.DownloadManager}}),Object.defineProperty(t,"GenericL10n",{enumerable:!0,get:function(){return l.GenericL10n}}),Object.defineProperty(t,"PDFFindController",{enumerable:!0,get:function(){return c.PDFFindController}}),Object.defineProperty(t,"PDFHistory",{enumerable:!0,get:function(){return h.PDFHistory}}),Object.defineProperty(t,"PDFPageView",{enumerable:!0,get:function(){return d.PDFPageView}}),Object.defineProperty(t,"PDFSinglePageViewer",{enumerable:!0,get:function(){return p.PDFSinglePageViewer}}),Object.defineProperty(t,"PDFViewer",{enumerable:!0,get:function(){return u.PDFViewer}});var i=n(1),r=n(5),s=n(3),a=n(4),o=n(6),l=n(8),c=n(10),h=n(12),d=n(13),p=n(15),u=n(17)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAnnotationLayerFactory=t.AnnotationLayerBuilder=void 0;var i=n(2),r=n(3),s=n(4);class a{constructor({pageDiv:e,pdfPage:t,linkService:n,downloadManager:i,imageResourcesPath:s="",renderInteractiveForms:a=!1,l10n:o=r.NullL10n}){this.pageDiv=e,this.pdfPage=t,this.linkService=n,this.downloadManager=i,this.imageResourcesPath=s,this.renderInteractiveForms=a,this.l10n=o,this.div=null,this._cancelled=!1}render(e,t="display"){this.pdfPage.getAnnotations({intent:t}).then((t=>{if(this._cancelled)return;const n={viewport:e.clone({dontFlip:!0}),div:this.div,annotations:t,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderInteractiveForms:this.renderInteractiveForms,linkService:this.linkService,downloadManager:this.downloadManager};if(this.div)i.AnnotationLayer.update(n);else{if(0===t.length)return;this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.appendChild(this.div),n.div=this.div,i.AnnotationLayer.render(n),this.l10n.translate(this.div)}}))}cancel(){this._cancelled=!0}hide(){this.div&&this.div.setAttribute("hidden","true")}}t.AnnotationLayerBuilder=a,t.DefaultAnnotationLayerFactory=class{createAnnotationLayerBuilder(e,t,n="",i=!1,o=r.NullL10n){return new a({pageDiv:e,pdfPage:t,imageResourcesPath:n,renderInteractiveForms:i,linkService:new s.SimpleLinkService,l10n:o})}}},function(e,t,n){let i;i="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require$$0,e.exports=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isValidRotation=function(e){return Number.isInteger(e)&&e%90==0},t.isValidScrollMode=function(e){return Number.isInteger(e)&&Object.values(i).includes(e)&&e!==i.UNKNOWN},t.isValidSpreadMode=function(e){return Number.isInteger(e)&&Object.values(r).includes(e)&&e!==r.UNKNOWN},t.isPortraitOrientation=function(e){return e.width<=e.height},t.clamp=d,t.getPDFFileNameFromURL=function(e,t="document.pdf"){if("string"!=typeof e)return t;if(function(e){let t=0;const n=e.length;for(;t<n&&""===e[t].trim();)t++;return"data:"===e.substring(t,t+5).toLowerCase()}(e))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),t;const n=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let r=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(r&&(r=r[0],r.includes("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch(e){}return r||t},t.noContextMenuHandler=function(e){e.preventDefault()},t.parseQueryString=function(e){const t=e.split("&"),n=Object.create(null);for(let e=0,i=t.length;e<i;++e){const i=t[e].split("="),r=i[0].toLowerCase(),s=i.length>1?i[1]:null;n[decodeURIComponent(r)]=decodeURIComponent(s)}return n},t.backtrackBeforeAllVisibleElements=o,t.getVisibleElements=function(e,t,n=!1,i=!1){const r=e.scrollTop,s=r+e.clientHeight,l=e.scrollLeft,c=l+e.clientWidth,h=[],d=t.length;let p=0===d?0:a(t,i?function(e){const t=e.div;return t.offsetLeft+t.clientLeft+t.clientWidth>l}:function(e){const t=e.div;return t.offsetTop+t.clientTop+t.clientHeight>r});p>0&&p<d&&!i&&(p=o(p,t,r));let u=i?c:-1;for(let e=p;e<d;e++){const n=t[e],a=n.div,o=a.offsetLeft+a.clientLeft,d=a.offsetTop+a.clientTop,p=a.clientWidth,m=a.clientHeight,f=o+p,g=d+m;if(-1===u)g>=s&&(u=g);else if((i?o:d)>u)break;if(g<=r||d>=s||f<=l||o>=c)continue;const b=Math.max(0,r-d)+Math.max(0,g-s),y=Math.max(0,l-o)+Math.max(0,f-c),v=(m-b)*(p-y)*100/m/p|0;h.push({id:n.id,x:o,y:d,view:n,percent:v})}const m=h[0],f=h[h.length-1];return n&&h.sort((function(e,t){const n=e.percent-t.percent;return Math.abs(n)>.001?-n:e.id-t.id})),{first:m,last:f,views:h}},t.roundToDivide=function(e,t){const n=e%t;return 0===n?e:Math.round(e-n+t)},t.getPageSizeInches=function({view:e,userUnit:t,rotate:n}){const[i,r,s,a]=e,o=n%180!=0,l=(s-i)/72*t,c=(a-r)/72*t;return{width:o?c:l,height:o?l:c}},t.approximateFraction=function(e){if(Math.floor(e)===e)return[e,1];const t=1/e;if(t>8)return[1,8];if(Math.floor(t)===t)return[1,t];const n=e>1?t:e;let i,r=0,s=1,a=1,o=1;for(;;){const e=r+a,t=s+o;if(t>8)break;n<=e/t?(a=e,o=t):(r=e,s=t)}return i=n-r/s<a/o-n?n===e?[r,s]:[s,r]:n===e?[a,o]:[o,a],i},t.getOutputScale=function(e){const t=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,i=t/n;return{sx:i,sy:i,scaled:1!==i}},t.scrollIntoView=function(e,t,n=!1){let i=e.offsetParent;if(!i)return void console.error("offsetParent is not set -- cannot scroll");let r=e.offsetTop+e.clientTop,s=e.offsetLeft+e.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||n&&"hidden"===getComputedStyle(i).overflow;)if(i.dataset._scaleY&&(r/=i.dataset._scaleY,s/=i.dataset._scaleX),r+=i.offsetTop,s+=i.offsetLeft,i=i.offsetParent,!i)return;t&&(void 0!==t.top&&(r+=t.top),void 0!==t.left&&(s+=t.left,i.scrollLeft=s)),i.scrollTop=r},t.watchScroll=function(e,t){const n=function(n){r||(r=window.requestAnimationFrame((function(){r=null;const n=e.scrollLeft,s=i.lastX;n!==s&&(i.right=n>s),i.lastX=n;const a=e.scrollTop,o=i.lastY;a!==o&&(i.down=a>o),i.lastY=a,t(i)})))},i={right:!0,down:!0,lastX:e.scrollLeft,lastY:e.scrollTop,_eventHandler:n};let r=null;return e.addEventListener("scroll",n,!0),i},t.binarySearchFirstItem=a,t.normalizeWheelEventDelta=function(e){let t=Math.sqrt(e.deltaX*e.deltaX+e.deltaY*e.deltaY);const n=Math.atan2(e.deltaY,e.deltaX);return-.25*Math.PI<n&&n<.75*Math.PI&&(t=-t),0===e.deltaMode?t/=900:1===e.deltaMode&&(t/=30),t},t.waitOnEventOrTimeout=function({target:e,name:t,delay:n=0}){return new Promise((function(i,r){if("object"!=typeof e||!t||"string"!=typeof t||!(Number.isInteger(n)&&n>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function s(n){e instanceof h?e._off(t,a):e.removeEventListener(t,a),c&&clearTimeout(c),i(n)}const a=s.bind(null,l.EVENT);e instanceof h?e._on(t,a):e.addEventListener(t,a);const o=s.bind(null,l.TIMEOUT),c=setTimeout(o,n)}))},t.moveToEndOfArray=function(e,t){const n=[],i=e.length;let r=0;for(let s=0;s<i;++s)t(e[s])?n.push(e[s]):(e[r]=e[s],++r);for(let t=0;r<i;++t,++r)e[r]=n[t]},t.WaitOnType=t.animationStarted=t.ProgressBar=t.EventBus=t.NullL10n=t.SpreadMode=t.ScrollMode=t.TextLayerMode=t.RendererType=t.PresentationModeState=t.VERTICAL_PADDING=t.SCROLLBAR_PADDING=t.MAX_AUTO_SCALE=t.UNKNOWN_SCALE=t.MAX_SCALE=t.MIN_SCALE=t.DEFAULT_SCALE=t.DEFAULT_SCALE_VALUE=t.CSS_UNITS=t.AutoPrintRegExp=void 0,t.CSS_UNITS=96/72,t.DEFAULT_SCALE_VALUE="auto",t.DEFAULT_SCALE=1,t.MIN_SCALE=.1,t.MAX_SCALE=10,t.UNKNOWN_SCALE=0,t.MAX_AUTO_SCALE=1.25,t.SCROLLBAR_PADDING=40,t.VERTICAL_PADDING=5,t.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},t.RendererType={CANVAS:"canvas",SVG:"svg"},t.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const i={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};t.ScrollMode=i;const r={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};t.SpreadMode=r,t.AutoPrintRegExp=/\bprint\s*\(/;const s={getLanguage:async()=>"en-us",getDirection:async()=>"ltr",get:async(e,t,n)=>function(e,t){return t?e.replace(/\{\{\s*(\w+)\s*\}\}/g,((e,n)=>n in t?t[n]:"{{"+n+"}}")):e}(n,t),async translate(e){}};function a(e,t){let n=0,i=e.length-1;if(i<0||!t(e[i]))return e.length;if(t(e[n]))return n;for(;n<i;){const r=n+i>>1;t(e[r])?i=r:n=r+1}return n}function o(e,t,n){if(e<2)return e;let i=t[e].div,r=i.offsetTop+i.clientTop;r>=n&&(i=t[e-1].div,r=i.offsetTop+i.clientTop);for(let n=e-2;n>=0&&(i=t[n].div,!(i.offsetTop+i.clientTop+i.clientHeight<=r));--n)e=n;return e}t.NullL10n=s;const l={EVENT:"event",TIMEOUT:"timeout"};t.WaitOnType=l;const c=new Promise((function(e){window.requestAnimationFrame(e)}));t.animationStarted=c;class h{constructor(e){this._listeners=Object.create(null)}on(e,t){this._on(e,t,{external:!0})}off(e,t){this._off(e,t,{external:!0})}dispatch(e){const t=this._listeners[e];if(!t||0===t.length)return;const n=Array.prototype.slice.call(arguments,1);let i;t.slice(0).forEach((function({listener:e,external:t}){if(t)return i||(i=[]),void i.push(e);e.apply(null,n)})),i&&(i.forEach((function(e){e.apply(null,n)})),i=null)}_on(e,t,n=null){let i=this._listeners[e];i||(this._listeners[e]=i=[]),i.push({listener:t,external:!0===(n&&n.external)})}_off(e,t,n=null){const i=this._listeners[e];if(i)for(let e=0,n=i.length;e<n;e++)if(i[e].listener===t)return void i.splice(e,1)}}function d(e,t,n){return Math.min(Math.max(e,t),n)}t.EventBus=h,t.ProgressBar=class{constructor(e,{height:t,width:n,units:i}={}){this.visible=!0,this.div=document.querySelector(e+" .progress"),this.bar=this.div.parentNode,this.height=t||100,this.width=n||100,this.units=i||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate");const e=this.width*this._percent/100;this.div.style.width=e+this.units}get percent(){return this._percent}set percent(e){this._indeterminate=isNaN(e),this._percent=d(e,0,100),this._updateBar()}setWidth(e){if(!e)return;const t=e.parentNode.offsetWidth-e.offsetWidth;t>0&&(this.bar.style.width=`calc(100% - ${t}px)`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}show(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLinkService=t.PDFLinkService=void 0;var i=n(3);t.PDFLinkService=class{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:n=null,externalLinkEnabled:i=!0,ignoreDestinationZoom:r=!1}={}){this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=n,this.externalLinkEnabled=i,this._ignoreDestinationZoom=r,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e,this._pagesRefCache=Object.create(null)}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(e){this.pdfViewer.currentPageNumber=e}get rotation(){return this.pdfViewer.pagesRotation}set rotation(e){this.pdfViewer.pagesRotation=e}navigateTo(e){const t=({namedDest:n,explicitDest:i})=>{const r=i[0];let s;if(r instanceof Object){if(s=this._cachedPageNumber(r),null===s)return void this.pdfDocument.getPageIndex(r).then((e=>{this.cachePageRef(e+1,r),t({namedDest:n,explicitDest:i})})).catch((()=>{console.error(`PDFLinkService.navigateTo: "${r}" is not a valid page reference, for dest="${e}".`)}))}else{if(!Number.isInteger(r))return void console.error(`PDFLinkService.navigateTo: "${r}" is not a valid destination reference, for dest="${e}".`);s=r+1}!s||s<1||s>this.pagesCount?console.error(`PDFLinkService.navigateTo: "${s}" is not a valid page number, for dest="${e}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:n,explicitDest:i,pageNumber:s})),this.pdfViewer.scrollPageIntoView({pageNumber:s,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom}))};new Promise(((t,n)=>{"string"!=typeof e?t({namedDest:"",explicitDest:e}):this.pdfDocument.getDestination(e).then((n=>{t({namedDest:e,explicitDest:n})}))})).then((n=>{Array.isArray(n.explicitDest)?t(n):console.error(`PDFLinkService.navigateTo: "${n.explicitDest}" is not a valid destination array, for dest="${e}".`)}))}getDestinationHash(e){if("string"==typeof e)return this.getAnchorUrl("#"+escape(e));if(Array.isArray(e)){const t=JSON.stringify(e);return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return(this.baseUrl||"")+e}setHash(e){let t,n;if(e.includes("=")){const r=(0,i.parseQueryString)(e);if("search"in r&&this.eventBus.dispatch("findfromurlhash",{source:this,query:r.search.replace(/"/g,""),phraseSearch:"true"===r.phrase}),"page"in r&&(t=0|r.page||1),"zoom"in r){const e=r.zoom.split(","),t=e[0],i=parseFloat(t);t.includes("Fit")?"Fit"===t||"FitB"===t?n=[null,{name:t}]:"FitH"===t||"FitBH"===t||"FitV"===t||"FitBV"===t?n=[null,{name:t},e.length>1?0|e[1]:null]:"FitR"===t?5!==e.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:t},0|e[1],0|e[2],0|e[3],0|e[4]]:console.error(`PDFLinkService.setHash: "${t}" is not a valid zoom value.`):n=[null,{name:"XYZ"},e.length>1?0|e[1]:null,e.length>2?0|e[2]:null,i?i/100:t]}n?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:n,allowNegativeOffset:!0}):t&&(this.page=t),"pagemode"in r&&this.eventBus.dispatch("pagemode",{source:this,mode:r.pagemode}),"nameddest"in r&&this.navigateTo(r.nameddest)}else{n=unescape(e);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch(e){}if("string"==typeof n||function(e){if(!Array.isArray(e))return!1;const t=e.length;if(t<2)return!1;const n=e[0];if(!("object"==typeof n&&Number.isInteger(n.num)&&Number.isInteger(n.gen)||Number.isInteger(n)&&n>=0))return!1;const i=e[1];if("object"!=typeof i||"string"!=typeof i.name)return!1;let r=!0;switch(i.name){case"XYZ":if(5!==t)return!1;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return!1;break;case"FitR":if(6!==t)return!1;r=!1;break;default:return!1}for(let n=2;n<t;n++){const t=e[n];if(!("number"==typeof t||r&&null===t))return!1}return!0}(n))return void this.navigateTo(n);console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}}executeNamedAction(e){switch(e){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":this.page>1&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}cachePageRef(e,t){if(!t)return;const n=0===t.gen?`${t.num}R`:`${t.num}R${t.gen}`;this._pagesRefCache[n]=e}_cachedPageNumber(e){const t=0===e.gen?`${e.num}R`:`${e.num}R${e.gen}`;return this._pagesRefCache&&this._pagesRefCache[t]||null}isPageVisible(e){return this.pdfViewer.isPageVisible(e)}},t.SimpleLinkService=class{constructor(){this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}get pagesCount(){return 0}get page(){return 0}set page(e){}get rotation(){return 0}set rotation(e){}navigateTo(e){}getDestinationHash(e){return"#"}getAnchorUrl(e){return"#"}setHash(e){}executeNamedAction(e){}cachePageRef(e,t){}isPageVisible(e){return!0}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTextLayerFactory=t.TextLayerBuilder=void 0;var i=n(2);class r{constructor({textLayerDiv:e,eventBus:t,pageIndex:n,viewport:i,findController:r=null,enhanceTextSelection:s=!1}){this.textLayerDiv=e,this.eventBus=t,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=n,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=i,this.textDivs=[],this.findController=r,this.textLayerRenderTask=null,this.enhanceTextSelection=s,this._onUpdateTextLayerMatches=null,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const e=document.createElement("div");e.className="endOfContent",this.textLayerDiv.appendChild(e)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(e=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs=[];const t=document.createDocumentFragment();this.textLayerRenderTask=(0,i.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:t,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:e,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then((()=>{this.textLayerDiv.appendChild(t),this._finishRendering(),this._updateMatches()}),(function(e){})),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=e=>{e.pageIndex!==this.pageIdx&&-1!==e.pageIndex||this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}setTextContentStream(e){this.cancel(),this.textContentStream=e}setTextContent(e){this.cancel(),this.textContent=e}_convertMatches(e,t){if(!e)return[];const{findController:n,textContentItemsStr:i}=this;let r=0,s=0;const a=i.length-1,o=n.state.query.length,l=[];for(let n=0,c=e.length;n<c;n++){let c=e[n];for(;r!==a&&c>=s+i[r].length;)s+=i[r].length,r++;r===i.length&&console.error("Could not find a matching mapping");const h={begin:{divIdx:r,offset:c-s}};for(c+=t?t[n]:o;r!==a&&c>s+i[r].length;)s+=i[r].length,r++;h.end={divIdx:r,offset:c-s},l.push(h)}return l}_renderMatches(e){if(0===e.length)return;const{findController:t,pageIdx:n,textContentItemsStr:i,textDivs:r}=this,s=n===t.selected.pageIdx,a=t.selected.matchIdx;let o=null;const l={divIdx:-1,offset:void 0};function c(e,t){const n=e.divIdx;r[n].textContent="",h(n,0,e.offset,t)}function h(e,t,n,s){const a=r[e],o=i[e].substring(t,n),l=document.createTextNode(o);if(s){const e=document.createElement("span");return e.className=s,e.appendChild(l),void a.appendChild(e)}a.appendChild(l)}let d=a,p=d+1;if(t.state.highlightAll)d=0,p=e.length;else if(!s)return;for(let i=d;i<p;i++){const d=e[i],p=d.begin,u=d.end,m=s&&i===a,f=m?" selected":"";if(m&&t.scrollMatchIntoView({element:r[p.divIdx],pageIndex:n,matchIndex:a}),o&&p.divIdx===o.divIdx?h(o.divIdx,o.offset,p.offset):(null!==o&&h(o.divIdx,o.offset,l.offset),c(p)),p.divIdx===u.divIdx)h(p.divIdx,p.offset,u.offset,"highlight"+f);else{h(p.divIdx,p.offset,l.offset,"highlight begin"+f);for(let e=p.divIdx+1,t=u.divIdx;e<t;e++)r[e].className="highlight middle"+f;c(u,"highlight end"+f)}o=u}o&&h(o.divIdx,o.offset,l.offset)}_updateMatches(){if(!this.renderingDone)return;const{findController:e,matches:t,pageIdx:n,textContentItemsStr:i,textDivs:r}=this;let s=-1;for(let e=0,n=t.length;e<n;e++){const n=t[e];for(let e=Math.max(s,n.begin.divIdx),t=n.end.divIdx;e<=t;e++){const t=r[e];t.textContent=i[e],t.className=""}s=n.end.divIdx+1}if(!e||!e.highlightMatches)return;const a=e.pageMatches[n]||null,o=e.pageMatchesLength[n]||null;this.matches=this._convertMatches(a,o),this._renderMatches(this.matches)}_bindMouse(){const e=this.textLayerDiv;let t=null;e.addEventListener("mousedown",(n=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(t&&(clearTimeout(t),t=null));const i=e.querySelector(".endOfContent");if(!i)return;let r=n.target!==e;if(r=r&&"none"!==window.getComputedStyle(i).getPropertyValue("-moz-user-select"),r){const t=e.getBoundingClientRect(),r=Math.max(0,(n.pageY-t.top)/t.height);i.style.top=(100*r).toFixed(2)+"%"}i.classList.add("active")})),e.addEventListener("mouseup",(()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(t=setTimeout((()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),t=null}),300));const n=e.querySelector(".endOfContent");n&&(n.style.top="",n.classList.remove("active"))}))}}t.TextLayerBuilder=r,t.DefaultTextLayerFactory=class{createTextLayerBuilder(e,t,n,i=!1,s){return new r({textLayerDiv:e,pageIndex:t,viewport:n,enhanceTextSelection:i,eventBus:s})}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadManager=void 0;var i=n(2);const r=n(7).viewerCompatibilityParams.disableCreateObjectURL||!1;function s(e,t){const n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=e,n.target="_parent","download"in n&&(n.download=t),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}t.DownloadManager=class{constructor({disableCreateObjectURL:e=r}){this.disableCreateObjectURL=e}downloadUrl(e,t){(0,i.createValidAbsoluteUrl)(e,"http://example.com")&&s(e+"#pdfjs.action=download",t)}downloadData(e,t,n){navigator.msSaveBlob?navigator.msSaveBlob(new Blob([e],{type:n}),t):s((0,i.createObjectURL)(e,n,this.disableCreateObjectURL),t)}download(e,t,n){navigator.msSaveBlob?navigator.msSaveBlob(e,n)||this.downloadUrl(t,n):this.disableCreateObjectURL?this.downloadUrl(t,n):s(URL.createObjectURL(e),n)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.viewerCompatibilityParams=void 0;const i=Object.create(null);{const e="undefined"!=typeof navigator&&navigator.userAgent||"",t="undefined"!=typeof navigator&&navigator.platform||"",n="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,r=/Android/.test(e),s=/Trident/.test(e),a=/\b(iPad|iPhone|iPod)(?=;)/.test(e)||"MacIntel"===t&&n>1,o=/CriOS/.test(e);(s||o)&&(i.disableCreateObjectURL=!0),(a||r)&&(i.maxCanvasPixels=5242880)}const r=Object.freeze(i);t.viewerCompatibilityParams=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GenericL10n=void 0,n(9);const i=document.webL10n;t.GenericL10n=class{constructor(e){this._lang=e,this._ready=new Promise(((t,n)=>{i.setLanguage(e,(()=>{t(i)}))}))}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(e,t,n){return(await this._ready).get(e,t,n)}async translate(e){return(await this._ready).translate(e)}}},function(e,t,n){document.webL10n=function(e,t,n){var i={},r="",s="textContent",a="",o={},l="loading";function c(e,t,n){t=t||function(e){},n=n||function(){};var i=new XMLHttpRequest;i.open("GET",e,!0),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=utf-8"),i.onreadystatechange=function(){4==i.readyState&&(200==i.status||0===i.status?t(i.responseText):n())},i.onerror=n,i.ontimeout=n;try{i.send(null)}catch(e){n()}}function h(e,t,n,a){var o=e.replace(/[^\/]*$/,"")||"./";function l(e){return e.lastIndexOf("\\")<0?e:e.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}c(e,(function(e){r+=e,function(e,n){var i={},r=/^\s*|\s*$/,s=/^\s*#|^\s*$/,a=/^\s*\[(.*)\]\s*$/,h=/^\s*@import\s+url\((.*)\)\s*$/i,d=/^([^=\s]*)\s*=\s*(.+)$/;function p(e,n,c){var p=e.replace(r,"").split(/[\r\n]+/),m="*",f=t.split("-",1)[0],g=!1,b="";!function e(){for(;;){if(!p.length)return void c();var r=p.shift();if(!s.test(r)){if(n){if(b=a.exec(r)){m=b[1].toLowerCase(),g="*"!==m&&m!==t&&m!==f;continue}if(g)continue;if(b=h.exec(r))return void u(o+b[1],e)}var y=r.match(d);y&&3==y.length&&(i[y[1]]=l(y[2]))}}}()}function u(e,t){c(e,(function(e){p(e,!1,t)}),(function(){console.warn(e+" not found."),t()}))}p(e,!0,(function(){n(i)}))}(e,(function(e){for(var t in e){var r,a,o=t.lastIndexOf(".");o>0?(r=t.substring(0,o),a=t.substring(o+1)):(r=t,a=s),i[r]||(i[r]={}),i[r][a]=e[t]}n&&n()}))}),a)}function d(e,n){e&&(e=e.toLowerCase()),n=n||function(){},i={},r="",a="",a=e;var s=t.querySelectorAll('link[type="application/l10n"]'),o=s.length;if(0!==o){var c,d,p=0;d=function(){++p>=o&&(n(),l="complete")};for(var u=0;u<o;u++)new b(s[u]).load(e,d)}else{var m=(c=t.querySelector('script[type="application/l10n"]'))?JSON.parse(c.innerHTML):null;if(m&&m.locales&&m.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(i=m.locales[e])){var f=m.default_locale.toLowerCase();for(var g in m.locales){if((g=g.toLowerCase())===e){i=m.locales[e];break}g===f&&(i=m.locales[f])}}n()}else console.log("no resource to load, early way out");l="complete"}function b(e){var t=e.href;this.load=function(e,n){h(t,e,n,(function(){console.warn(t+" not found."),console.warn('"'+e+'" resource not found'),a="",n()}))}}}function p(e,t,n){var r=i[e];if(!r){if(console.warn("#"+e+" is undefined."),!n)return null;r=n}var s={};for(var a in r){var o=r[a];o=m(o=u(o,t,e,a),t,e),s[a]=o}return s}function u(e,t,n,r){var s=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(e);if(!s||!s.length)return e;var a,l=s[1],c=s[2];return t&&c in t?a=t[c]:c in i&&(a=i[c]),l in o&&(e=(0,o[l])(e,a,n,r)),e}function m(e,t,n){return e.replace(/\{\{\s*(.+?)\s*\}\}/g,(function(e,r){return t&&r in t?t[r]:r in i?i[r]:(console.log("argument {{"+r+"}} for #"+n+" is undefined."),e)}))}function f(e){var n=function(e){if(!e)return{};var t=e.getAttribute("data-l10n-id"),n=e.getAttribute("data-l10n-args"),i={};if(n)try{i=JSON.parse(n)}catch(e){console.warn("could not parse arguments for #"+t)}return{id:t,args:i}}(e);if(n.id){var i=p(n.id,n.args);if(i){if(i[s]){if(0===function(e){if(e.children)return e.children.length;if(void 0!==e.childElementCount)return e.childElementCount;for(var t=0,n=0;n<e.childNodes.length;n++)t+=1===e.nodeType?1:0;return t}(e))e[s]=i[s];else{for(var r=e.childNodes,a=!1,o=0,l=r.length;o<l;o++)3===r[o].nodeType&&/\S/.test(r[o].nodeValue)&&(a?r[o].nodeValue="":(r[o].nodeValue=i[s],a=!0));if(!a){var c=t.createTextNode(i[s]);e.insertBefore(c,e.firstChild)}}delete i[s]}for(var h in i)e[h]=i[h]}else console.warn("#"+n.id+" is undefined.")}}return o.plural=function(e,t,n,r){var l=parseFloat(t);if(isNaN(l))return e;if(r!=s)return e;o._pluralRules||(o._pluralRules=function(e){function t(e,t){return-1!==t.indexOf(e)}function n(e,t,n){return t<=e&&e<=n}var i={0:function(e){return"other"},1:function(e){return n(e%100,3,10)?"few":0===e?"zero":n(e%100,11,99)?"many":2==e?"two":1==e?"one":"other"},2:function(e){return 0!==e&&e%10==0?"many":2==e?"two":1==e?"one":"other"},3:function(e){return 1==e?"one":"other"},4:function(e){return n(e,0,1)?"one":"other"},5:function(e){return n(e,0,2)&&2!=e?"one":"other"},6:function(e){return 0===e?"zero":e%10==1&&e%100!=11?"one":"other"},7:function(e){return 2==e?"two":1==e?"one":"other"},8:function(e){return n(e,3,6)?"few":n(e,7,10)?"many":2==e?"two":1==e?"one":"other"},9:function(e){return 0===e||1!=e&&n(e%100,1,19)?"few":1==e?"one":"other"},10:function(e){return n(e%10,2,9)&&!n(e%100,11,19)?"few":e%10!=1||n(e%100,11,19)?"other":"one"},11:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":e%10==0||n(e%10,5,9)||n(e%100,11,14)?"many":e%10==1&&e%100!=11?"one":"other"},12:function(e){return n(e,2,4)?"few":1==e?"one":"other"},13:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":1!=e&&n(e%10,0,1)||n(e%10,5,9)||n(e%100,12,14)?"many":1==e?"one":"other"},14:function(e){return n(e%100,3,4)?"few":e%100==2?"two":e%100==1?"one":"other"},15:function(e){return 0===e||n(e%100,2,10)?"few":n(e%100,11,19)?"many":1==e?"one":"other"},16:function(e){return e%10==1&&11!=e?"one":"other"},17:function(e){return 3==e?"few":0===e?"zero":6==e?"many":2==e?"two":1==e?"one":"other"},18:function(e){return 0===e?"zero":n(e,0,2)&&0!==e&&2!=e?"one":"other"},19:function(e){return n(e,2,10)?"few":n(e,0,1)?"one":"other"},20:function(e){return!n(e%10,3,4)&&e%10!=9||n(e%100,10,19)||n(e%100,70,79)||n(e%100,90,99)?e%1e6==0&&0!==e?"many":e%10!=2||t(e%100,[12,72,92])?e%10!=1||t(e%100,[11,71,91])?"other":"one":"two":"few"},21:function(e){return 0===e?"zero":1==e?"one":"other"},22:function(e){return n(e,0,1)||n(e,11,99)?"one":"other"},23:function(e){return n(e%10,1,2)||e%20==0?"one":"other"},24:function(e){return n(e,3,10)||n(e,13,19)?"few":t(e,[2,12])?"two":t(e,[1,11])?"one":"other"}},r={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[e.replace(/-.*$/,"")];return r in i?i[r]:(console.warn("plural form unknown for ["+e+"]"),function(){return"other"})}(a));var c="["+o._pluralRules(l)+"]";return 0===l&&n+"[zero]"in i?e=i[n+"[zero]"][r]:1==l&&n+"[one]"in i?e=i[n+"[one]"][r]:2==l&&n+"[two]"in i?e=i[n+"[two]"][r]:n+c in i?e=i[n+c][r]:n+"[other]"in i&&(e=i[n+"[other]"][r]),e},{get:function(e,t,n){var i,r=e.lastIndexOf("."),a=s;r>0&&(a=e.substring(r+1),e=e.substring(0,r)),n&&((i={})[a]=n);var o=p(e,t,i);return o&&a in o?o[a]:"{{"+e+"}}"},getData:function(){return i},getText:function(){return r},getLanguage:function(){return a},setLanguage:function(e,t){d(e,(function(){t&&t()}))},getDirection:function(){var e=a.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function(e){for(var n=function(e){return e?e.querySelectorAll("*[data-l10n-id]"):[]}(e=e||t.documentElement),i=n.length,r=0;r<i;r++)f(n[r]);f(e)},getReadyState:function(){return l},ready:function(n){n&&("complete"==l||"interactive"==l?e.setTimeout((function(){n()})):t.addEventListener&&t.addEventListener("localized",(function e(){t.removeEventListener("localized",e),n()})))}}}(window,document)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFindController=t.FindState=void 0;var i=n(2),r=n(11),s=n(3);const a={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};t.FindState=a;const o={"":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"};let l=null;function c(e){if(!l){const e=Object.keys(o).join("");l=new RegExp(`[${e}]`,"g")}return e.replace(l,(function(e){return o[e]}))}t.PDFFindController=class{constructor({linkService:e,eventBus:t}){this._linkService=e,this._eventBus=t,this._reset(),t._on("findbarclose",this._onFindBarClose.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(e){this._pdfDocument&&this._reset(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}executeCommand(e,t){if(!t)return;const n=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(e,t))&&(this._dirtyMatch=!0),this._state=t,"findhighlightallchange"!==e&&this._updateUIState(a.PENDING),this._firstPageCapability.promise.then((()=>{if(!this._pdfDocument||n&&this._pdfDocument!==n)return;this._extractText();const t=!this._highlightMatches,i=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),"find"===e?this._findTimeout=setTimeout((()=>{this._nextMatch(),this._findTimeout=null}),250):this._dirtyMatch?this._nextMatch():"findagain"===e?(this._nextMatch(),t&&this._state.highlightAll&&this._updateAllPages()):"findhighlightallchange"===e?(i?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch()}))}scrollMatchIntoView({element:e=null,pageIndex:t=-1,matchIndex:n=-1}){if(!this._scrollMatches||!e)return;if(-1===n||n!==this._selected.matchIdx)return;if(-1===t||t!==this._selected.pageIdx)return;this._scrollMatches=!1;const i={top:-50,left:-400};(0,s.scrollIntoView)(e,i,!0)}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,i.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,this._normalizedQuery=c(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(e,t){if(t.query!==this._state.query)return!0;switch(e){case"findagain":const e=this._selected.pageIdx+1,t=this._linkService;return e>=1&&e<=t.pagesCount&&e!==t.page&&!t.isPageVisible(e);case"findhighlightallchange":return!1}return!0}_prepareMatches(e,t,n){function i(t){const n=e[t],i=e[t+1];if(t<e.length-1&&n.match===i.match)return n.skipped=!0,!0;for(let i=t-1;i>=0;i--){const t=e[i];if(!t.skipped){if(t.match+t.matchLength<n.match)break;if(t.match+t.matchLength>=n.match+n.matchLength)return n.skipped=!0,!0}}return!1}e.sort((function(e,t){return e.match===t.match?e.matchLength-t.matchLength:e.match-t.match}));for(let r=0,s=e.length;r<s;r++)i(r)||(t.push(e[r].match),n.push(e[r].matchLength))}_isEntireWord(e,t,n){if(t>0){const n=e.charCodeAt(t),i=e.charCodeAt(t-1);if((0,r.getCharacterType)(n)===(0,r.getCharacterType)(i))return!1}const i=t+n-1;if(i<e.length-1){const t=e.charCodeAt(i),n=e.charCodeAt(i+1);if((0,r.getCharacterType)(t)===(0,r.getCharacterType)(n))return!1}return!0}_calculatePhraseMatch(e,t,n,i){const r=[],s=e.length;let a=-s;for(;a=n.indexOf(e,a+s),-1!==a;)i&&!this._isEntireWord(n,a,s)||r.push(a);this._pageMatches[t]=r}_calculateWordMatch(e,t,n,i){const r=[],s=e.match(/\S+/g);for(let e=0,t=s.length;e<t;e++){const t=s[e],a=t.length;let o=-a;for(;o=n.indexOf(t,o+a),-1!==o;)i&&!this._isEntireWord(n,o,a)||r.push({match:o,matchLength:a,skipped:!1})}this._pageMatchesLength[t]=[],this._pageMatches[t]=[],this._prepareMatches(r,this._pageMatches[t],this._pageMatchesLength[t])}_calculateMatch(e){let t=this._pageContents[e],n=this._query;const{caseSensitive:i,entireWord:r,phraseSearch:s}=this._state;if(0===n.length)return;i||(t=t.toLowerCase(),n=n.toLowerCase()),s?this._calculatePhraseMatch(n,e,t,r):this._calculateWordMatch(n,e,t,r),this._state.highlightAll&&this._updatePage(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this._nextPageMatch());const a=this._pageMatches[e].length;a>0&&(this._matchesCountTotal+=a,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();for(let t=0,n=this._linkService.pagesCount;t<n;t++){const n=(0,i.createPromiseCapability)();this._extractTextPromises[t]=n.promise,e=e.then((()=>this._pdfDocument.getPage(t+1).then((e=>e.getTextContent({normalizeWhitespace:!0}))).then((e=>{const i=e.items,r=[];for(let e=0,t=i.length;e<t;e++)r.push(i[e].str);this._pageContents[t]=c(r.join("")),n.resolve(t)}),(e=>{console.error(`Unable to get text content for page ${t+1}`,e),this._pageContents[t]="",n.resolve(t)}))))}}_updatePage(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const e=this._state.findPrevious,t=this._linkService.page-1,n=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let e=0;e<n;e++)!0!==this._pendingFindMatches[e]&&(this._pendingFindMatches[e]=!0,this._extractTextPromises[e].then((e=>{delete this._pendingFindMatches[e],this._calculateMatch(e)})))}if(""===this._query)return void this._updateUIState(a.FOUND);if(this._resumePageIdx)return;const i=this._offset;if(this._pagesToSearch=n,null!==i.matchIdx){const t=this._pageMatches[i.pageIdx].length;if(!e&&i.matchIdx+1<t||e&&i.matchIdx>0)return i.matchIdx=e?i.matchIdx-1:i.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(e)}this._nextPageMatch()}_matchesReady(e){const t=this._offset,n=e.length,i=this._state.findPrevious;return n?(t.matchIdx=i?n-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(i),!!(t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!this._matchesReady(e))}_advanceOffsetPage(e){const t=this._offset,n=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=n||t.pageIdx<0)&&(t.pageIdx=e?n-1:0,t.wrapped=!0)}_updateMatch(e=!1){let t=a.NOT_FOUND;const n=this._offset.wrapped;if(this._offset.wrapped=!1,e){const e=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=n?a.WRAPPED:a.FOUND,-1!==e&&e!==this._selected.pageIdx&&this._updatePage(e)}this._updateUIState(t,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(e){const t=this._pdfDocument;this._firstPageCapability.promise.then((()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(a.FOUND),this._highlightMatches=!1,this._updateAllPages())}))}_requestMatchesCount(){const{pageIdx:e,matchIdx:t}=this._selected;let n=0,i=this._matchesCountTotal;if(-1!==t){for(let t=0;t<e;t++)n+=this._pageMatches[t]&&this._pageMatches[t].length||0;n+=t+1}return(n<1||n>i)&&(n=i=0),{current:n,total:i}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(e,t){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,matchesCount:this._requestMatchesCount()})}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getCharacterType=function(e){return function(e){return e<11904}(e)?function(e){return 0==(65408&e)}(e)?function(e){return 32===e||9===e||13===e||10===e}(e)?i.SPACE:function(e){return e>=97&&e<=122||e>=65&&e<=90}(e)||function(e){return e>=48&&e<=57}(e)||95===e?i.ALPHA_LETTER:i.PUNCT:function(e){return 3584==(65408&e)}(e)?i.THAI_LETTER:160===e?i.SPACE:i.ALPHA_LETTER:function(e){return e>=13312&&e<=40959||e>=63744&&e<=64255}(e)?i.HAN_LETTER:function(e){return e>=12448&&e<=12543}(e)?i.KATAKANA_LETTER:function(e){return e>=12352&&e<=12447}(e)?i.HIRAGANA_LETTER:function(e){return e>=65376&&e<=65439}(e)?i.HALFWIDTH_KATAKANA_LETTER:i.ALPHA_LETTER},t.CharacterType=void 0;const i={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};t.CharacterType=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isDestHashesEqual=s,t.isDestArraysEqual=a,t.PDFHistory=void 0;var i=n(3);function r(){return document.location.hash}function s(e,t){if("string"!=typeof e||"string"!=typeof t)return!1;if(e===t)return!0;const{nameddest:n}=(0,i.parseQueryString)(e);return n===t}function a(e,t){function n(e,t){if(typeof e!=typeof t)return!1;if(Array.isArray(e)||Array.isArray(t))return!1;if(null!==e&&"object"==typeof e&&null!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!n(e[i],t[i]))return!1;return!0}return e===t||Number.isNaN(e)&&Number.isNaN(t)}if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(let i=0,r=e.length;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}t.PDFHistory=class{constructor({linkService:e,eventBus:t}){this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",(e=>{this._isViewerInPresentationMode=e.active||e.switchInProgress})),this.eventBus._on("pagesinit",(()=>{this._isPagesLoaded=!1;const e=t=>{this.eventBus._off("pagesloaded",e),this._isPagesLoaded=!!t.pagesCount};this.eventBus._on("pagesloaded",e)}))}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:n=!1}){if(!e||"string"!=typeof e)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const i=""!==this._fingerprint&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=!0===n,this._initialized=!0,this._bindEvents();const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=r(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(s,!0)||t){const{hash:e,page:n,rotation:r}=this._parseCurrentHash(!0);return!e||i||t?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:e,page:n,rotation:r},!0)}const a=s.destination;this._updateInternalState(a,s.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==a.rotation&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark=`page=${a.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:n}){if(!this._initialized)return;if(e&&"string"!=typeof e)return void console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);if(!Array.isArray(t))return void console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);if(!(Number.isInteger(n)&&n>0&&n<=this.linkService.pagesCount)&&(null!==n||this._destination))return void console.error(`PDFHistory.push: "${n}" is not a valid pageNumber parameter.`);const i=e||JSON.stringify(t);if(!i)return;let r=!1;if(this._destination&&(s(this._destination.hash,i)||a(this._destination.dest,t))){if(this._destination.page)return;r=!0}this._popStateInProgress&&!r||(this._pushOrReplaceState({dest:t,hash:i,page:n,rotation:this.linkService.rotation},r),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then((()=>{this._popStateInProgress=!1}))))}pushCurrentPosition(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(e,t=!1){const n=t||!this._destination,i={fingerprint:this._fingerprint,uid:n?this._uid:this._uid+1,destination:e};let r;if(this._updateInternalState(e,i.uid),this._updateUrl&&e&&e.hash){const t=document.location.href.split("#")[0];t.startsWith("file://")||(r=`${t}#${e.hash}`)}n?window.history.replaceState(i,"",r):(this._maxUid=this._uid,window.history.pushState(i,"",r))}_tryPushCurrentPosition(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination)return void this._pushOrReplaceState(t);if(this._destination.temporary)return void this._pushOrReplaceState(t,!0);if(this._destination.hash===t.hash)return;if(!this._destination.page&&this._numPositionUpdates<=50)return;let n=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest||!this._destination.first)return;n=!0}this._pushOrReplaceState(t,n)}_isValidState(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!t)return!1;{if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;const[t]=performance.getEntriesByType("navigation");if(!t||"reload"!==t.type)return!1}}return!(!Number.isInteger(e.uid)||e.uid<0)&&null!==e.destination&&"object"==typeof e.destination}_updateInternalState(e,t,n=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),n&&e&&e.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._numPositionUpdates=0}_parseCurrentHash(e=!1){const t=unescape(r()).substring(1),n=(0,i.parseQueryString)(t),s=n.nameddest||"";let a=0|n.page;return Number.isInteger(a)&&a>0&&a<=this.linkService.pagesCount&&!(e&&s.length>0)||(a=null),{hash:t,page:a,rotation:this.linkService.rotation}}_updateViewarea({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${e.pageNumber}`:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout((()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null}),1e3))}_popState({state:e}){const t=r(),n=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:e,page:t,rotation:n}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:e,page:t,rotation:n},!0)}if(!this._isValidState(e))return;this._popStateInProgress=!0,n&&(this._blockHashChange++,(0,i.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then((()=>{this._blockHashChange--})));const s=e.destination;this._updateInternalState(s,e.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),(0,i.isValidRotation)(s.rotation)&&(this.linkService.rotation=s.rotation),s.dest?this.linkService.navigateTo(s.dest):s.hash?this.linkService.setHash(s.hash):s.page&&(this.linkService.page=s.page),Promise.resolve().then((()=>{this._popStateInProgress=!1}))}_pageHide(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPageView=void 0;var i=n(3),r=n(2),s=n(14);const a=n(7).viewerCompatibilityParams.maxCanvasPixels||16777216;t.PDFPageView=class{constructor(e){const t=e.container,n=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||i.DEFAULT_SCALE,this.viewport=n,this.pdfPageRotate=n.rotation,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(e.textLayerMode)?e.textLayerMode:i.TextLayerMode.ENABLE,this.imageResourcesPath=e.imageResourcesPath||"",this.renderInteractiveForms=e.renderInteractiveForms||!1,this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels||a,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.textLayerFactory=e.textLayerFactory,this.annotationLayerFactory=e.annotationLayerFactory,this.renderer=e.renderer||i.RendererType.CANVAS,this.enableWebGL=e.enableWebGL||!1,this.l10n=e.l10n||i.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=s.RenderingStates.INITIAL,this.resume=null,this.error=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;const r=document.createElement("div");r.className="page",r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px",r.setAttribute("data-page-number",this.id),this.div=r,t.appendChild(r)}setPdfPage(e){this.pdfPage=e,this.pdfPageRotate=e.rotate;const t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*i.CSS_UNITS,rotation:t}),this.stats=e.stats,this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_resetZoomLayer(e=!1){if(!this.zoomLayer)return;const t=this.zoomLayer.firstChild;this.paintedViewportMap.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset(e=!1,t=!1){this.cancelRendering(t),this.renderingState=s.RenderingStates.INITIAL;const n=this.div;n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px";const i=n.childNodes,r=e&&this.zoomLayer||null,a=t&&this.annotationLayer&&this.annotationLayer.div||null;for(let e=i.length-1;e>=0;e--){const t=i[e];r!==t&&a!==t&&n.removeChild(t)}n.removeAttribute("data-loaded"),a?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),r||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",n.appendChild(this.loadingIconDiv)}update(e,t){this.scale=e||this.scale,void 0!==t&&(this.rotation=t);const n=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*i.CSS_UNITS,rotation:n}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});let r=!1;if(this.canvas&&this.maxCanvasPixels>0){const e=this.outputScale;(Math.floor(this.viewport.width)*e.sx|0)*(Math.floor(this.viewport.height)*e.sy|0)>this.maxCanvasPixels&&(r=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&r)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}cancelRendering(e=!1){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!e&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}cssTransform(e,t=!1){const n=this.viewport.width,i=this.viewport.height,r=this.div;e.style.width=e.parentNode.style.width=r.style.width=Math.floor(n)+"px",e.style.height=e.parentNode.style.height=r.style.height=Math.floor(i)+"px";const s=this.viewport.rotation-this.paintedViewportMap.get(e).rotation,a=Math.abs(s);let o=1,l=1;90!==a&&270!==a||(o=i/n,l=n/i);const c="rotate("+s+"deg) scale("+o+","+l+")";if(e.style.transform=c,this.textLayer){const e=this.textLayer.viewport,t=this.viewport.rotation-e.rotation,i=Math.abs(t);let r=n/e.width;90!==i&&270!==i||(r=n/e.height);const s=this.textLayer.textLayerDiv;let a,o;switch(i){case 0:a=o=0;break;case 90:a=0,o="-"+s.style.height;break;case 180:a="-"+s.style.width,o="-"+s.style.height;break;case 270:a="-"+s.style.width,o=0;break;default:console.error("Bad rotation value.")}s.style.transform="rotate("+i+"deg) scale("+r+", "+r+") translate("+a+", "+o+")",s.style.transformOrigin="0% 0%"}t&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}draw(){this.renderingState!==s.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:e,pdfPage:t}=this;if(!t)return this.renderingState=s.RenderingStates.FINISHED,this.loadingIconDiv&&(e.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=s.RenderingStates.RUNNING;const n=document.createElement("div");n.style.width=e.style.width,n.style.height=e.style.height,n.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?e.insertBefore(n,this.annotationLayer.div):e.appendChild(n);let a=null;if(this.textLayerMode!==i.TextLayerMode.DISABLE&&this.textLayerFactory){const t=document.createElement("div");t.className="textLayer",t.style.width=n.style.width,t.style.height=n.style.height,this.annotationLayer&&this.annotationLayer.div?e.insertBefore(t,this.annotationLayer.div):e.appendChild(t),a=this.textLayerFactory.createTextLayerBuilder(t,this.id-1,this.viewport,this.textLayerMode===i.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=a;let o=null;this.renderingQueue&&(o=e=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=s.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=s.RenderingStates.RUNNING,e()});e()});const l=async n=>{if(c===this.paintTask&&(this.paintTask=null),n instanceof r.RenderingCancelledException)this.error=null;else if(this.renderingState=s.RenderingStates.FINISHED,this.loadingIconDiv&&(e.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),this._resetZoomLayer(!0),this.error=n,this.stats=t.stats,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now()}),n)throw n},c=this.renderer===i.RendererType.SVG?this.paintOnSvg(n):this.paintOnCanvas(n);c.onRenderContinue=o,this.paintTask=c;const h=c.promise.then((function(){return l(null).then((function(){if(a){const e=t.streamTextContent({normalizeWhitespace:!0});a.setTextContentStream(e),a.render()}}))}),(function(e){return l(e)}));return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(e,t,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display")),e.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),h}paintOnCanvas(e){const t=(0,r.createPromiseCapability)(),n={promise:t.promise,onRenderContinue(e){e()},cancel(){m.cancel()}},s=this.viewport,a=document.createElement("canvas");this.l10n.get("page_canvas",{page:this.id},"Page {{page}}").then((e=>{a.setAttribute("aria-label",e)})),a.setAttribute("hidden","hidden");let o=!0;const l=function(){o&&(a.removeAttribute("hidden"),o=!1)};e.appendChild(a),this.canvas=a,a.mozOpaque=!0;const c=a.getContext("2d",{alpha:!1}),h=(0,i.getOutputScale)(c);if(this.outputScale=h,this.useOnlyCssZoom){const e=s.clone({scale:i.CSS_UNITS});h.sx*=e.width/s.width,h.sy*=e.height/s.height,h.scaled=!0}if(this.maxCanvasPixels>0){const e=s.width*s.height,t=Math.sqrt(this.maxCanvasPixels/e);h.sx>t||h.sy>t?(h.sx=t,h.sy=t,h.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const d=(0,i.approximateFraction)(h.sx),p=(0,i.approximateFraction)(h.sy);a.width=(0,i.roundToDivide)(s.width*h.sx,d[0]),a.height=(0,i.roundToDivide)(s.height*h.sy,p[0]),a.style.width=(0,i.roundToDivide)(s.width,d[1])+"px",a.style.height=(0,i.roundToDivide)(s.height,p[1])+"px",this.paintedViewportMap.set(a,s);const u={canvasContext:c,transform:h.scaled?[h.sx,0,0,h.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms},m=this.pdfPage.render(u);return m.onContinue=function(e){l(),n.onRenderContinue?n.onRenderContinue(e):e()},m.promise.then((function(){l(),t.resolve(void 0)}),(function(e){l(),t.reject(e)})),n}paintOnSvg(e){let t=!1;const n=()=>{if(t)throw new r.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},a=this.pdfPage,o=this.viewport.clone({scale:i.CSS_UNITS}),l=a.getOperatorList().then((t=>(n(),new r.SVGGraphics(a.commonObjs,a.objs).getSVG(t,o).then((t=>{n(),this.svg=t,this.paintedViewportMap.set(t,o),t.style.width=e.style.width,t.style.height=e.style.height,this.renderingState=s.RenderingStates.FINISHED,e.appendChild(t)})))));return{promise:l,onRenderContinue(e){e()},cancel(){t=!0}}}setPageLabel(e){this.pageLabel="string"==typeof e?e:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFRenderingQueue=t.RenderingStates=void 0;const i={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};t.RenderingStates=i,t.PDFRenderingQueue=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}getHighestPriority(e,t,n){const i=e.views,r=i.length;if(0===r)return null;for(let e=0;e<r;++e){const t=i[e].view;if(!this.isViewFinished(t))return t}if(n){const n=e.last.id;if(t[n]&&!this.isViewFinished(t[n]))return t[n]}else{const n=e.first.id-2;if(t[n]&&!this.isViewFinished(t[n]))return t[n]}return null}isViewFinished(e){return e.renderingState===i.FINISHED}renderView(e){switch(e.renderingState){case i.FINISHED:return!1;case i.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case i.RUNNING:this.highestPriorityPage=e.renderingId;break;case i.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally((()=>{this.renderHighestPriority()})).catch((e=>{console.error(`renderView: "${e}"`)}))}return!0}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFSinglePageViewer=void 0;var i=n(16),r=n(2);class s extends i.BaseViewer{constructor(e){super(e),this.eventBus._on("pagesinit",(e=>{this._ensurePageViewVisible()}))}get _viewerElement(){return(0,r.shadow)(this,"_viewerElement",this._shadowViewer)}_resetView(){super._resetView(),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}_ensurePageViewVisible(){const e=this._pages[this._currentPageNumber-1],t=this._pages[this._previousPageNumber-1],n=this.viewer.childNodes;switch(n.length){case 0:this.viewer.appendChild(e.div);break;case 1:if(n[0]!==t.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(e===t)break;this._shadowViewer.appendChild(t.div),this.viewer.appendChild(e.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}_scrollUpdate(){this._updateScrollDown&&this._updateScrollDown(),super._scrollUpdate()}_scrollIntoView({pageDiv:e,pageSpot:t=null,pageNumber:n=null}){n&&this._setCurrentPageNumber(n);const i=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),super._scrollIntoView({pageDiv:e,pageSpot:t,pageNumber:n}),this._updateScrollDown=()=>{this.scroll.down=i,this._updateScrollDown=null}}_getVisiblePages(){return this._getCurrentVisiblePage()}_updateHelper(e){}get _isScrollModeHorizontal(){return(0,r.shadow)(this,"_isScrollModeHorizontal",!1)}_updateScrollMode(){}_updateSpreadMode(){}}t.PDFSinglePageViewer=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseViewer=void 0;var i=n(3),r=n(14),s=n(1),a=n(2),o=n(13),l=n(4),c=n(5);function h(e){const t=[];this.push=function(n){const i=t.indexOf(n);i>=0&&t.splice(i,1),t.push(n),t.length>e&&t.shift().destroy()},this.resize=function(n,r){if(e=n,r){const e=new Set;for(let t=0,n=r.length;t<n;++t)e.add(r[t].id);(0,i.moveToEndOfArray)(t,(function(t){return e.has(t.id)}))}for(;t.length>e;)t.shift().destroy()}}class d{constructor(e){if(this.constructor===d)throw new Error("Cannot initialize BaseViewer.");this._name=this.constructor.name,this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,this.eventBus=e.eventBus,this.linkService=e.linkService||new l.SimpleLinkService,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this.removePageBorders=e.removePageBorders||!1,this.textLayerMode=Number.isInteger(e.textLayerMode)?e.textLayerMode:i.TextLayerMode.ENABLE,this.imageResourcesPath=e.imageResourcesPath||"",this.renderInteractiveForms=e.renderInteractiveForms||!1,this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.renderer=e.renderer||i.RendererType.CANVAS,this.enableWebGL=e.enableWebGL||!1,this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n||i.NullL10n,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new r.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue,this.scroll=(0,i.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=i.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then((()=>{this.eventBus.dispatch("baseviewerinit",{source:this})}))}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every((function(e){return e&&e.pdfPage}))}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`${this._name}.currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){return this._currentPageNumber===e?(t&&this._resetCurrentPageView(),!0):0<e&&e<=this.pagesCount&&(this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:this._pageLabels&&this._pageLabels[e-1]}),t&&this._resetCurrentPageView(),!0)}get currentPageLabel(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]}set currentPageLabel(e){if(!this.pdfDocument)return;let t=0|e;if(this._pageLabels){const n=this._pageLabels.indexOf(e);n>=0&&(t=n+1)}this._setCurrentPageNumber(t,!0)||console.error(`${this._name}.currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==i.UNKNOWN_SCALE?this._currentScale:i.DEFAULT_SCALE}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(e,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&this._setScale(e,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!(0,i.isValidRotation)(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument)return;if(this._pagesRotation===e)return;this._pagesRotation=e;const t=this._currentPageNumber;for(let t=0,n=this._pages.length;t<n;t++){const n=this._pages[t];n.update(n.scale,e)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _viewerElement(){throw new Error("Not implemented: _viewerElement")}_onePageRenderedOrForceFetch(){return this.container.offsetParent&&0!==this._getVisiblePages().views.length?this._onePageRenderedCapability.promise:Promise.resolve()}setDocument(e){if(this.pdfDocument&&(this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=e,!e)return;const t=e.numPages,n=e.getPage(1);this._pagesCapability.promise.then((()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:t})})),this._onBeforeDraw=e=>{const t=this._pages[e.pageNumber-1];t&&this._buffer.push(t)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=e=>{e.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve(),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),n.then((n=>{this._firstPageCapability.resolve(n);const r=this.currentScale,s=n.getViewport({scale:r*i.CSS_UNITS}),a=this.textLayerMode!==i.TextLayerMode.DISABLE?this:null;for(let e=1;e<=t;++e){const t=new o.PDFPageView({container:this._viewerElement,eventBus:this.eventBus,id:e,scale:r,defaultViewport:s.clone(),renderingQueue:this.renderingQueue,textLayerFactory:a,textLayerMode:this.textLayerMode,annotationLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderInteractiveForms:this.renderInteractiveForms,renderer:this.renderer,enableWebGL:this.enableWebGL,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(t)}const l=this._pages[0];l&&(l.setPdfPage(n),this.linkService.cachePageRef(1,n.ref)),this._spreadMode!==i.SpreadMode.NONE&&this._updateSpreadMode(),this._onePageRenderedOrForceFetch().then((()=>{if(this.findController&&this.findController.setDocument(e),e.loadingParams.disableAutoFetch||t>7500)return void this._pagesCapability.resolve();let n=t-1;if(n<=0)this._pagesCapability.resolve();else for(let i=2;i<=t;++i)e.getPage(i).then((e=>{const t=this._pages[i-1];t.pdfPage||t.setPdfPage(e),this.linkService.cachePageRef(i,e.ref),0==--n&&this._pagesCapability.resolve()}),(e=>{console.error(`Unable to get page ${i} to initialize viewer`,e),0==--n&&this._pagesCapability.resolve()}))})),this.eventBus.dispatch("pagesinit",{source:this}),this.defaultRenderingQueue&&this.update()})).catch((e=>{console.error("Unable to initialize viewer",e)}))}setPageLabels(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error(`${this._name}.setPageLabels: Invalid page labels.`)):this._pageLabels=null;for(let e=0,t=this._pages.length;e<t;e++){const t=this._pages[e],n=this._pageLabels&&this._pageLabels[e];t.setPageLabel(n)}}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=i.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new h(10),this._location=null,this._pagesRotation=0,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,a.createPromiseCapability)(),this._onePageRenderedCapability=(0,a.createPromiseCapability)(),this._pagesCapability=(0,a.createPromiseCapability)(),this._scrollMode=i.ScrollMode.VERTICAL,this._spreadMode=i.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:e,pageSpot:t=null,pageNumber:n=null}){(0,i.scrollIntoView)(e,t)}_setScaleUpdatePages(e,t,n=!1,i=!1){if(this._currentScaleValue=t.toString(),function(e,t){return t===e||Math.abs(t-e)<1e-15}(this._currentScale,e))i&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});else{for(let t=0,n=this._pages.length;t<n;t++)this._pages[t].update(e);if(this._currentScale=e,!n){let e,t=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(t=this._location.pageNumber,e=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:t,destArray:e,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:i?t:void 0}),this.defaultRenderingQueue&&this.update()}}_setScale(e,t=!1){let n=parseFloat(e);if(n>0)this._setScaleUpdatePages(n,e,t,!1);else{const r=this._pages[this._currentPageNumber-1];if(!r)return;const s=this.isInPresentationMode||this.removePageBorders;let a=s?0:i.SCROLLBAR_PADDING,o=s?0:i.VERTICAL_PADDING;!s&&this._isScrollModeHorizontal&&([a,o]=[o,a]);const l=(this.container.clientWidth-a)/r.width*r.scale,c=(this.container.clientHeight-o)/r.height*r.scale;switch(e){case"page-actual":n=1;break;case"page-width":n=l;break;case"page-height":n=c;break;case"page-fit":n=Math.min(l,c);break;case"auto":const t=(0,i.isPortraitOrientation)(r)?l:Math.min(c,l);n=Math.min(i.MAX_AUTO_SCALE,t);break;default:return void console.error(`${this._name}._setScale: "${e}" is an unknown zoom value.`)}this._setScaleUpdatePages(n,e,t,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);const e=this._pages[this._currentPageNumber-1];this._scrollIntoView({pageDiv:e.div})}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:n=!1,ignoreDestinationZoom:r=!1}){if(!this.pdfDocument)return;const s=Number.isInteger(e)&&this._pages[e-1];if(!s)return void console.error(`${this._name}.scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!t)return void this._setCurrentPageNumber(e,!0);let a,o,l=0,c=0,h=0,d=0;const p=s.rotation%180!=0,u=(p?s.height:s.width)/s.scale/i.CSS_UNITS,m=(p?s.width:s.height)/s.scale/i.CSS_UNITS;let f=0;switch(t[1].name){case"XYZ":l=t[2],c=t[3],f=t[4],l=null!==l?l:0,c=null!==c?c:m;break;case"Fit":case"FitB":f="page-fit";break;case"FitH":case"FitBH":c=t[2],f="page-width",null===c&&this._location&&(l=this._location.left,c=this._location.top);break;case"FitV":case"FitBV":l=t[2],h=u,d=m,f="page-height";break;case"FitR":l=t[2],c=t[3],h=t[4]-l,d=t[5]-c;const e=this.removePageBorders?0:i.SCROLLBAR_PADDING,n=this.removePageBorders?0:i.VERTICAL_PADDING;a=(this.container.clientWidth-e)/h/i.CSS_UNITS,o=(this.container.clientHeight-n)/d/i.CSS_UNITS,f=Math.min(Math.abs(a),Math.abs(o));break;default:return void console.error(`${this._name}.scrollPageIntoView: "${t[1].name}" is not a valid destination type.`)}if(r||(f&&f!==this._currentScale?this.currentScaleValue=f:this._currentScale===i.UNKNOWN_SCALE&&(this.currentScaleValue=i.DEFAULT_SCALE_VALUE)),"page-fit"===f&&!t[4])return void this._scrollIntoView({pageDiv:s.div,pageNumber:e});const g=[s.viewport.convertToViewportPoint(l,c),s.viewport.convertToViewportPoint(l+h,c+d)];let b=Math.min(g[0][0],g[1][0]),y=Math.min(g[0][1],g[1][1]);n||(b=Math.max(b,0),y=Math.max(y,0)),this._scrollIntoView({pageDiv:s.div,pageSpot:{left:b,top:y},pageNumber:e})}_updateLocation(e){const t=this._currentScale,n=this._currentScaleValue,i=parseFloat(n)===t?Math.round(1e4*t)/100:n,r=e.id;let s="#page="+r;s+="&zoom="+i;const a=this._pages[r-1],o=this.container,l=a.getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y),c=Math.round(l[0]),h=Math.round(l[1]);s+=","+c+","+h,this._location={pageNumber:r,scale:i,top:h,left:c,rotation:this._pagesRotation,pdfOpenParams:s}}_updateHelper(e){throw new Error("Not implemented: _updateHelper")}update(){const e=this._getVisiblePages(),t=e.views,n=t.length;if(0===n)return;const i=Math.max(10,2*n+1);this._buffer.resize(i,t),this.renderingQueue.renderHighestPriority(e),this._updateHelper(t),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isScrollModeHorizontal(){return!this.isInPresentationMode&&this._scrollMode===i.ScrollMode.HORIZONTAL}get isInPresentationMode(){return this.presentationModeState===i.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===i.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const e=this._pages[this._currentPageNumber-1],t=e.div,n={id:e.id,x:t.offsetLeft+t.clientLeft,y:t.offsetTop+t.clientTop,view:e};return{first:n,last:n,views:[n]}}_getVisiblePages(){return(0,i.getVisibleElements)(this.container,this._pages,!0,this._isScrollModeHorizontal)}isPageVisible(e){return!!this.pdfDocument&&(e<1||e>this.pagesCount?(console.error(`${this._name}.isPageVisible: "${e}" is out of bounds.`),!1):this._getVisiblePages().views.some((function(t){return t.id===e})))}cleanup(){for(let e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].renderingState!==r.RenderingStates.FINISHED&&this._pages[e].reset()}_cancelRendering(){for(let e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].cancelRendering()}_ensurePdfPageLoaded(e){if(e.pdfPage)return Promise.resolve(e.pdfPage);if(this._pagesRequests.has(e))return this._pagesRequests.get(e);const t=this.pdfDocument.getPage(e.id).then((t=>(e.pdfPage||e.setPdfPage(t),this._pagesRequests.delete(e),t))).catch((t=>{console.error("Unable to get page for page view",t),this._pagesRequests.delete(e)}));return this._pagesRequests.set(e,t),t}forceRendering(e){const t=e||this._getVisiblePages(),n=this._isScrollModeHorizontal?this.scroll.right:this.scroll.down,i=this.renderingQueue.getHighestPriority(t,this._pages,n);return!!i&&(this._ensurePdfPageLoaded(i).then((()=>{this.renderingQueue.renderView(i)})),!0)}createTextLayerBuilder(e,t,n,i=!1,r){return new c.TextLayerBuilder({textLayerDiv:e,eventBus:r,pageIndex:t,viewport:n,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&i})}createAnnotationLayerBuilder(e,t,n="",r=!1,a=i.NullL10n){return new s.AnnotationLayerBuilder({pageDiv:e,pdfPage:t,imageResourcesPath:n,renderInteractiveForms:r,linkService:this.linkService,downloadManager:this.downloadManager,l10n:a})}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,n=this._pages.length;t<n;++t){const n=this._pages[t];if(n.width!==e.width||n.height!==e.height)return!1}return!0}getPagesOverview(){const e=this._pages.map((function(e){const t=e.pdfPage.getViewport({scale:1});return{width:t.width,height:t.height,rotation:t.rotation}}));if(!this.enablePrintAutoRotate)return e;const t=(0,i.isPortraitOrientation)(e[0]);return e.map((function(e){return t===(0,i.isPortraitOrientation)(e)?e:{width:e.height,height:e.width,rotation:(e.rotation+90)%360}}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!(0,i.isValidScrollMode)(e))throw new Error(`Invalid scroll mode: ${e}`);this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber)}}_updateScrollMode(e=null){const t=this._scrollMode,n=this.viewer;n.classList.toggle("scrollHorizontal",t===i.ScrollMode.HORIZONTAL),n.classList.toggle("scrollWrapped",t===i.ScrollMode.WRAPPED),this.pdfDocument&&e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!(0,i.isValidSpreadMode)(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,n=this._pages;if(t.textContent="",this._spreadMode===i.SpreadMode.NONE)for(let e=0,i=n.length;e<i;++e)t.appendChild(n[e].div);else{const e=this._spreadMode-1;let i=null;for(let r=0,s=n.length;r<s;++r)null===i?(i=document.createElement("div"),i.className="spread",t.appendChild(i)):r%2===e&&(i=i.cloneNode(!1),t.appendChild(i)),i.appendChild(n[r].div)}e&&(this._setCurrentPageNumber(e,!0),this.update())}}t.BaseViewer=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFViewer=void 0;var i=n(16),r=n(2);class s extends i.BaseViewer{get _viewerElement(){return(0,r.shadow)(this,"_viewerElement",this.viewer)}_scrollIntoView({pageDiv:e,pageSpot:t=null,pageNumber:n=null}){if(!t&&!this.isInPresentationMode){const n=e.offsetLeft+e.clientLeft,i=n+e.clientWidth,{scrollLeft:r,clientWidth:s}=this.container;(this._isScrollModeHorizontal||n<r||i>r+s)&&(t={left:0,top:0})}super._scrollIntoView({pageDiv:e,pageSpot:t,pageNumber:n})}_getVisiblePages(){return this.isInPresentationMode?this._getCurrentVisiblePage():super._getVisiblePages()}_updateHelper(e){if(this.isInPresentationMode)return;let t=this._currentPageNumber,n=!1;for(const i of e){if(i.percent<100)break;if(i.id===t){n=!0;break}}n||(t=e[0].id),this._setCurrentPageNumber(t)}}t.PDFViewer=s}])},e.exports=n()}));unwrapExports(pdf_viewer),delete window["pdfjs-dist/build/pdf"],pdf_1.GlobalWorkerOptions.workerSrc="assets/pdf.worker.js";class BorreyPDF extends s{static styles=[icons,mainThemes];static get properties(){return{scale:{type:Number},url:{type:String}}}constructor(){super(),this.url="assets/sample.pdf",this.scale=1}firstUpdated(e){const t=this.shadowRoot.querySelector("#pdf");this.scale,pdf_1.getDocument(this.url).promise.then((function(e){console.log("pages:",e.numPages);e.getPage(1).then((function(e){var n=e.getViewport({scale:1});console.log("Page loaded",e,n);var i=t.getContext("2d");t.height=n.height,t.width=n.width;var r={canvasContext:i,viewport:n},s=e.render(r);console.log("Page rendered",s),s.promise.then((function(){console.log("Page rendered")})).catch((e=>{console.error(e)}))}))}),(function(e){console.error(e)}))}render(){return $$1`<canvas id='pdf'></canvas>`}static styles=r$2`
        :host{
            width : 100%;
        }
    `}function DashboardViewHandler(){console.log("Show Dashboard")}function PostsViewHandler(){console.log("Show Posts")}function PostViewHandler(e){console.log("Show Post",e)}window.customElements.define("pdf-view",BorreyPDF);let x=0,y=0,mouseMoveReciever=null;const mouseMoveHandler=function(e){if(mouseMoveReciever){e.clientX;const t=e.clientY-y,n=Math.min(100*(mouseMoveReciever.section.getBoundingClientRect().height+t)/mouseMoveReciever.section.parentNode.getBoundingClientRect().height,100);mouseMoveReciever.section.style.height=`${n}%`}else console.log("error")},mouseUpHandler=function(e){mouseMoveReciever&&(mouseMoveReciever=null,document.removeEventListener("mousemove",mouseMoveHandler,!0))};document.addEventListener("mouseup",mouseUpHandler,!0);class BorreyMainView extends s{static get properties(){return{fullScreen:{type:Boolean},split:{type:Boolean}}}static styles=r$2`
        *{
            box-sizing: border-box;
        }    
        :host{
            min-width : 53em;
            max-width: 100vw;
            margin: 0.5em auto;
            overflow: auto;
            transition: max-width 0.2s ease;
            transition: min-width 0.2s ease;
        }
        
        #main-article{
            height : 100%;
            display : flex;
            flex-direction : column;

        }
        
        #main-section, #main-aside{
            border: 1px solid grey;
            border-radius: 10px;
            padding: 1em;
            background: white;
            overflow: auto;
        }

        #main-section{
            border:1px solid orange;
            height : 100%;
            transition: height 0.5s;
        }
        :host(.split) #main-section{
            height : 50%;
            resize : vertical;
            margin-bottom: 0px;
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }

        #main-aside{
            border:1px solid green;
            display : none;
        }
        :host(.split) #main-aside{
            flex : 1 0 0px;
            display : block;
            margin-top: 0px;
            border-top-left-radius: 0;
            border-top-right-radius: 0;
            z-index : 1;

        }

        :host(.split) hr#main-split{
            display : block;
            min-width : 43em;
            margin: 0;
            z-index : 1;
        }
        
        hr#main-split{
            display : none;
            cursor: row-resize;
            background-color: white;
            height : 1em;
            border: 1px solid;
            text-align: center;
        }
        hr#main-split:before {
            content: "\\2022 \\2022 \\2022";
        }
    `;constructor(){super(),this.split=!1,this.fullScreen=!1,this.initial_try=!0;const e=this;this.addEventListener("fullscreenchange",(t=>{this.initial_try&&!document.fullscreenElement&&(alert("warning: should be fullscreen"),e.fullScreen=!1,alert("warning: should be fullscreen"),e.initial_try=!1)}))}render(){return $$1`
        <article id='main-article'>
            <section id='main-section' class="">
                <div>
                    <label>Split View <input type='checkbox' .checked=${this.split} @change=${this._splitOption}></label>
                    <label>Full Screen View <input type='checkbox' .checked=${this.fullScreen} @change=${this._fullScreenOption}></label>
                </div>
                <question-block></question-block>
            </section>
            <hr id='main-split' tabindex="0" title='resize section' aria-orientation=horizontal role='separator' @dblclick='${this._splittoggle}' @keydown='${this._splitKeyHandler}' @mousedown='${this._splitmousedown}' @blur='${this._splitblur}' @focus="${this._splitfocus}" />
            <aside id='main-aside' class="">
                Asside:
                <pdf-view></pdf-view>
            </aside>    
        </article>
        `}_fullScreenOption(e){this.fullScreen=e.target.checked,this.fullScreen?this.openFullscreen():this.closeFullscreen()}openFullscreen(){if(this.requestFullscreen){const e=this.requestFullscreen().then((()=>{console.log("done fullscreen")})).catch((e=>{console.error("fullscreen error ",e)}));console.log("full screen",e)}else this.webkitRequestFullscreen?this.webkitRequestFullscreen():this.msRequestFullscreen&&this.msRequestFullscreen()}closeFullscreen(){console.log("close full screen"),document.fullscreenElement?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():console.error("not in fullscreen")}_splitOption(e){this.split=e.target.checked,this.section=this.shadowRoot.querySelector("#main-section"),this.section.style.removeProperty("height"),this.split?this.classList.add("split"):this.classList.remove("split")}_splittoggle(e){console.log("splittoggle"),this.split=!1,this.section.style.height="100%",this.classList.remove("split"),e.preventDefault(),e.stopPropagation()}_splitKeyHandler(e){const t=e||window.event;this.sectionHeight=this.section.getBoundingClientRect().height;let n=0;if("38"==t.keyCode)n=100*(this.sectionHeight-10)/this.section.parentNode.getBoundingClientRect().height;else if("33"==t.keyCode)n=100*(this.sectionHeight-100)/this.section.parentNode.getBoundingClientRect().height;else if("40"==t.keyCode)n=100*(this.sectionHeight+10)/this.section.parentNode.getBoundingClientRect().height;else{if("34"!=t.keyCode)return;n=100*(this.sectionHeight+100)/this.section.parentNode.getBoundingClientRect().height}this.section.style.height=`${n}%`}_splitmousedown(e){x=e.clientX,y=e.clientY,this.section=this.shadowRoot.querySelector("#main-section"),this.shadowRoot.querySelector("#main-split").focus(),mouseMoveReciever=this,this.sectionHeight=this.section.getBoundingClientRect().height,document.addEventListener("mousemove",mouseMoveHandler,!0)}_splitfocus(e){console.log("focus")}_splitblur(e){console.log("blur")}}function SettingsViewHandler(){console.log("Show Settings")}window.customElements.define("borrey-main-view",BorreyMainView);const pathToRegex=e=>new RegExp("^"+e.replace(/\//g,"\\/").replace(/:\w+/g,"(.+)")+"$"),getParams=e=>{const t=e.result.slice(1),n=Array.from(e.route.path.matchAll(/:(\w+)/g)).map((e=>e[1]));return Object.fromEntries(n.map(((e,n)=>[e,t[n]])))},router=async()=>{const e=[{path:"/",view:DashboardViewHandler},{path:"/blocks",view:PostsViewHandler},{path:"/block/:id",view:PostViewHandler},{path:"/settings",view:SettingsViewHandler}];let t=e.map((e=>({route:e,result:location.pathname.match(pathToRegex(e.path))}))).find((e=>null!==e.result));t||(t={route:e[0],result:[location.pathname]}),new t.route.view(getParams(t))};function navigateTo(e){history.pushState(null,null,e),router()}window.addEventListener("popstate",router),document.addEventListener("DOMContentLoaded",(()=>{navigateTo(location.pathname)}));class BorreyMenu extends s{static styles=r$2`
      ul[role="tree"] {
        margin: 0;
        padding: 0;
        list-style: none;
        font-size: 120%;
      }

    `;static get properties(){return{title:{type:String},sections:{type:Array}}}constructor(){super(),this.title="Menu Example",this.sections=[]}render(){return $$1`
            <label id="tree_label">${this._displayTitle(this.title)}</label>
            <div role="tree" aria-labelledby="tree_label">
                ${this.sections.map((e=>{this._treeItem(e)}))}
            </div>
        `}_displayTitle(e){return $$1`${e}`}_treeItem(e){switch(e.type){case"menu":case"menu_item":return $$1`<borrey-folder role="group" type='${e.type}' title='${e.title}' sections='${e.items||e.sections}'></borrey-folder>`;default:return $$1``}}}class BorreyFolder extends s{static styles=r$2`
      
    `;static get properties(){return{type:{type:String},title:{type:String},sections:{type:Array}}}createRenderRoot(){return this}constructor(){super(),this.title="Menu Example",this.sections=[]}render(){return $$1`
            <label id="tree_label">${this._displayTitle(this.title)}</label>
            
        `}_displayTitle(e){return $$1`${e}`}_treeItem(e){switch(e.type){case"menu":case"menu_item":return $$1`<borrey-folder role="group" type='${e.type}' title='${e.title}' sections='${e.items||e.sections}'></borrey-folder>`;default:return $$1``}}}class BorreyLink extends s{static styles=r$2`
      
    `;static get properties(){return{title:{type:String},sections:{type:Array}}}constructor(){super(),this.title="Menu Example",this.sections=[]}render(){return $$1`
            <label id="tree_label">${this._displayTitle(this.title)}</label>
            
        `}_displayTitle(e){return $$1`${e}`}_treeItem(e){return e.type,$$1``}}window.customElements.define("borrey-menu",BorreyMenu),window.customElements.define("borrey-folder",BorreyFolder),window.customElements.define("borrey-link",BorreyLink);class BorreyUser extends s{static styles=r$2`
      
    `;static get properties(){return{username:{type:String}}}createRenderRoot(){return this}constructor(){super(),this.username=void 0}render(){}_showLogin(){return $$1`<borrey-showlogin></borrey-showlogin>`}_showUserOptions(e){}}class BorreyLocalLogin extends s{static styles=r$2`
      
    `;static get properties(){return{username:{type:String},showPassword:{type:Boolean}}}createRenderRoot(){return this}constructor(){super(),this.username=void 0,this.showPassword=!1}render(){}_showLogin(){$$1`
            <input type='text'/>
            <input type='${this.showPassword?"text":"password"}'/>
            <label>Show Password<input type='checkbox' .checked=${this.showPassword} @change=${this._showPasswordtoggle}/></label>
        `}_showPasswordtoggle(e){this.showPassword=e.target.checked}}window.customElements.define("borrey-showlogin",BorreyLocalLogin),window.customElements.define("borrey-user",BorreyUser);class BorreyApp extends s{static styles=[icons,mainThemes,r$2`
        
        :host{
            height : 100vh;
            width : 100vw;
            display : flex;
            flex-direction : column;            
            overflow : hidden;
        }
        
        #main-footer, #main-nav, #main-header, #main-article{
            min-width : 53em;
            margin: 0.5em auto;
        }
        
        borrey-main-view{
            flex-grow : 1;
        }

        #main-header h1{
            height: 1em;
            margin-block: 0.1em auto;
        }
    `];static get properties(){return{rand:{type:Number}}}constructor(){super(),this.dialog=null,this._init()}firstUpdated(e){this.dialog=this.shadowRoot.querySelector("#app-dialog"),dialogPolyfill.registerDialog(this.dialog),this.dialog.addEventListener("cancel",(e=>{console.log("cancel",this.rand),this.rand>.5&&(e.preventDefault(),e.stopPropagation(),console.log("prevent esc"))}))}render(){return $$1`
        <header id='main-header'>
            <h1>
                Borrey Kim
            </h1>
        </header>
        <nav id='main-nav'>
            <borrey-menu></borrey-menu>
        </nav>
        <borrey-main-view id='main-article'></borrey-main-view>
        <a href='/block/23/32' data-internal-link>hello world</a>
        <footer id='main-footer'>
            <button @click="${this._dialog}">Click Me!</button>
            <button @click="${this._rand}">Random:</button>
            <span>Rand: ${this.rand}</span>
        </footer> 
        <dialog id='app-dialog'>
            hello
            <button @click=${this.closeDialog}>close</button>
        </dialog>
        `}_rand(e){this.rand=Math.random()}_dialog(e){this.dialog.showModal()}closeDialog(e){e&&e.preventDefault(),this.dialog.close()}_init(){this.addEventListener("click",(e=>{const t=e.composedPath()[0];t.matches("[data-internal-link]")&&(e.preventDefault(),navigateTo(t.href))})),this.addEventListener("content-request",(function(e){console.log("content-request:",e.details)}))}}window.customElements.define("borrey-app",BorreyApp);export{BorreyApp};
